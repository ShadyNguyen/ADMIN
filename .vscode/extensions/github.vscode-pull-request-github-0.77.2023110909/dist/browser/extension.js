(()=>{var km={20739:(s,Q,R)=>{"use strict";R.r(Q),R.d(Q,{AppInsightsCore:()=>H,BaseCore:()=>Y,BaseTelemetryPlugin:()=>T.i,CoreUtils:()=>P.Tr,DiagnosticLogger:()=>h.AQ,ESPromise:()=>ce,ESPromiseScheduler:()=>F,EventHelper:()=>ye.zB,EventLatency:()=>u,EventPersistence:()=>f,EventPropertyType:()=>c,EventsDiscardedReason:()=>xe.h,FullVersionString:()=>P.vs,InternalAppInsightsCore:()=>y.F,InternalBaseCore:()=>j.A,LoggingSeverity:()=>_.X,MinChannelPriorty:()=>$,NotificationManager:()=>z.f,PerfEvent:()=>p.zn,PerfManager:()=>p.Jk,ProcessTelemetryContext:()=>ee.Vi,TraceLevel:()=>w,Undefined:()=>J.jA,Utils:()=>P.cQ,ValueKind:()=>l,ValueSanitizer:()=>A,Version:()=>P.Gf,_ExtendedInternalMessageId:()=>v,_InternalLogMessage:()=>h.lQ,_InternalMessageId:()=>_.v,__getRegisteredEvents:()=>Re.um,_logInternalMessage:()=>h.L4,_throwInternal:()=>h.kP,_warnToConsole:()=>h.jV,addEventHandler:()=>Re.Ib,addEventListeners:()=>Re.yw,addPageHideEventListener:()=>Re.TJ,addPageShowEventListener:()=>Re.nD,addPageUnloadEventListener:()=>Re.c9,areCookiesSupported:()=>te.p7,arrForEach:()=>E.tO,arrIndexOf:()=>E.UA,arrMap:()=>E.Mr,arrReduce:()=>E.Xz,attachEvent:()=>Re.pZ,cookieAvailable:()=>te.p7,createCookieMgr:()=>te.Nz,createEnumStyle:()=>M.By,createGuid:()=>P.cm,createProcessTelemetryContext:()=>ee.CD,createTraceParent:()=>_e.SU,createUniqueNamespace:()=>me.J,createUnloadHandlerContainer:()=>fe.Y,dateNow:()=>E.m6,deleteCookie:()=>P.kT,detachEvent:()=>Re.pD,disableCookies:()=>P.oF,disallowsSameSiteNone:()=>te.UY,doPerf:()=>p.Lm,dumpObj:()=>b.eU,eventOff:()=>Re.QY,eventOn:()=>Re.XO,extend:()=>P.l7,findW3cTraceParent:()=>_e.lq,formatTraceParent:()=>_e.aR,generateW3CId:()=>ye.DO,getCommonSchemaMetaData:()=>P.Vv,getConsole:()=>b.dr,getCookie:()=>P.ej,getCookieValue:()=>P.Do,getCrypto:()=>b.MX,getDocument:()=>b.Me,getExceptionName:()=>E.jj,getFieldValueType:()=>P.Sy,getGlobal:()=>re.Rd,getGlobalInst:()=>b.a8,getHistory:()=>b.s1,getIEVersion:()=>b.sA,getISOString:()=>E.Y6,getJSON:()=>b.xA,getLocation:()=>b.k$,getMsCrypto:()=>b.gz,getNavigator:()=>b.jW,getPerformance:()=>b.r,getSetValue:()=>E.qK,getTenantId:()=>P.jM,getTime:()=>P.hK,getWindow:()=>b.Jj,hasDocument:()=>b.Nv,hasHistory:()=>b.fE,hasJSON:()=>b.nS,hasNavigator:()=>b.d6,hasOwnProperty:()=>E.nr,hasWindow:()=>b.Ym,isArray:()=>E.kJ,isArrayValid:()=>P.JT,isBeaconsSupported:()=>b.MF,isBoolean:()=>E.jn,isChromium:()=>P.mJ,isDate:()=>E.J_,isDocumentObjectAvailable:()=>P.x9,isError:()=>E.VZ,isFetchSupported:()=>b.JO,isFunction:()=>E.mf,isIE:()=>b.w1,isLatency:()=>P.r7,isNotTruthy:()=>E.F,isNullOrUndefined:()=>E.le,isNumber:()=>E.hj,isObject:()=>E.Kn,isReactNative:()=>b.b$,isSampledFlag:()=>_e.Pn,isString:()=>E.HD,isTruthy:()=>E.fQ,isTypeof:()=>E.Ym,isUint8ArrayAvailable:()=>P.IZ,isUndefined:()=>E.o8,isValidSpanId:()=>_e.Lc,isValidTraceId:()=>_e.jN,isValidTraceParent:()=>_e.J6,isValueAssigned:()=>P.Sn,isValueKind:()=>P.oS,isWindowObjectAvailable:()=>P.dH,isXhrSupported:()=>b.Z3,mergeEvtNamespace:()=>Re.jU,newGuid:()=>ye.GW,newId:()=>Ee.pZ,normalizeJsName:()=>E.Gf,objCreate:()=>re.pu,objDefineAccessors:()=>E.l_,objForEachKey:()=>E.rW,objFreeze:()=>E.FL,objKeys:()=>E.FY,objSeal:()=>E.Xi,openXhr:()=>P.ot,optimizeObject:()=>E.Ax,parseTraceParent:()=>_e.j_,perfNow:()=>ye.Jj,proxyAssign:()=>E.cf,proxyFunctionAs:()=>E.Oi,proxyFunctions:()=>E.Vb,random32:()=>Ee._l,randomValue:()=>Ee.az,removeEventHandler:()=>Re.C1,removeEventListeners:()=>Re.nJ,removePageHideEventListener:()=>Re.C9,removePageShowEventListener:()=>Re.Yl,removePageUnloadEventListener:()=>Re.JA,safeGetCookieMgr:()=>te.JP,safeGetLogger:()=>h.vH,sanitizeProperty:()=>P.yj,setCookie:()=>P.d8,setEnableEnvMocks:()=>b.dI,setProcessTelemetryTimings:()=>P.if,setValue:()=>E.sO,strContains:()=>E._Q,strEndsWith:()=>E.Id,strFunction:()=>J.cb,strObject:()=>J.fK,strPrototype:()=>J.hB,strStartsWith:()=>E.xe,strTrim:()=>E.nd,strUndefined:()=>J.jA,throwError:()=>E._y,toISOString:()=>E.Y6,useXDomainRequest:()=>b.cp});var S=R(27421),M=R(50951),E=R(24869),_=R(67309),l=(0,M.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),u=(0,M.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),c=(0,M.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),f=(0,M.By)({Normal:1,Critical:2}),w=(0,M.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),v=(0,E.FL)((0,S.uc)((0,S.uc)({},_.v),(0,M.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),d=R(29141),h=R(29339),p=R(81782),b=R(49251),y=R(19903),D=R(51539),P=R(65705),L=function(q){(0,S.ne)(B,q);function B(){var se=q.call(this)||this;return se.pluginVersionStringArr=[],(0,d.Z)(B,se,function(we,ge){(!we.logger||!we.logger.queue)&&(we.logger=new h.AQ({loggingLevelConsole:1})),we.initialize=function(pe,Pe,Oe,Ue){(0,p.Lm)(we,function(){return"AppInsightsCore.initialize"},function(){var pt=we.pluginVersionStringArr;if(pe){pe.endpointUrl||(pe.endpointUrl=D.YT);var je=pe.propertyStorageOverride;je&&(!je.getProperty||!je.setProperty)&&(0,E._y)("Invalid property storage override passed."),pe.channels&&(0,E.tO)(pe.channels,function(le){le&&(0,E.tO)(le,function(W){if(W.identifier&&W.version){var ie=W.identifier+"="+W.version;pt.push(ie)}})})}we.getWParam=function(){return typeof document!="undefined"||!!pe.enableWParam?0:-1},Pe&&(0,E.tO)(Pe,function(le){if(le&&le.identifier&&le.version){var W=le.identifier+"="+le.version;pt.push(W)}}),we.pluginVersionString=pt.join(";"),we.pluginVersionStringArr=pt;try{ge.initialize(pe,Pe,Oe,Ue),we.pollInternalLogs("InternalLog")}catch(le){var Je=we.logger,lt=(0,b.eU)(le);lt.indexOf("channels")!==-1&&(lt+=`
 - Channels must be provided through config.channels only!`),(0,h.kP)(Je,1,514,"SDK Initialization Failed - no telemetry will be sent: "+lt)}},function(){return{config:pe,extensions:Pe,logger:Oe,notificationManager:Ue}})},we.track=function(pe){(0,p.Lm)(we,function(){return"AppInsightsCore.track"},function(){var Pe=pe;if(Pe){Pe.timings=Pe.timings||{},Pe.timings.trackStart=(0,P.hK)(),(0,P.r7)(Pe.latency)||(Pe.latency=1);var Oe=Pe.ext=Pe.ext||{};Oe.sdk=Oe.sdk||{},Oe.sdk.ver=P.vs;var Ue=Pe.baseData=Pe.baseData||{};Ue[D.o6]=Ue[D.o6]||{};var pt=Ue[D.o6];pt[D.p8]=pt[D.p8]||we.pluginVersionString||D.qS}ge.track(Pe)},function(){return{item:pe}},!pe.sync)}}),se}return B.__ieDyn=1,B}(y.F);const H=L;var j=R(95779),V=function(q){(0,S.ne)(B,q);function B(){var se=q.call(this)||this;return(0,d.Z)(B,se,function(we,ge){we.initialize=function(pe,Pe,Oe,Ue){pe&&!pe.endpointUrl&&(pe.endpointUrl=D.YT),we.getWParam=function(){return P.x9||!!pe.enableWParam?0:-1};try{ge.initialize(pe,Pe,Oe,Ue)}catch(pt){(0,h.kP)(we.logger,1,514,"Initialization Failed: "+(0,b.eU)(pt)+`
 - Note: Channels must be provided through config.channels only`)}},we.track=function(pe){var Pe=pe;if(Pe){var Oe=Pe.ext=Pe.ext||{};Oe.sdk=Oe.sdk||{},Oe.sdk.ver=P.vs}ge.track(Pe)}}),se}return B.__ieDyn=1,B}(j.A);const Y=V;var K=E.mf;function ae(q,B,se){return function(we){q[B]=we,se()}}var ne=function(){function q(B){var se=0,we=null,ge=[];(0,d.Z)(q,this,function(pt){pt.then=function(je,Je){return new q(function(lt,le){pe(je,Je,lt,le)})},pt.catch=function(je){return pt.then(null,je)}});function pe(pt,je,Je,lt){ge.push(function(){var le;try{se===1?le=K(pt)?pt(we):we:le=K(je)?je(we):we,le instanceof q?le.then(Je,lt):se===2&&!K(je)?lt(le):Je(le)}catch(W){lt(W);return}}),se!==0&&Pe()}function Pe(){if(ge.length>0){var pt=ge.slice();ge=[],setTimeout(function(){for(var je=0,Je=pt.length;je<Je;++je)try{pt[je]()}catch(lt){}},0)}}function Oe(pt){se===0&&(we=pt,se=1,Pe())}function Ue(pt){se===0&&(we=pt,se=2,Pe())}(function(){if(!K(B))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{B(Oe,Ue)}catch(je){Ue(je)}})()}return q.resolve=function(B){return B instanceof q?B:B&&K(B.then)?new q(function(se,we){try{B.then(se,we)}catch(ge){we(ge)}}):new q(function(se){se(B)})},q.reject=function(B){return new q(function(se,we){we(B)})},q.all=function(B){if(!(!B||!B.length))return new q(function(se,we){try{for(var ge=[],pe=0,Pe=0;Pe<B.length;Pe++){var Oe=B[Pe];Oe&&K(Oe.then)?(pe++,Oe.then(ae(ge,Pe,function(){--pe==0&&se(ge)}),we)):ge[Pe]=Oe}pe===0&&setTimeout(function(){se(ge)},0)}catch(Ue){we(Ue)}})},q.race=function(B){return new q(function(se,we){if(!(!B||!B.length))try{for(var ge=function(Pe){var Oe=B[Pe];Oe&&K(Oe.then)?Oe.then(se,we):setTimeout(function(){se(Oe)},0)},pe=0;pe<B.length;pe++)ge(pe)}catch(Pe){we(Pe)}})},q}();const ce=ne;var re=R(30175),I=6e5,U=0,C=[],o=[],g=[];function N(){return new Date().getTime()}var x=function(){function q(B,se){var we=0,ge=(B||"<unnamed>")+"."+U;U++,(0,d.Z)(q,this,function(Oe){var Ue=null,pt=0;Oe.scheduleEvent=function(Je,lt,le){var W=ge+"."+pt;pt++,lt&&(W+="-("+lt+")");var ie=W+"{"+we+"}";we++;var he={evt:null,tm:N(),id:ie,isRunning:!1,isAborted:!1};return Ue?he.evt=Be(he,Ue):he.evt=We(he),Ue=he,Ue.evt._schId=ie,he.evt;function Ce(st){for(var ut=N(),ct=ut-I,zt=st.length,ft=0;ft<zt;){var wt=st[ft];if(wt&&wt.tm<ct){var Si=null;wt.abort?(Si="Aborting ["+wt.id+"] due to Excessive runtime ("+(ut-wt.tm)+" ms)",wt.abort(Si)):Si="Removing ["+wt.id+"] due to Excessive runtime ("+(ut-wt.tm)+" ms)",Pe(Si),st.splice(ft,1),zt--}else ft++}}function He(st,ut){var ct=!1,zt=je(C,st);if(zt||(zt=je(g,st),ct=!0),zt){zt.to&&(clearTimeout(zt.to),zt.to=null);var ft=N()-zt.tm;ut?ct?Pe("Timed out event ["+st+"] finally complete -- "+ft+" ms"):pe("Promise ["+st+"] Complete -- "+ft+" ms"):(g.push(zt),Pe("Event ["+st+"] Timed out and removed -- "+ft+" ms"))}else pe("Failed to remove ["+st+"] from running queue");Ue&&Ue.id===st&&(Ue=null),Ce(C),Ce(o),Ce(g)}function Me(st,ut){return function(ct){return He(st,!0),ut&&ut(ct),ct}}function $e(st,ut,ct,zt){ut.then(function(ft){return ft instanceof ce?(pe("Event ["+st+"] returned a promise -- waiting"),$e(st,ft,ct,zt),ft):Me(st,ct)(ft)},Me(st,zt))}function xt(st,ut){var ct=st.id;return new ce(function(zt,ft){pe("Event ["+ct+"] Starting -- waited for "+(st.wTm||"--")+" ms"),st.isRunning=!0,st.abort=function(Si){st.abort=null,st.isAborted=!0,He(ct,!1),ft(new Error(Si))};var wt=ut(ct);wt instanceof ce?(le&&(st.to=setTimeout(function(){He(ct,!1),ft(new Error("Timed out after ["+le+"] ms"))},le)),$e(ct,wt,function(Si){pe("Event ["+ct+"] Resolving after "+(N()-st.tm)+" ms"),zt(Si)},ft)):(pe("Promise ["+ct+"] Auto completed as the start action did not return a promise"),zt())})}function We(st){var ut=N();return st.wTm=ut-st.tm,st.tm=ut,st.isAborted?ce.reject(new Error("["+W+"] was aborted")):(C.push(st),xt(st,Je))}function Be(st,ut){var ct=new ce(function(zt,ft){var wt=N()-ut.tm,Si=ut.id;pe("["+W+"] is waiting for ["+Si+":"+wt+" ms] to complete before starting -- ["+o.length+"] waiting and ["+C.length+"] running"),st.abort=function(kt){st.abort=null,je(o,W),st.isAborted=!0,ft(new Error(kt))},ut.evt.then(function(kt){je(o,W),We(st).then(zt,ft)},function(kt){je(o,W),We(st).then(zt,ft)})});return o.push(st),ct}};function je(Je,lt){for(var le=0;le<Je.length;le++)if(Je[le].id===lt)return Je.splice(le,1)[0];return null}});function pe(Oe){var Ue=(0,re.Rd)();Ue&&Ue.QUnit&&console&&console.log("ESPromiseScheduler["+ge+"] "+Oe)}function Pe(Oe){(0,h.jV)(se,"ESPromiseScheduler["+ge+"] "+Oe)}}return q.incomplete=function(){return C},q.waitingToStart=function(){return o},q}();const F=x;var A=function(){function q(B){var se=this,we={},ge=[],pe=[];B&&pe.push(B);function Pe(je,Je){var lt,le=we[je];if(le&&(lt=le[Je]),!lt&&lt!==null){if((0,E.HD)(je)&&(0,E.HD)(Je))if(pe.length>0){for(var W=0;W<pe.length;W++)if(pe[W].handleField(je,Je)){lt={canHandle:!0,fieldHandler:pe[W]};break}}else ge.length===0&&(lt={canHandle:!0});if(!lt&&lt!==null){lt=null;for(var W=0;W<ge.length;W++)if(ge[W].handleField(je,Je)){lt={canHandle:!0,handler:ge[W],fieldHandler:null};break}}le||(le=we[je]={}),le[Je]=lt}return lt}se.addSanitizer=function(je){je&&(ge.push(je),we={})},se.addFieldSanitizer=function(je){je&&(pe.push(je),we={})},se.handleField=function(je,Je){var lt=Pe(je,Je);return lt?lt.canHandle:!1},se.value=function(je,Je,lt,le){var W=Pe(je,Je);if(W&&W.canHandle){if(!W||!W.canHandle)return null;if(W.handler)return W.handler.value(je,Je,lt,le);if(!(0,E.HD)(Je)||(0,E.le)(lt)||lt===D.qS)return null;var ie=null,he=(0,P.Sy)(lt);if((he&8192)==8192){var Ce=he&~8192;if(ie=lt,!(0,P.Sn)(ie.value)||Ce!==1&&Ce!==2&&Ce!==3&&(Ce&4096)!=4096)return null}else he===1||he===2||he===3||(he&4096)==4096?ie=Ue(je,Je,lt):he===4&&(ie=Ue(je,Je,le?JSON.stringify(lt):lt));if(ie)return Oe(W,je,Je,he,ie,le)}return null},se.property=function(je,Je,lt,le){var W=Pe(je,Je);if(!W||!W.canHandle||!(0,E.HD)(Je)||(0,E.le)(lt)||!(0,P.Sn)(lt.value))return null;var ie=(0,P.Sy)(lt.value);return ie===0?null:Oe(W,je,Je,ie,lt,le)};function Oe(je,Je,lt,le,W,ie){if(je.handler)return je.handler.property(Je,lt,W,ie);if(!(0,E.le)(W.kind)){if((le&4096)==4096||!(0,P.oS)(W.kind))return null;W.value=W.value.toString()}return pt(je.fieldHandler,Je,lt,le,W)}function Ue(je,Je,lt){return(0,P.Sn)(lt)?{value:lt}:null}function pt(je,Je,lt,le,W){if(W&&je){var ie=je.getSanitizer(Je,lt,le,W.kind,W.propertyType);if(ie)if(le===4){var he={},Ce=W.value;(0,E.rW)(Ce,function(Me,$e){var xt=Je+"."+lt;if((0,P.Sn)($e)){var We=Ue(xt,Me,$e);We=pt(je,xt,Me,(0,P.Sy)($e),We),We&&(he[Me]=We.value)}}),W.value=he}else{var He={path:Je,name:lt,type:le,prop:W,sanitizer:se};W=ie.call(se,He)}}return W}}return q.getFieldType=P.Sy,q}(),$=100,z=R(6138),T=R(87951),ee=R(31030),xe=R(28452),ye=R(28956),Re=R(47954),Ee=R(19406),J=R(1550),te=R(88140),me=R(87624),fe=R(38593),_e=R(56207)},51539:(s,Q,R)=>{"use strict";R.d(Q,{YT:()=>M,o6:()=>u,p8:()=>l,qS:()=>S});var S="",M="https://browser.events.data.microsoft.com/OneCollector/1.0/",E="pluginVersionString",_=E+"Arr",l="version",u="properties"},65705:(s,Q,R)=>{"use strict";R.d(Q,{Do:()=>C,Gf:()=>d,IZ:()=>Y,JT:()=>$,Sn:()=>j,Sy:()=>T,Tr:()=>xe,Vv:()=>ne,cQ:()=>ee,cm:()=>o,d8:()=>re,dH:()=>H,ej:()=>U,hK:()=>N,if:()=>z,jM:()=>V,kT:()=>I,l7:()=>g,mJ:()=>ye,oF:()=>ce,oS:()=>x,ot:()=>Re,r7:()=>K,vs:()=>h,x9:()=>L,yj:()=>ae});var S=R(49251),M=R(24869),E=R(88140),_=R(28956),l=R(1550),u=R(47954),c=R(19406),f=R(30175),w=R(51539),v,d="3.2.9",h="1DS-Web-JS-"+d,p="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",b="withCredentials",y="timeout",D=(v={},v[0]=0,v[2]=6,v[1]=1,v[3]=7,v[4096|2]=6,v[4096|1]=1,v[4096|3]=7,v),P=null,L=Boolean((0,S.Me)()),H=Boolean((0,S.Jj)());function j(Ee){return!(Ee===w.qS||(0,M.le)(Ee))}function V(Ee){if(Ee){var J=Ee.indexOf("-");if(J>-1)return Ee.substring(0,J)}return w.qS}function Y(){return P===null&&(P=!(0,M.o8)(Uint8Array)&&!A()&&!(0,S.b$)()),P}function K(Ee){return!!(Ee&&(0,M.hj)(Ee)&&Ee>=1&&Ee<=4)}function ae(Ee,J,te){if(!J&&!j(J)||typeof Ee!="string")return null;var me=typeof J;if(me==="string"||me==="number"||me==="boolean"||(0,M.kJ)(J))J={value:J};else if(me==="object"&&!l.CY.call(J,"value"))J={value:te?JSON.stringify(J):J};else if((0,M.le)(J.value)||J.value===w.qS||!(0,M.HD)(J.value)&&!(0,M.hj)(J.value)&&!(0,M.jn)(J.value)&&!(0,M.kJ)(J.value))return null;if((0,M.kJ)(J.value)&&!$(J.value))return null;if(!(0,M.le)(J.kind)){if((0,M.kJ)(J.value)||!x(J.kind))return null;J.value=J.value.toString()}return J}function ne(Ee,J,te){var me=-1;if(!(0,M.o8)(Ee))if(J>0&&(J===32?me=1<<13:J<=13&&(me=J<<5)),F(te))me===-1&&(me=0),me|=te;else{var fe=D[T(Ee)]||-1;me!==-1&&fe!==-1?me|=fe:fe===6&&(me=fe)}return me}function ce(){(0,E.JP)(null).setEnabled(!1)}function re(Ee,J,te){(0,E.p7)(null)&&(0,E.JP)(null).set(Ee,J,te*86400,null,"/")}function I(Ee){(0,E.p7)(null)&&(0,E.JP)(null).del(Ee)}function U(Ee){return(0,E.p7)(null)?C((0,E.JP)(null),Ee):w.qS}function C(Ee,J,te){te===void 0&&(te=!0);var me;return Ee&&(me=Ee.get(J),te&&me&&decodeURIComponent&&(me=decodeURIComponent(me))),me||w.qS}function o(Ee){Ee===void 0&&(Ee="D");var J=(0,_.GW)();return Ee==="B"?J="{"+J+"}":Ee==="P"?J="("+J+")":Ee==="N"&&(J=J.replace(/-/g,w.qS)),J}function g(Ee,J,te,me,fe){var _e={},q=!1,B=0,se=arguments.length,we=Object[l.hB],ge=arguments;for(we.toString.call(ge[0])==="[object Boolean]"&&(q=ge[0],B++);B<se;B++){var Ee=ge[B];(0,M.rW)(Ee,function(Pe,Oe){q&&Oe&&(0,M.Kn)(Oe)?(0,M.kJ)(Oe)?(_e[Pe]=_e[Pe]||[],(0,M.tO)(Oe,function(Ue,pt){Ue&&(0,M.Kn)(Ue)?_e[Pe][pt]=g(!0,_e[Pe][pt],Ue):_e[Pe][pt]=Ue})):_e[Pe]=g(!0,_e[Pe],Oe):_e[Pe]=Oe})}return _e}var N=_.Jj;function x(Ee){return Ee===0||Ee>0&&Ee<=13||Ee===32}function F(Ee){return Ee>=0&&Ee<=9}function A(){var Ee=(0,S.jW)();if(!(0,M.o8)(Ee)&&Ee.userAgent){var J=Ee.userAgent.toLowerCase();if((J.indexOf("safari")>=0||J.indexOf("firefox")>=0)&&J.indexOf("chrome")<0)return!0}return!1}function $(Ee){return Ee.length>0}function z(Ee,J){var te=Ee;te.timings=te.timings||{},te.timings.processTelemetryStart=te.timings.processTelemetryStart||{},te.timings.processTelemetryStart[J]=N()}function T(Ee){var J=0;if(Ee!=null){var te=typeof Ee;te==="string"?J=1:te==="number"?J=2:te==="boolean"?J=3:te===l.fK&&(J=4,(0,M.kJ)(Ee)?(J=4096,Ee.length>0&&(J|=T(Ee[0]))):l.CY.call(Ee,"value")&&(J=8192|T(Ee.value)))}return J}var ee={Version:d,FullVersionString:h,strUndefined:l.jA,strObject:l.fK,Undefined:l.jA,arrForEach:M.tO,arrIndexOf:M.UA,arrMap:M.Mr,arrReduce:M.Xz,objKeys:M.FY,toISOString:M.Y6,isReactNative:S.b$,isString:M.HD,isNumber:M.hj,isBoolean:M.jn,isFunction:M.mf,isArray:M.kJ,isObject:M.Kn,strTrim:M.nd,isDocumentObjectAvailable:L,isWindowObjectAvailable:H,isValueAssigned:j,getTenantId:V,isBeaconsSupported:S.MF,isUint8ArrayAvailable:Y,isLatency:K,sanitizeProperty:ae,getISOString:M.Y6,useXDomainRequest:S.cp,getCommonSchemaMetaData:ne,cookieAvailable:E.p7,disallowsSameSiteNone:E.UY,setCookie:re,deleteCookie:I,getCookie:U,createGuid:o,extend:g,getTime:N,isValueKind:x,isArrayValid:$,objDefineAccessors:M.l_,addPageUnloadEventListener:u.c9,setProcessTelemetryTimings:z,addEventHandler:u.Ib,getFieldValueType:T,strEndsWith:M.Id,objForEachKey:M.rW},xe={_canUseCookies:void 0,isTypeof:M.Ym,isUndefined:M.o8,isNullOrUndefined:M.le,hasOwnProperty:M.nr,isFunction:M.mf,isObject:M.Kn,isDate:M.J_,isArray:M.kJ,isError:M.VZ,isString:M.HD,isNumber:M.hj,isBoolean:M.jn,toISOString:M.Y6,arrForEach:M.tO,arrIndexOf:M.UA,arrMap:M.Mr,arrReduce:M.Xz,strTrim:M.nd,objCreate:f.pu,objKeys:M.FY,objDefineAccessors:M.l_,addEventHandler:u.Ib,dateNow:M.m6,isIE:S.w1,disableCookies:ce,newGuid:_.GW,perfNow:_.Jj,newId:c.pZ,randomValue:c.az,random32:c._l,mwcRandomSeed:c.CN,mwcRandom32:c.F6,generateW3CId:_.DO};function ye(){return!!(0,S.a8)("chrome")}function Re(Ee,J,te,me,fe,_e){me===void 0&&(me=!1),fe===void 0&&(fe=!1);function q(se,we,ge){try{se[we]=ge}catch(pe){}}var B=new XMLHttpRequest;return me&&q(B,p,me),te&&q(B,b,te),B.open(Ee,J,!fe),te&&q(B,b,te),!fe&&_e&&q(B,y,_e),B}},71488:(s,Q,R)=>{"use strict";R.r(Q),R.d(Q,{BE_PROFILE:()=>b,NRT_PROFILE:()=>p,PostChannel:()=>Et,RT_PROFILE:()=>h});var S=R(27421),M=R(29141),E=R(81782),_=R(47954),l=R(87624),u=R(65705),c=R(24869),f=R(49251),w=R(28452),v=R(29339),d=R(87951),h="REAL_TIME",p="NEAR_REAL_TIME",b="BEST_EFFORT",y="",D="POST",P="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",L="drop",H="send",j="requeue",V="rspFail",Y="oth",K="no-cache, no-store",ae="application/x-json-stream",ne="cache-control",ce="content-type",re="kill-tokens",I="kill-duration",U="kill-duration-seconds",C="time-delta-millis",o="client-version",g="client-id",N="time-delta-to-apply-millis",x="upload-time",F="apikey",A="AuthMsaDeviceTicket",$="AuthXToken",z="sdk-version",T="NoResponseBody",ee="msfpc",xe="trace",ye="user";function Re(Ct){var nt=(Ct.ext||{}).intweb;return nt&&(0,u.Sn)(nt[ee])?nt[ee]:null}function Ee(Ct){for(var nt=null,mt=0;nt===null&&mt<Ct.length;mt++)nt=Re(Ct[mt]);return nt}var J=function(){function Ct(nt,mt){var at=mt?[].concat(mt):[],ei=this,Kt=Ee(at);ei.iKey=function(){return nt},ei.Msfpc=function(){return Kt||y},ei.count=function(){return at.length},ei.events=function(){return at},ei.addEvent=function(Mt){return Mt?(at.push(Mt),Kt||(Kt=Re(Mt)),!0):!1},ei.split=function(Mt,fi){var ti;if(Mt<at.length){var yi=at.length-Mt;(0,c.le)(fi)||(yi=fi<yi?fi:yi),ti=at.splice(Mt,yi),Kt=Ee(at)}return new Ct(nt,ti)}}return Ct.create=function(nt,mt){return new Ct(nt,mt)},Ct}(),te=function(){function Ct(){var nt=!0,mt=!0,at=!0,ei="use-collector-delta",Kt=!1;(0,M.Z)(Ct,this,function(Mt){Mt.allowRequestSending=function(){return nt},Mt.firstRequestSent=function(){at&&(at=!1,Kt||(nt=!1))},Mt.shouldAddClockSkewHeaders=function(){return mt},Mt.getClockSkewHeaderValue=function(){return ei},Mt.setClockSkew=function(fi){Kt||(fi?(ei=fi,mt=!0,Kt=!0):mt=!1,nt=!0)}})}return Ct.__ieDyn=1,Ct}();const me=te;var fe=1e3,_e=function(){function Ct(){var nt={};function mt(at){var ei=[];return at&&(0,c.tO)(at,function(Kt){ei.push((0,c.nd)(Kt))}),ei}(0,M.Z)(Ct,this,function(at){at.setKillSwitchTenants=function(ei,Kt){if(ei&&Kt)try{var Mt=mt(ei.split(","));if(Kt==="this-request-only")return Mt;for(var fi=parseInt(Kt,10)*fe,ti=0;ti<Mt.length;++ti)nt[Mt[ti]]=(0,c.m6)()+fi}catch(yi){return[]}return[]},at.isTenantKilled=function(ei){var Kt=nt,Mt=(0,c.nd)(ei);return Kt[Mt]!==void 0&&Kt[Mt]>(0,c.m6)()?!0:(delete Kt[Mt],!1)}})}return Ct.__ieDyn=1,Ct}();const q=_e;var B=R(1550),se=.8,we=1.2,ge=3e3,pe=6e5;function Pe(Ct){return!(Ct>=300&&Ct<500&&Ct!=408&&Ct!=429||Ct==501||Ct==505)}function Oe(Ct){var nt=0,mt=ge*se,at=ge*we,ei=Math.floor(Math.random()*(at-mt))+mt;return nt=Math.pow(2,Ct)*ei,Math.min(nt,pe)}var Ue=20,pt=3984588,je=65e3,Je=2e6,lt=Math.min(Je,je),le="metadata",W="f",ie=/\./,he=function(){function Ct(nt,mt,at,ei){var Kt="data",Mt="baseData",fi="ext",ti=!!ei,yi=!0,gi=mt,Li={};(0,M.Z)(Ct,this,function(Ii){Ii.createPayload=function(Lt,Qt,ci,Ti,Zt,bi){return{apiKeys:[],payloadBlob:y,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Lt,isTeardown:Qt,isSync:ci,isBeacon:Ti,sendType:bi,sendReason:Zt}},Ii.appendPayload=function(Lt,Qt,ci){var Ti=Lt&&Qt&&!Lt.overflow;return Ti&&(0,E.Lm)(nt,function(){return"Serializer:appendPayload"},function(){for(var Zt=Qt.events(),bi=Lt.payloadBlob,Pi=Lt.numEvents,Wi=!1,Ei=[],Xi=[],_r=Lt.isBeacon,Gi=_r?je:pt,cr=_r?lt:Je,nr=0,Ji=0;nr<Zt.length;){var mi=Zt[nr];if(mi){if(Pi>=ci){Lt.overflow=Qt.split(nr);break}var Xt=Ii.getEventBlob(mi);if(Xt&&Xt.length<=cr){var gr=Xt.length,Wr=bi.length;if(Wr+gr>Gi){Lt.overflow=Qt.split(nr);break}bi&&(bi+=`
`),bi+=Xt,Ji++,Ji>Ue&&(bi.substr(0,1),Ji=0),Wi=!0,Pi++}else Xt?Ei.push(mi):Xi.push(mi),Zt.splice(nr,1),nr--}nr++}if(Ei&&Ei.length>0&&Lt.sizeExceed.push(J.create(Qt.iKey(),Ei)),Xi&&Xi.length>0&&Lt.failedEvts.push(J.create(Qt.iKey(),Xi)),Wi){Lt.batches.push(Qt),Lt.payloadBlob=bi,Lt.numEvents=Pi;var _i=Qt.iKey();(0,c.UA)(Lt.apiKeys,_i)===-1&&Lt.apiKeys.push(_i)}},function(){return{payload:Lt,theBatch:{iKey:Qt.iKey(),evts:Qt.events()},max:ci}}),Ti},Ii.getEventBlob=function(Lt){try{return(0,E.Lm)(nt,function(){return"Serializer.getEventBlob"},function(){var Qt={};Qt.name=Lt.name,Qt.time=Lt.time,Qt.ver=Lt.ver,Qt.iKey="o:"+(0,u.jM)(Lt.iKey);var ci={},Ti=Lt[fi];Ti&&(Qt[fi]=ci,(0,c.rW)(Ti,function(Pi,Wi){var Ei=ci[Pi]={};Ni(Wi,Ei,"ext."+Pi,!0,null,null,!0)}));var Zt=Qt[Kt]={};Zt.baseType=Lt.baseType;var bi=Zt[Mt]={};return Ni(Lt.baseData,bi,Mt,!1,[Mt],function(Pi,Wi,Ei){Ce(ci,Pi,Wi,Ei)},yi),Ni(Lt.data,Zt,Kt,!1,[],function(Pi,Wi,Ei){Ce(ci,Pi,Wi,Ei)},yi),JSON.stringify(Qt)},function(){return{item:Lt}})}catch(Qt){return null}};function Mi(Lt,Qt){var ci=Li[Lt];return ci===void 0&&(Lt.length>=7&&(ci=(0,c.xe)(Lt,"ext.metadata")||(0,c.xe)(Lt,"ext.web")),Li[Lt]=ci),ci}function Ni(Lt,Qt,ci,Ti,Zt,bi,Pi){(0,c.rW)(Lt,function(Wi,Ei){var Xi=null;if(Ei||(0,u.Sn)(Ei)){var _r=ci,Gi=Wi,cr=Zt,nr=Qt;if(ti&&!Ti&&ie.test(Wi)){var Ji=Wi.split("."),mi=Ji.length;if(mi>1){cr&&(cr=cr.slice());for(var Xt=0;Xt<mi-1;Xt++){var gr=Ji[Xt];nr=nr[gr]=nr[gr]||{},_r+="."+gr,cr&&cr.push(gr)}Gi=Ji[mi-1]}}var Wr=Ti&&Mi(_r,Gi);if(!Wr&&gi&&gi.handleField(_r,Gi)?Xi=gi.value(_r,Gi,Ei,at):Xi=(0,u.yj)(Gi,Ei,at),Xi){var _i=Xi.value;if(nr[Gi]=_i,bi&&bi(cr,Gi,Xi),Pi&&typeof _i=="object"&&!(0,c.kJ)(_i)){var fr=cr;fr&&(fr=fr.slice(),fr.push(Gi)),Ni(Ei,_i,_r+"."+Gi,Ti,fr,bi,Pi)}}}})}})}return Ct.__ieDyn=1,Ct}();function Ce(Ct,nt,mt,at){if(at&&Ct){var ei=(0,u.Vv)(at.value,at.kind,at.propertyType);if(ei>-1){var Kt=Ct[le];Kt||(Kt=Ct[le]={f:{}});var Mt=Kt[W];if(Mt||(Mt=Kt[W]={}),nt)for(var fi=0;fi<nt.length;fi++){var ti=nt[fi];Mt[ti]||(Mt[ti]={f:{}});var yi=Mt[ti][W];yi||(yi=Mt[ti][W]={}),Mt=yi}Mt=Mt[mt]={},(0,c.kJ)(at.value)?Mt.a={t:ei}:Mt.t=ei}}}var He,Me="sendAttempt",$e="&"+T+"=true",xt=(He={},He[1]=j,He[100]=j,He[200]="sent",He[8004]=L,He[8003]=L,He),We={},Be={};function st(Ct,nt,mt){We[Ct]=nt,mt!==!1&&(Be[nt]=Ct)}st(A,A,!1),st(o,o),st(g,"Client-Id"),st(F,F),st(N,N),st(x,x),st($,$);function ut(Ct){try{return Ct.responseText}catch(nt){}return y}function ct(Ct,nt){var mt=!1;if(Ct&&nt){var at=(0,c.FY)(Ct);if(at&&at.length>0)for(var ei=nt.toLowerCase(),Kt=0;Kt<at.length;Kt++){var Mt=at[Kt];if(Mt&&(0,c.nr)(nt,Mt)&&Mt.toLowerCase()===ei){mt=!0;break}}}return mt}function zt(Ct,nt,mt,at){nt&&mt&&mt.length>0&&(at&&We[nt]?(Ct.hdrs[We[nt]]=mt,Ct.useHdrs=!0):Ct.url+="&"+nt+"="+mt)}function ft(Ct,nt){return nt&&((0,c.hj)(nt)?Ct=[nt].concat(Ct):(0,c.kJ)(nt)&&(Ct=nt.concat(Ct))),Ct}var wt=function(){function Ct(nt,mt,at,ei,Kt){this._responseHandlers=[];var Mt="?cors=true&"+ce.toLowerCase()+"="+ae,fi=new q,ti=!1,yi=new me,gi=!1,Li=0,Ii,Mi,Ni,Lt,Qt=!0,ci=[],Ti={},Zt=[],bi=null,Pi=!1,Wi,Ei=!1,Xi=!1,_r,Gi,cr,nr,Ji;(0,M.Z)(Ct,this,function(mi){var Xt=!0;mi.initialize=function(Le,dt,ot,bt,It){var ni;It||(It={}),Mt=Le+Mt,Xi=(0,c.o8)(It.avoidOptions)?!0:!It.avoidOptions,Lt=dt,Wi=dt.getCookieMgr(),Pi=!Lt.config.disableEventTimings;var ai=!!Lt.config.enableCompoundKey;Ii=ot,Mi=Ii.diagLog();var Ge=It.valueSanitizer,et=It.stringifyObjects;(0,c.o8)(It.enableCompoundKey)||(ai=!!It.enableCompoundKey),_r=It.xhrTimeout,Gi=!!It.disableXhrSync,cr=!!It.disableFetchKeepAlive,Ji=It.addNoResponse!==!1,gi=!(0,f.b$)(),bi=new he(Lt,Ge,et,ai),(0,c.le)(It.useSendBeacon)||(gi=!!It.useSendBeacon);var Ke=bt,St=It.alwaysUseXhrOverride?bt:null,Ut=It.alwaysUseXhrOverride?bt:null,Jt=[3,2];if(!bt){Qt=!1;var si=(0,f.k$)();si&&si.protocol&&si.protocol.toLowerCase()==="file:"&&(Xt=!1);var xi=[];(0,f.b$)()?(xi=[2,1],Jt=[2,1,3]):xi=[1,2,3],xi=ft(xi,It.transports),bt=gr(xi,!1),bt||(0,v.jV)(Mi,"No available transport to send events"),Ke=gr(xi,!0)}St||(Jt=ft(Jt,It.unloadTransports),St=gr(Jt,!0)),nr=!Qt&&(gi&&(0,f.MF)()||!cr&&(0,f.JO)(!0)),Ni=(ni={},ni[0]=bt,ni[1]=Ke||gr([1,2,3],!0),ni[2]=St||Ke||gr([1],!0),ni[3]=Ut||gr([2,3],!0)||Ke||gr([1],!0),ni)};function gr(Le,dt){for(var ot=0,bt=null,It=0;bt==null&&It<Le.length;)ot=Le[It],ot===1?(0,f.cp)()?bt=Wr:(0,f.Z3)()&&(bt=fr):ot===2&&(0,f.JO)(dt)&&(!dt||dt&&!cr)?bt=_i:gi&&ot===3&&(0,f.MF)()&&(bt=br),It++;return bt?{_transport:ot,_isSync:dt,sendPOST:bt}:null}mi._getDbgPlgTargets=function(){return[Ni[0],fi,bi,Ni]};function Wr(Le,dt,ot){var bt=new XDomainRequest;bt.open(D,Le.urlString),Le.timeout&&(bt.timeout=Le.timeout),bt.onload=function(){var It=ut(bt);wi(dt,200,{},It),sa(It)},bt.onerror=function(){wi(dt,400,{})},bt.ontimeout=function(){wi(dt,500,{})},bt.onprogress=function(){},ot?bt.send(Le.data):Kt.set(function(){bt.send(Le.data)},0)}function _i(Le,dt,ot){var bt,It=Le.urlString,ni=!1,ai=!1,Ge=(bt={body:Le.data,method:D},bt[P]=!0,bt);ot&&(Ge.keepalive=!0,Le._sendReason===2&&(ni=!0,Ji&&(It+=$e))),Xt&&(Ge.credentials="include"),Le.headers&&(0,c.FY)(Le.headers).length>0&&(Ge.headers=Le.headers),fetch(It,Ge).then(function(et){var Ke={},St=y,Ut=et.headers;Ut&&Ut.forEach(function(Jt,si){Ke[si]=Jt}),et.body&&et.text().then(function(Jt){St=Jt}),ai||(ai=!0,wi(dt,et.status,Ke,St),sa(St))}).catch(function(et){ai||(ai=!0,wi(dt,0,{}))}),ni&&!ai&&(ai=!0,wi(dt,200,{})),!ai&&Le.timeout>0&&Kt.set(function(){ai||(ai=!0,wi(dt,500,{}))},Le.timeout)}function fr(Le,dt,ot){var bt=Le.urlString;function It(et,Ke,St){if(!et[St]&&Ke&&Ke.getResponseHeader){var Ut=Ke.getResponseHeader(St);Ut&&(et[St]=(0,c.nd)(Ut))}return et}function ni(et){var Ke={};return et.getAllResponseHeaders?Ke=hr(et.getAllResponseHeaders()):(Ke=It(Ke,et,C),Ke=It(Ke,et,I),Ke=It(Ke,et,U)),Ke}function ai(et,Ke){wi(dt,et.status,ni(et),Ke)}ot&&Le.disableXhrSync&&(ot=!1);var Ge=(0,u.ot)(D,bt,Xt,!0,ot,Le.timeout);(0,c.rW)(Le.headers,function(et,Ke){Ge.setRequestHeader(et,Ke)}),Ge.onload=function(){var et=ut(Ge);ai(Ge,et),sa(et)},Ge.onerror=function(){ai(Ge)},Ge.ontimeout=function(){ai(Ge)},Ge.send(Le.data)}function wi(Le,dt,ot,bt){try{Le(dt,ot,bt)}catch(It){(0,v.kP)(Mi,2,518,(0,f.eU)(It))}}function br(Le,dt,ot){var bt=Le,It=200,ni=bt._thePayload,ai=Le.urlString+(Ji?$e:y);try{var Ge=(0,f.jW)();if(!Ge.sendBeacon(ai,Le.data))if(ni){var et=[];(0,c.tO)(ni.batches,function(Ke){if(et&&Ke&&Ke.count()>0){for(var St=Ke.events(),Ut=0;Ut<St.length;Ut++)if(!Ge.sendBeacon(ai,bi.getEventBlob(St[Ut]))){et.push(Ke.split(Ut));break}}else et.push(Ke.split(0))}),or(et,8003,ni.sendType,!0)}else It=0}catch(Ke){(0,v.jV)(Mi,"Failed to send telemetry using sendBeacon API. Ex:"+(0,f.eU)(Ke)),It=0}finally{wi(dt,It,{},y)}}function Pr(Le){return Le===2||Le===3}function ar(Le){return Ei&&Pr(Le)&&(Le=2),Le}mi.addQueryStringParameter=function(Le,dt){for(var ot=0;ot<ci.length;ot++)if(ci[ot].name===Le){ci[ot].value=dt;return}ci.push({name:Le,value:dt})},mi.addHeader=function(Le,dt){Ti[Le]=dt},mi.canSendRequest=function(){return kr()&&yi.allowRequestSending()},mi.sendQueuedRequests=function(Le,dt){(0,c.o8)(Le)&&(Le=0),Ei&&(Le=ar(Le),dt=2),Hi(Zt,Le,0)&&Nn(en(),0,!1,Le,dt||0)},mi.isCompletelyIdle=function(){return!ti&&Li===0&&Zt.length===0},mi.setUnloading=function(Le){Ei=Le},mi.addBatch=function(Le){if(Le&&Le.count()>0){if(fi.isTenantKilled(Le.iKey()))return!1;Zt.push(Le)}return!0},mi.teardown=function(){Zt.length>0&&Nn(en(),0,!0,2,2)},mi.pause=function(){ti=!0},mi.resume=function(){ti=!1,mi.sendQueuedRequests(0,4)},mi.sendSynchronousBatch=function(Le,dt,ot){Le&&Le.count()>0&&((0,c.le)(dt)&&(dt=1),Ei&&(dt=ar(dt),ot=2),Nn([Le],0,!1,dt,ot||0))};function kr(){return!ti&&Li<mt}function en(){var Le=Zt;return Zt=[],Le}function Hi(Le,dt,ot){var bt=!1;return Le&&Le.length>0&&!ti&&Ni[dt]&&bi&&(bt=dt!==0||kr()&&(ot>0||yi.allowRequestSending())),bt}function Hn(Le){var dt={};return Le&&(0,c.tO)(Le,function(ot,bt){dt[bt]={iKey:ot.iKey(),evts:ot.events()}}),dt}function Nn(Le,dt,ot,bt,It){if(!(!Le||Le.length===0)){if(ti){or(Le,1,bt);return}bt=ar(bt);try{var ni=Le,ai=bt!==0;(0,E.Lm)(Lt,function(){return"HttpManager:_sendBatches"},function(Ge){Ge&&(Le=Le.slice(0));for(var et=[],Ke=null,St=(0,u.hK)(),Ut=Ni[bt]||(ai?Ni[1]:Ni[0]),Jt=Ut&&Ut._transport,si=nr&&(Ei||Pr(bt)||Jt===3||Ut._isSync&&Jt===2);Hi(Le,bt,dt);){var xi=Le.shift();xi&&xi.count()>0&&(fi.isTenantKilled(xi.iKey())?et.push(xi):(Ke=Ke||bi.createPayload(dt,ot,ai,si,It,bt),bi.appendPayload(Ke,xi,nt)?Ke.overflow!==null&&(Le=[Ke.overflow].concat(Le),Ke.overflow=null,yr(Ke,St,(0,u.hK)(),It),St=(0,u.hK)(),Ke=null):(yr(Ke,St,(0,u.hK)(),It),St=(0,u.hK)(),Le=[xi].concat(Le),Ke=null)))}Ke&&yr(Ke,St,(0,u.hK)(),It),Le.length>0&&(Zt=Le.concat(Zt)),or(et,8004,bt)},function(){return{batches:Hn(ni),retryCount:dt,isTeardown:ot,isSynchronous:ai,sendReason:It,useSendBeacon:Pr(bt),sendType:bt}},!ai)}catch(Ge){(0,v.kP)(Mi,2,48,"Unexpected Exception sending batch: "+(0,f.eU)(Ge))}}}function $i(Le,dt){var ot={url:Mt,hdrs:{},useHdrs:!1};dt?(ot.hdrs=(0,u.l7)(ot.hdrs,Ti),ot.useHdrs=(0,c.FY)(ot.hdrs).length>0):(0,c.rW)(Ti,function(Ge,et){Be[Ge]?zt(ot,Be[Ge],et,!1):(ot.hdrs[Ge]=et,ot.useHdrs=!0)}),zt(ot,g,"NO_AUTH",dt),zt(ot,o,u.vs,dt);var bt=y;(0,c.tO)(Le.apiKeys,function(Ge){bt.length>0&&(bt+=","),bt+=Ge}),zt(ot,F,bt,dt),zt(ot,x,(0,c.m6)().toString(),dt);var It=Gn(Le);if((0,u.Sn)(It)&&(ot.url+="&ext.intweb.msfpc="+It),yi.shouldAddClockSkewHeaders()&&zt(ot,N,yi.getClockSkewHeaderValue(),dt),Lt.getWParam){var ni=Lt.getWParam();ni>=0&&(ot.url+="&w="+ni)}for(var ai=0;ai<ci.length;ai++)ot.url+="&"+ci[ai].name+"="+ci[ai].value;return ot}function sr(Le,dt,ot){Le[dt]=Le[dt]||{},Le[dt][Ii.identifier]=ot}function yr(Le,dt,ot,bt){if(Le&&Le.payloadBlob&&Le.payloadBlob.length>0){var It=!!mi.sendHook,ni=Ni[Le.sendType];!Pr(Le.sendType)&&Le.isBeacon&&Le.sendReason===2&&(ni=Ni[2]||Ni[3]||ni);var ai=Xi;(Le.isBeacon||ni._transport===3)&&(ai=!1);var Ge=$i(Le,ai);ai=ai||Ge.useHdrs;var et=(0,u.hK)();(0,E.Lm)(Lt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ke=0;Ke<Le.batches.length;Ke++)for(var St=Le.batches[Ke],Ut=St.events(),Jt=0;Jt<Ut.length;Jt++){var si=Ut[Jt];if(Pi){var xi=si.timings=si.timings||{};sr(xi,"sendEventStart",et),sr(xi,"serializationStart",dt),sr(xi,"serializationCompleted",ot)}si[Me]>0?si[Me]++:si[Me]=1}or(Le.batches,1e3+(bt||0),Le.sendType,!0);var Ri={data:Le.payloadBlob,urlString:Ge.url,headers:Ge.hdrs,_thePayload:Le,_sendReason:bt,timeout:_r,disableXhrSync:Gi,disableFetchKeepAlive:cr};ai&&(ct(Ri.headers,ne)||(Ri.headers[ne]=K),ct(Ri.headers,ce)||(Ri.headers[ce]=ae));var Vr=null;ni&&(Vr=function(fn){yi.firstRequestSent();var pi=function(Gr,Qr){Vn(Gr,Qr,Le,bt)},Or=Le.isTeardown||Le.isSync;try{ni.sendPOST(fn,pi,Or),mi.sendListener&&mi.sendListener(Ri,fn,Or,Le.isBeacon)}catch(Gr){(0,v.jV)(Mi,"Unexpected exception sending payload. Ex:"+(0,f.eU)(Gr)),wi(pi,0,{})}}),(0,E.Lm)(Lt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Vr)if(Le.sendType===0&&Li++,It&&!Le.isBeacon&&ni._transport!==3){var fn={data:Ri.data,urlString:Ri.urlString,headers:(0,u.l7)({},Ri.headers),timeout:Ri.timeout,disableXhrSync:Ri.disableXhrSync,disableFetchKeepAlive:Ri.disableFetchKeepAlive},pi=!1;(0,E.Lm)(Lt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{mi.sendHook(fn,function(Or){pi=!0,!Qt&&!Or._thePayload&&(Or._thePayload=Or._thePayload||Ri._thePayload,Or._sendReason=Or._sendReason||Ri._sendReason),Vr(Or)},Le.isSync||Le.isTeardown)}catch(Or){pi||Vr(Ri)}})}else Vr(Ri)})},function(){return{thePayload:Le,serializationStart:dt,serializationCompleted:ot,sendReason:bt}},Le.isSync)}Le.sizeExceed&&Le.sizeExceed.length>0&&or(Le.sizeExceed,8003,Le.sendType),Le.failedEvts&&Le.failedEvts.length>0&&or(Le.failedEvts,8002,Le.sendType)}function Ht(Le,dt){Pi&&(0,c.tO)(Le,function(ot){var bt=ot.timings=ot.timings||{};sr(bt,"sendEventCompleted",dt)})}function Vn(Le,dt,ot,bt){var It=9e3,ni=null,ai=!1,Ge=!1;try{var et=!0;if(typeof Le!==B.jA){if(dt){yi.setClockSkew(dt[C]);var Ke=dt[I]||dt["kill-duration-seconds"];(0,c.tO)(fi.setKillSwitchTenants(dt[re],Ke),function(Ut){(0,c.tO)(ot.batches,function(Jt){if(Jt.iKey()===Ut){ni=ni||[];var si=Jt.split(0);ot.numEvents-=si.count(),ni.push(si)}})})}if(Le==200||Le==204){It=200;return}(!Pe(Le)||ot.numEvents<=0)&&(et=!1),It=9e3+Le%1e3}if(et){It=100;var St=ot.retryCnt;ot.sendType===0&&(St<at?(ai=!0,aa(function(){ot.sendType===0&&Li--,Nn(ot.batches,St+1,ot.isTeardown,Ei?2:ot.sendType,5)},Ei,Oe(St))):(Ge=!0,Ei&&(It=8001)))}}finally{ai||(yi.setClockSkew(),Kr(ot,It,bt,Ge)),or(ni,8004,ot.sendType)}}function Kr(Le,dt,ot,bt){try{bt&&Ii._backOffTransmission(),dt===200&&(!bt&&!Le.isSync&&Ii._clearBackOff(),Ba(Le.batches)),or(Le.batches,dt,Le.sendType,!0)}finally{Le.sendType===0&&(Li--,ot!==5&&mi.sendQueuedRequests(Le.sendType,ot))}}function Ba(Le){if(Pi){var dt=(0,u.hK)();(0,c.tO)(Le,function(ot){ot&&ot.count()>0&&Ht(ot.events(),dt)})}}function aa(Le,dt,ot){dt?Le():Kt.set(Le,ot)}function hr(Le){var dt={};if((0,c.HD)(Le)){var ot=(0,c.nd)(Le).split(/[\r\n]+/);(0,c.tO)(ot,function(bt){if(bt){var It=bt.indexOf(": ");if(It!==-1){var ni=(0,c.nd)(bt.substring(0,It)).toLowerCase(),ai=(0,c.nd)(bt.substring(It+1));dt[ni]=ai}else dt[(0,c.nd)(bt)]=1}})}return dt}function Gn(Le){for(var dt=0;dt<Le.batches.length;dt++){var ot=Le.batches[dt].Msfpc();if(ot)return encodeURIComponent(ot)}return y}function sa(Le){var dt=mi._responseHandlers;try{for(var ot=0;ot<dt.length;ot++)try{dt[ot](Le)}catch(It){(0,v.kP)(Mi,1,519,"Response handler failed: "+It)}if(Le){var bt=JSON.parse(Le);(0,u.Sn)(bt.webResult)&&(0,u.Sn)(bt.webResult[ee])&&Wi.set("MSFPC",bt.webResult[ee],365*86400)}}catch(It){}}function or(Le,dt,ot,bt){if(Le&&Le.length>0&&ei){var It=ei[nn(dt)];if(It){var ni=ot!==0;(0,E.Lm)(Lt,function(){return"HttpManager:_sendBatchesNotification"},function(){aa(function(){try{It.call(ei,Le,dt,ni,ot)}catch(ai){(0,v.kP)(Mi,1,74,"send request notification failed: "+ai)}},bt||ni,0)},function(){return{batches:Hn(Le),reason:dt,isSync:ni,sendSync:bt,sendType:ot}},!ni)}}}function nn(Le){var dt=xt[Le];return(0,u.Sn)(dt)||(dt=Y,Le>=9e3&&Le<=9999?dt=V:Le>=8e3&&Le<=8999?dt=L:Le>=1e3&&Le<=1999&&(dt=H)),dt}})}return Ct.__ieDyn=1,Ct}();function Si(Ct,nt){for(var mt=[],at=2;at<arguments.length;at++)mt[at-2]=arguments[at];return setTimeout(Ct,nt,mt)}function kt(Ct){clearTimeout(Ct)}function Ot(Ct,nt){return{set:Ct||Si,clear:nt||kt}}var dr=.25,Bt=500,qt=20,Mr=6,_t=2,Vt=4,Hr=2,Te=1,Ve="eventsDiscarded",vt="overrideInstrumentationKey",Xe="maxEventRetryAttempts",rt="maxUnloadEventRetryAttempts",Wt="addUnloadCb",yt=function(Ct){(0,S.ne)(nt,Ct);function nt(){var mt=Ct.call(this)||this;mt.identifier="PostChannel",mt.priority=1011,mt.version="3.2.9";var at,ei=!1,Kt=[],Mt=null,fi=!1,ti=0,yi=500,gi=0,Li=1e4,Ii={},Mi=h,Ni=null,Lt=null,Qt=0,ci=0,Ti,Zt,bi={},Pi,Wi,Ei=-1,Xi,_r=!0,Gi=!1,cr=Mr,nr=_t,Ji,mi;return(0,M.Z)(nt,mt,function(Xt,gr){kr(),Xt._getDbgPlgTargets=function(){return[Zt]},Xt.initialize=function(Ge,et,Ke){(0,E.Lm)(et,function(){return"PostChannel:initialize"},function(){var St=et;gr.initialize(Ge,et,Ke);try{var Ut=!!et[Wt];Ji=(0,_.jU)((0,l.J)(Xt.identifier),et.evtNamespace&&et.evtNamespace());var Jt=Xt._getTelCtx();Ge.extensionConfig[Xt.identifier]=Ge.extensionConfig[Xt.identifier]||{},at=Jt.getExtCfg(Xt.identifier),mi=Ot(at.setTimeoutOverride,at.clearTimeoutOverride),_r=!at.disableOptimizeObj&&(0,u.mJ)(),Wr(St),at.eventsLimitInMem>0&&(Li=at.eventsLimitInMem),at.immediateEventLimit>0&&(yi=at.immediateEventLimit),at.autoFlushEventsLimit>0&&(Pi=at.autoFlushEventsLimit),(0,c.hj)(at[Xe])&&(cr=at[Xe]),(0,c.hj)(at[rt])&&(nr=at[rt]),ai(),at.httpXHROverride&&at.httpXHROverride.sendPOST&&(Ti=at.httpXHROverride),(0,u.Sn)(Ge.anonCookieName)&&Zt.addQueryStringParameter("anoncknm",Ge.anonCookieName),Zt.sendHook=at.payloadPreprocessor,Zt.sendListener=at.payloadListener;var si=at.overrideEndpointUrl?at.overrideEndpointUrl:Ge.endpointUrl;Xt._notificationManager=et.getNotifyMgr(),Zt.initialize(si,Xt.core,Xt,Ti,at);var xi=Ge.disablePageUnloadEvents||[];(0,_.c9)(_i,xi,Ji),(0,_.TJ)(_i,xi,Ji),(0,_.nD)(fr,Ge.disablePageShowEvents,Ji)}catch(Ri){throw Xt.setInitialized(!1),Ri}},function(){return{coreConfig:Ge,core:et,extensions:Ke}})},Xt.processTelemetry=function(Ge,et){(0,u.if)(Ge,Xt.identifier),et=Xt._getTelCtx(et);var Ke=et.getExtCfg(Xt.identifier),St=!!at.disableTelemetry;Ke&&(St=St||!!Ke.disableTelemetry);var Ut=Ge;!St&&!ei&&(at[vt]&&(Ut.iKey=at[vt]),Ke&&Ke[vt]&&(Ut.iKey=Ke[vt]),wi(Ut,!0),Gi?Hn(2,2):ar()),Xt.processNext(Ut,et)},Xt._doTeardown=function(Ge,et){Hn(2,2),ei=!0,Zt.teardown(),(0,_.JA)(null,Ji),(0,_.C9)(null,Ji),(0,_.Yl)(null,Ji),kr()};function Wr(Ge){var et=Ge.getWParam;Ge.getWParam=function(){var Ke=0;return at.ignoreMc1Ms0CookieProcessing&&(Ke=Ke|2),Ke|et()}}function _i(Ge){var et=Ge||(0,f.Jj)().event;et.type!=="beforeunload"&&(Gi=!0,Zt.setUnloading(Gi)),Hn(2,2)}function fr(Ge){Gi=!1,Zt.setUnloading(Gi)}function wi(Ge,et){if(Ge.sendAttempt||(Ge.sendAttempt=0),Ge.latency||(Ge.latency=1),Ge.ext&&Ge.ext[xe]&&delete Ge.ext[xe],Ge.ext&&Ge.ext[ye]&&Ge.ext[ye].id&&delete Ge.ext[ye].id,_r&&(u.if,Ge.ext=(0,c.Ax)(Ge.ext),Ge.baseData&&(Ge.baseData=(0,c.Ax)(Ge.baseData)),Ge.data&&(Ge.data=(0,c.Ax)(Ge.data))),Ge.sync){if(Qt||fi)Ge.latency=3,Ge.sync=!1;else if(Zt){_r&&(Ge=(0,c.Ax)(Ge)),Zt.sendSynchronousBatch(J.create(Ge.iKey,[Ge]),Ge.sync===!0?1:Ge.sync,3);return}}var Ke=Ge.latency,St=gi,Ut=Li;Ke===4&&(St=ti,Ut=yi);var Jt=!1;if(St<Ut)Jt=!yr(Ge,et);else{var si=1,xi=qt;Ke===4&&(si=4,xi=1),Jt=!0,Ht(Ge.iKey,Ge.latency,si,xi)&&(Jt=!yr(Ge,et))}Jt&&nn(Ve,[Ge],w.h.QueueFull)}Xt.setEventQueueLimits=function(Ge,et){Li=Ge>0?Ge:1e4,Pi=et>0?et:0,ai();var Ke=gi>Ge;if(!Ke&&Wi>0)for(var St=1;!Ke&&St<=3;St++){var Ut=bi[St];Ut&&Ut.batches&&(0,c.tO)(Ut.batches,function(Jt){Jt&&Jt.count()>=Wi&&(Ke=!0)})}sr(!0,Ke)},Xt.pause=function(){Hi(),fi=!0,Zt.pause()},Xt.resume=function(){fi=!1,Zt.resume(),ar()},Xt.addResponseHandler=function(Ge){Zt._responseHandlers.push(Ge)},Xt._loadTransmitProfiles=function(Ge){hr(),(0,c.rW)(Ge,function(et,Ke){var St=Ke.length;if(St>=2){var Ut=St>2?Ke[2]:0;if(Ke.splice(0,St-2),Ke[1]<0&&(Ke[0]=-1),Ke[1]>0&&Ke[0]>0){var Jt=Ke[0]/Ke[1];Ke[0]=Math.ceil(Jt)*Ke[1]}Ut>=0&&Ke[1]>=0&&Ut>Ke[1]&&(Ut=Ke[1]),Ke.push(Ut),Ii[et]=Ke}})},Xt.flush=function(Ge,et,Ke){if(Ge===void 0&&(Ge=!0),!fi)if(Ke=Ke||1,Ge)Mt==null?(Hi(),Kr(1,0,Ke),Mt=en(function(){Mt=null,Ba(et,Ke)},0)):Kt.push(et);else{var St=Hi();br(1,1,Ke),et!=null&&et(),St&&ar()}},Xt.setMsaAuthTicket=function(Ge){Zt.addHeader(A,Ge)},Xt.hasEvents=Pr,Xt._setTransmitProfile=function(Ge){Mi!==Ge&&Ii[Ge]!==void 0&&(Hi(),Mi=Ge,ar())};function br(Ge,et,Ke){var St=Kr(Ge,et,Ke);return Zt.sendQueuedRequests(et,Ke),St}function Pr(){return gi>0}function ar(){if(Ei>=0&&Kr(Ei,0,Xi)&&Zt.sendQueuedRequests(0,Xi),ti>0&&!Lt&&!fi){var Ge=Ii[Mi][2];Ge>=0&&(Lt=en(function(){Lt=null,br(4,0,1),ar()},Ge))}var et=Ii[Mi][1];!Ni&&!Mt&&et>=0&&!fi&&(Pr()?Ni=en(function(){Ni=null,br(ci===0?3:1,0,1),ci++,ci%=2,ar()},et):ci=0)}Xt._backOffTransmission=function(){Qt<Vt&&(Qt++,Hi(),ar())},Xt._clearBackOff=function(){Qt&&(Qt=0,Hi(),ar())};function kr(){at=null,ei=!1,Kt=[],Mt=null,fi=!1,ti=0,yi=500,gi=0,Li=1e4,Ii={},Mi=h,Ni=null,Lt=null,Qt=0,ci=0,Ti=null,bi={},Pi=void 0,Wi=0,Ei=-1,Xi=null,_r=!0,Gi=!1,cr=Mr,nr=_t,Ji=null,mi=Ot(),Zt=new wt(Bt,Hr,Te,{requeue:sa,send:dt,sent:ot,drop:bt,rspFail:It,oth:ni},mi),Gn(),Nn(),ai()}function en(Ge,et){et===0&&Qt&&(et=1);var Ke=1e3;return Qt&&(Ke=Oe(Qt-1)),mi.set(Ge,et*Ke)}function Hi(){return Ni!==null?(mi.clear(Ni),Ni=null,ci=0,!0):!1}function Hn(Ge,et){Hi(),Mt&&(mi.clear(Mt),Mt=null),fi||br(1,Ge,et)}function Nn(){bi[4]={batches:[],iKeyMap:{}},bi[3]={batches:[],iKeyMap:{}},bi[2]={batches:[],iKeyMap:{}},bi[1]={batches:[],iKeyMap:{}}}function $i(Ge,et,Ke){var St=bi[et];St||(et=1,St=bi[et]);var Ut=St.iKeyMap[Ge];return!Ut&&Ke&&(Ut=J.create(Ge),St.batches.push(Ut),St.iKeyMap[Ge]=Ut),Ut}function sr(Ge,et){Zt.canSendRequest()&&!Qt&&(Pi>0&&gi>Pi&&(et=!0),et&&Mt==null&&Xt.flush(Ge,null,20))}function yr(Ge,et){_r&&(Ge=(0,c.Ax)(Ge));var Ke=Ge.latency,St=$i(Ge.iKey,Ke,!0);return St.addEvent(Ge)?(Ke!==4?(gi++,et&&Ge.sendAttempt===0&&sr(!Ge.sync,Wi>0&&St.count()>=Wi)):ti++,!0):!1}function Ht(Ge,et,Ke,St){for(;Ke<=et;){var Ut=$i(Ge,et,!0);if(Ut&&Ut.count()>0){var Jt=Ut.split(0,St),si=Jt.count();if(si>0)return Ke===4?ti-=si:gi-=si,Le(Ve,[Jt],w.h.QueueFull),!0}Ke++}return Vn(),!1}function Vn(){for(var Ge=0,et=0,Ke=function(Ut){var Jt=bi[Ut];Jt&&Jt.batches&&(0,c.tO)(Jt.batches,function(si){Ut===4?Ge+=si.count():et+=si.count()})},St=1;St<=4;St++)Ke(St);gi=et,ti=Ge}function Kr(Ge,et,Ke){var St=!1,Ut=et===0;return!Ut||Zt.canSendRequest()?(0,E.Lm)(Xt.core,function(){return"PostChannel._queueBatches"},function(){for(var Jt=[],si=4;si>=Ge;){var xi=bi[si];xi&&xi.batches&&xi.batches.length>0&&((0,c.tO)(xi.batches,function(Ri){Zt.addBatch(Ri)?St=St||Ri&&Ri.count()>0:Jt=Jt.concat(Ri.events()),si===4?ti-=Ri.count():gi-=Ri.count()}),xi.batches=[],xi.iKeyMap={}),si--}Jt.length>0&&nn(Ve,Jt,w.h.KillSwitch),St&&Ei>=Ge&&(Ei=-1,Xi=0)},function(){return{latency:Ge,sendType:et,sendReason:Ke}},!Ut):(Ei=Ei>=0?Math.min(Ei,Ge):Ge,Xi=Math.max(Xi,Ke)),St}function Ba(Ge,et){br(1,0,et),Vn(),aa(function(){Ge&&Ge(),Kt.length>0?Mt=en(function(){Mt=null,Ba(Kt.shift(),et)},0):(Mt=null,ar())})}function aa(Ge){Zt.isCompletelyIdle()?Ge():Mt=en(function(){Mt=null,aa(Ge)},dr)}function hr(){Hi(),Gn(),Mi=h,ar()}function Gn(){Ii={},Ii[h]=[2,1,0],Ii[p]=[6,3,0],Ii[b]=[18,9,0]}function sa(Ge,et){var Ke=[],St=cr;Gi&&(St=nr),(0,c.tO)(Ge,function(Ut){Ut&&Ut.count()>0&&(0,c.tO)(Ut.events(),function(Jt){Jt&&(Jt.sync&&(Jt.latency=4,Jt.sync=!1),Jt.sendAttempt<St?((0,u.if)(Jt,Xt.identifier),wi(Jt,!1)):Ke.push(Jt))})}),Ke.length>0&&nn(Ve,Ke,w.h.NonRetryableStatus),Gi&&Hn(2,2)}function or(Ge,et){var Ke=Xt._notificationManager||{},St=Ke[Ge];if(St)try{St.apply(Ke,et)}catch(Ut){(0,v.kP)(Xt.diagLog(),1,74,Ge+" notification failed: "+Ut)}}function nn(Ge,et){for(var Ke=[],St=2;St<arguments.length;St++)Ke[St-2]=arguments[St];et&&et.length>0&&or(Ge,[et].concat(Ke))}function Le(Ge,et){for(var Ke=[],St=2;St<arguments.length;St++)Ke[St-2]=arguments[St];et&&et.length>0&&(0,c.tO)(et,function(Ut){Ut&&Ut.count()>0&&or(Ge,[Ut.events()].concat(Ke))})}function dt(Ge,et,Ke){Ge&&Ge.length>0&&or("eventsSendRequest",[et>=1e3&&et<=1999?et-1e3:0,Ke!==!0])}function ot(Ge,et){Le("eventsSent",Ge,et),ar()}function bt(Ge,et){Le(Ve,Ge,et>=8e3&&et<=8999?et-8e3:w.h.Unknown)}function It(Ge){Le(Ve,Ge,w.h.NonRetryableStatus),ar()}function ni(Ge,et){Le(Ve,Ge,w.h.Unknown),ar()}function ai(){!at||!at.disableAutoBatchFlushLimit?Wi=Math.max(Bt*(Hr+1),Li/6):Wi=0}(0,c.l_)(Xt,"_setTimeoutOverride",function(){return mi.set},function(Ge){mi=Ot(Ge,mi.clear)}),(0,c.l_)(Xt,"_clearTimeoutOverride",function(){return mi.clear},function(Ge){mi=Ot(mi.set,Ge)})}),mt}return nt.__ieDyn=1,nt}(d.i);const Et=yt},50951:(s,Q,R)=>{"use strict";R.d(Q,{By:()=>M,cc:()=>_});var S=R(24869);function M(l){var u={};return(0,S.rW)(l,function(c,f){u[c]=f,u[f]=c}),(0,S._A)(u)}function E(l){var u={};return objForEachKey(l,function(c,f){u[c]=c,u[f]=c}),deepFreeze(u)}function _(l){var u={};return(0,S.rW)(l,function(c,f){u[c]=f[1],u[f[0]]=f[1]}),(0,S._A)(u)}},28452:(s,Q,R)=>{"use strict";R.d(Q,{h:()=>M});var S=R(50951),M=(0,S.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},67309:(s,Q,R)=>{"use strict";R.d(Q,{X:()=>L,v:()=>H});var S=R(50951),M,E="Failed",_=E+"MonitorAjax",l="Track",u="Start",c="Stop",f="Event",w="AuthContext",v="Exception",d="Local",h="Session",p="Storage",b="Browser",y="Cannot",D="Buffer",P="InstrumentationKey",L=(0,S.By)({CRITICAL:1,WARNING:2}),H=(0,S.By)((M={},M[b+"DoesNotSupport"+d+p]=0,M[b+y+"Read"+d+p]=1,M[b+y+"Read"+h+p]=2,M[b+y+"Write"+d+p]=3,M[b+y+"Write"+h+p]=4,M[b+E+"RemovalFrom"+d+p]=5,M[b+E+"RemovalFrom"+h+p]=6,M[y+"SendEmptyTelemetry"]=7,M.ClientPerformanceMathError=8,M["ErrorParsingAI"+h+"Cookie"]=9,M.ErrorPVCalc=10,M[v+"WhileLoggingError"]=11,M[E+"AddingTelemetryTo"+D]=12,M[_+"Abort"]=13,M[_+"Dur"]=14,M[_+"Open"]=15,M[_+"RSC"]=16,M[_+"Send"]=17,M[_+"GetCorrelationHeader"]=18,M[E+"ToAddHandlerForOnBeforeUnload"]=19,M[E+"ToSendQueuedTelemetry"]=20,M[E+"ToReportDataLoss"]=21,M["Flush"+E]=22,M.MessageLimitPerPVExceeded=23,M.MissingRequiredFieldSpecification=24,M.NavigationTimingNotSupported=25,M.OnError=26,M[h+"RenewalDateIsZero"]=27,M.SenderNotInitialized=28,M[u+l+f+E]=29,M[c+l+f+E]=30,M[u+l+E]=31,M[c+l+E]=32,M.TelemetrySampledAndNotSent=33,M[l+f+E]=34,M[l+v+E]=35,M[l+"Metric"+E]=36,M[l+"PV"+E]=37,M[l+"PV"+E+"Calc"]=38,M[l+"Trace"+E]=39,M["Transmission"+E]=40,M[E+"ToSet"+p+D]=41,M[E+"ToRestore"+p+D]=42,M.InvalidBackendResponse=43,M[E+"ToFixDepricatedValues"]=44,M.InvalidDurationValue=45,M.TelemetryEnvelopeInvalid=46,M.CreateEnvelopeError=47,M[y+"SerializeObject"]=48,M[y+"SerializeObjectNonSerializable"]=49,M.CircularReferenceDetected=50,M["Clear"+w+E]=51,M[v+"Truncated"]=52,M.IllegalCharsInName=53,M.ItemNotInArray=54,M.MaxAjaxPerPVExceeded=55,M.MessageTruncated=56,M.NameTooLong=57,M.SampleRateOutOfRange=58,M["Set"+w+E]=59,M["Set"+w+E+"AccountName"]=60,M.StringValueTooLong=61,M.StartCalledMoreThanOnce=62,M.StopCalledWithoutStart=63,M["TelemetryInitializer"+E]=64,M.TrackArgumentsNotSpecified=65,M.UrlTooLong=66,M[h+p+D+"Full"]=67,M[y+"AccessCookie"]=68,M.IdTooLong=69,M.InvalidEvent=70,M[_+"SetRequestHeader"]=71,M["Send"+b+"InfoOnUserInit"]=72,M["Plugin"+v]=73,M["Notification"+v]=74,M.SnippetScriptLoadFailure=99,M["Invalid"+P]=100,M[y+"ParseAiBlobValue"]=101,M.InvalidContentBlob=102,M[l+"PageAction"+f+E]=103,M[E+"AddingCustomDefinedRequestContext"]=104,M["InMemory"+p+D+"Full"]=105,M[P+"Deprecation"]=106,M))},19903:(s,Q,R)=>{"use strict";R.d(Q,{F:()=>v});var S=R(27421),M=R(29141),E=R(98145),_=R(95779),l=R(29339),u=R(24869),c=R(96335),f=R(6138),w=R(81782),v=function(d){(0,S.ne)(h,d);function h(){var p=d.call(this)||this;return(0,M.Z)(h,p,function(b,y){b[E.VL]=function(L,H,j,V){y[E.VL](L,H,j||new l.AQ(L),V||new f.f(L))},b.track=function(L){(0,w.Lm)(b[c.kl](),function(){return"AppInsightsCore:track"},function(){L===null&&(P(L),(0,u._y)("Invalid telemetry item")),D(L),y.track(L)},function(){return{item:L}},!L.sync)};function D(L){(0,u.le)(L[E.I])&&(P(L),(0,u._y)("telemetry name required"))}function P(L){var H=b[E.tb]();H&&H[c.$F]([L],2)}}),p}return h.__ieDyn=1,h}(_.A)},95779:(s,Q,R)=>{"use strict";R.d(Q,{A:()=>g});var S=R(27421),M=R(29141),E=R(30175),_=R(98145),l=R(24869),u=R(96335),c=R(31030),f=R(69031),w=500,v="Channel has invalid priority - ";function d(N,x,F){x&&(0,l.kJ)(x)&&x[_.R5]>0&&(x=x.sort(function(A,$){return A[u.yi]-$[u.yi]}),(0,l.tO)(x,function(A){A[u.yi]<w&&(0,l._y)(v+A[_.pZ])}),N[_.MW]({queue:(0,l.FL)(x),chain:(0,c.jV)(x,F[_.TC],F)}))}function h(N,x){function F(){return(0,c.CD)(null,x[_.TC],x,null)}function A(ye,Re,Ee,J){var te=ye?ye[_.R5]+1:1;function me(){te--,te===0&&(J&&J(),J=null)}te>0&&(0,l.tO)(ye,function(fe){if(fe&&fe.queue[_.R5]>0){var _e=fe.chain,q=Re[_.zV](_e);q[_.Fc](me),Ee(q)}else te--}),me()}function $(ye,Re){var Ee=Re||{reason:0};return A(N,ye,function(J){J[_.uL](Ee)},function(){ye[_.uL](Ee)}),!0}function z(ye,Re){var Ee=Re||{reason:0,isAsync:!1};return A(N,ye,function(J){J[_.uL](Ee)},function(){ye[_.uL](Ee),ee=!1}),!0}function T(ye){var Re=null;return N&&N[_.R5]>0&&(0,l.tO)(N,function(Ee){if(Ee&&Ee.queue[_.R5]>0&&((0,l.tO)(Ee.queue,function(J){if(J[_.pZ]===ye)return Re=J,-1}),Re))return-1}),Re}var ee=!1,xe={identifier:"ChannelControllerPlugin",priority:w,initialize:function(ye,Re,Ee,J){ee=!0,(0,l.tO)(N,function(te){te&&te.queue[_.R5]>0&&(0,f.bP)((0,c.CD)(te.chain,ye,Re),Ee)})},isInitialized:function(){return ee},processTelemetry:function(ye,Re){A(N,Re||F(),function(Ee){Ee[_.uL](ye)},function(){Re[_.uL](ye)})},update:$,pause:function(){A(N,F(),function(ye){ye.iterate(function(Re){Re.pause&&Re.pause()})},null)},resume:function(){A(N,F(),function(ye){ye.iterate(function(Re){Re.resume&&Re.resume()})},null)},teardown:z,getChannel:T,flush:function(ye,Re,Ee,J){var te=1,me=!1,fe=null;J=J||5e3;function _e(){te--,me&&te===0&&(fe&&(clearTimeout(fe),fe=null),Re&&Re(me),Re=null)}return A(N,F(),function(q){q.iterate(function(B){if(B[_.kL]){te++;var se=!1;B[_.kL](ye,function(){se=!0,_e()},Ee)||se||(ye&&fe==null?fe=setTimeout(function(){fe=null,_e()},J):_e())}})},function(){me=!0,_e()}),!0},_setQueue:function(ye){N=ye}};return xe}function p(N,x,F){var A=[];if(N&&(0,l.tO)(N,function(z){return d(A,z,F)}),x){var $=[];(0,l.tO)(x,function(z){z[u.yi]>w&&$[_.MW](z)}),d(A,$,F)}return A}var b=R(88140),y=R(87624),D=R(28341),P=R(29339),L=R(81782),H=R(87951),j=R(49251),V=function(N){(0,S.ne)(x,N);function x(){var F=N.call(this)||this;F.identifier="TelemetryInitializerPlugin",F.priority=199;var A,$;z(),(0,M.Z)(x,F,function(T,ee){T.addTelemetryInitializer=function(xe){var ye={id:A++,fn:xe};$[_.MW](ye);var Re={remove:function(){(0,l.tO)($,function(Ee,J){if(Ee.id===ye.id)return $[_.cb](J,1),-1})}};return Re},T[u.hL]=function(xe,ye){for(var Re=!1,Ee=$[_.R5],J=0;J<Ee;++J){var te=$[J];if(te)try{if(te.fn[_.ZV](null,[xe])===!1){Re=!0;break}}catch(me){(0,P.kP)(ye[_.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,l.jj)(me),{exception:(0,j.eU)(me)},!0)}}Re||T[_.uL](xe,ye)},T[_.F3]=function(){z()}});function z(){A=0,$=[]}return F}return x.__ieDyn=1,x}(H.i),Y=R(38593),K="Plugins must provide initialize method",ae="_notificationManager",ne="SDK is still unloading...",ce="SDK is not initialized",re={loggingLevelConsole:1};function I(N,x){return new L.Jk(x)}function U(N,x,F){var A,$=[],z={};return(0,l.tO)(F,function(T){((0,l.le)(T)||(0,l.le)(T[_.VL]))&&(0,l._y)(K);var ee=T[u.yi],xe=T[_.pZ];T&&ee&&((0,l.le)(z[ee])?z[ee]=xe:(0,P.jV)(N,"Two extensions have same priority #"+ee+" - "+z[ee]+", "+xe)),(!ee||ee<x)&&$[_.MW](T)}),A={all:F},A[u.oV]=$,A}function C(N,x){var F=!1;return(0,l.tO)(x,function(A){if(A===N)return F=!0,-1}),F}function o(){var N;return(0,E.pu)((N={},N[_.g]=function(x){},N[_.n7]=function(x){},N[u.uC]=function(x){},N[u.$F]=function(x,F){},N[u.f_]=function(x,F){},N))}var g=function(){function N(){var x,F,A,$,z,T,ee,xe,ye,Re,Ee,J,te,me,fe,_e,q,B,se,we,ge=0;(0,M.Z)(N,this,function(pe){Pe(),pe[_.yl]=function(){return F},pe[_.VL]=function(Me,$e,xt,We){me&&(0,l._y)(ne),pe[_.yl]()&&(0,l._y)("Core should not be initialized more than once"),x=Me||{},pe[_.TC]=x,(0,l.le)(Me[_.p$])&&(0,l._y)("Please provide instrumentation key"),$=We,pe[ae]=We,W(),ie(),he(),xt&&(pe[_.eZ]=xt);var Be=(0,l.qK)(x,u.js,[]);ye=[],ye[_.MW].apply(ye,(0,S.$h)((0,S.$h)([],$e,!1),Be,!1)),J=(0,l.qK)(x,u.Z,[]),Ue(null),(!te||te[_.R5]===0)&&(0,l._y)("No "+u.Z+" available"),F=!0,pe.releaseQueue()},pe.getTransmissionControls=function(){var Me=[];return te&&(0,l.tO)(te,function($e){Me[_.MW]($e.queue)}),(0,l.FL)(Me)},pe.track=function(Me){Me.iKey=Me.iKey||x[_.p$],Me[_.Z_]=Me[_.Z_]||(0,l.Y6)(new Date),Me.ver=Me.ver||"4.0",!me&&pe[_.yl]()?Oe()[_.uL](Me):A[_.MW](Me)},pe[_.SD]=Oe,pe[_.tb]=function(){return $||($=o(),pe[ae]=$),$},pe[_.g]=function(Me){$&&$[_.g](Me)},pe[_.n7]=function(Me){$&&$[_.n7](Me)},pe.getCookieMgr=function(){return ee||(ee=(0,b.Nz)(x,pe[_.eZ])),ee},pe.setCookieMgr=function(Me){ee=Me},pe[u.kl]=function(){if(!z&&!T&&(0,l.v4)(x.enablePerfMgr)){var Me=(0,l.v4)(x[u.DN]);(0,l.mf)(Me)&&(T=Me(pe,pe[_.tb]()))}return z||T||(0,L.j5)()},pe.setPerfMgr=function(Me){z=Me},pe.eventCnt=function(){return A[_.R5]},pe.releaseQueue=function(){if(F&&A[_.R5]>0){var Me=A;A=[],(0,l.tO)(Me,function($e){Oe()[_.uL]($e)})}},pe.pollInternalLogs=function(Me){_e=Me||null;var $e=(0,l.v4)(x.diagnosticLogInterval);return(!$e||!($e>0))&&($e=1e4),ge&&clearInterval(ge),ge=setInterval(function(){lt()},$e),ge},pe[_.LS]=function(){ge&&(clearInterval(ge),ge=0,lt())},(0,l.Vb)(pe,function(){return fe},["addTelemetryInitializer"]),pe.unload=function(Me,$e,xt){var We;Me===void 0&&(Me=!0),F||(0,l._y)(ce),me&&(0,l._y)(ne);var Be=(We={reason:50},We[_.d]=Me,We.flushComplete=!1,We),st=(0,c.Bt)(je(),pe);st[_.Fc](function(){Pe(),$e&&$e(Be)},pe);function ut(ct){Be.flushComplete=ct,me=!0,B.run(st,Be),pe[_.LS](),st[_.uL](Be)}le(Me,ut,6,xt)||ut(!1)},pe[_.TO]=pt,pe.addPlugin=function(Me,$e,xt,We){if(!Me){We&&We(!1),He(K);return}var Be=pt(Me[_.pZ]);if(Be&&!$e){We&&We(!1),He("Plugin ["+Me[_.pZ]+"] is already loaded!");return}var st={reason:16};function ut(ft){ye[_.MW](Me),st.added=[Me],Ue(st),We&&We(!0)}if(Be){var ct=[Be.plugin],zt={reason:2,isAsync:!!xt};Je(ct,zt,function(ft){ft?(st.removed=ct,st.reason|=32,ut(!0)):We&&We(!1)})}else ut(!1)},pe.evtNamespace=function(){return q},pe[_.kL]=le,pe.getTraceCtx=function(Me){return we||(we=(0,f.Yn)()),we},pe.setTraceCtx=function(Me){we=Me||null},(0,l.Oi)(pe,"addUnloadCb",function(){return B},"add");function Pe(){F=!1,x=(0,l.mm)(!0,{},re),pe[_.TC]=x,pe[_.eZ]=new P.AQ(x),pe[_.iC]=[],fe=new V,A=[],$=null,z=null,T=null,ee=null,xe=null,Re=null,ye=[],Ee=null,J=null,te=null,me=!1,_e=null,q=(0,y.J)("AIBaseCore",!0),B=(0,Y.Y)(),we=null}function Oe(){return(0,c.CD)(je(),x,pe)}function Ue(Me){var $e=U(pe[_.eZ],w,ye);Re=$e[u.oV],xe=null;var xt=$e.all;if(te=(0,l.FL)(p(J,xt,pe)),Ee){var We=(0,l.UA)(xt,Ee);We!==-1&&xt[_.cb](We,1),We=(0,l.UA)(Re,Ee),We!==-1&&Re[_.cb](We,1),Ee._setQueue(te)}else Ee=h(te,pe);xt[_.MW](Ee),Re[_.MW](Ee),pe[_.iC]=(0,f.AA)(xt),Ee[_.VL](x,pe,xt),(0,f.bP)(Oe(),xt),pe[_.iC]=(0,l.FL)((0,f.AA)(Re||[])).slice(),Me&&Ce(Me)}function pt(Me){var $e,xt=null,We=null;return(0,l.tO)(pe[_.iC],function(Be){if(Be[_.pZ]===Me&&Be!==Ee&&Be!==fe)return We=Be,-1}),!We&&Ee&&(We=Ee.getChannel(Me)),We&&(xt=($e={plugin:We},$e[_.$h]=function(Be){(0,f.OY)(We)[u.mE]=!Be},$e.isEnabled=function(){var Be=(0,f.OY)(We);return!Be[_.fi]&&!Be[u.mE]},$e.remove=function(Be,st){var ut;Be===void 0&&(Be=!0);var ct=[We],zt=(ut={reason:1},ut[_.d]=Be,ut);Je(ct,zt,function(ft){ft&&Ue({reason:32,removed:ct}),st&&st(ft)})},$e)),xt}function je(){if(!xe){var Me=(Re||[]).slice();(0,l.UA)(Me,fe)===-1&&Me[_.MW](fe),xe=(0,c.jV)((0,f.AA)(Me),x,pe)}return xe}function Je(Me,$e,xt){if(Me&&Me[_.R5]>0){var We=(0,c.jV)(Me,x,pe),Be=(0,c.Bt)(We,pe);Be[_.Fc](function(){var st=!1,ut=[];(0,l.tO)(ye,function(zt,ft){C(zt,Me)?st=!0:ut[_.MW](zt)}),ye=ut;var ct=[];J&&((0,l.tO)(J,function(zt,ft){var wt=[];(0,l.tO)(zt,function(Si){C(Si,Me)?st=!0:wt[_.MW](Si)}),ct[_.MW](wt)}),J=ct),xt&&xt(st)}),Be[_.uL]($e)}else xt(!1)}function lt(){var Me=pe[_.eZ]?pe[_.eZ].queue:[];Me&&((0,l.tO)(Me,function($e){var xt,We=(xt={},xt[_.I]=_e||"InternalMessageId: "+$e[_.Gc],xt.iKey=(0,l.v4)(x[_.p$]),xt.time=(0,l.Y6)(new Date),xt.baseType=P.lQ.dataType,xt.baseData={message:$e[_.gU]},xt);pe.track(We)}),Me[_.R5]=0)}function le(Me,$e,xt,We){return Ee?Ee[_.kL](Me,$e,xt||6,We):($e&&$e(!1),!0)}function W(){var Me=(0,l.v4)(x.disableDbgExt);Me===!0&&se&&($[_.n7](se),se=null),$&&!se&&Me!==!0&&(se=(0,D.p)(x),$[_.g](se))}function ie(){var Me=(0,l.v4)(x.enablePerfMgr);!Me&&T&&(T=null),Me&&(0,l.qK)(x,u.DN,I)}function he(){var Me=(0,l.qK)(x,u.Zh,{});Me.NotificationManager=$}function Ce(Me){var $e=(0,c.xy)(je(),pe);(!pe._updateHook||pe._updateHook($e,Me)!==!0)&&$e[_.uL](Me)}function He(Me){var $e=pe[_.eZ];$e?(0,P.kP)($e,2,73,Me):(0,l._y)(Me)}})}return N.__ieDyn=1,N}()},87951:(s,Q,R)=>{"use strict";R.d(Q,{i:()=>f});var S=R(29141),M=R(98145),E=R(24869),_=R(96335),l=R(31030),u=R(38593),c="getPlugin",f=function(){function w(){var v=this,d,h,p,b,y;L(),(0,S.Z)(w,v,function(H){H[M.VL]=function(j,V,Y,K){P(j,V,K),d=!0},H[M.fi]=function(j,V){var Y,K=H[_.oV];if(!K||j&&K!==j[_.oV]())return;var ae,ne=!1,ce=j||(0,l.Bt)(null,K,p&&p[c]?p[c]():p),re=V||(Y={reason:0},Y[M.d]=!1,Y);function I(){if(!ne){ne=!0,b.run(ce,V);var U=y;y=[],(0,E.tO)(U,function(C){C.rm()}),ae===!0&&ce[M.uL](re),L()}}return!H[M.F3]||H[M.F3](ce,re,I)!==!0?I():ae=!0,ae},H[M.Tu]=function(j,V){var Y=H[_.oV];if(!Y||j&&Y!==j[_.oV]())return;var K,ae=!1,ne=j||(0,l.xy)(null,Y,p&&p[c]?p[c]():p),ce=V||{reason:0};function re(){ae||(ae=!0,P(ne.getCfg(),ne.core(),ne[M.W2]()))}return!H._doUpdate||H._doUpdate(ne,ce,re)!==!0?re():K=!0,K},H._addHook=function(j){j&&((0,E.kJ)(j)?y=y.concat(j):y[M.MW](j))},(0,E.Oi)(H,"_addUnloadCb",function(){return b},"add")}),v[M.mc]=function(H){return D(H)[M.mc]()},v[M.yl]=function(){return d},v.setInitialized=function(H){d=H},v[M.Jd]=function(H){p=H},v[M.uL]=function(H,j){j?j[M.uL](H):p&&(0,E.mf)(p[_.hL])&&p[_.hL](H,null)},v._getTelCtx=D;function D(H){H===void 0&&(H=null);var j=H;if(!j){var V=h||(0,l.CD)(null,{},v[_.oV]);p&&p[c]?j=V[M.zV](null,p[c]):j=V[M.zV](null,p)}return j}function P(H,j,V){H&&(0,E.sO)(H,_.Zh,[],null,E.le),!V&&j&&(V=j[M.SD]()[M.W2]());var Y=p;p&&p[c]&&(Y=p[c]()),v[_.oV]=j,h=(0,l.CD)(V,H,j,Y)}function L(){d=!1,v[_.oV]=null,h=null,p=null,y=[],b=(0,u.Y)()}}return w.__ieDyn=1,w}()},88140:(s,Q,R)=>{"use strict";R.d(Q,{JP:()=>ne,Nz:()=>ce,UY:()=>N,kj:()=>j,p7:()=>re});var S=R(98145),M=R(29339),E=R(49251),_=R(24869),l=R(96335),u="toGMTString",c="toUTCString",f="cookie",w="expires",v="enabled",d="isCookieUseDisabled",h="disableCookiesUsage",p="_ckMgr",b=null,y=null,D=null,P=(0,E.Me)(),L={},H={};function j(x,F){var A=ce[p]||H[p];return A||(A=ce[p]=ce(x,F),H[p]=A),A}function V(x){return x?x.isEnabled():!0}function Y(x){var F=x[S.Lk]=x[S.Lk]||{};if((0,_.sO)(F,"domain",x.cookieDomain,_.BX,_.le),(0,_.sO)(F,"path",x.cookiePath||"/",null,_.le),(0,_.le)(F[v])){var A=void 0;(0,_.o8)(x[d])||(A=!x[d]),(0,_.o8)(x[h])||(A=!x[h]),F[v]=A}return F}function K(x,F){return F&&x&&(0,_.kJ)(x.ignoreCookies)?x.ignoreCookies[S.ou](F)!==-1:!1}function ae(x,F){return F&&x&&(0,_.kJ)(x.blockedCookies)&&x.blockedCookies[S.ou](F)!==-1?!0:K(x,F)}function ne(x,F){var A;if(x)A=x.getCookieMgr();else if(F){var $=F[S.Lk];$[p]?A=$[p]:A=ce(F)}return A||(A=j(F,(x||{})[S.eZ])),A}function ce(x,F){var A,$=Y(x||H),z=$.path||"/",T=$.domain,ee=$[v]!==!1,xe=(A={isEnabled:function(){var ye=ee&&re(F),Re=H[p];return ye&&Re&&xe!==Re&&(ye=V(Re)),ye}},A[S.$h]=function(ye){ee=ye!==!1},A.set=function(ye,Re,Ee,J,te){var me=!1;if(V(xe)&&!ae($,ye)){var fe={},_e=(0,_.nd)(Re||l.qS),q=_e[S.ou](";");if(q!==-1&&(_e=(0,_.nd)(Re[S.zc](0,q)),fe=I(Re[S.zc](q+1))),(0,_.sO)(fe,"domain",J||T,_.fQ,_.o8),!(0,_.le)(Ee)){var B=(0,E.w1)();if((0,_.o8)(fe[w])){var se=(0,_.m6)(),we=se+Ee*1e3;if(we>0){var ge=new Date;ge.setTime(we),(0,_.sO)(fe,w,U(ge,B?u:c)||U(ge,B?u:c)||l.qS,_.fQ)}}B||(0,_.sO)(fe,"max-age",l.qS+Ee,null,_.o8)}var pe=(0,E.k$)();pe&&pe.protocol==="https:"&&((0,_.sO)(fe,"secure",null,null,_.o8),y===null&&(y=!N(((0,E.jW)()||{})[S.qV])),y&&(0,_.sO)(fe,"SameSite","None",null,_.o8)),(0,_.sO)(fe,"path",te||z,null,_.o8);var Pe=$.setCookie||g;Pe(ye,C(_e,fe)),me=!0}return me},A.get=function(ye){var Re=l.qS;return V(xe)&&!K($,ye)&&(Re=($.getCookie||o)(ye)),Re},A.del=function(ye,Re){var Ee=!1;return V(xe)&&(Ee=xe.purge(ye,Re)),Ee},A.purge=function(ye,Re){var Ee,J=!1;if(re(F)){var te=(Ee={},Ee.path=Re||"/",Ee[w]="Thu, 01 Jan 1970 00:00:01 GMT",Ee);(0,E.w1)()||(te["max-age"]="0");var me=$.delCookie||g;me(ye,C(l.qS,te)),J=!0}return J},A);return xe[p]=xe,xe}function re(x){if(b===null){b=!1;try{var F=P||{};b=F[f]!==void 0}catch(A){(0,M.kP)(x,2,68,"Cannot access document.cookie - "+(0,_.jj)(A),{exception:(0,E.eU)(A)})}}return b}function I(x){var F={};if(x&&x[S.R5]){var A=(0,_.nd)(x)[S.w6](";");(0,_.tO)(A,function($){if($=(0,_.nd)($||l.qS),$){var z=$[S.ou]("=");z===-1?F[$]=null:F[(0,_.nd)($[S.zc](0,z))]=(0,_.nd)($[S.zc](z+1))}})}return F}function U(x,F){return(0,_.mf)(x[F])?x[F]():null}function C(x,F){var A=x||l.qS;return(0,_.rW)(F,function($,z){A+="; "+$+((0,_.le)(z)?l.qS:"="+z)}),A}function o(x){var F=l.qS;if(P){var A=P[f]||l.qS;D!==A&&(L=I(A),D=A),F=(0,_.nd)(L[x]||l.qS)}return F}function g(x,F){P&&(P[f]=x+"="+F)}function N(x){return(0,_.HD)(x)?!!((0,_._Q)(x,"CPU iPhone OS 12")||(0,_._Q)(x,"iPad; CPU OS 12")||(0,_._Q)(x,"Macintosh; Intel Mac OS X 10_14")&&(0,_._Q)(x,"Version/")&&(0,_._Q)(x,"Safari")||(0,_._Q)(x,"Macintosh; Intel Mac OS X 10_14")&&(0,_.Id)(x,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,_._Q)(x,"Chrome/5")||(0,_._Q)(x,"Chrome/6")||(0,_._Q)(x,"UnrealEngine")&&!(0,_._Q)(x,"Chrome")||(0,_._Q)(x,"UCBrowser/12")||(0,_._Q)(x,"UCBrowser/11")):!1}},28956:(s,Q,R)=>{"use strict";R.d(Q,{DO:()=>y,GW:()=>h,Jj:()=>p,Tr:()=>D,d8:()=>K,ej:()=>Y,kT:()=>ae,oF:()=>j,vn:()=>V,zB:()=>L});var S=R(30175),M=R(98145),E=R(88140),_=R(49251),l=R(47954),u=R(24869),c=R(96335),f=R(19406),w=null,v,d=null;function h(){var ne=y();return ne[M.zc](0,8)+"-"+ne[M.zc](8,12)+"-"+ne[M.zc](12,16)+"-"+ne[M.zc](16,20)+"-"+ne[M.zc](20)}function p(){var ne=(0,_.r)();return ne&&ne.now?ne.now():(0,u.m6)()}function b(ne,ce){if(ne&&ce){var re=ne[_DYN_LENGTH],I=re-ce[_DYN_LENGTH];return ne[_DYN_SUBSTRING](I>=0?I:0,re)===ce}return!1}function y(){for(var ne=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ce=c.qS,re,I=0;I<4;I++)re=(0,f._l)(),ce+=ne[re&15]+ne[re>>4&15]+ne[re>>8&15]+ne[re>>12&15]+ne[re>>16&15]+ne[re>>20&15]+ne[re>>24&15]+ne[re>>28&15];var U=ne[8+((0,f._l)()&3)|0];return ce[M.Jn](0,8)+ce[M.Jn](9,4)+"4"+ce[M.Jn](13,3)+U+ce[M.Jn](16,3)+ce[M.Jn](19,12)}var D={_canUseCookies:void 0,isTypeof:u.Ym,isUndefined:u.o8,isNullOrUndefined:u.le,hasOwnProperty:u.nr,isFunction:u.mf,isObject:u.Kn,isDate:u.J_,isArray:u.kJ,isError:u.VZ,isString:u.HD,isNumber:u.hj,isBoolean:u.jn,toISOString:u.Y6,arrForEach:u.tO,arrIndexOf:u.UA,arrMap:u.Mr,arrReduce:u.Xz,strTrim:u.nd,objCreate:S.pu,objKeys:u.FY,objDefineAccessors:u.l_,addEventHandler:l.Ib,dateNow:u.m6,isIE:_.w1,disableCookies:j,newGuid:h,perfNow:p,newId:f.pZ,randomValue:f.az,random32:f._l,mwcRandomSeed:f.CN,mwcRandom32:f.F6,generateW3CId:y},P=/[xy]/g,L={Attach:l.pZ,AttachEvent:l.pZ,Detach:l.pD,DetachEvent:l.pD};function H(ne,ce){var re=(0,E.kj)(ne,ce),I=D._canUseCookies;return w===null&&(w=[],v=I,(0,u.l_)(D,"_canUseCookies",function(){return v},function(U){v=U,(0,u.tO)(w,function(C){C[M.$h](U)})})),(0,u.UA)(w,re)===-1&&w[M.MW](re),(0,u.jn)(I)&&re[M.$h](I),(0,u.jn)(v)&&re[M.$h](v),re}function j(){H()[M.$h](!1)}function V(ne){return H(null,ne).isEnabled()}function Y(ne,ce){return H(null,ne).get(ce)}function K(ne,ce,re,I){H(null,ne).set(ce,re,null,I)}function ae(ne,ce){return H(null,ne).del(ce)}},87624:(s,Q,R)=>{"use strict";R.d(Q,{J:()=>p,K:()=>b});var S=R(1550),M=R(98145),E=R(24869),_=R(96335),l=R(19406),u=S.RJ,c="2.8.10",f="."+(0,l.pZ)(6),w=0;function v(y,D,P){if(u)try{return u(y,D,{value:P,enumerable:!1,configurable:!0}),!0}catch(L){}return!1}function d(y){return y[M.xv]===1||y[M.xv]===9||!+y[M.xv]}function h(y,D){var P=D[y.id];if(!P){P={};try{d(D)&&(v(D,y.id,P)||(D[y.id]=P))}catch(L){}}return P}function p(y,D){return D===void 0&&(D=!1),(0,E.Gf)(y+w+++(D?"."+c:_.qS)+f)}function b(y){var D={id:p("_aiData-"+(y||_.qS)+"."+c),accept:function(P){return d(P)},get:function(P,L,H,j){var V=P[D.id];return V?V[(0,E.Gf)(L)]:(j&&(V=h(D,P),V[(0,E.Gf)(L)]=H),H)},kill:function(P,L){if(P&&P[L])try{delete P[L]}catch(H){}}};return D}},28341:(s,Q,R)=>{"use strict";R.d(Q,{j:()=>f,p:()=>w});var S=R(98145),M=R(49251),E=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],_=null,l;function u(v,d){return function(){var h=arguments,p=f(d);if(p){var b=p.listener;b&&b[v]&&b[v][S.ZV](b,h)}}}function c(){var v=(0,M.a8)("Microsoft");return v&&(_=v.ApplicationInsights),_}function f(v){var d=_;return!d&&v.disableDbgExt!==!0&&(d=_||c()),d?d.ChromeDbgExt:null}function w(v){if(!l){l={};for(var d=0;d<E[S.R5];d++)l[E[d]]=u(E[d],v)}return l}},29339:(s,Q,R)=>{"use strict";R.d(Q,{AQ:()=>b,L4:()=>L,jV:()=>P,kP:()=>D,lQ:()=>h,vH:()=>p});var S=R(29141),M=R(98145),E=R(28341),_=R(49251),l=R(24869),u=R(96335),c="AI (Internal): ",f="AI: ",w="AITR_";function v(H){return H?'"'+H[M.i7](/\"/g,u.qS)+'"':u.qS}function d(H,j){var V=(0,_.dr)();if(V){var Y="log";V[H]&&(Y=H),(0,l.mf)(V[Y])&&V[Y](j)}}var h=function(){function H(j,V,Y,K){Y===void 0&&(Y=!1);var ae=this;ae[M.Gc]=j,ae[M.gU]=(Y?f:c)+j;var ne=u.qS;(0,_.nS)()&&(ne=(0,_.xA)().stringify(K));var ce=(V?" message:"+v(V):u.qS)+(K?" props:"+v(ne):u.qS);ae[M.gU]+=ce}return H.dataType="MessageData",H}();function p(H,j){return(H||{})[M.eZ]||new b(j)}var b=function(){function H(j){this.identifier="DiagnosticLogger",this.queue=[];var V=0,Y={},K,ae,ne,ce;(0,S.Z)(H,this,function(re){U(j||{}),re.consoleLoggingLevel=function(){return K},re.telemetryLoggingLevel=function(){return ae},re.maxInternalMessageLimit=function(){return ne},re[M.Fr]=function(){return ce},re.throwInternal=function(g,N,x,F,A){A===void 0&&(A=!1);var $=new h(N,x,A,F);if(ce)throw(0,_.eU)($);var z=g===1?u.ys:u.cL;if((0,l.o8)($[M.gU]))o("throw"+(g===1?"Critical":"Warning"),$);else{if(A){var T=+$[M.Gc];!Y[T]&&K>=g&&(re[z]($[M.gU]),Y[T]=!0)}else K>=g&&re[z]($[M.gU]);I(g,$)}},re[u.cL]=function(g){d("warn",g),o("warning",g)},re[u.ys]=function(g){d("error",g),o("error",g)},re.resetInternalMessageCount=function(){V=0,Y={}},re[M.jk]=I;function I(g,N){if(!C()){var x=!0,F=w+N[M.Gc];if(Y[F]?x=!1:Y[F]=!0,x&&(g<=ae&&(re.queue[M.MW](N),V++,o(g===1?"error":"warn",N)),V===ne)){var A="Internal events throttle limit per PageView reached for this app.",$=new h(23,A,!1);re.queue[M.MW]($),g===1?re[u.ys](A):re[u.cL](A)}}}function U(g){K=(0,l.v4)(g.loggingLevelConsole,0),ae=(0,l.v4)(g.loggingLevelTelemetry,1),ne=(0,l.v4)(g.maxMessageLimit,25),ce=(0,l.v4)(g[M.Fr],!1)}function C(){return V>=ne}function o(g,N){var x=(0,E.j)(j||{});x&&x[M.mc]&&x[M.mc](g,N)}})}return H.__ieDyn=1,H}();function y(H){return H||new b}function D(H,j,V,Y,K,ae){ae===void 0&&(ae=!1),y(H).throwInternal(j,V,Y,K,ae)}function P(H,j){y(H)[u.cL](j)}function L(H,j,V){y(H)[M.jk](j,V)}},49251:(s,Q,R)=>{"use strict";R.d(Q,{JO:()=>q,Jj:()=>C,MF:()=>_e,MX:()=>ye,Me:()=>g,Nv:()=>o,Ym:()=>U,Z3:()=>se,a8:()=>I,b$:()=>Ee,cp:()=>B,d6:()=>N,dI:()=>re,dr:()=>z,eU:()=>me,ed:()=>ge,fE:()=>F,gz:()=>Re,jW:()=>x,k$:()=>$,nS:()=>ee,pI:()=>pe,r:()=>T,s1:()=>A,sA:()=>te,w1:()=>J,xA:()=>xe});var S=R(1550),M=R(30175),E=R(98145),_=R(24869),l=R(96335),u="window",c="document",f="documentMode",w="navigator",v="history",d="location",h="console",p="performance",b="JSON",y="crypto",D="msCrypto",P="ReactNative",L="msie",H="trident/",j="XMLHttpRequest",V=null,Y=null,K=!1,ae=null,ne=null;function ce(Pe,Oe){var Ue=!1;if(Pe){try{if(Ue=Oe in Pe,!Ue){var pt=Pe[S.hB];pt&&(Ue=Oe in pt)}}catch(Je){}if(!Ue)try{var je=new Pe;Ue=!(0,_.o8)(je[Oe])}catch(Je){}}return Ue}function re(Pe){K=Pe}function I(Pe){var Oe=(0,M.Rd)();return Oe&&Oe[Pe]?Oe[Pe]:Pe===u&&U()?window:null}function U(){return Boolean(typeof window===S.fK&&window)}function C(){return U()?window:I(u)}function o(){return Boolean(typeof document===S.fK&&document)}function g(){return o()?document:I(c)}function N(){return Boolean(typeof navigator===S.fK&&navigator)}function x(){return N()?navigator:I(w)}function F(){return Boolean(typeof history===S.fK&&history)}function A(){return F()?history:I(v)}function $(Pe){if(Pe&&K){var Oe=I("__mockLocation");if(Oe)return Oe}return typeof location===S.fK&&location?location:I(d)}function z(){return typeof console!==S.jA?console:I(h)}function T(){return I(p)}function ee(){return Boolean(typeof JSON===S.fK&&JSON||I(b)!==null)}function xe(){return ee()?JSON||I(b):null}function ye(){return I(y)}function Re(){return I(D)}function Ee(){var Pe=x();return Pe&&Pe.product?Pe.product===P:!1}function J(){var Pe=x();if(Pe&&(Pe[E.qV]!==Y||V===null)){Y=Pe[E.qV];var Oe=(Y||l.qS)[E.T1]();V=(0,_._Q)(Oe,L)||(0,_._Q)(Oe,H)}return V}function te(Pe){if(Pe===void 0&&(Pe=null),!Pe){var Oe=x()||{};Pe=Oe?(Oe[E.qV]||l.qS)[E.T1]():l.qS}var Ue=(Pe||l.qS)[E.T1]();if((0,_._Q)(Ue,L)){var pt=g()||{};return Math.max(parseInt(Ue[E.w6](L)[1]),pt[f]||0)}else if((0,_._Q)(Ue,H)){var je=parseInt(Ue[E.w6](H)[1]);if(je)return je+4}return null}function me(Pe){var Oe=Object[S.hB].toString[E._S](Pe),Ue=l.qS;return Oe==="[object Error]"?Ue="{ stack: '"+Pe.stack+"', message: '"+Pe.message+"', name: '"+Pe[E.I]+"'":ee()&&(Ue=xe().stringify(Pe)),Oe+Ue}function fe(Pe){if(!Pe||!isString(Pe)){var Oe=x()||{};Pe=Oe?(Oe[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var Ue=(Pe||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return Ue[_DYN_INDEX_OF]("safari")>=0}function _e(){return ne===null&&(ne=N()&&Boolean(x().sendBeacon)),ne}function q(Pe){var Oe=!1;try{Oe=!!I("fetch");var Ue=I("Request");Oe&&Pe&&Ue&&(Oe=ce(Ue,"keepalive"))}catch(pt){}return Oe}function B(){return ae===null&&(ae=typeof XDomainRequest!==S.jA,ae&&se()&&(ae=ae&&!ce(I(j),"withCredentials"))),ae}function se(){var Pe=!1;try{var Oe=I(j);Pe=!!Oe}catch(Ue){}return Pe}function we(Pe,Oe){if(Pe)for(var Ue=0;Ue<Pe[E.R5];Ue++){var pt=Pe[Ue];if(pt[E.I]&&pt[E.I]===Oe)return pt}return{}}function ge(Pe){var Oe=g();return Oe&&Pe?we(Oe.querySelectorAll("meta"),Pe).content:null}function pe(Pe){var Oe,Ue=T();if(Ue){var pt=Ue.getEntriesByType("navigation")||[];Oe=we((pt[E.R5]>0?pt[0]:{}).serverTiming,Pe).description}return Oe}},47954:(s,Q,R)=>{"use strict";R.d(Q,{C1:()=>z,C9:()=>J,Ib:()=>$,JA:()=>Re,QY:()=>x,TJ:()=>Ee,XO:()=>N,Yl:()=>me,c9:()=>ye,jU:()=>g,nD:()=>te,nJ:()=>xe,pD:()=>A,pZ:()=>F,um:()=>ce,yw:()=>ee});var S=R(98145),M=R(87624),E=R(49251),_=R(24869),l=R(96335),u="on",c="attachEvent",f="addEventListener",w="detachEvent",v="removeEventListener",d="events",h="visibilitychange",p="pagehide",b="pageshow",y="unload",D="beforeunload",P=(0,M.J)("aiEvtPageHide"),L=(0,M.J)("aiEvtPageShow"),H=/\.[\.]+/g,j=/[\.]+$/,V=1,Y=(0,M.K)("events"),K=/^([^.]*)(?:\.(.+)|)/;function ae(fe){return fe&&fe[S.i7]?fe[S.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,l.qS):fe}function ne(fe,_e){var q;if(_e){var B=l.qS;(0,_.kJ)(_e)?(B=l.qS,(0,_.tO)(_e,function(we){we=ae(we),we&&(we[0]!=="."&&(we="."+we),B+=we)})):B=ae(_e),B&&(B[0]!=="."&&(B="."+B),fe=(fe||l.qS)+B)}var se=K.exec(fe||l.qS)||[];return q={},q[S.P6]=se[1],q.ns=(se[2]||l.qS).replace(H,".").replace(j,l.qS)[S.w6](".").sort().join("."),q}function ce(fe,_e,q){var B=[],se=Y.get(fe,d,{},!1),we=ne(_e,q);return(0,_.rW)(se,function(ge,pe){(0,_.tO)(pe,function(Pe){var Oe;(!we[S.P6]||we[S.P6]===Pe.evtName[S.P6])&&(!we.ns||we.ns===we.ns)&&B[S.MW]((Oe={},Oe[S.I]=Pe.evtName[S.P6]+(Pe.evtName.ns?"."+Pe.evtName.ns:l.qS),Oe.handler=Pe[S.Kn],Oe))})}),B}function re(fe,_e,q){q===void 0&&(q=!0);var B=Y.get(fe,d,{},q),se=B[_e];return se||(se=B[_e]=[]),se}function I(fe,_e,q,B){fe&&_e&&_e[S.P6]&&(fe[v]?fe[v](_e[S.P6],q,B):fe[w]&&fe[w](u+_e[S.P6],q))}function U(fe,_e,q,B){var se=!1;return fe&&_e&&_e[S.P6]&&q&&(fe[f]?(fe[f](_e[S.P6],q,B),se=!0):fe[c]&&(fe[c](u+_e[S.P6],q),se=!0)),se}function C(fe,_e,q,B){for(var se=_e[S.R5];se--;){var we=_e[se];we&&(!q.ns||q.ns===we.evtName.ns)&&(!B||B(we))&&(I(fe,we.evtName,we[S.Kn],we.capture),_e[S.cb](se,1))}}function o(fe,_e,q){if(_e[S.P6])C(fe,re(fe,_e[S.P6]),_e,q);else{var B=Y.get(fe,d,{});(0,_.rW)(B,function(se,we){C(fe,we,_e,q)}),(0,_.FY)(B)[S.R5]===0&&Y.kill(fe,d)}}function g(fe,_e){var q;return _e?((0,_.kJ)(_e)?q=[fe].concat(_e):q=[fe,_e],q=ne("xx",q).ns[S.w6](".")):q=fe,q}function N(fe,_e,q,B,se){var we;se===void 0&&(se=!1);var ge=!1;if(fe)try{var pe=ne(_e,B);if(ge=U(fe,pe,q,se),ge&&Y.accept(fe)){var Pe=(we={guid:V++,evtName:pe},we[S.Kn]=q,we.capture=se,we);re(fe,pe.type)[S.MW](Pe)}}catch(Oe){}return ge}function x(fe,_e,q,B,se){if(se===void 0&&(se=!1),fe)try{var we=ne(_e,B),ge=!1;o(fe,we,function(pe){return we.ns&&!q||pe[S.Kn]===q?(ge=!0,!0):!1}),ge||I(fe,we,q,se)}catch(pe){}}function F(fe,_e,q,B){return B===void 0&&(B=!1),N(fe,_e,q,null,B)}function A(fe,_e,q,B){B===void 0&&(B=!1),x(fe,_e,q,null,B)}function $(fe,_e,q){var B=!1,se=(0,E.Jj)();se&&(B=N(se,fe,_e,q),B=N(se.body,fe,_e,q)||B);var we=(0,E.Me)();return we&&(B=N(we,fe,_e,q)||B),B}function z(fe,_e,q){var B=(0,E.Jj)();B&&(x(B,fe,_e,q),x(B.body,fe,_e,q));var se=(0,E.Me)();se&&x(se,fe,_e,q)}function T(fe,_e,q,B){var se=!1;return _e&&fe&&fe[S.R5]>0&&(0,_.tO)(fe,function(we){we&&(!q||(0,_.UA)(q,we)===-1)&&(se=$(we,_e,B)||se)}),se}function ee(fe,_e,q,B){var se=!1;return _e&&fe&&(0,_.kJ)(fe)&&(se=T(fe,_e,q,B),!se&&q&&q[S.R5]>0&&(se=T(fe,_e,null,B))),se}function xe(fe,_e,q){fe&&(0,_.kJ)(fe)&&(0,_.tO)(fe,function(B){B&&z(B,_e,q)})}function ye(fe,_e,q){return ee([D,y,p],fe,_e,q)}function Re(fe,_e){xe([D,y,p],fe,_e)}function Ee(fe,_e,q){function B(ge){var pe=(0,E.Me)();fe&&pe&&pe.visibilityState==="hidden"&&fe(ge)}var se=g(P,q),we=T([p],fe,_e,se);return(!_e||(0,_.UA)(_e,h)===-1)&&(we=T([h],B,_e,se)||we),!we&&_e&&(we=Ee(fe,null,q)),we}function J(fe,_e){var q=g(P,_e);xe([p],fe,q),xe([h],null,q)}function te(fe,_e,q){function B(ge){var pe=(0,E.Me)();fe&&pe&&pe.visibilityState==="visible"&&fe(ge)}var se=g(L,q),we=T([b],fe,_e,se);return we=T([h],B,_e,se)||we,!we&&_e&&(we=te(fe,null,q)),we}function me(fe,_e){var q=g(L,_e);xe([b],fe,q),xe([h],null,q)}},24869:(s,Q,R)=>{"use strict";R.d(Q,{Ax:()=>Vt,BX:()=>T,F:()=>Si,FL:()=>Be,FY:()=>Me,Gf:()=>Ee,HD:()=>pe,Id:()=>te,J_:()=>B,Kn:()=>xe,Mr:()=>W,Oi:()=>qt,UA:()=>le,VZ:()=>ge,Vb:()=>Mr,Xi:()=>st,Xz:()=>ie,Y6:()=>je,Ym:()=>F,_A:()=>We,_Q:()=>q,_y:()=>Ot,cf:()=>Bt,fQ:()=>kt,hj:()=>Pe,hl:()=>_t,jj:()=>ct,jn:()=>Oe,kJ:()=>se,l_:()=>$e,le:()=>z,m6:()=>ut,mf:()=>ye,mm:()=>Hr,nd:()=>he,nr:()=>ee,o8:()=>A,qK:()=>ft,rW:()=>J,sO:()=>zt,tO:()=>lt,v4:()=>wt,xe:()=>fe});var S=R(1550),M=R(30175),E=R(98145),_=R(96335),l="toISOString",u="endsWith",c="startsWith",f="indexOf",w="map",v="reduce",d="trim",h="toString",p="__proto__",b="constructor",y=S.RJ,D=S.Pw.freeze,P=S.Pw.seal,L=S.Pw.keys,H=String[S.hB],j=H[d],V=H[u],Y=H[c],K=Date[S.hB],ae=K[l],ne=Array.isArray,ce=S.V4[h],re=S.CY[h],I=re[E._S](S.Pw),U=/-([a-z])/g,C=/([^\w\d_$])/g,o=/^(\d+[\w\d_$])/,g=Object.getPrototypeOf;function N(Te){if(Te){if(g)return g(Te);var Ve=Te[p]||Te[S.hB]||Te[b];if(Ve)return Ve}return null}function x(Te){return ce[_DYN_CALL](Te)}function F(Te,Ve){return typeof Te===Ve}function A(Te){return Te===void 0||typeof Te===S.jA}function $(Te){return!A(Te)}function z(Te){return Te===null||A(Te)}function T(Te){return!z(Te)}function ee(Te,Ve){return!!(Te&&S.CY[E._S](Te,Ve))}function xe(Te){return!!(Te&&typeof Te===S.fK)}function ye(Te){return!!(Te&&typeof Te===S.cb)}function Re(Te){return Te&&ye(Te.then)}function Ee(Te){var Ve=Te;return Ve&&pe(Ve)&&(Ve=Ve[E.i7](U,function(vt,Xe){return Xe.toUpperCase()}),Ve=Ve[E.i7](C,"_"),Ve=Ve[E.i7](o,function(vt,Xe){return"_"+Xe})),Ve}function J(Te,Ve){if(Te)for(var vt in Te)S.CY[E._S](Te,vt)&&Ve[E._S](Te,vt,Te[vt])}function te(Te,Ve){var vt=!1;return Te&&Ve&&!(vt=Te===Ve)&&(vt=V?Te[u](Ve):me(Te,Ve)),vt}function me(Te,Ve){var vt=!1,Xe=Ve?Ve[E.R5]:0,rt=Te?Te[E.R5]:0;if(Xe&&rt&&rt>=Xe&&!(vt=Te===Ve)){for(var Wt=rt-1,yt=Xe-1;yt>=0;yt--){if(Te[Wt]!=Ve[yt])return!1;Wt--}vt=!0}return vt}function fe(Te,Ve){var vt=!1;return Te&&Ve&&!(vt=Te===Ve)&&(vt=Y?Te[c](Ve):_e(Te,Ve)),vt}function _e(Te,Ve){var vt=!1,Xe=Ve?Ve[E.R5]:0;if(Te&&Xe&&Te[E.R5]>=Xe&&!(vt=Te===Ve)){for(var rt=0;rt<Xe;rt++)if(Te[rt]!==Ve[rt])return!1;vt=!0}return vt}function q(Te,Ve){return Te&&Ve?Te[E.ou](Ve)!==-1:!1}function B(Te){return!!(Te&&ce[E._S](Te)==="[object Date]")}var se=ne||we;function we(Te){return!!(Te&&ce[E._S](Te)==="[object Array]")}function ge(Te){return!!(Te&&ce[E._S](Te)==="[object Error]")}function pe(Te){return typeof Te=="string"}function Pe(Te){return typeof Te=="number"}function Oe(Te){return typeof Te=="boolean"}function Ue(Te){return typeof Te=="symbol"}function pt(Te){var Ve=!1;if(Te&&typeof Te=="object"){var vt=g?g(Te):N(Te);vt?(vt[b]&&S.CY[E._S](vt,b)&&(vt=vt[b]),Ve=typeof vt===S.cb&&re[E._S](vt)===I):Ve=!0}return Ve}function je(Te){if(Te)return ae?Te[l]():Je(Te)}function Je(Te){if(Te&&Te.getUTCFullYear){var Ve=function(vt){var Xe=String(vt);return Xe[E.R5]===1&&(Xe="0"+Xe),Xe};return Te.getUTCFullYear()+"-"+Ve(Te.getUTCMonth()+1)+"-"+Ve(Te.getUTCDate())+"T"+Ve(Te.getUTCHours())+":"+Ve(Te.getUTCMinutes())+":"+Ve(Te.getUTCSeconds())+"."+String((Te.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function lt(Te,Ve,vt){var Xe=Te[E.R5];try{for(var rt=0;rt<Xe&&!(rt in Te&&Ve[E._S](vt||Te,Te[rt],rt,Te)===-1);rt++);}catch(Wt){}}function le(Te,Ve,vt){if(Te){if(Te[f])return Te[f](Ve,vt);var Xe=Te[E.R5],rt=vt||0;try{for(var Wt=Math.max(rt>=0?rt:Xe-Math.abs(rt),0);Wt<Xe;Wt++)if(Wt in Te&&Te[Wt]===Ve)return Wt}catch(yt){}}return-1}function W(Te,Ve,vt){var Xe;if(Te){if(Te[w])return Te[w](Ve,vt);var rt=Te[E.R5],Wt=vt||Te;Xe=new Array(rt);try{for(var yt=0;yt<rt;yt++)yt in Te&&(Xe[yt]=Ve[E._S](Wt,Te[yt],Te))}catch(Et){}}return Xe}function ie(Te,Ve,vt){var Xe;if(Te){if(Te[v])return Te[v](Ve,vt);var rt=Te[E.R5],Wt=0;if(arguments[E.R5]>=3)Xe=arguments[2];else{for(;Wt<rt&&!(Wt in Te);)Wt++;Xe=Te[Wt++]}for(;Wt<rt;)Wt in Te&&(Xe=Ve(Xe,Te[Wt],Wt,Te)),Wt++}return Xe}function he(Te){return Te&&(Te=j&&Te[d]?Te[d]():Te[E.i7]?Te[E.i7](/^\s+|(?=\s)\s+$/g,_.qS):Te),Te}var Ce=!{toString:null}.propertyIsEnumerable("toString"),He=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Me(Te){var Ve=typeof Te;if(Ve!==S.cb&&(Ve!==S.fK||Te===null)&&(0,M.ZU)("objKeys called on non-object"),!Ce&&L)return L(Te);var vt=[];for(var Xe in Te)Te&&S.CY[E._S](Te,Xe)&&vt[E.MW](Xe);if(Ce)for(var rt=He[E.R5],Wt=0;Wt<rt;Wt++)Te&&S.CY[E._S](Te,He[Wt])&&vt[E.MW](He[Wt]);return vt}function $e(Te,Ve,vt,Xe){if(y)try{var rt={enumerable:!0,configurable:!0};return vt&&(rt.get=vt),Xe&&(rt.set=Xe),y(Te,Ve,rt),!0}catch(Wt){}return!1}function xt(Te){return Te}function We(Te){return D&&J(Te,function(Ve,vt){(se(vt)||xe(vt))&&D(vt)}),Be(Te)}var Be=D||xt,st=P||xt;function ut(){var Te=Date;return Te.now?Te.now():new Te().getTime()}function ct(Te){return ge(Te)?Te[E.I]:_.qS}function zt(Te,Ve,vt,Xe,rt){var Wt=vt;return Te&&(Wt=Te[Ve],Wt!==vt&&(!rt||rt(Wt))&&(!Xe||Xe(vt))&&(Wt=vt,Te[Ve]=Wt)),Wt}function ft(Te,Ve,vt){var Xe;return Te?(Xe=Te[Ve],!Xe&&z(Xe)&&(Xe=A(vt)?{}:vt,Te[Ve]=Xe)):Xe=A(vt)?{}:vt,Xe}function wt(Te,Ve){return z(Te)?Ve:Te}function Si(Te){return!Te}function kt(Te){return!!Te}function Ot(Te){throw new Error(Te)}function dr(Te,Ve){var vt=null,Xe=null;return ye(Te)?vt=Te:Xe=Te,function(){var rt=arguments;if(vt&&(Xe=vt()),Xe)return Xe[Ve][E.ZV](Xe,rt)}}function Bt(Te,Ve,vt){if(Te&&Ve&&xe(Te)&&xe(Ve)){var Xe=function(Wt){if(pe(Wt)){var yt=Ve[Wt];ye(yt)?(!vt||vt(Wt,!0,Ve,Te))&&(Te[Wt]=dr(Ve,Wt)):(!vt||vt(Wt,!1,Ve,Te))&&(ee(Te,Wt)&&delete Te[Wt],$e(Te,Wt,function(){return Ve[Wt]},function(Et){Ve[Wt]=Et})||(Te[Wt]=yt))}};for(var rt in Ve)Xe(rt)}return Te}function qt(Te,Ve,vt,Xe,rt){Te&&Ve&&vt&&(rt!==!1||A(Te[Ve]))&&(Te[Ve]=dr(vt,Xe))}function Mr(Te,Ve,vt,Xe){return Te&&Ve&&xe(Te)&&se(vt)&&lt(vt,function(rt){pe(rt)&&qt(Te,rt,Ve,rt,Xe)}),Te}function _t(Te){return function(){function Ve(){var vt=this;Te&&J(Te,function(Xe,rt){vt[Xe]=rt})}return Ve}()}function Vt(Te){return Te&&S.rl&&(Te=(0,S.Pw)((0,S.rl)({},Te))),Te}function Hr(Te,Ve,vt,Xe,rt,Wt){var yt=arguments,Et=yt[0]||{},Ct=yt[E.R5],nt=!1,mt=1;for(Ct>0&&Oe(Et)&&(nt=Et,Et=yt[mt]||{},mt++),xe(Et)||(Et={});mt<Ct;mt++){var at=yt[mt],ei=se(at),Kt=xe(at);for(var Mt in at){var fi=ei&&Mt in at||Kt&&S.CY[E._S](at,Mt);if(!!fi){var ti=at[Mt],yi=void 0;if(nt&&ti&&((yi=se(ti))||pt(ti))){var gi=Et[Mt];yi?se(gi)||(gi=[]):pt(gi)||(gi={}),ti=Hr(nt,gi,ti)}ti!==void 0&&(Et[Mt]=ti)}}}return Et}},96335:(s,Q,R)=>{"use strict";R.d(Q,{$F:()=>d,C$:()=>p,DN:()=>_,Z:()=>M,Zh:()=>u,cL:()=>y,f_:()=>h,hL:()=>f,js:()=>c,kl:()=>D,mE:()=>l,oV:()=>E,qS:()=>S,uC:()=>v,yi:()=>w,ys:()=>b});var S="",M="channels",E="core",_="createPerfMgr",l="disabled",u="extensionConfig",c="extensions",f="processTelemetry",w="priority",v="eventsSent",d="eventsDiscarded",h="eventsSendRequest",p="perfEvent",b="errorToConsole",y="warnToConsole",D="getPerfMgr"},6138:(s,Q,R)=>{"use strict";R.d(Q,{f:()=>u});var S=R(29141),M=R(98145),E=R(24869),_=R(96335);function l(c,f,w,v){(0,E.tO)(c,function(d){if(d&&d[f])if(w)setTimeout(function(){return v(d)},0);else try{v(d)}catch(h){}})}var u=function(){function c(f){this.listeners=[];var w=!!(f||{}).perfEvtsSendAll;(0,S.Z)(c,this,function(v){v[M.g]=function(d){v.listeners[M.MW](d)},v[M.n7]=function(d){for(var h=(0,E.UA)(v[M.dE],d);h>-1;)v.listeners[M.cb](h,1),h=(0,E.UA)(v[M.dE],d)},v[_.uC]=function(d){l(v[M.dE],_.uC,!0,function(h){h[_.uC](d)})},v[_.$F]=function(d,h){l(v[M.dE],_.$F,!0,function(p){p[_.$F](d,h)})},v[_.f_]=function(d,h){l(v[M.dE],_.f_,h,function(p){p[_.f_](d,h)})},v[_.C$]=function(d){d&&(w||!d[M.PL]())&&l(v[M.dE],_.C$,!1,function(h){d[M.d]?setTimeout(function(){return h[_.C$](d)},0):h[_.C$](d)})}})}return c.__ieDyn=1,c}()},81782:(s,Q,R)=>{"use strict";R.d(Q,{Jk:()=>v,Lm:()=>h,j5:()=>b,zn:()=>w});var S=R(29141),M=R(98145),E=R(24869),_=R(96335),l="ctx",u="ParentContextKey",c="ChildrenContextKey",f=null,w=function(){function y(D,P,L){var H=this,j=!1;if(H.start=(0,E.m6)(),H[M.I]=D,H[M.d]=L,H[M.PL]=function(){return!1},(0,E.mf)(P)){var V;j=(0,E.l_)(H,"payload",function(){return!V&&(0,E.mf)(P)&&(V=P(),P=null),V})}H[M.T]=function(Y){return Y?Y===y[u]||Y===y[c]?H[Y]:(H[l]||{})[Y]:null},H[M.wu]=function(Y,K){if(Y)if(Y===y[u])H[Y]||(H[M.PL]=function(){return!0}),H[Y]=K;else if(Y===y[c])H[Y]=K;else{var ae=H[l]=H[l]||{};ae[Y]=K}},H[M.Km]=function(){var Y=0,K=H[M.T](y[c]);if((0,E.kJ)(K))for(var ae=0;ae<K[M.R5];ae++){var ne=K[ae];ne&&(Y+=ne[M.Z_])}H[M.Z_]=(0,E.m6)()-H.start,H.exTime=H[M.Z_]-Y,H[M.Km]=function(){},!j&&(0,E.mf)(P)&&(H.payload=P())}}return y.ParentContextKey="parent",y.ChildrenContextKey="childEvts",y}(),v=function(){function y(D){this.ctx={},(0,S.Z)(y,this,function(P){P.create=function(L,H,j){return new w(L,H,j)},P.fire=function(L){L&&(L[M.Km](),D&&(0,E.mf)(D[_.C$])&&D[_.C$](L))},P[M.wu]=function(L,H){if(L){var j=P[l]=P[l]||{};j[L]=H}},P[M.T]=function(L){return(P[l]||{})[L]}})}return y.__ieDyn=1,y}(),d="CoreUtils.doPerf";function h(y,D,P,L,H){if(y){var j=y;if(j[_.kl]&&(j=j[_.kl]()),j){var V=void 0,Y=j[M.T](d);try{if(V=j.create(D(),L,H),V){if(Y&&V[M.wu]&&(V[M.wu](w[u],Y),Y[M.T]&&Y[M.wu])){var K=Y[M.T](w[c]);K||(K=[],Y[M.wu](w[c],K)),K[M.MW](V)}return j[M.wu](d,V),P(V)}}catch(ae){V&&V[M.wu]&&V[M.wu]("exception",ae)}finally{V&&j.fire(V),j[M.wu](d,Y)}}}return P()}function p(y){f=y}function b(){return f}},31030:(s,Q,R)=>{"use strict";R.d(Q,{Bt:()=>y,CD:()=>b,Vi:()=>H,jV:()=>P,xy:()=>D});var S=R(98145),M=R(29339),E=R(49251),_=R(24869),l=R(96335),u=R(81782),c=R(69031),f="TelemetryPluginChain",w="_hasRun",v="_getTelCtx",d=0;function h(j,V,Y){for(;j;){if(j[S.TO]()===Y)return j;j=j[S.W2]()}return P([Y],V[S.TC]||{},V)}function p(j,V,Y,K){var ae=null,ne=[];K!==null&&(ae=K?h(j,Y,K):j);var ce={_next:I,ctx:{core:function(){return Y},diagLog:function(){return(0,M.vH)(Y,V)},getCfg:function(){return V},getExtCfg:U,getConfig:C,hasNext:function(){return!!ae},getNext:function(){return ae},setNext:function(g){ae=g},iterate:o,onComplete:re}};function re(g,N){for(var x=[],F=2;F<arguments.length;F++)x[F-2]=arguments[F];g&&ne[S.MW]({func:g,self:(0,_.o8)(N)?ce.ctx:N,args:x})}function I(){var g=ae;if(ae=g?g[S.W2]():null,!g){var N=ne;N&&N[S.R5]>0&&((0,_.tO)(N,function(x){try{x.func[S._S](x.self,x.args)}catch(F){(0,M.kP)(Y[S.eZ],2,73,"Unexpected Exception during onComplete - "+(0,E.eU)(F))}}),ne=[])}return g}function U(g,N,x){N===void 0&&(N={}),x===void 0&&(x=0);var F;if(V){var A=V[l.Zh];A&&g&&(F=A[g])}if(!F)F=N;else if((0,_.Kn)(N)&&x!==0){var $=(0,_.mm)(!0,N,F);V&&x===2&&(0,_.rW)(N,function(z){if((0,_.le)($[z])){var T=V[z];(0,_.le)(T)||($[z]=T)}}),F=$}return F}function C(g,N,x){x===void 0&&(x=!1);var F,A=U(g,null);return A&&!(0,_.le)(A[N])?F=A[N]:V&&!(0,_.le)(V[N])&&(F=V[N]),(0,_.le)(F)?x:F}function o(g){for(var N;N=ce._next();){var x=N[S.TO]();x&&g(x)}}return ce}function b(j,V,Y,K){var ae=p(j,V,Y,K),ne=ae.ctx;function ce(I){var U=ae._next();return U&&U[l.hL](I,ne),!U}function re(I,U){return I===void 0&&(I=null),(0,_.kJ)(I)&&(I=P(I,V,Y,U)),b(I||ne[S.W2](),V,Y,U)}return ne[S.uL]=ce,ne[S.zV]=re,ne}function y(j,V,Y){var K=V[S.TC]||{},ae=p(j,K,V,Y),ne=ae.ctx;function ce(I){var U=ae._next();return U&&U.unload(ne,I),!U}function re(I,U){return I===void 0&&(I=null),(0,_.kJ)(I)&&(I=P(I,K,V,U)),y(I||ne[S.W2](),V,U)}return ne[S.uL]=ce,ne[S.zV]=re,ne}function D(j,V,Y){var K=V[S.TC]||{},ae=p(j,K,V,Y),ne=ae.ctx;function ce(I){return ne.iterate(function(U){(0,_.mf)(U[S.Tu])&&U[S.Tu](ne,I)})}function re(I,U){return I===void 0&&(I=null),(0,_.kJ)(I)&&(I=P(I,K,V,U)),D(I||ne[S.W2](),V,U)}return ne[S.uL]=ce,ne[S.zV]=re,ne}function P(j,V,Y,K){var ae=null,ne=!K;if((0,_.kJ)(j)&&j[S.R5]>0){var ce=null;(0,_.tO)(j,function(re){if(!ne&&K===re&&(ne=!0),ne&&re&&(0,_.mf)(re[l.hL])){var I=L(re,V,Y);ae||(ae=I),ce&&ce._setNext(I),ce=I}})}return K&&!ae?P([K],V,Y):ae}function L(j,V,Y){var K=null,ae=(0,_.mf)(j[l.hL]),ne=(0,_.mf)(j[S.Jd]),ce;j?ce=j[S.pZ]+"-"+j[l.yi]+"-"+d++:ce="Unknown-0-"+d++;var re={getPlugin:function(){return j},getNext:function(){return K},processTelemetry:C,unload:o,update:g,_id:ce,_setNext:function(N){K=N}};function I(){var N;return j&&(0,_.mf)(j[v])&&(N=j[v]()),N||(N=b(re,V,Y)),N}function U(N,x,F,A,$){var z=!1,T=j?j[S.pZ]:f,ee=N[w];return ee||(ee=N[w]={}),N.setNext(K),j&&(0,u.Lm)(N[l.oV](),function(){return T+":"+F},function(){ee[ce]=!0;try{var xe=K?K._id:l.qS;xe&&(ee[xe]=!1),z=x(N)}catch(Re){var ye=K?ee[K._id]:!0;ye&&(z=!0),(!K||!ye)&&(0,M.kP)(N[S.mc](),1,73,"Plugin ["+T+"] failed during "+F+" - "+(0,E.eU)(Re)+", run flags: "+(0,E.eU)(ee))}},A,$),z}function C(N,x){x=x||I();function F(A){if(!j||!ae)return!1;var $=(0,c.OY)(j);return $[S.fi]||$[l.mE]?!1:(ne&&j[S.Jd](K),j[l.hL](N,A),!0)}U(x,F,"processTelemetry",function(){return{item:N}},!N.sync)||x[S.uL](N)}function o(N,x){function F(){var A=!1;if(j){var $=(0,c.OY)(j),z=j[l.oV]||$[l.oV];j&&(!z||z===N.core())&&!$[S.fi]&&($[l.oV]=null,$[S.fi]=!0,$[S.yl]=!1,j[S.fi]&&j[S.fi](N,x)===!0&&(A=!0))}return A}U(N,F,"unload",function(){},x[S.d])||N[S.uL](x)}function g(N,x){function F(){var A=!1;if(j){var $=(0,c.OY)(j),z=j[l.oV]||$[l.oV];j&&(!z||z===N.core())&&!$[S.fi]&&j[S.Tu]&&j[S.Tu](N,x)===!0&&(A=!0)}return A}U(N,F,"update",function(){},!1)||N[S.uL](x)}return(0,_.FL)(re)}var H=function(){function j(V,Y,K,ae){var ne=this,ce=b(V,Y,K,ae);(0,_.Vb)(ne,ce,(0,_.FY)(ce))}return j}()},19406:(s,Q,R)=>{"use strict";R.d(Q,{CN:()=>b,F6:()=>y,_l:()=>p,az:()=>h,pZ:()=>D});var S=R(98145),M=R(49251),E=R(24869),_=R(96335),l=4294967296,u=4294967295,c=!1,f=123456789,w=987654321;function v(P){P<0&&(P>>>=0),f=123456789+P&u,w=987654321-P&u,c=!0}function d(){try{var P=(0,E.m6)()&2147483647;v((Math.random()*l^P)+P)}catch(L){}}function h(P){return P>0?Math.floor(p()/u*(P+1))>>>0:0}function p(P){var L=0,H=(0,M.MX)()||(0,M.gz)();return H&&H.getRandomValues&&(L=H.getRandomValues(new Uint32Array(1))[0]&u),L===0&&(0,M.w1)()&&(c||d(),L=y()&u),L===0&&(L=Math.floor(l*Math.random()|0)),P||(L>>>=0),L}function b(P){P?v(P):d()}function y(P){w=36969*(w&65535)+(w>>16)&u,f=18e3*(f&65535)+(f>>16)&u;var L=(w<<16)+(f&65535)>>>0&u|0;return P||(L>>>=0),L}function D(P){P===void 0&&(P=22);for(var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=p()>>>0,j=0,V=_.qS;V[S.R5]<P;)j++,V+=L.charAt(H&63),H>>>=6,j===5&&(H=(p()<<2&4294967295|H&3)>>>0,j=0);return V}},69031:(s,Q,R)=>{"use strict";R.d(Q,{AA:()=>w,OY:()=>c,Yn:()=>d,bP:()=>f});var S=R(98145),M=R(87624),E=R(24869),_=R(96335),l=R(56207),u=(0,M.K)("plugin");function c(h){return u.get(h,"state",{},!0)}function f(h,p){for(var b=[],y=null,D=h[S.W2](),P;D;){var L=D[S.TO]();if(L){y&&(0,E.mf)(y[S.Jd])&&(0,E.mf)(L[_.hL])&&y[S.Jd](L);var H=!1;(0,E.mf)(L[S.yl])?H=L[S.yl]():(P=c(L),H=P[S.yl]),H||b[S.MW](L),y=L,D=D[S.W2]()}}(0,E.tO)(b,function(j){var V=h[_.oV]();j[S.VL](h.getCfg(),V,p,h[S.W2]()),P=c(j),!j[_.oV]&&!P[_.oV]&&(P[_.oV]=V),P[S.yl]=!0,delete P[S.fi]})}function w(h){return h.sort(function(p,b){var y=0;if(b){var D=(0,E.mf)(b[_.hL]);(0,E.mf)(p[_.hL])?y=D?p[_.yi]-b[_.yi]:1:D&&(y=-1)}else y=p?1:-1;return y})}function v(h,p,b,y){var D=0;function P(){for(;D<h[_DYN_LENGTH];){var L=h[D++];if(L){var H=L._doUnload||L[_DYN__DO_TEARDOWN];if(isFunction(H)&&H[_DYN_CALL](L,p,b,P)===!0)return!0}}}return P()}function d(h){var p={};return{getName:function(){return p[S.I]},setName:function(b){h&&h.setName(b),p[S.I]=b},getTraceId:function(){return p[S.nY]},setTraceId:function(b){h&&h.setTraceId(b),(0,l.jN)(b)&&(p[S.nY]=b)},getSpanId:function(){return p[S._d]},setSpanId:function(b){h&&h.setSpanId(b),(0,l.Lc)(b)&&(p[S._d]=b)},getTraceFlags:function(){return p[S.T0]},setTraceFlags:function(b){h&&h.setTraceFlags(b),p[S.T0]=b}}}},38593:(s,Q,R)=>{"use strict";R.d(Q,{Y:()=>l});var S=R(98145),M=R(29339),E=R(49251),_=R(24869);function l(){var u=[];function c(w){w&&u[S.MW](w)}function f(w,v){(0,_.tO)(u,function(d){try{d(w,v)}catch(h){(0,M.kP)(w[S.mc](),2,73,"Unexpected error calling unload handler - "+(0,E.eU)(h))}}),u=[]}return{add:c,run:f}}},56207:(s,Q,R)=>{"use strict";R.d(Q,{J6:()=>L,Lc:()=>P,Pn:()=>H,SU:()=>b,aR:()=>j,jN:()=>D,j_:()=>y,lq:()=>V});var S=R(98145),M=R(28956),E=R(49251),_=R(24869),l=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,u="00",c="ff",f="00000000000000000000000000000000",w="0000000000000000",v=1;function d(Y,K,ae){return Y&&Y[S.R5]===K&&Y!==ae?!!Y.match(/^[\da-f]*$/):!1}function h(Y,K,ae){return d(Y,K)?Y:ae}function p(Y){(isNaN(Y)||Y<0||Y>255)&&(Y=1);for(var K=Y.toString(16);K[S.R5]<2;)K="0"+K;return K}function b(Y,K,ae,ne){var ce;return ce={},ce[S.PA]=d(ne,2,c)?ne:u,ce[S.nY]=D(Y)?Y:(0,M.DO)(),ce.spanId=P(K)?K:(0,M.DO)()[S.Jn](0,16),ce.traceFlags=ae>=0&&ae<=255?ae:1,ce}function y(Y){var K;if(!Y||((0,_.kJ)(Y)&&(Y=Y[0]||""),!Y||!(0,_.HD)(Y)||Y[S.R5]>8192))return null;var ae=l.exec((0,_.nd)(Y));return!ae||ae[1]===c||ae[2]===f||ae[3]===w?null:(K={},K[S.PA]=ae[1],K[S.nY]=ae[2],K[S._d]=ae[3],K[S.T0]=parseInt(ae[4],16),K)}function D(Y){return d(Y,32,f)}function P(Y){return d(Y,16,w)}function L(Y){return!(!Y||!d(Y[S.PA],2,c)||!d(Y[S.nY],32,f)||!d(Y[S._d],16,w)||!d(p(Y[S.T0]),2))}function H(Y){return L(Y)?(Y[S.T0]&v)===v:!1}function j(Y){if(Y){var K=p(Y[S.T0]);d(K,2)||(K="01");var ae=Y[S.PA]||u;return ae!=="00"&&ae!=="ff"&&(ae=u),"".concat(ae,"-").concat(h(Y.traceId,32,f),"-").concat(h(Y.spanId,16,w),"-").concat(K)}return""}function V(){var Y="traceparent",K=y((0,E.ed)(Y));return K||(K=y((0,E.pI)(Y))),K}},98145:(s,Q,R)=>{"use strict";R.d(Q,{$h:()=>$,F3:()=>ce,Fc:()=>P,Fr:()=>ye,Gc:()=>K,I:()=>M,Jd:()=>C,Jn:()=>z,Km:()=>se,Kn:()=>me,LS:()=>D,Lk:()=>g,MW:()=>l,P6:()=>te,PA:()=>Pe,PL:()=>_e,R5:()=>v,SD:()=>p,T:()=>q,T0:()=>pe,T1:()=>Ee,TC:()=>c,TO:()=>L,Tu:()=>re,VL:()=>S,W2:()=>I,ZV:()=>ee,Z_:()=>d,_S:()=>J,_d:()=>ge,cb:()=>V,d:()=>ne,dE:()=>fe,eZ:()=>w,fi:()=>Y,g:()=>b,gU:()=>ae,i7:()=>xe,iC:()=>j,jk:()=>Re,kL:()=>H,mc:()=>U,n7:()=>y,nY:()=>we,ou:()=>N,p$:()=>f,pZ:()=>_,qV:()=>F,tb:()=>E,uL:()=>h,w6:()=>A,wu:()=>B,xv:()=>T,yl:()=>u,zV:()=>o,zc:()=>x});var S="initialize",M="name",E="getNotifyMgr",_="identifier",l="push",u="isInitialized",c="config",f="instrumentationKey",w="logger",v="length",d="time",h="processNext",p="getProcessTelContext",b="addNotificationListener",y="removeNotificationListener",D="stopPollingInternalLogs",P="onComplete",L="getPlugin",H="flush",j="_extensions",V="splice",Y="teardown",K="messageId",ae="message",ne="isAsync",ce="_doTeardown",re="update",I="getNext",U="diagLog",C="setNextPlugin",o="createNew",g="cookieCfg",N="indexOf",x="substring",F="userAgent",A="split",$="setEnabled",z="substr",T="nodeType",ee="apply",xe="replace",ye="enableDebugExceptions",Re="logInternalMessage",Ee="toLowerCase",J="call",te="type",me="handler",fe="listeners",_e="isChildEvt",q="getCtx",B="setCtx",se="complete",we="traceId",ge="spanId",pe="traceFlags",Pe="version"},1550:(s,Q,R)=>{"use strict";R.d(Q,{CY:()=>h,Pw:()=>c,RJ:()=>d,V4:()=>f,bO:()=>l,cb:()=>S,fK:()=>M,hB:()=>_,jA:()=>E,rl:()=>w,yu:()=>v});var S="function",M="object",E="undefined",_="prototype",l="hasOwnProperty",u="default",c=Object,f=c[_],w=c.assign,v=c.create,d=c.defineProperty,h=f[l]},30175:(s,Q,R)=>{"use strict";R.d(Q,{Rd:()=>E,ZU:()=>_,pu:()=>l});var S=R(1550),M=null;function E(u){u===void 0&&(u=!0);var c=u===!1?null:M;return c||(typeof globalThis!==S.jA&&(c=globalThis),!c&&typeof self!==S.jA&&(c=self),!c&&typeof window!==S.jA&&(c=window),!c&&typeof R.g!==S.jA&&(c=R.g),M=c),c}function _(u){throw new TypeError(u)}function l(u){var c=S.yu;if(c)return c(u);if(u==null)return{};var f=typeof u;f!==S.fK&&f!==S.cb&&_("Object prototype may only be an Object:"+u);function w(){}return w[S.hB]=u,new w}},27421:(s,Q,R)=>{"use strict";R.d(Q,{$h:()=>ae,ne:()=>b,uc:()=>h});var S=R(1550),M=R(30175),E=((0,M.Rd)()||{}).Symbol,_=((0,M.Rd)()||{}).Reflect,l=!!E,u=!!_,c="decorate",f="metadata",w="getOwnPropertySymbols",v="iterator",d=function(I){for(var U,C=1,o=arguments.length;C<o;C++){U=arguments[C];for(var g in U)S.V4[S.bO].call(U,g)&&(I[g]=U[g])}return I},h=S.rl||d,p=function(I,U){return p=S.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,o){C.__proto__=o}||function(C,o){for(var g in o)o[S.bO](g)&&(C[g]=o[g])},p(I,U)};function b(I,U){typeof U!==S.cb&&U!==null&&(0,M.ZU)("Class extends value "+String(U)+" is not a constructor or null"),p(I,U);function C(){this.constructor=I}I[S.hB]=U===null?(0,M.pu)(U):(C[S.hB]=U[S.hB],new C)}function y(I,U){var C={};for(var o in I)ObjHasOwnProperty.call(I,o)&&U.indexOf(o)<0&&(C[o]=I[o]);if(I!=null&&typeof ObjClass[w]===strShimFunction)for(var g=0,N=ObjClass[w](I);g<N.length;g++)U.indexOf(N[g])<0&&ObjProto.propertyIsEnumerable.call(I,N[g])&&(C[N[g]]=I[N[g]]);return C}function D(I,U,C,o){var g=arguments.length,N=g<3?U:o===null?o=ObjClass.getOwnPropertyDescriptor(U,C):o,x;if(u&&typeof _[c]===strShimFunction)N=_[c](I,U,C,o);else for(var F=I.length-1;F>=0;F--)(x=I[F])&&(N=(g<3?x(N):g>3?x(U,C,N):x(U,C))||N);return g>3&&N&&ObjDefineProperty(U,C,N),N}function P(I,U){return function(C,o){U(C,o,I)}}function L(I,U){if(u&&_[f]===strShimFunction)return _[f](I,U)}function H(I,U){for(var C in I)C!==strDefault&&!ObjHasOwnProperty.call(U,C)&&j(U,I,C)}function j(I,U,C,o){o===void 0&&(o=C),ObjCreate?ObjDefineProperty(I,o,{enumerable:!0,get:function(){return U[C]}}):I[o]=U[C]}function V(I){var U=typeof E===strShimFunction&&E[v],C=U&&I[U],o=0;if(C)return C.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&o>=I.length&&(I=void 0),{value:I&&I[o++],done:!I}}};throwTypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(I,U){var C=typeof E===strShimFunction&&I[E[v]];if(!C)return I;var o=C.call(I),g,N=[],x;try{for(;(U===void 0||U-- >0)&&!(g=o.next()).done;)N.push(g.value)}catch(F){x={error:F}}finally{try{g&&!g.done&&(C=o.return)&&C.call(o)}finally{if(x)throw x.error}}return N}function K(){for(var I=arguments,U=0,C=0,o=I.length;C<o;C++)U+=I[C].length;for(var g=Array(U),N=0,C=0;C<o;C++)for(var x=I[C],F=0,A=x.length;F<A;F++,N++)g[N]=x[F];return g}function ae(I,U){for(var C=0,o=U.length,g=I.length;C<o;C++,g++)I[g]=U[C];return I}function ne(I,U){return ObjDefineProperty?ObjDefineProperty(I,"raw",{value:U}):I.raw=U,I}function ce(I){if(I&&I.__esModule)return I;var U={};if(I!=null)for(var C in I)C!==strDefault&&Object.prototype.hasOwnProperty.call(I,C)&&j(U,I,C);return ObjCreate?ObjDefineProperty(U,strDefault,{enumerable:!0,value:I}):U[strDefault]=I,U}function re(I){return I&&I.__esModule?I:{strDefault:I}}},39065:(s,Q,R)=>{"use strict";R.r(Q),R.d(Q,{AppInsightsCore:()=>ro.F,ApplicationInsights:()=>hu,CoreUtils:()=>Kt.Tr,Sender:()=>ja,SeverityLevel:()=>fu,_InternalMessageId:()=>vs.v,arrForEach:()=>ge.tO,isNullOrUndefined:()=>ge.le,proxyFunctions:()=>ge.Vb,throwError:()=>ge._y});var S=R(29141),M=R(27421),E="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",_="sampleRate",l="ProcessLegacy",u="http.method",c="https://dc.services.visualstudio.com",f="/v2/track",w="not_specified",v="iKey",d="split",h="length",p="toLowerCase",b="ingestionendpoint",y="toString",D="removeItem",P="name",L="message",H="count",j="preTriggerDate",V="disabled",Y="interval",K="daysOfMonth",ae="date",ne="getUTCDate",ce="stringify",re="pathname",I="correlationHeaderExcludePatterns",U="indexOf",C="extensionConfig",o="exceptions",g="parsedStack",N="properties",x="measurements",F="sizeInBytes",A="typeName",$="severityLevel",z="problemGroup",T="isManual",ee="CreateFromInterface",xe="hasFullStack",ye="level",Re="method",Ee="assembly",J="fileName",te="line",me="duration",fe="receivedResponse",_e="substring",q="sanitizeKeyAndAddUniqueness",B="sanitizeException",se="sanitizeProperties",we="sanitizeMeasurements",ge=R(24869),pe=R(29339),Pe=R(49251),Oe;function Ue(ve,ue,be){var Se=ue[h],Ae=pt(ve,ue);if(Ae[h]!==Se){for(var qe=0,Qe=Ae;be[Qe]!==void 0;)qe++,Qe=Ae[_e](0,150-3)+He(qe);Ae=Qe}return Ae}function pt(ve,ue){var be;return ue&&(ue=(0,ge.nd)(ue[y]()),ue[h]>150&&(be=ue[_e](0,150),(0,pe.kP)(ve,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:ue},!0))),be||ue}function je(ve,ue,be){be===void 0&&(be=1024);var Se;return ue&&(be=be||1024,ue=(0,ge.nd)(ue),ue.toString()[h]>be&&(Se=ue[y]()[_e](0,be),(0,pe.kP)(ve,2,61,"string value is too long. It has been truncated to "+be+" characters.",{value:ue},!0))),Se||ue}function Je(ve,ue){return Ce(ve,ue,2048,66)}function lt(ve,ue){var be;return ue&&ue[h]>32768&&(be=ue[_e](0,32768),(0,pe.kP)(ve,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:ue},!0)),be||ue}function le(ve,ue){var be;if(ue){var Se=""+ue;Se[h]>32768&&(be=Se[_e](0,32768),(0,pe.kP)(ve,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:ue},!0))}return be||ue}function W(ve,ue){if(ue){var be={};(0,ge.rW)(ue,function(Se,Ae){if((0,ge.Kn)(Ae)&&(0,Pe.nS)())try{Ae=(0,Pe.xA)()[ce](Ae)}catch(qe){(0,pe.kP)(ve,2,49,"custom property is not valid",{exception:qe},!0)}Ae=je(ve,Ae,8192),Se=Ue(ve,Se,be),be[Se]=Ae}),ue=be}return ue}function ie(ve,ue){if(ue){var be={};(0,ge.rW)(ue,function(Se,Ae){Se=Ue(ve,Se,be),be[Se]=Ae}),ue=be}return ue}function he(ve,ue){return ue&&Ce(ve,ue,128,69)[y]()}function Ce(ve,ue,be,Se){var Ae;return ue&&(ue=(0,ge.nd)(ue),ue[h]>be&&(Ae=ue[_e](0,be),(0,pe.kP)(ve,2,Se,"input is too long, it has been truncated to "+be+" characters.",{data:ue},!0))),Ae||ue}function He(ve){var ue="00"+ve;return ue.substr(ue[h]-3)}var Me=(Oe={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Oe[q]=Ue,Oe.sanitizeKey=pt,Oe.sanitizeString=je,Oe.sanitizeUrl=Je,Oe.sanitizeMessage=lt,Oe[B]=le,Oe[se]=W,Oe[we]=ie,Oe.sanitizeId=he,Oe.sanitizeInput=Ce,Oe.padNumber=He,Oe.trim=ge.nd,Oe),$e=function(){function ve(ue,be,Se,Ae){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var qe=this;qe.ver=2,qe[P]=je(ue,be)||w,qe[N]=W(ue,Se),qe[x]=ie(ue,Ae)}return ve.envelopeType="Microsoft.ApplicationInsights.{0}.Event",ve.dataType="EventData",ve}(),xt=function(){function ve(ue,be,Se,Ae,qe){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Qe=this;Qe.ver=2,be=be||w,Qe[L]=lt(ue,be),Qe[N]=W(ue,Ae),Qe[x]=ie(ue,qe),Se&&(Qe[$]=Se)}return ve.envelopeType="Microsoft.ApplicationInsights.{0}.Message",ve.dataType="MessageData",ve}(),We="";function Be(ve,ue){return ue===void 0&&(ue=!1),ve==null?ue:ve.toString()[p]()==="true"}function st(ve){(isNaN(ve)||ve<0)&&(ve=0),ve=Math.round(ve);var ue=We+ve%1e3,be=We+Math.floor(ve/1e3)%60,Se=We+Math.floor(ve/(1e3*60))%60,Ae=We+Math.floor(ve/(1e3*60*60))%24,qe=Math.floor(ve/(1e3*60*60*24));return ue=ue[h]===1?"00"+ue:ue[h]===2?"0"+ue:ue,be=be[h]<2?"0"+be:be,Se=Se[h]<2?"0"+Se:Se,Ae=Ae[h]<2?"0"+Ae:Ae,(qe>0?qe+".":We)+Ae+":"+Se+":"+be+"."+ue}function ut(ve,ue){var be=null;return(0,ge.tO)(ve,function(Se){if(Se.identifier===ue)return be=Se,-1}),be}function ct(ve,ue,be,Se,Ae){return!Ae&&(0,ge.HD)(ve)&&(ve==="Script error."||ve==="Script error")}var zt=function(){function ve(ue,be,Se,Ae,qe,Qe,tt){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Tt=this;Tt.ver=2,Tt.id=he(ue,tt),Tt.url=Je(ue,Se),Tt[P]=je(ue,be)||w,isNaN(Ae)||(Tt[me]=st(Ae)),Tt[N]=W(ue,qe),Tt[x]=ie(ue,Qe)}return ve.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",ve.dataType="PageviewData",ve}(),ft=function(){function ve(ue,be,Se,Ae,qe,Qe,tt){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Tt=this;Tt.ver=2,Tt.url=Je(ue,Se),Tt[P]=je(ue,be)||w,Tt[N]=W(ue,qe),Tt[x]=ie(ue,Qe),tt&&(Tt.domProcessing=tt.domProcessing,Tt[me]=tt[me],Tt.networkConnect=tt.networkConnect,Tt.perfTotal=tt.perfTotal,Tt[fe]=tt[fe],Tt.sentRequest=tt.sentRequest)}return ve.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",ve.dataType="PageviewPerformanceData",ve}(),wt="<no_method>",Si="error",kt="stack",Ot="stackDetails",dr="errorSrc",Bt="message",qt="description";function Mr(ve,ue){var be=ve;return be&&!(0,ge.HD)(be)&&(JSON&&JSON[ce]?(be=JSON[ce](ve),ue&&(!be||be==="{}")&&((0,ge.mf)(ve[y])?be=ve[y]():be=""+ve)):be=""+ve+" - (Missing JSON.stringify)"),be||""}function _t(ve,ue){var be=ve;return ve&&(be&&!(0,ge.HD)(be)&&(be=ve[Bt]||ve[qt]||be),be&&!(0,ge.HD)(be)&&(be=Mr(be,!0)),ve.filename&&(be=be+" @"+(ve.filename||"")+":"+(ve.lineno||"?")+":"+(ve.colno||"?"))),ue&&ue!=="String"&&ue!=="Object"&&ue!=="Error"&&(be||"")[U](ue)===-1&&(be=ue+": "+be),be||""}function Vt(ve){try{if((0,ge.Kn)(ve))return"hasFullStack"in ve&&"typeName"in ve}catch(ue){}return!1}function Hr(ve){try{if((0,ge.Kn)(ve))return"ver"in ve&&"exceptions"in ve&&"properties"in ve}catch(ue){}return!1}function Te(ve){return ve&&ve.src&&(0,ge.HD)(ve.src)&&ve.obj&&(0,ge.kJ)(ve.obj)}function Ve(ve){var ue=ve||"";(0,ge.HD)(ue)||((0,ge.HD)(ue[kt])?ue=ue[kt]:ue=""+ue);var be=ue[d](`
`);return{src:ue,obj:be}}function vt(ve){for(var ue=[],be=ve[d](`
`),Se=0;Se<be[h];Se++){var Ae=be[Se];be[Se+1]&&(Ae+="@"+be[Se+1],Se++),ue.push(Ae)}return{src:ve,obj:ue}}function Xe(ve){var ue=null;if(ve)try{if(ve[kt])ue=Ve(ve[kt]);else if(ve[Si]&&ve[Si][kt])ue=Ve(ve[Si][kt]);else if(ve.exception&&ve.exception[kt])ue=Ve(ve.exception[kt]);else if(Te(ve))ue=ve;else if(Te(ve[Ot]))ue=ve[Ot];else if(window&&window.opera&&ve[Bt])ue=vt(ve[L]);else if(ve.reason&&ve.reason[kt])ue=Ve(ve.reason[kt]);else if((0,ge.HD)(ve))ue=Ve(ve);else{var be=ve[Bt]||ve[qt]||"";(0,ge.HD)(ve[dr])&&(be&&(be+=`
`),be+=" from "+ve[dr]),be&&(ue=Ve(be))}}catch(Se){ue=Ve(Se)}return ue||{src:"",obj:null}}function rt(ve){var ue="";return ve&&(ve.obj?(0,ge.tO)(ve.obj,function(be){ue+=be+`
`}):ue=ve.src||""),ue}function Wt(ve){var ue,be=ve.obj;if(be&&be[h]>0){ue=[];var Se=0,Ae=0;(0,ge.tO)(be,function(Di){var Ci=Di[y]();if(mt.regex.test(Ci)){var Ye=new mt(Ci,Se++);Ae+=Ye[F],ue.push(Ye)}});var qe=32*1024;if(Ae>qe)for(var Qe=0,tt=ue[h]-1,Tt=0,Ft=Qe,Gt=tt;Qe<tt;){var oi=ue[Qe][F],vi=ue[tt][F];if(Tt+=oi+vi,Tt>qe){var di=Gt-Ft+1;ue.splice(Ft,di);break}Ft=Qe,Gt=tt,Qe++,tt--}}return ue}function yt(ve){var ue="";if(ve&&(ue=ve.typeName||ve[P]||"",!ue))try{var be=/function (.{1,200})\(/,Se=be.exec(ve.constructor[y]());ue=Se&&Se[h]>1?Se[1]:""}catch(Ae){}return ue}function Et(ve){if(ve)try{if(!(0,ge.HD)(ve)){var ue=yt(ve),be=Mr(ve,!1);return(!be||be==="{}")&&(ve[Si]&&(ve=ve[Si],ue=yt(ve)),be=Mr(ve,!0)),be[U](ue)!==0&&ue!=="String"?ue+":"+be:be}}catch(Se){}return""+(ve||"")}var Ct=function(){function ve(ue,be,Se,Ae,qe,Qe){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var tt=this;tt.ver=2,Hr(be)?(tt[o]=be[o]||[],tt[N]=be[N],tt[x]=be[x],be[$]&&(tt[$]=be[$]),be.id&&(tt.id=be.id),be[z]&&(tt[z]=be[z]),(0,ge.le)(be[T])||(tt[T]=be[T])):(Se||(Se={}),tt[o]=[new nt(ue,be,Se)],tt[N]=W(ue,Se),tt[x]=ie(ue,Ae),qe&&(tt[$]=qe),Qe&&(tt.id=Qe))}return ve.CreateAutoException=function(ue,be,Se,Ae,qe,Qe,tt,Tt){var Ft,Gt=yt(qe||Qe||ue);return Ft={},Ft[L]=_t(ue,Gt),Ft.url=be,Ft.lineNumber=Se,Ft.columnNumber=Ae,Ft.error=Et(qe||Qe||ue),Ft.evt=Et(Qe||ue),Ft[A]=Gt,Ft.stackDetails=Xe(tt||qe||Qe),Ft.errorSrc=Tt,Ft},ve.CreateFromInterface=function(ue,be,Se,Ae){var qe=be[o]&&(0,ge.Mr)(be[o],function(tt){return nt[ee](ue,tt)}),Qe=new ve(ue,(0,M.uc)((0,M.uc)({},be),{exceptions:qe}),Se,Ae);return Qe},ve.prototype.toInterface=function(){var ue,be=this,Se=be.exceptions,Ae=be.properties,qe=be.measurements,Qe=be.severityLevel,tt=be.problemGroup,Tt=be.id,Ft=be.isManual,Gt=Se instanceof Array&&(0,ge.Mr)(Se,function(oi){return oi.toInterface()})||void 0;return ue={ver:"4.0"},ue[o]=Gt,ue.severityLevel=Qe,ue.properties=Ae,ue.measurements=qe,ue.problemGroup=tt,ue.id=Tt,ue.isManual=Ft,ue},ve.CreateSimpleException=function(ue,be,Se,Ae,qe,Qe){var tt;return{exceptions:[(tt={},tt[xe]=!0,tt.message=ue,tt.stack=qe,tt.typeName=be,tt)]}},ve.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",ve.dataType="ExceptionData",ve.formatError=Et,ve}(),nt=function(){function ve(ue,be,Se){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var Ae=this;if(Vt(be))Ae[A]=be[A],Ae[L]=be[L],Ae[kt]=be[kt],Ae[g]=be[g]||[],Ae[xe]=be[xe];else{var qe=be,Qe=qe&&qe.evt;(0,ge.VZ)(qe)||(qe=qe[Si]||Qe||qe),Ae[A]=je(ue,yt(qe))||w,Ae[L]=lt(ue,_t(be||qe,Ae[A]))||w;var tt=be[Ot]||Xe(be);Ae[g]=Wt(tt),Ae[kt]=le(ue,rt(tt)),Ae.hasFullStack=(0,ge.kJ)(Ae.parsedStack)&&Ae.parsedStack[h]>0,Se&&(Se[A]=Se[A]||Ae[A])}}return ve.prototype.toInterface=function(){var ue,be=this,Se=be[g]instanceof Array&&(0,ge.Mr)(be[g],function(qe){return qe.toInterface()}),Ae=(ue={id:be.id,outerId:be.outerId,typeName:be[A],message:be[L],hasFullStack:be[xe],stack:be[kt]},ue[g]=Se||void 0,ue);return Ae},ve.CreateFromInterface=function(ue,be){var Se=be[g]instanceof Array&&(0,ge.Mr)(be[g],function(qe){return mt[ee](qe)})||be[g],Ae=new ve(ue,(0,M.uc)((0,M.uc)({},be),{parsedStack:Se}));return Ae},ve}(),mt=function(){function ve(ue,be){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Se=this;if(Se[F]=0,typeof ue=="string"){var Ae=ue;Se[ye]=be,Se[Re]=wt,Se[Ee]=(0,ge.nd)(Ae),Se[J]="",Se[te]=0;var qe=Ae.match(ve.regex);qe&&qe[h]>=5&&(Se[Re]=(0,ge.nd)(qe[2])||Se[Re],Se[J]=(0,ge.nd)(qe[4]),Se[te]=parseInt(qe[5])||0)}else Se[ye]=ue[ye],Se[Re]=ue[Re],Se[Ee]=ue[Ee],Se[J]=ue[J],Se[te]=ue[te],Se[F]=0;Se.sizeInBytes+=Se.method[h],Se.sizeInBytes+=Se.fileName[h],Se.sizeInBytes+=Se.assembly[h],Se[F]+=ve.baseSize,Se.sizeInBytes+=Se.level.toString()[h],Se.sizeInBytes+=Se.line.toString()[h]}return ve.CreateFromInterface=function(ue){return new ve(ue,null)},ve.prototype.toInterface=function(){var ue=this;return{level:ue[ye],method:ue[Re],assembly:ue[Ee],fileName:ue[J],line:ue[te]}},ve.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,ve.baseSize=58,ve}(),at=function(){function ve(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return ve}(),ei=function(){function ve(ue,be,Se,Ae,qe,Qe,tt,Tt,Ft){this.aiDataContract={ver:1,metrics:1,properties:0};var Gt=this;Gt.ver=2;var oi=new at;oi[H]=Ae>0?Ae:void 0,oi.max=isNaN(Qe)||Qe===null?void 0:Qe,oi.min=isNaN(qe)||qe===null?void 0:qe,oi[P]=je(ue,be)||w,oi.value=Se,oi.stdDev=isNaN(tt)||tt===null?void 0:tt,Gt.metrics=[oi],Gt[N]=W(ue,Tt),Gt[x]=ie(ue,Ft)}return ve.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",ve.dataType="MetricData",ve}(),Kt=R(28956),Mt=R(88140),fi=R(19406),ti=R(47954);function yi(ve){var ue=null;if((0,ge.mf)(Event))ue=new Event(ve);else{var be=(0,Pe.Me)();be&&be.createEvent&&(ue=be.createEvent("Event"),ue.initEvent(ve,!0,!0))}return ue}var gi=R(50951),Li=(0,gi.cc)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Ii=R(30175),Mi=(0,gi.By)({LocalStorage:0,SessionStorage:1}),Ni=(0,gi.By)({AI:0,AI_AND_W3C:1,W3C:2}),Lt=void 0,Qt=void 0;function ci(){return Wi()?Ti(Mi.LocalStorage):null}function Ti(ve){try{if((0,ge.le)((0,Ii.Rd)()))return null;var ue=new Date()[y](),be=(0,Pe.a8)(ve===Mi.LocalStorage?"localStorage":"sessionStorage");be.setItem(ue,ue);var Se=be.getItem(ue)!==ue;if(be[D](ue),!Se)return be}catch(Ae){}return null}function Zt(){return Gi()?Ti(Mi.SessionStorage):null}function bi(){Lt=!1,Qt=!1}function Pi(){Lt=Wi(!0),Qt=Gi(!0)}function Wi(ve){return(ve||Lt===void 0)&&(Lt=!!Ti(Mi.LocalStorage)),Lt}function Ei(ve,ue){var be=ci();if(be!==null)try{return be.getItem(ue)}catch(Se){Lt=!1,(0,pe.kP)(ve,2,1,"Browser failed read of local storage. "+(0,ge.jj)(Se),{exception:(0,Pe.eU)(Se)})}return null}function Xi(ve,ue,be){var Se=ci();if(Se!==null)try{return Se.setItem(ue,be),!0}catch(Ae){Lt=!1,(0,pe.kP)(ve,2,3,"Browser failed write to local storage. "+(0,ge.jj)(Ae),{exception:(0,Pe.eU)(Ae)})}return!1}function _r(ve,ue){var be=ci();if(be!==null)try{return be[D](ue),!0}catch(Se){Lt=!1,(0,pe.kP)(ve,2,5,"Browser failed removal of local storage item. "+(0,ge.jj)(Se),{exception:(0,Pe.eU)(Se)})}return!1}function Gi(ve){return(ve||Qt===void 0)&&(Qt=!!Ti(Mi.SessionStorage)),Qt}function cr(){var ve=[];return Gi()&&(0,ge.rW)((0,Pe.a8)("sessionStorage"),function(ue){ve.push(ue)}),ve}function nr(ve,ue){var be=Zt();if(be!==null)try{return be.getItem(ue)}catch(Se){Qt=!1,(0,pe.kP)(ve,2,2,"Browser failed read of session storage. "+(0,ge.jj)(Se),{exception:(0,Pe.eU)(Se)})}return null}function Ji(ve,ue,be){var Se=Zt();if(Se!==null)try{return Se.setItem(ue,be),!0}catch(Ae){Qt=!1,(0,pe.kP)(ve,2,4,"Browser failed write to session storage. "+(0,ge.jj)(Ae),{exception:(0,Pe.eU)(Ae)})}return!1}function mi(ve,ue){var be=Zt();if(be!==null)try{return be[D](ue),!0}catch(Se){Qt=!1,(0,pe.kP)(ve,2,6,"Browser failed removal of session storage item. "+(0,ge.jj)(Se),{exception:(0,Pe.eU)(Se)})}return!1}var Xt=(0,Pe.Me)()||{},gr=0,Wr=[null,null,null,null,null];function _i(ve){var ue=gr,be=Wr,Se=be[ue];return Xt.createElement?be[ue]||(Se=be[ue]=Xt.createElement("a")):Se={host:Pr(ve,!0)},Se.href=ve,ue++,ue>=be[h]&&(ue=0),gr=ue,Se}function fr(ve){var ue,be=_i(ve);return be&&(ue=be.href),ue}function wi(ve){var ue,be=_i(ve);return be&&(ue=be[re]),ue}function br(ve,ue){return ve?ve.toUpperCase()+" "+ue:ue}function Pr(ve,ue){var be=ar(ve,ue)||"";if(be){var Se=be.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Se!=null&&Se[h]>3&&(0,ge.HD)(Se[2])&&Se[2][h]>0)return Se[2]+(Se[3]||"")}return be}function ar(ve,ue){var be=null;if(ve){var Se=ve.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Se!=null&&Se[h]>2&&(0,ge.HD)(Se[2])&&Se[2][h]>0&&(be=Se[2]||"",ue&&Se[h]>2)){var Ae=(Se[1]||"")[p](),qe=Se[3]||"";(Ae==="http"&&qe===":80"||Ae==="https"&&qe===":443")&&(qe=""),be+=qe}}return be}var kr=[c+f,"https://breeze.aimon.applicationinsights.io"+f,"https://dc-int.services.visualstudio.com"+f];function en(ve){return(0,ge.UA)(kr,ve[p]())!==-1}var Hi={NotSpecified:w,createDomEvent:yi,disableStorage:bi,isInternalApplicationInsightsEndpoint:en,canUseLocalStorage:Wi,getStorage:Ei,setStorage:Xi,removeStorage:_r,canUseSessionStorage:Gi,getSessionStorageKeys:cr,getSessionStorage:nr,setSessionStorage:Ji,removeSessionStorage:mi,disableCookies:Kt.oF,canUseCookies:Kt.vn,disallowsSameSiteNone:Mt.UY,setCookie:Kt.d8,stringToBoolOrDefault:Be,getCookie:Kt.ej,deleteCookie:Kt.kT,trim:ge.nd,newId:fi.pZ,random32:function(){return(0,fi._l)(!0)},generateW3CId:Kt.DO,isArray:ge.kJ,isError:ge.VZ,isDate:ge.J_,toISOStringForIE8:ge.Y6,getIEVersion:Pe.sA,msToTimeSpan:st,isCrossOriginError:ct,dump:Pe.eU,getExceptionName:ge.jj,addEventHandler:ti.pZ,IsBeaconApiSupported:Pe.MF,getExtension:ut},Hn={parseUrl:_i,getAbsoluteUrl:fr,getPathName:wi,getCompleteUrl:br,parseHost:Pr,parseFullHost:ar},Nn={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(ve,ue,be){if(!ue||ve&&ve.disableCorrelationHeaders)return!1;if(ve&&ve[I]){for(var Se=0;Se<ve.correlationHeaderExcludePatterns[h];Se++)if(ve[I][Se].test(ue))return!1}var Ae=_i(ue).host[p]();if(Ae&&(Ae[U](":443")!==-1||Ae[U](":80")!==-1)&&(Ae=(ar(ue,!0)||"")[p]()),(!ve||!ve.enableCorsCorrelation)&&Ae&&Ae!==be)return!1;var qe=ve&&ve.correlationHeaderDomains;if(qe){var Qe;if((0,ge.tO)(qe,function(Ft){var Gt=new RegExp(Ft.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Qe=Qe||Gt.test(Ae)}),!Qe)return!1}var tt=ve&&ve.correlationHeaderExcludedDomains;if(!tt||tt[h]===0)return!0;for(var Se=0;Se<tt[h];Se++){var Tt=new RegExp(tt[Se].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Tt.test(Ae))return!1}return Ae&&Ae[h]>0},getCorrelationContext:function(ve){if(ve){var ue=Nn.getCorrelationContextValue(ve,Li[1]);if(ue&&ue!==Nn.correlationIdPrefix)return ue}},getCorrelationContextValue:function(ve,ue){if(ve)for(var be=ve[d](","),Se=0;Se<be[h];++Se){var Ae=be[Se][d]("=");if(Ae[h]===2&&Ae[0]===ue)return Ae[1]}}};function $i(ve,ue,be,Se){var Ae,qe=Se,Qe=Se;if(ue&&ue[h]>0){var tt=_i(ue);if(Ae=tt.host,!qe)if(tt[re]!=null){var Tt=tt.pathname[h]===0?"/":tt[re];Tt.charAt(0)!=="/"&&(Tt="/"+Tt),Qe=tt[re],qe=je(ve,be?be+" "+Tt:Tt)}else qe=je(ve,ue)}else Ae=Se,qe=Se;return{target:Ae,name:qe,data:Qe}}function sr(){var ve=(0,Pe.r)();if(ve&&ve.now&&ve.timing){var ue=ve.now()+ve.timing.navigationStart;if(ue>0)return ue}return(0,ge.m6)()}function yr(ve,ue){var be=null;return ve!==0&&ue!==0&&!(0,ge.le)(ve)&&!(0,ge.le)(ue)&&(be=ue-ve),be}var Ht={Now:sr,GetDuration:yr};function Vn(ve,ue){var be=ve||{};return{getName:function(){return be[_DYN_NAME]},setName:function(Se){ue&&ue.setName(Se),be[_DYN_NAME]=Se},getTraceId:function(){return be.traceID},setTraceId:function(Se){ue&&ue.setTraceId(Se),isValidTraceId(Se)&&(be.traceID=Se)},getSpanId:function(){return be.parentID},setSpanId:function(Se){ue&&ue.setSpanId(Se),isValidSpanId(Se)&&(be.parentID=Se)},getTraceFlags:function(){return be.traceFlags},setTraceFlags:function(Se){ue&&ue.setTraceFlags(Se),be.traceFlags=Se}}}var Kr=function(){function ve(ue,be,Se,Ae,qe,Qe,tt,Tt,Ft,Gt,oi,vi){Ft===void 0&&(Ft="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var di=this;di.ver=2,di.id=be,di[me]=st(qe),di.success=Qe,di.resultCode=tt+"",di.type=je(ue,Ft);var Di=$i(ue,Se,Tt,Ae);di.data=Je(ue,Ae)||Di.data,di.target=je(ue,Di.target),Gt&&(di.target="".concat(di.target," | ").concat(Gt)),di[P]=je(ue,Di[P]),di[N]=W(ue,oi),di[x]=ie(ue,vi)}return ve.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",ve.dataType="RemoteDependencyData",ve}(),Ba="AppInsightsPropertiesPlugin",aa="AppInsightsChannelPlugin",hr="ApplicationInsightsAnalytics",Gn=R(87624),sa=R(87951);function or(ve){var ue="ai."+ve+".";return function(be){return ue+be}}var nn=or("application"),Le=or("device"),dt=or("location"),ot=or("operation"),bt=or("session"),It=or("user"),ni=or("cloud"),ai=or("internal"),Ge=function(ve){(0,M.ne)(ue,ve);function ue(){return ve.call(this)||this}return ue}((0,ge.hl)({applicationVersion:nn("ver"),applicationBuild:nn("build"),applicationTypeId:nn("typeId"),applicationId:nn("applicationId"),applicationLayer:nn("layer"),deviceId:Le("id"),deviceIp:Le("ip"),deviceLanguage:Le("language"),deviceLocale:Le("locale"),deviceModel:Le("model"),deviceFriendlyName:Le("friendlyName"),deviceNetwork:Le("network"),deviceNetworkName:Le("networkName"),deviceOEMName:Le("oemName"),deviceOS:Le("os"),deviceOSVersion:Le("osVersion"),deviceRoleInstance:Le("roleInstance"),deviceRoleName:Le("roleName"),deviceScreenResolution:Le("screenResolution"),deviceType:Le("type"),deviceMachineName:Le("machineName"),deviceVMName:Le("vmName"),deviceBrowser:Le("browser"),deviceBrowserVersion:Le("browserVersion"),locationIp:dt("ip"),locationCountry:dt("country"),locationProvince:dt("province"),locationCity:dt("city"),operationId:ot("id"),operationName:ot("name"),operationParentId:ot("parentId"),operationRootId:ot("rootId"),operationSyntheticSource:ot("syntheticSource"),operationCorrelationVector:ot("correlationVector"),sessionId:bt("id"),sessionIsFirst:bt("isFirst"),sessionIsNew:bt("isNew"),userAccountAcquisitionDate:It("accountAcquisitionDate"),userAccountId:It("accountId"),userAgent:It("userAgent"),userId:It("id"),userStoreRegion:It("storeRegion"),userAuthUserId:It("authUserId"),userAnonymousUserAcquisitionDate:It("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:It("authUserAcquisitionDate"),cloudName:ni("name"),cloudRole:ni("role"),cloudRoleVer:ni("roleVer"),cloudRoleInstance:ni("roleInstance"),cloudEnvironment:ni("environment"),cloudLocation:ni("location"),cloudDeploymentUnit:ni("deploymentUnit"),internalNodeName:ai("nodeName"),internalSdkVersion:ai("sdkVersion"),internalAgentVersion:ai("agentVersion"),internalSnippet:ai("snippet"),internalSdkSrc:ai("sdkSrc")})),et={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ke=new Ge,St=function(){function ve(ue,be,Se){var Ae=this,qe=this;qe.ver=1,qe.sampleRate=100,qe.tags={},qe[P]=je(ue,Se)||w,qe.data=be,qe.time=(0,ge.Y6)(new Date),qe.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return Ae.sampleRate===100?4:1},tags:1,data:1}}return ve}(),Ut=function(){function ve(ue,be){this.aiDataContract={baseType:1,baseData:1},this.baseType=ue,this.baseData=be}return ve}(),Jt="duration",si="tags",xi="deviceType",Ri="data",Vr="name",fn="traceID",pi="length",Or="stringify",Gr="measurements",Qr="dataType",xr="envelopeType",oa="toString",os="onLine",Sa="enqueue",Ui="count",Ra="push",Ks="emitLineDelimitedJson",la="clear",ji="batchPayloads",ki="markAsSent",ua="clearSent",qa="BUFFER_KEY",da="SENT_BUFFER_KEY",Ha="MAX_BUFFER_SIZE",$n="namePrefix",an="maxBatchSizeInBytes",jn="triggerSend",er="diagLog",gt="onunloadDisableBeacon",ls="isBeaconApiDisabled",us="_sender",Zi="_senderConfig",Va="_buffer",Tn="enableSessionStorageBuffer",Mn="samplingPercentage",Qs="instrumentationKey",Ea="endpointUrl",Ys="customHeaders",Ga="disableXhr",Xl="onunloadDisableFetch",$a="disableTelemetry",Ca="baseType",Js="sampleRate",eu="convertUndefined",Gd="_xhrReadyStateChange",gn="_onError",Bo="_onPartialSuccess",Zs="_onSuccess",Xs="itemsAccepted",$d="itemsReceived",tn="isRetryDisabled",ds="setRequestHeader",cs="maxBatchInterval",eo="eventsSendRequest",qo="disableInstrumentationKeyValidation",Sr="getSamplingScore",Fi="getHashCodeScore",fs="baseType",Ki="baseData",Dr="properties",tu="true";function mr(ve,ue,be){return(0,ge.sO)(ve,ue,be,ge.fQ)}function iu(ve,ue,be){var Se=be[si]=be[si]||{},Ae=ue.ext=ue.ext||{},qe=ue[si]=ue[si]||[],Qe=Ae.user;Qe&&(mr(Se,Ke.userAuthUserId,Qe.authId),mr(Se,Ke.userId,Qe.id||Qe.localId));var tt=Ae.app;tt&&mr(Se,Ke.sessionId,tt.sesId);var Tt=Ae.device;Tt&&(mr(Se,Ke.deviceId,Tt.id||Tt.localId),mr(Se,Ke[xi],Tt.deviceClass),mr(Se,Ke.deviceIp,Tt.ip),mr(Se,Ke.deviceModel,Tt.model),mr(Se,Ke[xi],Tt[xi]));var Ft=ue.ext.web;if(Ft){mr(Se,Ke.deviceLanguage,Ft.browserLang),mr(Se,Ke.deviceBrowserVersion,Ft.browserVer),mr(Se,Ke.deviceBrowser,Ft.browser);var Gt=be[Ri]=be[Ri]||{},oi=Gt[Ki]=Gt[Ki]||{},vi=oi[Dr]=oi[Dr]||{};mr(vi,"domain",Ft.domain),mr(vi,"isManual",Ft.isManual?tu:null),mr(vi,"screenRes",Ft.screenRes),mr(vi,"userConsent",Ft.userConsent?tu:null)}var di=Ae.os;di&&mr(Se,Ke.deviceOS,di[Vr]);var Di=Ae.trace;Di&&(mr(Se,Ke.operationParentId,Di.parentID),mr(Se,Ke.operationName,je(ve,Di[Vr])),mr(Se,Ke.operationId,Di[fn]));for(var Ci={},Ye=qe[pi]-1;Ye>=0;Ye--){var tr=qe[Ye];(0,ge.rW)(tr,function(Kn,fa){Ci[Kn]=fa}),qe.splice(Ye,1)}(0,ge.rW)(qe,function(Kn,fa){Ci[Kn]=fa});var Yr=(0,M.uc)((0,M.uc)({},Se),Ci);Yr[Ke.internalSdkVersion]||(Yr[Ke.internalSdkVersion]="javascript:".concat(hn.Version)),be[si]=(0,ge.Ax)(Yr)}function Pn(ve,ue,be){(0,ge.le)(ve)||(0,ge.rW)(ve,function(Se,Ae){(0,ge.hj)(Ae)?be[Se]=Ae:(0,ge.HD)(Ae)?ue[Se]=Ae:(0,Pe.nS)()&&(ue[Se]=(0,Pe.xA)()[Or](Ae))})}function zn(ve,ue){(0,ge.le)(ve)||(0,ge.rW)(ve,function(be,Se){ve[be]=Se||ue})}function ca(ve,ue,be,Se){var Ae=new St(ve,Se,ue);mr(Ae,"sampleRate",be[_]),(be[Ki]||{}).startTime&&(Ae.time=(0,ge.Y6)(be[Ki].startTime)),Ae.iKey=be.iKey;var qe=be.iKey.replace(/-/g,"");return Ae[Vr]=Ae[Vr].replace("{0}",qe),iu(ve,be,Ae),be[si]=be[si]||[],(0,ge.Ax)(Ae)}function xn(ve,ue){(0,ge.le)(ue[Ki])&&(0,pe.kP)(ve,1,46,"telemetryItem.baseData cannot be null.")}var hn={Version:"2.8.10"};function to(ve,ue,be){xn(ve,ue);var Se=ue[Ki][Gr]||{},Ae=ue[Ki][Dr]||{};Pn(ue[Ri],Ae,Se),(0,ge.le)(be)||zn(Ae,be);var qe=ue[Ki];if((0,ge.le)(qe))return(0,pe.jV)(ve,"Invalid input for dependency data"),null;var Qe=qe[Dr]&&qe[Dr][u]?qe[Dr][u]:"GET",tt=new Kr(ve,qe.id,qe.target,qe[Vr],qe[Jt],qe.success,qe.responseCode,Qe,qe.type,qe.correlationContext,Ae,Se),Tt=new Ut(Kr[Qr],tt);return ca(ve,Kr[xr],ue,Tt)}function io(ve,ue,be){xn(ve,ue);var Se={},Ae={};ue[fs]!==$e[Qr]&&(Se.baseTypeSource=ue[fs]),ue[fs]===$e[Qr]?(Se=ue[Ki][Dr]||{},Ae=ue[Ki][Gr]||{}):ue[Ki]&&Pn(ue[Ki],Se,Ae),Pn(ue[Ri],Se,Ae),(0,ge.le)(be)||zn(Se,be);var qe=ue[Ki][Vr],Qe=new $e(ve,qe,Se,Ae),tt=new Ut($e[Qr],Qe);return ca(ve,$e[xr],ue,tt)}function jd(ve,ue,be){xn(ve,ue);var Se=ue[Ki][Gr]||{},Ae=ue[Ki][Dr]||{};Pn(ue[Ri],Ae,Se),(0,ge.le)(be)||zn(Ae,be);var qe=ue[Ki],Qe=Ct.CreateFromInterface(ve,qe,Ae,Se),tt=new Ut(Ct[Qr],Qe);return ca(ve,Ct[xr],ue,tt)}function ru(ve,ue,be){xn(ve,ue);var Se=ue[Ki],Ae=Se[Dr]||{},qe=Se[Gr]||{};Pn(ue[Ri],Ae,qe),(0,ge.le)(be)||zn(Ae,be);var Qe=new ei(ve,Se[Vr],Se.average,Se.sampleCount,Se.min,Se.max,Se.stdDev,Ae,qe),tt=new Ut(ei[Qr],Qe);return ca(ve,ei[xr],ue,tt)}function zd(ve,ue,be){xn(ve,ue);var Se,Ae=ue[Ki];!(0,ge.le)(Ae)&&!(0,ge.le)(Ae[Dr])&&!(0,ge.le)(Ae[Dr][Jt])?(Se=Ae[Dr][Jt],delete Ae[Dr][Jt]):!(0,ge.le)(ue[Ri])&&!(0,ge.le)(ue[Ri][Jt])&&(Se=ue[Ri][Jt],delete ue[Ri][Jt]);var qe=ue[Ki],Qe;((ue.ext||{}).trace||{})[fn]&&(Qe=ue.ext.trace[fn]);var tt=qe.id||Qe,Tt=qe[Vr],Ft=qe.uri,Gt=qe[Dr]||{},oi=qe[Gr]||{};if((0,ge.le)(qe.refUri)||(Gt.refUri=qe.refUri),(0,ge.le)(qe.pageType)||(Gt.pageType=qe.pageType),(0,ge.le)(qe.isLoggedIn)||(Gt.isLoggedIn=qe.isLoggedIn[oa]()),!(0,ge.le)(qe[Dr])){var vi=qe[Dr];(0,ge.rW)(vi,function(Ci,Ye){Gt[Ci]=Ye})}Pn(ue[Ri],Gt,oi),(0,ge.le)(be)||zn(Gt,be);var di=new zt(ve,Tt,Ft,Se,Gt,oi,tt),Di=new Ut(zt[Qr],di);return ca(ve,zt[xr],ue,Di)}function Wd(ve,ue,be){xn(ve,ue);var Se=ue[Ki],Ae=Se[Vr],qe=Se.uri||Se.url,Qe=Se[Dr]||{},tt=Se[Gr]||{};Pn(ue[Ri],Qe,tt),(0,ge.le)(be)||zn(Qe,be);var Tt=new ft(ve,Ae,qe,void 0,Qe,tt,Se),Ft=new Ut(ft[Qr],Tt);return ca(ve,ft[xr],ue,Ft)}function nu(ve,ue,be){xn(ve,ue);var Se=ue[Ki].message,Ae=ue[Ki].severityLevel,qe=ue[Ki][Dr]||{},Qe=ue[Ki][Gr]||{};Pn(ue[Ri],qe,Qe),(0,ge.le)(be)||zn(qe,be);var tt=new xt(ve,Se,Ae,qe,Qe),Tt=new Ut(xt[Qr],tt);return ca(ve,xt[xr],ue,Tt)}function Ho(ve,ue){(0,ti.QY)(ve,null,null,ue)}function au(ve){var ue=(0,Pe.Me)(),be=(0,Pe.jW)(),Se=!1,Ae=!0,qe=(0,ti.jU)((0,Gn.J)("OfflineListener"),ve);try{if(tt((0,Pe.Jj)())&&(Se=!0),ue){var Qe=ue.body||ue;Qe.ononline&&tt(Qe)&&(Se=!0)}Se&&be&&!(0,ge.le)(be[os])&&(Ae=be[os])}catch(vi){Se=!1}function tt(vi){var di=!1;return vi&&(di=(0,ti.XO)(vi,"online",Tt,qe),di&&(0,ti.XO)(vi,"offline",Ft,qe)),di}function Tt(){Ae=!0}function Ft(){Ae=!1}function Gt(){var vi=!0;return Se?vi=Ae:be&&!(0,ge.le)(be[os])&&(vi=be[os]),vi}function oi(){var vi=(0,Pe.Jj)();if(vi&&Se){if(Ho(vi,qe),ue){var di=ue.body||ue;(0,ge.o8)(di.ononline)||Ho(di,qe)}Se=!1}}return{isOnline:Gt,isListening:function(){return Se},unload:oi}}var Vo=function(){function ve(ue,be){var Se=[],Ae=!1;this._get=function(){return Se},this._set=function(qe){return Se=qe,Se},(0,S.Z)(ve,this,function(qe){qe[Sa]=function(Qe){if(qe[Ui]()>=be.eventsLimitInMem()){Ae||((0,pe.kP)(ue,2,105,"Maximum in-memory buffer size reached: "+qe[Ui](),!0),Ae=!0);return}Se[Ra](Qe)},qe[Ui]=function(){return Se[pi]},qe.size=function(){for(var Qe=Se[pi],tt=0;tt<Se[pi];tt++)Qe+=Se[tt][pi];return be[Ks]()||(Qe+=2),Qe},qe[la]=function(){Se=[],Ae=!1},qe.getItems=function(){return Se.slice(0)},qe[ji]=function(Qe){if(Qe&&Qe[pi]>0){var tt=be[Ks]()?Qe.join(`
`):"["+Qe.join(",")+"]";return tt}return null}})}return ve.__ieDyn=1,ve}(),su=function(ve){(0,M.ne)(ue,ve);function ue(be,Se){var Ae=ve.call(this,be,Se)||this;return(0,S.Z)(ue,Ae,function(qe,Qe){qe[ki]=function(tt){Qe[la]()},qe[ua]=function(tt){}}),Ae}return ue.__ieDyn=1,ue}(Vo),ou=function(ve){(0,M.ne)(ue,ve);function ue(be,Se){var Ae=ve.call(this,be,Se)||this,qe=!1;return(0,S.Z)(ue,Ae,function(Qe,tt){var Tt=vi(ue[qa]),Ft=vi(ue[da]),Gt=Qe._set(Tt.concat(Ft));Gt[pi]>ue[Ha]&&(Gt[pi]=ue[Ha]),di(ue[da],[]),di(ue[qa],Gt),Qe[Sa]=function(Di){if(Qe[Ui]()>=ue[Ha]){qe||((0,pe.kP)(be,2,67,"Maximum buffer size reached: "+Qe[Ui](),!0),qe=!0);return}tt[Sa](Di),di(ue[qa],Qe._get())},Qe[la]=function(){tt[la](),di(ue[qa],Qe._get()),di(ue[da],[]),qe=!1},Qe[ki]=function(Di){di(ue[qa],Qe._set(oi(Di,Qe._get())));var Ci=vi(ue[da]);Ci instanceof Array&&Di instanceof Array&&(Ci=Ci.concat(Di),Ci[pi]>ue[Ha]&&((0,pe.kP)(be,1,67,"Sent buffer reached its maximum size: "+Ci[pi],!0),Ci[pi]=ue[Ha]),di(ue[da],Ci))},Qe[ua]=function(Di){var Ci=vi(ue[da]);Ci=oi(Di,Ci),di(ue[da],Ci)};function oi(Di,Ci){var Ye=[];return(0,ge.tO)(Ci,function(tr){!(0,ge.mf)(tr)&&(0,ge.UA)(Di,tr)===-1&&Ye[Ra](tr)}),Ye}function vi(Di){var Ci=Di;try{Ci=Se[$n]&&Se[$n]()?Se[$n]()+"_"+Ci:Ci;var Ye=nr(be,Ci);if(Ye){var tr=(0,Pe.xA)().parse(Ye);if((0,ge.HD)(tr)&&(tr=(0,Pe.xA)().parse(tr)),tr&&(0,ge.kJ)(tr))return tr}}catch(Yr){(0,pe.kP)(be,1,42," storage key: "+Ci+", "+(0,ge.jj)(Yr),{exception:(0,Pe.eU)(Yr)})}return[]}function di(Di,Ci){var Ye=Di;try{Ye=Se[$n]&&Se[$n]()?Se[$n]()+"_"+Ye:Ye;var tr=JSON[Or](Ci);Ji(be,Ye,tr)}catch(Yr){Ji(be,Ye,JSON[Or]([])),(0,pe.kP)(be,2,41," storage key: "+Ye+", "+(0,ge.jj)(Yr)+". Buffer cleared",{exception:(0,Pe.eU)(Yr)})}}}),Ae}return ue.BUFFER_KEY="AI_buffer",ue.SENT_BUFFER_KEY="AI_sentBuffer",ue.MAX_BUFFER_SIZE=2e3,ue}(Vo),lu=function(){function ve(ue){(0,S.Z)(ve,this,function(be){be.serialize=function(Qe){var tt=Se(Qe,"root");try{return(0,Pe.xA)()[Or](tt)}catch(Tt){(0,pe.kP)(ue,1,48,Tt&&(0,ge.mf)(Tt[oa])?Tt[oa]():"Error serializing object",null,!0)}};function Se(Qe,tt){var Tt="__aiCircularRefCheck",Ft={};if(!Qe)return(0,pe.kP)(ue,1,48,"cannot serialize object because it is null or undefined",{name:tt},!0),Ft;if(Qe[Tt])return(0,pe.kP)(ue,2,50,"Circular reference detected while serializing object",{name:tt},!0),Ft;if(!Qe.aiDataContract){if(tt==="measurements")Ft=qe(Qe,"number",tt);else if(tt==="properties")Ft=qe(Qe,"string",tt);else if(tt==="tags")Ft=qe(Qe,"string",tt);else if((0,ge.kJ)(Qe))Ft=Ae(Qe,tt);else{(0,pe.kP)(ue,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:tt},!0);try{(0,Pe.xA)()[Or](Qe),Ft=Qe}catch(Gt){(0,pe.kP)(ue,1,48,Gt&&(0,ge.mf)(Gt[oa])?Gt[oa]():"Error serializing object",null,!0)}}return Ft}return Qe[Tt]=!0,(0,ge.rW)(Qe.aiDataContract,function(Gt,oi){var vi=(0,ge.mf)(oi)?oi()&1:oi&1,di=(0,ge.mf)(oi)?oi()&4:oi&4,Di=oi&2,Ci=Qe[Gt]!==void 0,Ye=(0,ge.Kn)(Qe[Gt])&&Qe[Gt]!==null;if(vi&&!Ci&&!Di)(0,pe.kP)(ue,1,24,"Missing required field specification. The field is required but not present on source",{field:Gt,name:tt});else if(!di){var tr=void 0;Ye?Di?tr=Ae(Qe[Gt],Gt):tr=Se(Qe[Gt],Gt):tr=Qe[Gt],tr!==void 0&&(Ft[Gt]=tr)}}),delete Qe[Tt],Ft}function Ae(Qe,tt){var Tt;if(Qe)if(!(0,ge.kJ)(Qe))(0,pe.kP)(ue,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:tt},!0);else{Tt=[];for(var Ft=0;Ft<Qe[pi];Ft++){var Gt=Qe[Ft],oi=Se(Gt,tt+"["+Ft+"]");Tt[Ra](oi)}}return Tt}function qe(Qe,tt,Tt){var Ft;return Qe&&(Ft={},(0,ge.rW)(Qe,function(Gt,oi){if(tt==="string")oi===void 0?Ft[Gt]="undefined":oi===null?Ft[Gt]="null":oi[oa]?Ft[Gt]=oi[oa]():Ft[Gt]="invalid field: toString() is not defined.";else if(tt==="number")if(oi===void 0)Ft[Gt]="undefined";else if(oi===null)Ft[Gt]="null";else{var vi=parseFloat(oi);isNaN(vi)?Ft[Gt]="NaN":Ft[Gt]=vi}else Ft[Gt]="invalid field: "+Tt+" is of unknown type.",(0,pe.kP)(ue,1,Ft[Gt],null,!0)})),Ft}})}return ve.__ieDyn=1,ve}(),uu=8,du=function(){function ve(){}return ve.prototype.getHashCodeScore=function(ue){var be=this.getHashCode(ue)/ve.INT_MAX_VALUE;return be*100},ve.prototype.getHashCode=function(ue){if(ue==="")return 0;for(;ue[pi]<uu;)ue=ue.concat(ue);for(var be=5381,Se=0;Se<ue[pi];++Se)be=(be<<5)+be+ue.charCodeAt(Se),be=be&be;return Math.abs(be)},ve.INT_MAX_VALUE=2147483647,ve}(),Na=function(){function ve(){var ue=this,be=new du,Se=new Ge;ue[Sr]=function(Ae){var qe=0;return Ae[si]&&Ae[si][Se.userId]?qe=be.getHashCodeScore(Ae[si][Se.userId]):Ae.ext&&Ae.ext.user&&Ae.ext.user.id?qe=be[Fi](Ae.ext.user.id):Ae[si]&&Ae[si][Se.operationId]?qe=be.getHashCodeScore(Ae[si][Se.operationId]):Ae.ext&&Ae.ext.telemetryTrace&&Ae.ext.telemetryTrace[fn]?qe=be.getHashCodeScore(Ae.ext.telemetryTrace[fn]):qe=Math.random()*100,qe}}return ve}(),cu=function(){function ve(ue,be){this.INT_MAX_VALUE=2147483647;var Se=be||(0,pe.vH)(null);(ue>100||ue<0)&&(Se.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:ue},!0),ue=100),this[Js]=ue,this.samplingScoreGenerator=new Na}return ve.prototype.isSampledIn=function(ue){var be=this[Js],Se=!1;return be==null||be>=100||ue.baseType===ei[Qr]?!0:(Se=this.samplingScoreGenerator[Sr](ue)<be,Se)},ve}(),Dn,Go=65e3;function Ta(ve){try{return ve.responseText}catch(ue){}return null}function Ma(){var ve,ue,be;return ve={endpointUrl:function(){return c+f}},ve[Ks]=function(){return!1},ve[cs]=function(){return 15e3},ve[an]=function(){return 102400},ve[$a]=function(){return!1},ve[Tn]=function(){return!0},ve[tn]=function(){return!1},ve[ls]=function(){return!0},ve[Ga]=function(){return!1},ve[Xl]=function(){return!1},ve[gt]=function(){return!1},ve[Qs]=function(){return ue},ve[$n]=function(){return ue},ve[Mn]=function(){return 100},ve[Ys]=function(){return be},ve[eu]=function(){return ue},ve.eventsLimitInMem=function(){return 1e4},ve}var Wn=(Dn={},Dn[$e.dataType]=io,Dn[xt.dataType]=nu,Dn[zt.dataType]=zd,Dn[ft.dataType]=Wd,Dn[Ct.dataType]=jd,Dn[ei.dataType]=ru,Dn[Kr.dataType]=to,Dn),ja=function(ve){(0,M.ne)(ue,ve);function ue(){var be=ve.call(this)||this;be.priority=1001,be.identifier=aa,be._senderConfig=Ma();var Se,Ae,qe,Qe,tt,Tt,Ft,Gt,oi=0,vi,di,Di,Ci;return(0,S.Z)(ue,be,function(Ye,tr){Jo(),Ye.pause=function(){lo(),Qe=!0},Ye.resume=function(){Qe&&(Qe=!1,Ae=null,Ye._buffer.size()>Ye._senderConfig[an]()&&Ye[jn](!0,null,10),oo())},Ye.flush=function(ze,Rt,Dt){if(ze===void 0&&(ze=!0),!Qe){lo();try{Ye[jn](ze,null,Dt||1)}catch(ii){(0,pe.kP)(Ye[er](),1,22,"flush failed, telemetry will not be collected: "+(0,ge.jj)(ii),{exception:(0,Pe.eU)(ii)})}}},Ye.onunloadFlush=function(){if(!Qe)if((Ye._senderConfig[gt]()===!1||Ye[Zi][ls]()===!1)&&(0,Pe.MF)())try{Ye[jn](!0,mu,2)}catch(ze){(0,pe.kP)(Ye[er](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,ge.jj)(ze),{exception:(0,Pe.eU)(ze)})}else Ye.flush()},Ye.addHeader=function(ze,Rt){Gt[ze]=Rt},Ye.initialize=function(ze,Rt,Dt,ii){Ye.isInitialized()&&(0,pe.kP)(Ye[er](),1,28,"Sender is already initialized"),tr.initialize(ze,Rt,Dt,ii);var Ai=Ye._getTelCtx(),qi=Ye.identifier;Tt=new lu(Rt.logger),Se=0,Ae=null,qe=0,Ye[us]=null,Ft=0;var Bi=Ye[er]();Ci=(0,ti.jU)((0,Gn.J)("Sender"),Rt.evtNamespace&&Rt.evtNamespace()),Di=au(Ci);var wr=Ma();(0,ge.rW)(wr,function(Ar,An){Ye[Zi][Ar]=function(){var Ir=Ai.getConfig(qi,Ar,An());return!Ir&&Ar==="endpointUrl"&&(Ir=An()),Ir}}),Ye._buffer=Ye[Zi][Tn]()&&Gi()?new ou(Bi,Ye[Zi]):new su(Bi,Ye[Zi]),Ye._sample=new cu(Ye[Zi][Mn](),Bi),Yo(ze)||(0,pe.kP)(Bi,1,100,"Invalid Instrumentation key "+ze[Qs]),!en(Ye._senderConfig.endpointUrl())&&Ye._senderConfig.customHeaders()&&Ye._senderConfig.customHeaders()[pi]>0&&(0,ge.tO)(Ye[Zi][Ys](),function(Ar){be.addHeader(Ar.header,Ar.value)});var Rr=Ye[Zi],Er=null;!Rr[Ga]()&&(0,Pe.cp)()?Er=Qo:!Rr[Ga]()&&(0,Pe.Z3)()&&(Er=Wa),!Er&&(0,Pe.JO)()&&(Er=Qd),vi=Er||Wa,!Rr[ls]()&&(0,Pe.MF)()&&(Er=gs),Ye[us]=Er||Wa,!Rr[Xl]()&&(0,Pe.JO)(!0)?di=zo:(0,Pe.MF)()?di=gs:!Rr[Ga]()&&(0,Pe.cp)()?di=Qo:!Rr[Ga]()&&(0,Pe.Z3)()?di=Wa:di=vi},Ye.processTelemetry=function(ze,Rt){Rt=Ye._getTelCtx(Rt);var Dt=Rt[er]();try{if(Ye[Zi][$a]())return;if(!ze){(0,pe.kP)(Dt,1,7,"Cannot send empty telemetry");return}if(ze.baseData&&!ze[Ca]){(0,pe.kP)(Dt,1,70,"Cannot send telemetry without baseData and baseType");return}if(ze[Ca]||(ze[Ca]="EventData"),!Ye[us]){(0,pe.kP)(Dt,1,28,"Sender was not initialized");return}if(Yr(ze))ze[_]=Ye._sample[Js];else{(0,pe.kP)(Dt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Ye._sample[Js]});return}var ii=Ye[Zi][eu]()||void 0,Ai=ze.iKey||Ye[Zi][Qs](),qi=ue.constructEnvelope(ze,Ai,Dt,ii);if(!qi){(0,pe.kP)(Dt,1,47,"Unable to create an AppInsights envelope");return}var Bi=!1;if(ze[si]&&ze[si][l]&&((0,ge.tO)(ze[si][l],function(Ar){try{Ar&&Ar(qi)===!1&&(Bi=!0,(0,pe.jV)(Dt,"Telemetry processor check returns false"))}catch(An){(0,pe.kP)(Dt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,ge.jj)(An),{exception:(0,Pe.eU)(An)},!0)}}),delete ze[si][l]),Bi)return;var wr=Tt.serialize(qi),Rr=Ye[Va],Er=Rr.size();Er+wr[pi]>Ye[Zi][an]()&&Ye[jn](!0,null,10),Rr[Sa](wr),oo()}catch(Ar){(0,pe.kP)(Dt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,ge.jj)(Ar),{exception:(0,Pe.eU)(Ar)})}Ye.processNext(ze,Rt)},Ye[Gd]=function(ze,Rt,Dt){ze.readyState===4&&Kn(ze.status,Rt,ze.responseURL,Dt,uo(ze),Ta(ze)||ze.response)},Ye[jn]=function(ze,Rt,Dt){if(ze===void 0&&(ze=!0),!Qe)try{var ii=Ye[Va];if(Ye[Zi][$a]())ii[la]();else{if(ii[Ui]()>0){var Ai=ii.getItems();co(Dt||0,ze),Rt?Rt.call(be,Ai,ze):Ye[us](Ai,ze)}qe=+new Date}lo()}catch(Bi){var qi=(0,Pe.sA)();(!qi||qi>9)&&(0,pe.kP)(Ye[er](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,ge.jj)(Bi),{exception:(0,Pe.eU)(Bi)})}},Ye._doTeardown=function(ze,Rt){Ye.onunloadFlush(),Di.unload(),Jo()},Ye[gn]=function(ze,Rt,Dt){(0,pe.kP)(Ye[er](),2,26,"Failed to send telemetry.",{message:Rt}),Ye._buffer[ua](ze)},Ye[Bo]=function(ze,Rt){for(var Dt=[],ii=[],Ai=Rt.errors.reverse(),qi=0,Bi=Ai;qi<Bi.length;qi++){var wr=Bi[qi],Rr=ze.splice(wr.index,1)[0];bs(wr.statusCode)?ii[Ra](Rr):Dt[Ra](Rr)}ze[pi]>0&&Ye[Zs](ze,Rt[Xs]),Dt[pi]>0&&Ye[gn](Dt,uo(null,["partial success",Rt[Xs],"of",Rt.itemsReceived].join(" "))),ii[pi]>0&&(so(ii),(0,pe.kP)(Ye[er](),2,40,"Partial success. Delivered: "+ze[pi]+", Failed: "+Dt[pi]+". Will retry to send "+ii[pi]+" our of "+Rt[$d]+" items"))},Ye[Zs]=function(ze,Rt){Ye._buffer[ua](ze)},Ye._xdrOnLoad=function(ze,Rt){var Dt=Ta(ze);if(ze&&(Dt+""=="200"||Dt===""))Se=0,Ye[Zs](Rt,0);else{var ii=ao(Dt);ii&&ii.itemsReceived&&ii.itemsReceived>ii[Xs]&&!Ye[Zi][tn]()?Ye[Bo](Rt,ii):Ye[gn](Rt,ys(ze))}};function Yr(ze){return Ye._sample.isSampledIn(ze)}function Kn(ze,Rt,Dt,ii,Ai,qi){var Bi=null;if(Ye._appId||(Bi=ao(qi),Bi&&Bi.appId&&(Ye._appId=Bi.appId)),(ze<200||ze>=300)&&ze!==0){if((ze===301||ze===307||ze===308)&&!fa(Dt)){Ye[gn](Rt,Ai);return}!Ye[Zi][tn]()&&bs(ze)?(so(Rt),(0,pe.kP)(Ye[er](),2,40,". Response code "+ze+". Will retry to send "+Rt[pi]+" items.")):Ye[gn](Rt,Ai)}else if(Di&&!Di.isOnline()){if(!Ye[Zi][tn]()){var wr=10;so(Rt,wr),(0,pe.kP)(Ye[er](),2,40,". Offline - Response Code: ".concat(ze,". Offline status: ").concat(!Di.isOnline(),". Will retry to send ").concat(Rt.length," items."))}}else fa(Dt),ze===206?(Bi||(Bi=ao(qi)),Bi&&!Ye[Zi][tn]()?Ye[Bo](Rt,Bi):Ye[gn](Rt,Ai)):(Se=0,Ye[Zs](Rt,ii))}function fa(ze){return Ft>=10?!1:!(0,ge.le)(ze)&&ze!==""&&ze!==Ye[Zi][Ea]()?(Ye[Zi][Ea]=function(){return ze},++Ft,!0):!1}function mu(ze,Rt){di?di(ze,!1):gs(ze,Rt)}function jo(ze){var Rt=(0,Pe.jW)(),Dt=Ye[Va],ii=Ye[Zi][Ea](),Ai=Ye._buffer[ji](ze),qi=new Blob([Ai],{type:"text/plain;charset=UTF-8"}),Bi=Rt.sendBeacon(ii,qi);return Bi&&(Dt[ki](ze),Ye._onSuccess(ze,ze[pi])),Bi}function gs(ze,Rt){if((0,ge.kJ)(ze)&&ze[pi]>0&&!jo(ze)){for(var Dt=[],ii=0;ii<ze[pi];ii++){var Ai=ze[ii];jo([Ai])||Dt[Ra](Ai)}Dt[pi]>0&&(vi&&vi(Dt,!0),(0,pe.kP)(Ye[er](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Wa(ze,Rt){var Dt=new XMLHttpRequest,ii=Ye[Zi][Ea]();try{Dt[E]=!0}catch(qi){}Dt.open("POST",ii,Rt),Dt[ds]("Content-type","application/json"),en(ii)&&Dt[ds](Li[6],Li[7]),(0,ge.tO)((0,ge.FY)(Gt),function(qi){Dt[ds](qi,Gt[qi])}),Dt.onreadystatechange=function(){return Ye._xhrReadyStateChange(Dt,ze,ze[pi])},Dt.onerror=function(qi){return Ye[gn](ze,uo(Dt),qi)};var Ai=Ye._buffer[ji](ze);Dt.send(Ai),Ye._buffer[ki](ze)}function zo(ze,Rt){if((0,ge.kJ)(ze)){for(var Dt=ze[pi],ii=0;ii<ze[pi];ii++)Dt+=ze[ii][pi];oi+Dt<=Go?Wo(ze,!1):(0,Pe.MF)()?gs(ze,Rt):(vi&&vi(ze,!0),(0,pe.kP)(Ye[er](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function Qd(ze,Rt){Wo(ze,!0)}function Wo(ze,Rt){var Dt,ii=Ye[Zi][Ea](),Ai=Ye._buffer[ji](ze),qi=new Blob([Ai],{type:"application/json"}),Bi=new Headers,wr=Ai[pi],Rr=!1,Er=!1;en(ii)&&Bi.append(Li[6],Li[7]),(0,ge.tO)((0,ge.FY)(Gt),function(Ir){Bi.append(Ir,Gt[Ir])});var Ar=(Dt={method:"POST",headers:Bi,body:qi},Dt[E]=!0,Dt);Rt||(Ar.keepalive=!0,Rr=!0,oi+=wr);var An=new Request(ii,Ar);try{An[E]=!0}catch(Ir){}Ye._buffer[ki](ze);try{fetch(An).then(function(Ir){Rt||(oi-=wr,wr=0),Er||(Er=!0,Ir.ok?Ir.text().then(function(Yd){Kn(Ir.status,ze,Ir.url,ze[pi],Ir.statusText,Yd)}):Ye[gn](ze,Ir.statusText))}).catch(function(Ir){Rt||(oi-=wr,wr=0),Er||(Er=!0,Ye[gn](ze,Ir.message))})}catch(Ir){Er||Ye[gn](ze,(0,Pe.eU)(Ir))}Rr&&!Er&&(Er=!0,Ye._onSuccess(ze,ze[pi]))}function ao(ze){try{if(ze&&ze!==""){var Rt=(0,Pe.xA)().parse(ze);if(Rt&&Rt.itemsReceived&&Rt.itemsReceived>=Rt[Xs]&&Rt.itemsReceived-Rt.itemsAccepted===Rt.errors[pi])return Rt}}catch(Dt){(0,pe.kP)(Ye[er](),1,43,"Cannot parse the response. "+(0,ge.jj)(Dt),{response:ze})}return null}function so(ze,Rt){if(Rt===void 0&&(Rt=1),!(!ze||ze[pi]===0)){var Dt=Ye[Va];Dt[ua](ze),Se++;for(var ii=0,Ai=ze;ii<Ai.length;ii++){var qi=Ai[ii];Dt[Sa](qi)}Ko(Rt),oo()}}function Ko(ze){var Rt=10,Dt;if(Se<=1)Dt=Rt;else{var ii=(Math.pow(2,Se)-1)/2,Ai=Math.floor(Math.random()*ii*Rt)+1;Ai=ze*Ai,Dt=Math.max(Math.min(Ai,3600),Rt)}var qi=(0,ge.m6)()+Dt*1e3;Ae=qi}function oo(){if(!tt&&!Qe){var ze=Ae?Math.max(0,Ae-(0,ge.m6)()):0,Rt=Math.max(Ye[Zi][cs](),ze);tt=setTimeout(function(){tt=null,Ye[jn](!0,null,1)},Rt)}}function lo(){clearTimeout(tt),tt=null,Ae=null}function bs(ze){return ze===401||ze===403||ze===408||ze===429||ze===500||ze===502||ze===503||ze===504}function uo(ze,Rt){return ze?"XMLHttpRequest,Status:"+ze.status+",Response:"+Ta(ze)||0||0:Rt}function Qo(ze,Rt){var Dt=Ye[Va],ii=(0,Pe.Jj)(),Ai=new XDomainRequest;Ai.onload=function(){return Ye._xdrOnLoad(Ai,ze)},Ai.onerror=function(Rr){return Ye[gn](ze,ys(Ai),Rr)};var qi=ii&&ii.location&&ii.location.protocol||"";if(Ye[Zi][Ea]().lastIndexOf(qi,0)!==0){(0,pe.kP)(Ye[er](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),Dt[la]();return}var Bi=Ye[Zi][Ea]().replace(/^(https?:)/,"");Ai.open("POST",Bi);var wr=Dt[ji](ze);Ai.send(wr),Dt[ki](ze)}function ys(ze,Rt){return ze?"XDomainRequest,Response:"+Ta(ze)||0:Rt}function pu(){var ze="getNotifyMgr";return Ye.core[ze]?Ye.core[ze]():Ye.core._notificationManager}function co(ze,Rt){var Dt=pu();if(Dt&&Dt[eo])try{Dt[eo](ze,Rt)}catch(ii){(0,pe.kP)(Ye[er](),1,74,"send request notification failed: "+(0,ge.jj)(ii),{exception:(0,Pe.eU)(ii)})}}function Yo(ze){var Rt=(0,ge.le)(ze[qo])?!1:ze[qo];if(Rt)return!0;var Dt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",ii=new RegExp(Dt);return ii.test(ze[Qs])}function Jo(){Ye[us]=null,Ye[Va]=null,Ye._appId=null,Ye._sample=null,Gt={},Di=null,Se=0,Ae=null,qe=null,Qe=!1,tt=null,Tt=null,Ft=0,oi=0,vi=null,di=null,Ci=null}}),be}return ue.constructEnvelope=function(be,Se,Ae,qe){var Qe;Se!==be.iKey&&!(0,ge.le)(Se)?Qe=(0,M.uc)((0,M.uc)({},be),{iKey:Se}):Qe=be;var tt=Wn[Qe.baseType]||io;return tt(Ae,Qe,qe)},ue}(sa.i),hs=";",ms="=";function $o(ve){if(!ve)return{};var ue=ve[d](hs),be=(0,ge.Xz)(ue,function(Ae,qe){var Qe=qe[d](ms);if(Qe[h]===2){var tt=Qe[0][p](),Tt=Qe[1];Ae[tt]=Tt}return Ae},{});if((0,ge.FY)(be)[h]>0){if(be.endpointsuffix){var Se=be.location?be.location+".":"";be[b]=be[b]||"https://"+Se+"dc."+be.endpointsuffix}be[b]=be[b]||c}return be}var Kd={parse:$o},ro=R(19903),no="instrumentationKey",za="connectionString",ps="diagnosticLogInterval",vs=R(67309),fu=(0,gi.By)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),hu=function(){function ve(ue){var be=new ro.F;((0,ge.le)(ue)||(0,ge.le)(ue[no])&&(0,ge.le)(ue[za]))&&(0,ge._y)("Invalid input configuration"),(0,S.Z)(ve,this,function(Se){if(ue[za]){var Ae=$o(ue[za]),qe=Ae.ingestionendpoint;ue.endpointUrl=qe?qe+f:ue.endpointUrl,ue[no]=Ae.instrumentationkey||ue[no]}Se.config=ue,Qe(),Se.initialize=Qe,Se.getSKUDefaults=function(){Se.config[ps]=Se.config[ps]&&Se.config[ps]>0?Se.config[ps]:1e4},Se.getSKUDefaults(),(0,ge.Vb)(Se,be,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function Qe(){be.initialize(Se.config,[new ja]),be.pollInternalLogs()}})}return ve.__ieDyn=1,ve}()},29141:(s,Q,R)=>{"use strict";R.d(Q,{Z:()=>xe});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var S,M="undefined",E="constructor",_="prototype",l="function",u="_dynInstFuncs",c="_isDynProxy",f="_dynClass",w="_dynCls$",v="_dynInstChk",d=v,h="_dfOpts",p="_unknown_",b="__proto__",y="_dyn"+b,D="__dynProto$Gbl",P="_dynInstProto",L="useBaseInst",H="setInstFuncs",j=Object,V=j.getPrototypeOf,Y=j.getOwnPropertyNames;function K(){var ye;return typeof globalThis!==M&&(ye=globalThis),!ye&&typeof self!==M&&(ye=self),!ye&&typeof window!==M&&(ye=window),!ye&&typeof R.g!==M&&(ye=R.g),ye||{}}var ae=K(),ne=ae[D]||(ae[D]={o:(S={},S[H]=!0,S[L]=!0,S),n:1e3});function ce(ye,Re){return ye&&j[_].hasOwnProperty.call(ye,Re)}function re(ye){return ye&&(ye===j[_]||ye===Array[_])}function I(ye){return re(ye)||ye===Function[_]}function U(ye){var Re;if(ye){if(V)return V(ye);var Ee=ye[b]||ye[_]||(ye[E]?ye[E][_]:null);Re=ye[y]||Ee,ce(ye,y)||(delete ye[P],Re=ye[y]=ye[P]||ye[y],ye[P]=Ee)}return Re}function C(ye,Re){var Ee=[];if(Y)Ee=Y(ye);else for(var J in ye)typeof J=="string"&&ce(ye,J)&&Ee.push(J);if(Ee&&Ee.length>0)for(var te=0;te<Ee.length;te++)Re(Ee[te])}function o(ye,Re,Ee){return Re!==E&&typeof ye[Re]===l&&(Ee||ce(ye,Re))}function g(ye){throw new TypeError("DynamicProto: "+ye)}function N(ye){var Re={};return C(ye,function(Ee){!Re[Ee]&&o(ye,Ee,!1)&&(Re[Ee]=ye[Ee])}),Re}function x(ye,Re){for(var Ee=ye.length-1;Ee>=0;Ee--)if(ye[Ee]===Re)return!0;return!1}function F(ye,Re,Ee,J){function te(q,B,se){var we=B[se];if(we[c]&&J){var ge=q[u]||{};ge[d]!==!1&&(we=(ge[B[f]]||{})[se]||we)}return function(){return we.apply(q,arguments)}}var me={};C(Ee,function(q){me[q]=te(Re,Ee,q)});for(var fe=U(ye),_e=[];fe&&!I(fe)&&!x(_e,fe);)C(fe,function(q){!me[q]&&o(fe,q,!V)&&(me[q]=te(Re,fe,q))}),_e.push(fe),fe=U(fe);return me}function A(ye,Re,Ee,J){var te=null;if(ye&&ce(Ee,f)){var me=ye[u]||{};if(te=(me[Ee[f]]||{})[Re],te||g("Missing ["+Re+"] "+l),!te[v]&&me[d]!==!1){for(var fe=!ce(ye,Re),_e=U(ye),q=[];fe&&_e&&!I(_e)&&!x(q,_e);){var B=_e[Re];if(B){fe=B===J;break}q.push(_e),_e=U(_e)}try{fe&&(ye[Re]=te),te[v]=1}catch(se){me[d]=!1}}}return te}function $(ye,Re,Ee){var J=Re[ye];return J===Ee&&(J=U(Re)[ye]),typeof J!==l&&g("["+ye+"] is not a "+l),J}function z(ye,Re,Ee,J,te){function me(q,B){var se=function(){var we=A(this,B,q,se)||$(B,q,se);return we.apply(this,arguments)};return se[c]=1,se}if(!re(ye)){var fe=Ee[u]=Ee[u]||{},_e=fe[Re]=fe[Re]||{};fe[d]!==!1&&(fe[d]=!!te),C(Ee,function(q){o(Ee,q,!1)&&Ee[q]!==J[q]&&(_e[q]=Ee[q],delete Ee[q],(!ce(ye,q)||ye[q]&&!ye[q][c])&&(ye[q]=me(ye,q)))})}}function T(ye,Re){if(V){for(var Ee=[],J=U(Re);J&&!I(J)&&!x(Ee,J);){if(J===ye)return!0;Ee.push(J),J=U(J)}return!1}return!0}function ee(ye,Re){return ce(ye,_)?ye.name||Re||p:((ye||{})[E]||{}).name||Re||p}function xe(ye,Re,Ee,J){ce(ye,_)||g("theClass is an invalid class definition.");var te=ye[_];T(te,Re)||g("["+ee(ye)+"] not in hierarchy of ["+ee(Re)+"]");var me=null;ce(te,f)?me=te[f]:(me=w+ee(ye,"_")+"$"+ne.n,ne.n++,te[f]=me);var fe=xe[h],_e=!!fe[L];_e&&J&&J[L]!==void 0&&(_e=!!J[L]);var q=N(Re),B=F(te,Re,q,_e);Ee(Re,B);var se=!!V&&!!fe[H];se&&J&&(se=!!J[H]),z(te,me,Re,q,se!==!1)}xe[h]=ne.o},39809:(s,Q,R)=>{"use strict";const S=Q;S.bignum=R(13550),S.define=R(22500).define,S.base=R(71979),S.constants=R(36826),S.decoders=R(78307),S.encoders=R(56579)},22500:(s,Q,R)=>{"use strict";const S=R(56579),M=R(78307),E=R(35717),_=Q;_.define=function(c,f){return new l(c,f)};function l(u,c){this.name=u,this.body=c,this.decoders={},this.encoders={}}l.prototype._createNamed=function(c){const f=this.name;function w(v){this._initNamed(v,f)}return E(w,c),w.prototype._initNamed=function(d,h){c.call(this,d,h)},new w(this)},l.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(M[c])),this.decoders[c]},l.prototype.decode=function(c,f,w){return this._getDecoder(f).decode(c,w)},l.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(S[c])),this.encoders[c]},l.prototype.encode=function(c,f,w){return this._getEncoder(f).encode(c,w)}},36625:(s,Q,R)=>{"use strict";const S=R(35717),M=R(98465).b,E=R(2399).Buffer;function _(u,c){if(M.call(this,c),!E.isBuffer(u)){this.error("Input not Buffer");return}this.base=u,this.offset=0,this.length=u.length}S(_,M),Q.C=_,_.isDecoderBuffer=function(c){return c instanceof _?!0:typeof c=="object"&&E.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},_.prototype.save=function(){return{offset:this.offset,reporter:M.prototype.save.call(this)}},_.prototype.restore=function(c){const f=new _(this.base);return f.offset=c.offset,f.length=this.offset,this.offset=c.offset,M.prototype.restore.call(this,c.reporter),f},_.prototype.isEmpty=function(){return this.offset===this.length},_.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},_.prototype.skip=function(c,f){if(!(this.offset+c<=this.length))return this.error(f||"DecoderBuffer overrun");const w=new _(this.base);return w._reporterState=this._reporterState,w.offset=this.offset,w.length=this.offset+c,this.offset+=c,w},_.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)};function l(u,c){if(Array.isArray(u))this.length=0,this.value=u.map(function(f){return l.isEncoderBuffer(f)||(f=new l(f,c)),this.length+=f.length,f},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return c.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=E.byteLength(u);else if(E.isBuffer(u))this.value=u,this.length=u.length;else return c.error("Unsupported type: "+typeof u)}Q.R=l,l.isEncoderBuffer=function(c){return c instanceof l?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},l.prototype.join=function(c,f){return c||(c=E.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(w){w.join(c,f),f+=w.length}):(typeof this.value=="number"?c[f]=this.value:typeof this.value=="string"?c.write(this.value,f):E.isBuffer(this.value)&&this.value.copy(c,f),f+=this.length)),c}},71979:(s,Q,R)=>{"use strict";const S=Q;S.Reporter=R(98465).b,S.DecoderBuffer=R(36625).C,S.EncoderBuffer=R(36625).R,S.Node=R(41949)},41949:(s,Q,R)=>{"use strict";const S=R(98465).b,M=R(36625).R,E=R(36625).C,_=R(79746),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l),c=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function f(v,d,h){const p={};this._baseState=p,p.name=h,p.enc=v,p.parent=d||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}s.exports=f;const w=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const d=this._baseState,h={};w.forEach(function(b){h[b]=d[b]});const p=new this.constructor(h.parent);return p._baseState=h,p},f.prototype._wrap=function(){const d=this._baseState;u.forEach(function(h){this[h]=function(){const b=new this.constructor(this);return d.children.push(b),b[h].apply(b,arguments)}},this)},f.prototype._init=function(d){const h=this._baseState;_(h.parent===null),d.call(this),h.children=h.children.filter(function(p){return p._baseState.parent===this},this),_.equal(h.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(d){const h=this._baseState,p=d.filter(function(b){return b instanceof this.constructor},this);d=d.filter(function(b){return!(b instanceof this.constructor)},this),p.length!==0&&(_(h.children===null),h.children=p,p.forEach(function(b){b._baseState.parent=this},this)),d.length!==0&&(_(h.args===null),h.args=d,h.reverseArgs=d.map(function(b){if(typeof b!="object"||b.constructor!==Object)return b;const y={};return Object.keys(b).forEach(function(D){D==(D|0)&&(D|=0);const P=b[D];y[P]=D}),y}))},c.forEach(function(v){f.prototype[v]=function(){const h=this._baseState;throw new Error(v+" not implemented for encoding: "+h.enc)}}),l.forEach(function(v){f.prototype[v]=function(){const h=this._baseState,p=Array.prototype.slice.call(arguments);return _(h.tag===null),h.tag=v,this._useArgs(p),this}}),f.prototype.use=function(d){_(d);const h=this._baseState;return _(h.use===null),h.use=d,this},f.prototype.optional=function(){const d=this._baseState;return d.optional=!0,this},f.prototype.def=function(d){const h=this._baseState;return _(h.default===null),h.default=d,h.optional=!0,this},f.prototype.explicit=function(d){const h=this._baseState;return _(h.explicit===null&&h.implicit===null),h.explicit=d,this},f.prototype.implicit=function(d){const h=this._baseState;return _(h.explicit===null&&h.implicit===null),h.implicit=d,this},f.prototype.obj=function(){const d=this._baseState,h=Array.prototype.slice.call(arguments);return d.obj=!0,h.length!==0&&this._useArgs(h),this},f.prototype.key=function(d){const h=this._baseState;return _(h.key===null),h.key=d,this},f.prototype.any=function(){const d=this._baseState;return d.any=!0,this},f.prototype.choice=function(d){const h=this._baseState;return _(h.choice===null),h.choice=d,this._useArgs(Object.keys(d).map(function(p){return d[p]})),this},f.prototype.contains=function(d){const h=this._baseState;return _(h.use===null),h.contains=d,this},f.prototype._decode=function(d,h){const p=this._baseState;if(p.parent===null)return d.wrapResult(p.children[0]._decode(d,h));let b=p.default,y=!0,D=null;if(p.key!==null&&(D=d.enterKey(p.key)),p.optional){let L=null;if(p.explicit!==null?L=p.explicit:p.implicit!==null?L=p.implicit:p.tag!==null&&(L=p.tag),L===null&&!p.any){const H=d.save();try{p.choice===null?this._decodeGeneric(p.tag,d,h):this._decodeChoice(d,h),y=!0}catch(j){y=!1}d.restore(H)}else if(y=this._peekTag(d,L,p.any),d.isError(y))return y}let P;if(p.obj&&y&&(P=d.enterObject()),y){if(p.explicit!==null){const H=this._decodeTag(d,p.explicit);if(d.isError(H))return H;d=H}const L=d.offset;if(p.use===null&&p.choice===null){let H;p.any&&(H=d.save());const j=this._decodeTag(d,p.implicit!==null?p.implicit:p.tag,p.any);if(d.isError(j))return j;p.any?b=d.raw(H):d=j}if(h&&h.track&&p.tag!==null&&h.track(d.path(),L,d.length,"tagged"),h&&h.track&&p.tag!==null&&h.track(d.path(),d.offset,d.length,"content"),p.any||(p.choice===null?b=this._decodeGeneric(p.tag,d,h):b=this._decodeChoice(d,h)),d.isError(b))return b;if(!p.any&&p.choice===null&&p.children!==null&&p.children.forEach(function(j){j._decode(d,h)}),p.contains&&(p.tag==="octstr"||p.tag==="bitstr")){const H=new E(b);b=this._getUse(p.contains,d._reporterState.obj)._decode(H,h)}}return p.obj&&y&&(b=d.leaveObject(P)),p.key!==null&&(b!==null||y===!0)?d.leaveKey(D,p.key,b):D!==null&&d.exitKey(D),b},f.prototype._decodeGeneric=function(d,h,p){const b=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(h,d,b.args[0],p):/str$/.test(d)?this._decodeStr(h,d,p):d==="objid"&&b.args?this._decodeObjid(h,b.args[0],b.args[1],p):d==="objid"?this._decodeObjid(h,null,null,p):d==="gentime"||d==="utctime"?this._decodeTime(h,d,p):d==="null_"?this._decodeNull(h,p):d==="bool"?this._decodeBool(h,p):d==="objDesc"?this._decodeStr(h,d,p):d==="int"||d==="enum"?this._decodeInt(h,b.args&&b.args[0],p):b.use!==null?this._getUse(b.use,h._reporterState.obj)._decode(h,p):h.error("unknown tag: "+d)},f.prototype._getUse=function(d,h){const p=this._baseState;return p.useDecoder=this._use(d,h),_(p.useDecoder._baseState.parent===null),p.useDecoder=p.useDecoder._baseState.children[0],p.implicit!==p.useDecoder._baseState.implicit&&(p.useDecoder=p.useDecoder.clone(),p.useDecoder._baseState.implicit=p.implicit),p.useDecoder},f.prototype._decodeChoice=function(d,h){const p=this._baseState;let b=null,y=!1;return Object.keys(p.choice).some(function(D){const P=d.save(),L=p.choice[D];try{const H=L._decode(d,h);if(d.isError(H))return!1;b={type:D,value:H},y=!0}catch(H){return d.restore(P),!1}return!0},this),y?b:d.error("Choice not matched")},f.prototype._createEncoderBuffer=function(d){return new M(d,this.reporter)},f.prototype._encode=function(d,h,p){const b=this._baseState;if(b.default!==null&&b.default===d)return;const y=this._encodeValue(d,h,p);if(y!==void 0&&!this._skipDefault(y,h,p))return y},f.prototype._encodeValue=function(d,h,p){const b=this._baseState;if(b.parent===null)return b.children[0]._encode(d,h||new S);let y=null;if(this.reporter=h,b.optional&&d===void 0)if(b.default!==null)d=b.default;else return;let D=null,P=!1;if(b.any)y=this._createEncoderBuffer(d);else if(b.choice)y=this._encodeChoice(d,h);else if(b.contains)D=this._getUse(b.contains,p)._encode(d,h),P=!0;else if(b.children)D=b.children.map(function(L){if(L._baseState.tag==="null_")return L._encode(null,h,d);if(L._baseState.key===null)return h.error("Child should have a key");const H=h.enterKey(L._baseState.key);if(typeof d!="object")return h.error("Child expected, but input is not object");const j=L._encode(d[L._baseState.key],h,d);return h.leaveKey(H),j},this).filter(function(L){return L}),D=this._createEncoderBuffer(D);else if(b.tag==="seqof"||b.tag==="setof"){if(!(b.args&&b.args.length===1))return h.error("Too many args for : "+b.tag);if(!Array.isArray(d))return h.error("seqof/setof, but data is not Array");const L=this.clone();L._baseState.implicit=null,D=this._createEncoderBuffer(d.map(function(H){const j=this._baseState;return this._getUse(j.args[0],d)._encode(H,h)},L))}else b.use!==null?y=this._getUse(b.use,p)._encode(d,h):(D=this._encodePrimitive(b.tag,d),P=!0);if(!b.any&&b.choice===null){const L=b.implicit!==null?b.implicit:b.tag,H=b.implicit===null?"universal":"context";L===null?b.use===null&&h.error("Tag could be omitted only for .use()"):b.use===null&&(y=this._encodeComposite(L,P,H,D))}return b.explicit!==null&&(y=this._encodeComposite(b.explicit,!1,"context",y)),y},f.prototype._encodeChoice=function(d,h){const p=this._baseState,b=p.choice[d.type];return b||_(!1,d.type+" not found in "+JSON.stringify(Object.keys(p.choice))),b._encode(d.value,h)},f.prototype._encodePrimitive=function(d,h){const p=this._baseState;if(/str$/.test(d))return this._encodeStr(h,d);if(d==="objid"&&p.args)return this._encodeObjid(h,p.reverseArgs[0],p.args[1]);if(d==="objid")return this._encodeObjid(h,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(h,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(h,p.args&&p.reverseArgs[0]);if(d==="bool")return this._encodeBool(h);if(d==="objDesc")return this._encodeStr(h,d);throw new Error("Unsupported tag: "+d)},f.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},f.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},98465:(s,Q,R)=>{"use strict";const S=R(35717);function M(_){this._reporterState={obj:null,path:[],options:_||{},errors:[]}}Q.b=M,M.prototype.isError=function(l){return l instanceof E},M.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},M.prototype.restore=function(l){const u=this._reporterState;u.obj=l.obj,u.path=u.path.slice(0,l.pathLen)},M.prototype.enterKey=function(l){return this._reporterState.path.push(l)},M.prototype.exitKey=function(l){const u=this._reporterState;u.path=u.path.slice(0,l-1)},M.prototype.leaveKey=function(l,u,c){const f=this._reporterState;this.exitKey(l),f.obj!==null&&(f.obj[u]=c)},M.prototype.path=function(){return this._reporterState.path.join("/")},M.prototype.enterObject=function(){const l=this._reporterState,u=l.obj;return l.obj={},u},M.prototype.leaveObject=function(l){const u=this._reporterState,c=u.obj;return u.obj=l,c},M.prototype.error=function(l){let u;const c=this._reporterState,f=l instanceof E;if(f?u=l:u=new E(c.path.map(function(w){return"["+JSON.stringify(w)+"]"}).join(""),l.message||l,l.stack),!c.options.partial)throw u;return f||c.errors.push(u),u},M.prototype.wrapResult=function(l){const u=this._reporterState;return u.options.partial?{result:this.isError(l)?null:l,errors:u.errors}:l};function E(_,l){this.path=_,this.rethrow(l)}S(E,Error),E.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,E),!this.stack)try{throw new Error(this.message)}catch(u){this.stack=u.stack}return this}},70160:(s,Q)=>{"use strict";function R(S){const M={};return Object.keys(S).forEach(function(E){(E|0)==E&&(E=E|0);const _=S[E];M[_]=E}),M}Q.tagClass={0:"universal",1:"application",2:"context",3:"private"},Q.tagClassByName=R(Q.tagClass),Q.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},Q.tagByName=R(Q.tag)},36826:(s,Q,R)=>{"use strict";const S=Q;S._reverse=function(E){const _={};return Object.keys(E).forEach(function(l){(l|0)==l&&(l=l|0);const u=E[l];_[u]=l}),_},S.der=R(70160)},41671:(s,Q,R)=>{"use strict";const S=R(35717),M=R(13550),E=R(36625).C,_=R(41949),l=R(70160);function u(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new c,this.tree._init(v.body)}s.exports=u,u.prototype.decode=function(d,h){return E.isDecoderBuffer(d)||(d=new E(d,h)),this.tree._decode(d,h)};function c(v){_.call(this,"der",v)}S(c,_),c.prototype._peekTag=function(d,h,p){if(d.isEmpty())return!1;const b=d.save(),y=f(d,'Failed to peek tag: "'+h+'"');return d.isError(y)?y:(d.restore(b),y.tag===h||y.tagStr===h||y.tagStr+"of"===h||p)},c.prototype._decodeTag=function(d,h,p){const b=f(d,'Failed to decode tag of "'+h+'"');if(d.isError(b))return b;let y=w(d,b.primitive,'Failed to get length of "'+h+'"');if(d.isError(y))return y;if(!p&&b.tag!==h&&b.tagStr!==h&&b.tagStr+"of"!==h)return d.error('Failed to match tag: "'+h+'"');if(b.primitive||y!==null)return d.skip(y,'Failed to match body of: "'+h+'"');const D=d.save(),P=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(P)?P:(y=d.offset-D.offset,d.restore(D),d.skip(y,'Failed to match body of: "'+h+'"'))},c.prototype._skipUntilEnd=function(d,h){for(;;){const p=f(d,h);if(d.isError(p))return p;const b=w(d,p.primitive,h);if(d.isError(b))return b;let y;if(p.primitive||b!==null?y=d.skip(b):y=this._skipUntilEnd(d,h),d.isError(y))return y;if(p.tagStr==="end")break}},c.prototype._decodeList=function(d,h,p,b){const y=[];for(;!d.isEmpty();){const D=this._peekTag(d,"end");if(d.isError(D))return D;const P=p.decode(d,"der",b);if(d.isError(P)&&D)break;y.push(P)}return y},c.prototype._decodeStr=function(d,h){if(h==="bitstr"){const p=d.readUInt8();return d.isError(p)?p:{unused:p,data:d.raw()}}else if(h==="bmpstr"){const p=d.raw();if(p.length%2==1)return d.error("Decoding of string type: bmpstr length mismatch");let b="";for(let y=0;y<p.length/2;y++)b+=String.fromCharCode(p.readUInt16BE(y*2));return b}else if(h==="numstr"){const p=d.raw().toString("ascii");return this._isNumstr(p)?p:d.error("Decoding of string type: numstr unsupported characters")}else{if(h==="octstr")return d.raw();if(h==="objDesc")return d.raw();if(h==="printstr"){const p=d.raw().toString("ascii");return this._isPrintstr(p)?p:d.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(h)?d.raw().toString():d.error("Decoding of string type: "+h+" unsupported")}},c.prototype._decodeObjid=function(d,h,p){let b;const y=[];let D=0,P=0;for(;!d.isEmpty();)P=d.readUInt8(),D<<=7,D|=P&127,(P&128)==0&&(y.push(D),D=0);P&128&&y.push(D);const L=y[0]/40|0,H=y[0]%40;if(p?b=y:b=[L,H].concat(y.slice(1)),h){let j=h[b.join(" ")];j===void 0&&(j=h[b.join(".")]),j!==void 0&&(b=j)}return b},c.prototype._decodeTime=function(d,h){const p=d.raw().toString();let b,y,D,P,L,H;if(h==="gentime")b=p.slice(0,4)|0,y=p.slice(4,6)|0,D=p.slice(6,8)|0,P=p.slice(8,10)|0,L=p.slice(10,12)|0,H=p.slice(12,14)|0;else if(h==="utctime")b=p.slice(0,2)|0,y=p.slice(2,4)|0,D=p.slice(4,6)|0,P=p.slice(6,8)|0,L=p.slice(8,10)|0,H=p.slice(10,12)|0,b<70?b=2e3+b:b=1900+b;else return d.error("Decoding "+h+" time is not supported yet");return Date.UTC(b,y-1,D,P,L,H,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(d){const h=d.readUInt8();return d.isError(h)?h:h!==0},c.prototype._decodeInt=function(d,h){const p=d.raw();let b=new M(p);return h&&(b=h[b.toString(10)]||b),b},c.prototype._use=function(d,h){return typeof d=="function"&&(d=d(h)),d._getDecoder("der").tree};function f(v,d){let h=v.readUInt8(d);if(v.isError(h))return h;const p=l.tagClass[h>>6],b=(h&32)==0;if((h&31)==31){let D=h;for(h=0;(D&128)==128;){if(D=v.readUInt8(d),v.isError(D))return D;h<<=7,h|=D&127}}else h&=31;const y=l.tag[h];return{cls:p,primitive:b,tag:h,tagStr:y}}function w(v,d,h){let p=v.readUInt8(h);if(v.isError(p))return p;if(!d&&p===128)return null;if((p&128)==0)return p;const b=p&127;if(b>4)return v.error("length octect is too long");p=0;for(let y=0;y<b;y++){p<<=8;const D=v.readUInt8(h);if(v.isError(D))return D;p|=D}return p}},78307:(s,Q,R)=>{"use strict";const S=Q;S.der=R(41671),S.pem=R(59631)},59631:(s,Q,R)=>{"use strict";const S=R(35717),M=R(2399).Buffer,E=R(41671);function _(l){E.call(this,l),this.enc="pem"}S(_,E),s.exports=_,_.prototype.decode=function(u,c){const f=u.toString().split(/[\r\n]+/g),w=c.label.toUpperCase(),v=/^-----(BEGIN|END) ([^-]+)-----$/;let d=-1,h=-1;for(let y=0;y<f.length;y++){const D=f[y].match(v);if(D!==null&&D[2]===w)if(d===-1){if(D[1]!=="BEGIN")break;d=y}else{if(D[1]!=="END")break;h=y;break}}if(d===-1||h===-1)throw new Error("PEM section not found for: "+w);const p=f.slice(d+1,h).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const b=M.from(p,"base64");return E.prototype.decode.call(this,b,c)}},66984:(s,Q,R)=>{"use strict";const S=R(35717),M=R(2399).Buffer,E=R(41949),_=R(70160);function l(w){this.enc="der",this.name=w.name,this.entity=w,this.tree=new u,this.tree._init(w.body)}s.exports=l,l.prototype.encode=function(v,d){return this.tree._encode(v,d).join()};function u(w){E.call(this,"der",w)}S(u,E),u.prototype._encodeComposite=function(v,d,h,p){const b=f(v,d,h,this.reporter);if(p.length<128){const P=M.alloc(2);return P[0]=b,P[1]=p.length,this._createEncoderBuffer([P,p])}let y=1;for(let P=p.length;P>=256;P>>=8)y++;const D=M.alloc(1+1+y);D[0]=b,D[1]=128|y;for(let P=1+y,L=p.length;L>0;P--,L>>=8)D[P]=L&255;return this._createEncoderBuffer([D,p])},u.prototype._encodeStr=function(v,d){if(d==="bitstr")return this._createEncoderBuffer([v.unused|0,v.data]);if(d==="bmpstr"){const h=M.alloc(v.length*2);for(let p=0;p<v.length;p++)h.writeUInt16BE(v.charCodeAt(p),p*2);return this._createEncoderBuffer(h)}else return d==="numstr"?this._isNumstr(v)?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(v)?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)?this._createEncoderBuffer(v):d==="objDesc"?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: "+d+" unsupported")},u.prototype._encodeObjid=function(v,d,h){if(typeof v=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(v))return this.reporter.error("objid not found in values map");v=d[v].split(/[\s.]+/g);for(let D=0;D<v.length;D++)v[D]|=0}else if(Array.isArray(v)){v=v.slice();for(let D=0;D<v.length;D++)v[D]|=0}if(!Array.isArray(v))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(v));if(!h){if(v[1]>=40)return this.reporter.error("Second objid identifier OOB");v.splice(0,2,v[0]*40+v[1])}let p=0;for(let D=0;D<v.length;D++){let P=v[D];for(p++;P>=128;P>>=7)p++}const b=M.alloc(p);let y=b.length-1;for(let D=v.length-1;D>=0;D--){let P=v[D];for(b[y--]=P&127;(P>>=7)>0;)b[y--]=128|P&127}return this._createEncoderBuffer(b)};function c(w){return w<10?"0"+w:w}u.prototype._encodeTime=function(v,d){let h;const p=new Date(v);return d==="gentime"?h=[c(p.getUTCFullYear()),c(p.getUTCMonth()+1),c(p.getUTCDate()),c(p.getUTCHours()),c(p.getUTCMinutes()),c(p.getUTCSeconds()),"Z"].join(""):d==="utctime"?h=[c(p.getUTCFullYear()%100),c(p.getUTCMonth()+1),c(p.getUTCDate()),c(p.getUTCHours()),c(p.getUTCMinutes()),c(p.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(h,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(v,d){if(typeof v=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(v))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(v));v=d[v]}if(typeof v!="number"&&!M.isBuffer(v)){const b=v.toArray();!v.sign&&b[0]&128&&b.unshift(0),v=M.from(b)}if(M.isBuffer(v)){let b=v.length;v.length===0&&b++;const y=M.alloc(b);return v.copy(y),v.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(v<128)return this._createEncoderBuffer(v);if(v<256)return this._createEncoderBuffer([0,v]);let h=1;for(let b=v;b>=256;b>>=8)h++;const p=new Array(h);for(let b=p.length-1;b>=0;b--)p[b]=v&255,v>>=8;return p[0]&128&&p.unshift(0),this._createEncoderBuffer(M.from(p))},u.prototype._encodeBool=function(v){return this._createEncoderBuffer(v?255:0)},u.prototype._use=function(v,d){return typeof v=="function"&&(v=v(d)),v._getEncoder("der").tree},u.prototype._skipDefault=function(v,d,h){const p=this._baseState;let b;if(p.default===null)return!1;const y=v.join();if(p.defaultBuffer===void 0&&(p.defaultBuffer=this._encodeValue(p.default,d,h).join()),y.length!==p.defaultBuffer.length)return!1;for(b=0;b<y.length;b++)if(y[b]!==p.defaultBuffer[b])return!1;return!0};function f(w,v,d,h){let p;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),_.tagByName.hasOwnProperty(w))p=_.tagByName[w];else if(typeof w=="number"&&(w|0)===w)p=w;else return h.error("Unknown tag: "+w);return p>=31?h.error("Multi-octet tag encoding unsupported"):(v||(p|=32),p|=_.tagClassByName[d||"universal"]<<6,p)}},56579:(s,Q,R)=>{"use strict";const S=Q;S.der=R(66984),S.pem=R(2883)},2883:(s,Q,R)=>{"use strict";const S=R(35717),M=R(66984);function E(_){M.call(this,_),this.enc="pem"}S(E,M),s.exports=E,E.prototype.encode=function(l,u){const f=M.prototype.encode.call(this,l).toString("base64"),w=["-----BEGIN "+u.label+"-----"];for(let v=0;v<f.length;v+=64)w.push(f.slice(v,v+64));return w.push("-----END "+u.label+"-----"),w.join(`
`)}},9669:(s,Q,R)=>{s.exports=R(51609)},55448:(s,Q,R)=>{"use strict";var S=R(64867),M=R(36026),E=R(4372),_=R(15327),l=R(94097),u=R(84109),c=R(67985),f=R(85061);s.exports=function(v){return new Promise(function(h,p){var b=v.data,y=v.headers,D=v.responseType;S.isFormData(b)&&delete y["Content-Type"];var P=new XMLHttpRequest;if(v.auth){var L=v.auth.username||"",H=v.auth.password?unescape(encodeURIComponent(v.auth.password)):"";y.Authorization="Basic "+btoa(L+":"+H)}var j=l(v.baseURL,v.url);P.open(v.method.toUpperCase(),_(j,v.params,v.paramsSerializer),!0),P.timeout=v.timeout;function V(){if(!!P){var K="getAllResponseHeaders"in P?u(P.getAllResponseHeaders()):null,ae=!D||D==="text"||D==="json"?P.responseText:P.response,ne={data:ae,status:P.status,statusText:P.statusText,headers:K,config:v,request:P};M(h,p,ne),P=null}}if("onloadend"in P?P.onloadend=V:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(V)},P.onabort=function(){!P||(p(f("Request aborted",v,"ECONNABORTED",P)),P=null)},P.onerror=function(){p(f("Network Error",v,null,P)),P=null},P.ontimeout=function(){var ae="timeout of "+v.timeout+"ms exceeded";v.timeoutErrorMessage&&(ae=v.timeoutErrorMessage),p(f(ae,v,v.transitional&&v.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",P)),P=null},S.isStandardBrowserEnv()){var Y=(v.withCredentials||c(j))&&v.xsrfCookieName?E.read(v.xsrfCookieName):void 0;Y&&(y[v.xsrfHeaderName]=Y)}"setRequestHeader"in P&&S.forEach(y,function(ae,ne){typeof b=="undefined"&&ne.toLowerCase()==="content-type"?delete y[ne]:P.setRequestHeader(ne,ae)}),S.isUndefined(v.withCredentials)||(P.withCredentials=!!v.withCredentials),D&&D!=="json"&&(P.responseType=v.responseType),typeof v.onDownloadProgress=="function"&&P.addEventListener("progress",v.onDownloadProgress),typeof v.onUploadProgress=="function"&&P.upload&&P.upload.addEventListener("progress",v.onUploadProgress),v.cancelToken&&v.cancelToken.promise.then(function(ae){!P||(P.abort(),p(ae),P=null)}),b||(b=null),P.send(b)})}},51609:(s,Q,R)=>{"use strict";var S=R(64867),M=R(91849),E=R(30321),_=R(47185),l=R(45655);function u(f){var w=new E(f),v=M(E.prototype.request,w);return S.extend(v,E.prototype,w),S.extend(v,w),v}var c=u(l);c.Axios=E,c.create=function(w){return u(_(c.defaults,w))},c.Cancel=R(65263),c.CancelToken=R(14972),c.isCancel=R(26502),c.all=function(w){return Promise.all(w)},c.spread=R(8713),c.isAxiosError=R(16268),s.exports=c,s.exports.default=c},65263:s=>{"use strict";function Q(R){this.message=R}Q.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Q.prototype.__CANCEL__=!0,s.exports=Q},14972:(s,Q,R)=>{"use strict";var S=R(65263);function M(E){if(typeof E!="function")throw new TypeError("executor must be a function.");var _;this.promise=new Promise(function(c){_=c});var l=this;E(function(c){l.reason||(l.reason=new S(c),_(l.reason))})}M.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},M.source=function(){var _,l=new M(function(c){_=c});return{token:l,cancel:_}},s.exports=M},26502:s=>{"use strict";s.exports=function(R){return!!(R&&R.__CANCEL__)}},30321:(s,Q,R)=>{"use strict";var S=R(64867),M=R(15327),E=R(80782),_=R(13572),l=R(47185),u=R(54875),c=u.validators;function f(w){this.defaults=w,this.interceptors={request:new E,response:new E}}f.prototype.request=function(v){typeof v=="string"?(v=arguments[1]||{},v.url=arguments[0]):v=v||{},v=l(this.defaults,v),v.method?v.method=v.method.toLowerCase():this.defaults.method?v.method=this.defaults.method.toLowerCase():v.method="get";var d=v.transitional;d!==void 0&&u.assertOptions(d,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var h=[],p=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(v)===!1||(p=p&&V.synchronous,h.unshift(V.fulfilled,V.rejected))});var b=[];this.interceptors.response.forEach(function(V){b.push(V.fulfilled,V.rejected)});var y;if(!p){var D=[_,void 0];for(Array.prototype.unshift.apply(D,h),D=D.concat(b),y=Promise.resolve(v);D.length;)y=y.then(D.shift(),D.shift());return y}for(var P=v;h.length;){var L=h.shift(),H=h.shift();try{P=L(P)}catch(j){H(j);break}}try{y=_(P)}catch(j){return Promise.reject(j)}for(;b.length;)y=y.then(b.shift(),b.shift());return y},f.prototype.getUri=function(v){return v=l(this.defaults,v),M(v.url,v.params,v.paramsSerializer).replace(/^\?/,"")},S.forEach(["delete","get","head","options"],function(v){f.prototype[v]=function(d,h){return this.request(l(h||{},{method:v,url:d,data:(h||{}).data}))}}),S.forEach(["post","put","patch"],function(v){f.prototype[v]=function(d,h,p){return this.request(l(p||{},{method:v,url:d,data:h}))}}),s.exports=f},80782:(s,Q,R)=>{"use strict";var S=R(64867);function M(){this.handlers=[]}M.prototype.use=function(_,l,u){return this.handlers.push({fulfilled:_,rejected:l,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1},M.prototype.eject=function(_){this.handlers[_]&&(this.handlers[_]=null)},M.prototype.forEach=function(_){S.forEach(this.handlers,function(u){u!==null&&_(u)})},s.exports=M},94097:(s,Q,R)=>{"use strict";var S=R(91793),M=R(7303);s.exports=function(_,l){return _&&!S(l)?M(_,l):l}},85061:(s,Q,R)=>{"use strict";var S=R(80481);s.exports=function(E,_,l,u,c){var f=new Error(E);return S(f,_,l,u,c)}},13572:(s,Q,R)=>{"use strict";var S=R(64867),M=R(18527),E=R(26502),_=R(45655);function l(u){u.cancelToken&&u.cancelToken.throwIfRequested()}s.exports=function(c){l(c),c.headers=c.headers||{},c.data=M.call(c,c.data,c.headers,c.transformRequest),c.headers=S.merge(c.headers.common||{},c.headers[c.method]||{},c.headers),S.forEach(["delete","get","head","post","put","patch","common"],function(v){delete c.headers[v]});var f=c.adapter||_.adapter;return f(c).then(function(v){return l(c),v.data=M.call(c,v.data,v.headers,c.transformResponse),v},function(v){return E(v)||(l(c),v&&v.response&&(v.response.data=M.call(c,v.response.data,v.response.headers,c.transformResponse))),Promise.reject(v)})}},80481:s=>{"use strict";s.exports=function(R,S,M,E,_){return R.config=S,M&&(R.code=M),R.request=E,R.response=_,R.isAxiosError=!0,R.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},R}},47185:(s,Q,R)=>{"use strict";var S=R(64867);s.exports=function(E,_){_=_||{};var l={},u=["url","method","data"],c=["headers","auth","proxy","params"],f=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],w=["validateStatus"];function v(b,y){return S.isPlainObject(b)&&S.isPlainObject(y)?S.merge(b,y):S.isPlainObject(y)?S.merge({},y):S.isArray(y)?y.slice():y}function d(b){S.isUndefined(_[b])?S.isUndefined(E[b])||(l[b]=v(void 0,E[b])):l[b]=v(E[b],_[b])}S.forEach(u,function(y){S.isUndefined(_[y])||(l[y]=v(void 0,_[y]))}),S.forEach(c,d),S.forEach(f,function(y){S.isUndefined(_[y])?S.isUndefined(E[y])||(l[y]=v(void 0,E[y])):l[y]=v(void 0,_[y])}),S.forEach(w,function(y){y in _?l[y]=v(E[y],_[y]):y in E&&(l[y]=v(void 0,E[y]))});var h=u.concat(c).concat(f).concat(w),p=Object.keys(E).concat(Object.keys(_)).filter(function(y){return h.indexOf(y)===-1});return S.forEach(p,d),l}},36026:(s,Q,R)=>{"use strict";var S=R(85061);s.exports=function(E,_,l){var u=l.config.validateStatus;!l.status||!u||u(l.status)?E(l):_(S("Request failed with status code "+l.status,l.config,null,l.request,l))}},18527:(s,Q,R)=>{"use strict";var S=R(64867),M=R(45655);s.exports=function(_,l,u){var c=this||M;return S.forEach(u,function(w){_=w.call(c,_,l)}),_}},45655:(s,Q,R)=>{"use strict";var S=R(34155),M=R(64867),E=R(16016),_=R(80481),l={"Content-Type":"application/x-www-form-urlencoded"};function u(v,d){!M.isUndefined(v)&&M.isUndefined(v["Content-Type"])&&(v["Content-Type"]=d)}function c(){var v;return(typeof XMLHttpRequest!="undefined"||typeof S!="undefined"&&Object.prototype.toString.call(S)==="[object process]")&&(v=R(55448)),v}function f(v,d,h){if(M.isString(v))try{return(d||JSON.parse)(v),M.trim(v)}catch(p){if(p.name!=="SyntaxError")throw p}return(h||JSON.stringify)(v)}var w={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:c(),transformRequest:[function(d,h){return E(h,"Accept"),E(h,"Content-Type"),M.isFormData(d)||M.isArrayBuffer(d)||M.isBuffer(d)||M.isStream(d)||M.isFile(d)||M.isBlob(d)?d:M.isArrayBufferView(d)?d.buffer:M.isURLSearchParams(d)?(u(h,"application/x-www-form-urlencoded;charset=utf-8"),d.toString()):M.isObject(d)||h&&h["Content-Type"]==="application/json"?(u(h,"application/json"),f(d)):d}],transformResponse:[function(d){var h=this.transitional,p=h&&h.silentJSONParsing,b=h&&h.forcedJSONParsing,y=!p&&this.responseType==="json";if(y||b&&M.isString(d)&&d.length)try{return JSON.parse(d)}catch(D){if(y)throw D.name==="SyntaxError"?_(D,this,"E_JSON_PARSE"):D}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(d){return d>=200&&d<300}};w.headers={common:{Accept:"application/json, text/plain, */*"}},M.forEach(["delete","get","head"],function(d){w.headers[d]={}}),M.forEach(["post","put","patch"],function(d){w.headers[d]=M.merge(l)}),s.exports=w},91849:s=>{"use strict";s.exports=function(R,S){return function(){for(var E=new Array(arguments.length),_=0;_<E.length;_++)E[_]=arguments[_];return R.apply(S,E)}}},15327:(s,Q,R)=>{"use strict";var S=R(64867);function M(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}s.exports=function(_,l,u){if(!l)return _;var c;if(u)c=u(l);else if(S.isURLSearchParams(l))c=l.toString();else{var f=[];S.forEach(l,function(d,h){d===null||typeof d=="undefined"||(S.isArray(d)?h=h+"[]":d=[d],S.forEach(d,function(b){S.isDate(b)?b=b.toISOString():S.isObject(b)&&(b=JSON.stringify(b)),f.push(M(h)+"="+M(b))}))}),c=f.join("&")}if(c){var w=_.indexOf("#");w!==-1&&(_=_.slice(0,w)),_+=(_.indexOf("?")===-1?"?":"&")+c}return _}},7303:s=>{"use strict";s.exports=function(R,S){return S?R.replace(/\/+$/,"")+"/"+S.replace(/^\/+/,""):R}},4372:(s,Q,R)=>{"use strict";var S=R(64867);s.exports=S.isStandardBrowserEnv()?function(){return{write:function(_,l,u,c,f,w){var v=[];v.push(_+"="+encodeURIComponent(l)),S.isNumber(u)&&v.push("expires="+new Date(u).toGMTString()),S.isString(c)&&v.push("path="+c),S.isString(f)&&v.push("domain="+f),w===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(_){var l=document.cookie.match(new RegExp("(^|;\\s*)("+_+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(_){this.write(_,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},91793:s=>{"use strict";s.exports=function(R){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(R)}},16268:s=>{"use strict";s.exports=function(R){return typeof R=="object"&&R.isAxiosError===!0}},67985:(s,Q,R)=>{"use strict";var S=R(64867);s.exports=S.isStandardBrowserEnv()?function(){var E=/(msie|trident)/i.test(navigator.userAgent),_=document.createElement("a"),l;function u(c){var f=c;return E&&(_.setAttribute("href",f),f=_.href),_.setAttribute("href",f),{href:_.href,protocol:_.protocol?_.protocol.replace(/:$/,""):"",host:_.host,search:_.search?_.search.replace(/^\?/,""):"",hash:_.hash?_.hash.replace(/^#/,""):"",hostname:_.hostname,port:_.port,pathname:_.pathname.charAt(0)==="/"?_.pathname:"/"+_.pathname}}return l=u(window.location.href),function(f){var w=S.isString(f)?u(f):f;return w.protocol===l.protocol&&w.host===l.host}}():function(){return function(){return!0}}()},16016:(s,Q,R)=>{"use strict";var S=R(64867);s.exports=function(E,_){S.forEach(E,function(u,c){c!==_&&c.toUpperCase()===_.toUpperCase()&&(E[_]=u,delete E[c])})}},84109:(s,Q,R)=>{"use strict";var S=R(64867),M=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];s.exports=function(_){var l={},u,c,f;return _&&S.forEach(_.split(`
`),function(v){if(f=v.indexOf(":"),u=S.trim(v.substr(0,f)).toLowerCase(),c=S.trim(v.substr(f+1)),u){if(l[u]&&M.indexOf(u)>=0)return;u==="set-cookie"?l[u]=(l[u]?l[u]:[]).concat([c]):l[u]=l[u]?l[u]+", "+c:c}}),l}},8713:s=>{"use strict";s.exports=function(R){return function(M){return R.apply(null,M)}}},54875:(s,Q,R)=>{"use strict";var S=R(88593),M={};["object","boolean","number","function","string","symbol"].forEach(function(c,f){M[c]=function(v){return typeof v===c||"a"+(f<1?"n ":" ")+c}});var E={},_=S.version.split(".");function l(c,f){for(var w=f?f.split("."):_,v=c.split("."),d=0;d<3;d++){if(w[d]>v[d])return!0;if(w[d]<v[d])return!1}return!1}M.transitional=function(f,w,v){var d=w&&l(w);function h(p,b){return"[Axios v"+S.version+"] Transitional option '"+p+"'"+b+(v?". "+v:"")}return function(p,b,y){if(f===!1)throw new Error(h(b," has been removed in "+w));return d&&!E[b]&&(E[b]=!0,console.warn(h(b," has been deprecated since v"+w+" and will be removed in the near future"))),f?f(p,b,y):!0}};function u(c,f,w){if(typeof c!="object")throw new TypeError("options must be an object");for(var v=Object.keys(c),d=v.length;d-- >0;){var h=v[d],p=f[h];if(p){var b=c[h],y=b===void 0||p(b,h,c);if(y!==!0)throw new TypeError("option "+h+" must be "+y);continue}if(w!==!0)throw Error("Unknown option "+h)}}s.exports={isOlderVersion:l,assertOptions:u,validators:M}},64867:(s,Q,R)=>{"use strict";var S=R(91849),M=Object.prototype.toString;function E(ne){return M.call(ne)==="[object Array]"}function _(ne){return typeof ne=="undefined"}function l(ne){return ne!==null&&!_(ne)&&ne.constructor!==null&&!_(ne.constructor)&&typeof ne.constructor.isBuffer=="function"&&ne.constructor.isBuffer(ne)}function u(ne){return M.call(ne)==="[object ArrayBuffer]"}function c(ne){return typeof FormData!="undefined"&&ne instanceof FormData}function f(ne){var ce;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ce=ArrayBuffer.isView(ne):ce=ne&&ne.buffer&&ne.buffer instanceof ArrayBuffer,ce}function w(ne){return typeof ne=="string"}function v(ne){return typeof ne=="number"}function d(ne){return ne!==null&&typeof ne=="object"}function h(ne){if(M.call(ne)!=="[object Object]")return!1;var ce=Object.getPrototypeOf(ne);return ce===null||ce===Object.prototype}function p(ne){return M.call(ne)==="[object Date]"}function b(ne){return M.call(ne)==="[object File]"}function y(ne){return M.call(ne)==="[object Blob]"}function D(ne){return M.call(ne)==="[object Function]"}function P(ne){return d(ne)&&D(ne.pipe)}function L(ne){return typeof URLSearchParams!="undefined"&&ne instanceof URLSearchParams}function H(ne){return ne.trim?ne.trim():ne.replace(/^\s+|\s+$/g,"")}function j(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function V(ne,ce){if(!(ne===null||typeof ne=="undefined"))if(typeof ne!="object"&&(ne=[ne]),E(ne))for(var re=0,I=ne.length;re<I;re++)ce.call(null,ne[re],re,ne);else for(var U in ne)Object.prototype.hasOwnProperty.call(ne,U)&&ce.call(null,ne[U],U,ne)}function Y(){var ne={};function ce(U,C){h(ne[C])&&h(U)?ne[C]=Y(ne[C],U):h(U)?ne[C]=Y({},U):E(U)?ne[C]=U.slice():ne[C]=U}for(var re=0,I=arguments.length;re<I;re++)V(arguments[re],ce);return ne}function K(ne,ce,re){return V(ce,function(U,C){re&&typeof U=="function"?ne[C]=S(U,re):ne[C]=U}),ne}function ae(ne){return ne.charCodeAt(0)===65279&&(ne=ne.slice(1)),ne}s.exports={isArray:E,isArrayBuffer:u,isBuffer:l,isFormData:c,isArrayBufferView:f,isString:w,isNumber:v,isObject:d,isPlainObject:h,isUndefined:_,isDate:p,isFile:b,isBlob:y,isFunction:D,isStream:P,isURLSearchParams:L,isStandardBrowserEnv:j,forEach:V,merge:Y,extend:K,trim:H,stripBOM:ae}},79742:(s,Q)=>{"use strict";Q.byteLength=c,Q.toByteArray=w,Q.fromByteArray=h;for(var R=[],S=[],M=typeof Uint8Array!="undefined"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,l=E.length;_<l;++_)R[_]=E[_],S[E.charCodeAt(_)]=_;S["-".charCodeAt(0)]=62,S["_".charCodeAt(0)]=63;function u(p){var b=p.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=p.indexOf("=");y===-1&&(y=b);var D=y===b?0:4-y%4;return[y,D]}function c(p){var b=u(p),y=b[0],D=b[1];return(y+D)*3/4-D}function f(p,b,y){return(b+y)*3/4-y}function w(p){var b,y=u(p),D=y[0],P=y[1],L=new M(f(p,D,P)),H=0,j=P>0?D-4:D,V;for(V=0;V<j;V+=4)b=S[p.charCodeAt(V)]<<18|S[p.charCodeAt(V+1)]<<12|S[p.charCodeAt(V+2)]<<6|S[p.charCodeAt(V+3)],L[H++]=b>>16&255,L[H++]=b>>8&255,L[H++]=b&255;return P===2&&(b=S[p.charCodeAt(V)]<<2|S[p.charCodeAt(V+1)]>>4,L[H++]=b&255),P===1&&(b=S[p.charCodeAt(V)]<<10|S[p.charCodeAt(V+1)]<<4|S[p.charCodeAt(V+2)]>>2,L[H++]=b>>8&255,L[H++]=b&255),L}function v(p){return R[p>>18&63]+R[p>>12&63]+R[p>>6&63]+R[p&63]}function d(p,b,y){for(var D,P=[],L=b;L<y;L+=3)D=(p[L]<<16&16711680)+(p[L+1]<<8&65280)+(p[L+2]&255),P.push(v(D));return P.join("")}function h(p){for(var b,y=p.length,D=y%3,P=[],L=16383,H=0,j=y-D;H<j;H+=L)P.push(d(p,H,H+L>j?j:H+L));return D===1?(b=p[y-1],P.push(R[b>>2]+R[b<<4&63]+"==")):D===2&&(b=(p[y-2]<<8)+p[y-1],P.push(R[b>>10]+R[b>>4&63]+R[b<<2&63]+"=")),P.join("")}},85186:(s,Q,R)=>{var S=R(23698),M=R(92505),E=R(26417),_=Function.bind,l=_.bind(_);function u(d,h,p){var b=l(E,null).apply(null,p?[h,p]:[h]);d.api={remove:b},d.remove=b,["before","error","after","wrap"].forEach(function(y){var D=p?[h,y,p]:[h,y];d[y]=d.api[y]=l(M,null).apply(null,D)})}function c(){var d="h",h={registry:{}},p=S.bind(null,h,d);return u(p,h,d),p}function f(){var d={registry:{}},h=S.bind(null,d);return u(h,d),h}var w=!1;function v(){return w||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),w=!0),f()}v.Singular=c.bind(),v.Collection=f.bind(),s.exports=v,s.exports.Hook=v,s.exports.Singular=v.Singular,s.exports.Collection=v.Collection},92505:s=>{s.exports=Q;function Q(R,S,M,E){var _=E;R.registry[M]||(R.registry[M]=[]),S==="before"&&(E=function(l,u){return Promise.resolve().then(_.bind(null,u)).then(l.bind(null,u))}),S==="after"&&(E=function(l,u){var c;return Promise.resolve().then(l.bind(null,u)).then(function(f){return c=f,_(c,u)}).then(function(){return c})}),S==="error"&&(E=function(l,u){return Promise.resolve().then(l.bind(null,u)).catch(function(c){return _(c,u)})}),R.registry[M].push({hook:E,orig:_})}},23698:s=>{s.exports=Q;function Q(R,S,M,E){if(typeof M!="function")throw new Error("method for before hook must be a function");return E||(E={}),Array.isArray(S)?S.reverse().reduce(function(_,l){return Q.bind(null,R,l,_,E)},M)():Promise.resolve().then(function(){return R.registry[S]?R.registry[S].reduce(function(_,l){return l.hook.bind(null,_,E)},M)():M(E)})}},26417:s=>{s.exports=Q;function Q(R,S,M){if(!!R.registry[S]){var E=R.registry[S].map(function(_){return _.orig}).indexOf(M);E!==-1&&R.registry[S].splice(E,1)}}},13550:function(s,Q,R){s=R.nmd(s),function(S,M){"use strict";function E(re,I){if(!re)throw new Error(I||"Assertion failed")}function _(re,I){re.super_=I;var U=function(){};U.prototype=I.prototype,re.prototype=new U,re.prototype.constructor=re}function l(re,I,U){if(l.isBN(re))return re;this.negative=0,this.words=null,this.length=0,this.red=null,re!==null&&((I==="le"||I==="be")&&(U=I,I=10),this._init(re||0,I||10,U||"be"))}typeof S=="object"?S.exports=l:M.BN=l,l.BN=l,l.wordSize=26;var u;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?u=window.Buffer:u=R(46601).Buffer}catch(re){}l.isBN=function(I){return I instanceof l?!0:I!==null&&typeof I=="object"&&I.constructor.wordSize===l.wordSize&&Array.isArray(I.words)},l.max=function(I,U){return I.cmp(U)>0?I:U},l.min=function(I,U){return I.cmp(U)<0?I:U},l.prototype._init=function(I,U,C){if(typeof I=="number")return this._initNumber(I,U,C);if(typeof I=="object")return this._initArray(I,U,C);U==="hex"&&(U=16),E(U===(U|0)&&U>=2&&U<=36),I=I.toString().replace(/\s+/g,"");var o=0;I[0]==="-"&&(o++,this.negative=1),o<I.length&&(U===16?this._parseHex(I,o,C):(this._parseBase(I,U,o),C==="le"&&this._initArray(this.toArray(),U,C)))},l.prototype._initNumber=function(I,U,C){I<0&&(this.negative=1,I=-I),I<67108864?(this.words=[I&67108863],this.length=1):I<4503599627370496?(this.words=[I&67108863,I/67108864&67108863],this.length=2):(E(I<9007199254740992),this.words=[I&67108863,I/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),U,C)},l.prototype._initArray=function(I,U,C){if(E(typeof I.length=="number"),I.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(I.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var g,N,x=0;if(C==="be")for(o=I.length-1,g=0;o>=0;o-=3)N=I[o]|I[o-1]<<8|I[o-2]<<16,this.words[g]|=N<<x&67108863,this.words[g+1]=N>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);else if(C==="le")for(o=0,g=0;o<I.length;o+=3)N=I[o]|I[o+1]<<8|I[o+2]<<16,this.words[g]|=N<<x&67108863,this.words[g+1]=N>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);return this.strip()};function c(re,I){var U=re.charCodeAt(I);return U>=65&&U<=70?U-55:U>=97&&U<=102?U-87:U-48&15}function f(re,I,U){var C=c(re,U);return U-1>=I&&(C|=c(re,U-1)<<4),C}l.prototype._parseHex=function(I,U,C){this.length=Math.ceil((I.length-U)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var g=0,N=0,x;if(C==="be")for(o=I.length-1;o>=U;o-=2)x=f(I,U,o)<<g,this.words[N]|=x&67108863,g>=18?(g-=18,N+=1,this.words[N]|=x>>>26):g+=8;else{var F=I.length-U;for(o=F%2==0?U+1:U;o<I.length;o+=2)x=f(I,U,o)<<g,this.words[N]|=x&67108863,g>=18?(g-=18,N+=1,this.words[N]|=x>>>26):g+=8}this.strip()};function w(re,I,U,C){for(var o=0,g=Math.min(re.length,U),N=I;N<g;N++){var x=re.charCodeAt(N)-48;o*=C,x>=49?o+=x-49+10:x>=17?o+=x-17+10:o+=x}return o}l.prototype._parseBase=function(I,U,C){this.words=[0],this.length=1;for(var o=0,g=1;g<=67108863;g*=U)o++;o--,g=g/U|0;for(var N=I.length-C,x=N%o,F=Math.min(N,N-x)+C,A=0,$=C;$<F;$+=o)A=w(I,$,$+o,U),this.imuln(g),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A);if(x!==0){var z=1;for(A=w(I,$,I.length,U),$=0;$<x;$++)z*=U;this.imuln(z),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A)}this.strip()},l.prototype.copy=function(I){I.words=new Array(this.length);for(var U=0;U<this.length;U++)I.words[U]=this.words[U];I.length=this.length,I.negative=this.negative,I.red=this.red},l.prototype.clone=function(){var I=new l(null);return this.copy(I),I},l.prototype._expand=function(I){for(;this.length<I;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(I,U){I=I||10,U=U|0||1;var C;if(I===16||I==="hex"){C="";for(var o=0,g=0,N=0;N<this.length;N++){var x=this.words[N],F=((x<<o|g)&16777215).toString(16);g=x>>>24-o&16777215,g!==0||N!==this.length-1?C=v[6-F.length]+F+C:C=F+C,o+=2,o>=26&&(o-=26,N--)}for(g!==0&&(C=g.toString(16)+C);C.length%U!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(I===(I|0)&&I>=2&&I<=36){var A=d[I],$=h[I];C="";var z=this.clone();for(z.negative=0;!z.isZero();){var T=z.modn($).toString(I);z=z.idivn($),z.isZero()?C=T+C:C=v[A-T.length]+T+C}for(this.isZero()&&(C="0"+C);C.length%U!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}E(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var I=this.words[0];return this.length===2?I+=this.words[1]*67108864:this.length===3&&this.words[2]===1?I+=4503599627370496+this.words[1]*67108864:this.length>2&&E(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-I:I},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(I,U){return E(typeof u!="undefined"),this.toArrayLike(u,I,U)},l.prototype.toArray=function(I,U){return this.toArrayLike(Array,I,U)},l.prototype.toArrayLike=function(I,U,C){var o=this.byteLength(),g=C||Math.max(1,o);E(o<=g,"byte array longer than desired length"),E(g>0,"Requested array length <= 0"),this.strip();var N=U==="le",x=new I(g),F,A,$=this.clone();if(N){for(A=0;!$.isZero();A++)F=$.andln(255),$.iushrn(8),x[A]=F;for(;A<g;A++)x[A]=0}else{for(A=0;A<g-o;A++)x[A]=0;for(A=0;!$.isZero();A++)F=$.andln(255),$.iushrn(8),x[g-A-1]=F}return x},Math.clz32?l.prototype._countBits=function(I){return 32-Math.clz32(I)}:l.prototype._countBits=function(I){var U=I,C=0;return U>=4096&&(C+=13,U>>>=13),U>=64&&(C+=7,U>>>=7),U>=8&&(C+=4,U>>>=4),U>=2&&(C+=2,U>>>=2),C+U},l.prototype._zeroBits=function(I){if(I===0)return 26;var U=I,C=0;return(U&8191)==0&&(C+=13,U>>>=13),(U&127)==0&&(C+=7,U>>>=7),(U&15)==0&&(C+=4,U>>>=4),(U&3)==0&&(C+=2,U>>>=2),(U&1)==0&&C++,C},l.prototype.bitLength=function(){var I=this.words[this.length-1],U=this._countBits(I);return(this.length-1)*26+U};function p(re){for(var I=new Array(re.bitLength()),U=0;U<I.length;U++){var C=U/26|0,o=U%26;I[U]=(re.words[C]&1<<o)>>>o}return I}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var I=0,U=0;U<this.length;U++){var C=this._zeroBits(this.words[U]);if(I+=C,C!==26)break}return I},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(I){return this.negative!==0?this.abs().inotn(I).iaddn(1):this.clone()},l.prototype.fromTwos=function(I){return this.testn(I-1)?this.notn(I).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(I){for(;this.length<I.length;)this.words[this.length++]=0;for(var U=0;U<I.length;U++)this.words[U]=this.words[U]|I.words[U];return this.strip()},l.prototype.ior=function(I){return E((this.negative|I.negative)==0),this.iuor(I)},l.prototype.or=function(I){return this.length>I.length?this.clone().ior(I):I.clone().ior(this)},l.prototype.uor=function(I){return this.length>I.length?this.clone().iuor(I):I.clone().iuor(this)},l.prototype.iuand=function(I){var U;this.length>I.length?U=I:U=this;for(var C=0;C<U.length;C++)this.words[C]=this.words[C]&I.words[C];return this.length=U.length,this.strip()},l.prototype.iand=function(I){return E((this.negative|I.negative)==0),this.iuand(I)},l.prototype.and=function(I){return this.length>I.length?this.clone().iand(I):I.clone().iand(this)},l.prototype.uand=function(I){return this.length>I.length?this.clone().iuand(I):I.clone().iuand(this)},l.prototype.iuxor=function(I){var U,C;this.length>I.length?(U=this,C=I):(U=I,C=this);for(var o=0;o<C.length;o++)this.words[o]=U.words[o]^C.words[o];if(this!==U)for(;o<U.length;o++)this.words[o]=U.words[o];return this.length=U.length,this.strip()},l.prototype.ixor=function(I){return E((this.negative|I.negative)==0),this.iuxor(I)},l.prototype.xor=function(I){return this.length>I.length?this.clone().ixor(I):I.clone().ixor(this)},l.prototype.uxor=function(I){return this.length>I.length?this.clone().iuxor(I):I.clone().iuxor(this)},l.prototype.inotn=function(I){E(typeof I=="number"&&I>=0);var U=Math.ceil(I/26)|0,C=I%26;this._expand(U),C>0&&U--;for(var o=0;o<U;o++)this.words[o]=~this.words[o]&67108863;return C>0&&(this.words[o]=~this.words[o]&67108863>>26-C),this.strip()},l.prototype.notn=function(I){return this.clone().inotn(I)},l.prototype.setn=function(I,U){E(typeof I=="number"&&I>=0);var C=I/26|0,o=I%26;return this._expand(C+1),U?this.words[C]=this.words[C]|1<<o:this.words[C]=this.words[C]&~(1<<o),this.strip()},l.prototype.iadd=function(I){var U;if(this.negative!==0&&I.negative===0)return this.negative=0,U=this.isub(I),this.negative^=1,this._normSign();if(this.negative===0&&I.negative!==0)return I.negative=0,U=this.isub(I),I.negative=1,U._normSign();var C,o;this.length>I.length?(C=this,o=I):(C=I,o=this);for(var g=0,N=0;N<o.length;N++)U=(C.words[N]|0)+(o.words[N]|0)+g,this.words[N]=U&67108863,g=U>>>26;for(;g!==0&&N<C.length;N++)U=(C.words[N]|0)+g,this.words[N]=U&67108863,g=U>>>26;if(this.length=C.length,g!==0)this.words[this.length]=g,this.length++;else if(C!==this)for(;N<C.length;N++)this.words[N]=C.words[N];return this},l.prototype.add=function(I){var U;return I.negative!==0&&this.negative===0?(I.negative=0,U=this.sub(I),I.negative^=1,U):I.negative===0&&this.negative!==0?(this.negative=0,U=I.sub(this),this.negative=1,U):this.length>I.length?this.clone().iadd(I):I.clone().iadd(this)},l.prototype.isub=function(I){if(I.negative!==0){I.negative=0;var U=this.iadd(I);return I.negative=1,U._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(I),this.negative=1,this._normSign();var C=this.cmp(I);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var o,g;C>0?(o=this,g=I):(o=I,g=this);for(var N=0,x=0;x<g.length;x++)U=(o.words[x]|0)-(g.words[x]|0)+N,N=U>>26,this.words[x]=U&67108863;for(;N!==0&&x<o.length;x++)U=(o.words[x]|0)+N,N=U>>26,this.words[x]=U&67108863;if(N===0&&x<o.length&&o!==this)for(;x<o.length;x++)this.words[x]=o.words[x];return this.length=Math.max(this.length,x),o!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(I){return this.clone().isub(I)};function b(re,I,U){U.negative=I.negative^re.negative;var C=re.length+I.length|0;U.length=C,C=C-1|0;var o=re.words[0]|0,g=I.words[0]|0,N=o*g,x=N&67108863,F=N/67108864|0;U.words[0]=x;for(var A=1;A<C;A++){for(var $=F>>>26,z=F&67108863,T=Math.min(A,I.length-1),ee=Math.max(0,A-re.length+1);ee<=T;ee++){var xe=A-ee|0;o=re.words[xe]|0,g=I.words[ee]|0,N=o*g+z,$+=N/67108864|0,z=N&67108863}U.words[A]=z|0,F=$|0}return F!==0?U.words[A]=F|0:U.length--,U.strip()}var y=function(I,U,C){var o=I.words,g=U.words,N=C.words,x=0,F,A,$,z=o[0]|0,T=z&8191,ee=z>>>13,xe=o[1]|0,ye=xe&8191,Re=xe>>>13,Ee=o[2]|0,J=Ee&8191,te=Ee>>>13,me=o[3]|0,fe=me&8191,_e=me>>>13,q=o[4]|0,B=q&8191,se=q>>>13,we=o[5]|0,ge=we&8191,pe=we>>>13,Pe=o[6]|0,Oe=Pe&8191,Ue=Pe>>>13,pt=o[7]|0,je=pt&8191,Je=pt>>>13,lt=o[8]|0,le=lt&8191,W=lt>>>13,ie=o[9]|0,he=ie&8191,Ce=ie>>>13,He=g[0]|0,Me=He&8191,$e=He>>>13,xt=g[1]|0,We=xt&8191,Be=xt>>>13,st=g[2]|0,ut=st&8191,ct=st>>>13,zt=g[3]|0,ft=zt&8191,wt=zt>>>13,Si=g[4]|0,kt=Si&8191,Ot=Si>>>13,dr=g[5]|0,Bt=dr&8191,qt=dr>>>13,Mr=g[6]|0,_t=Mr&8191,Vt=Mr>>>13,Hr=g[7]|0,Te=Hr&8191,Ve=Hr>>>13,vt=g[8]|0,Xe=vt&8191,rt=vt>>>13,Wt=g[9]|0,yt=Wt&8191,Et=Wt>>>13;C.negative=I.negative^U.negative,C.length=19,F=Math.imul(T,Me),A=Math.imul(T,$e),A=A+Math.imul(ee,Me)|0,$=Math.imul(ee,$e);var Ct=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,F=Math.imul(ye,Me),A=Math.imul(ye,$e),A=A+Math.imul(Re,Me)|0,$=Math.imul(Re,$e),F=F+Math.imul(T,We)|0,A=A+Math.imul(T,Be)|0,A=A+Math.imul(ee,We)|0,$=$+Math.imul(ee,Be)|0;var nt=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(nt>>>26)|0,nt&=67108863,F=Math.imul(J,Me),A=Math.imul(J,$e),A=A+Math.imul(te,Me)|0,$=Math.imul(te,$e),F=F+Math.imul(ye,We)|0,A=A+Math.imul(ye,Be)|0,A=A+Math.imul(Re,We)|0,$=$+Math.imul(Re,Be)|0,F=F+Math.imul(T,ut)|0,A=A+Math.imul(T,ct)|0,A=A+Math.imul(ee,ut)|0,$=$+Math.imul(ee,ct)|0;var mt=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(mt>>>26)|0,mt&=67108863,F=Math.imul(fe,Me),A=Math.imul(fe,$e),A=A+Math.imul(_e,Me)|0,$=Math.imul(_e,$e),F=F+Math.imul(J,We)|0,A=A+Math.imul(J,Be)|0,A=A+Math.imul(te,We)|0,$=$+Math.imul(te,Be)|0,F=F+Math.imul(ye,ut)|0,A=A+Math.imul(ye,ct)|0,A=A+Math.imul(Re,ut)|0,$=$+Math.imul(Re,ct)|0,F=F+Math.imul(T,ft)|0,A=A+Math.imul(T,wt)|0,A=A+Math.imul(ee,ft)|0,$=$+Math.imul(ee,wt)|0;var at=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(at>>>26)|0,at&=67108863,F=Math.imul(B,Me),A=Math.imul(B,$e),A=A+Math.imul(se,Me)|0,$=Math.imul(se,$e),F=F+Math.imul(fe,We)|0,A=A+Math.imul(fe,Be)|0,A=A+Math.imul(_e,We)|0,$=$+Math.imul(_e,Be)|0,F=F+Math.imul(J,ut)|0,A=A+Math.imul(J,ct)|0,A=A+Math.imul(te,ut)|0,$=$+Math.imul(te,ct)|0,F=F+Math.imul(ye,ft)|0,A=A+Math.imul(ye,wt)|0,A=A+Math.imul(Re,ft)|0,$=$+Math.imul(Re,wt)|0,F=F+Math.imul(T,kt)|0,A=A+Math.imul(T,Ot)|0,A=A+Math.imul(ee,kt)|0,$=$+Math.imul(ee,Ot)|0;var ei=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(ei>>>26)|0,ei&=67108863,F=Math.imul(ge,Me),A=Math.imul(ge,$e),A=A+Math.imul(pe,Me)|0,$=Math.imul(pe,$e),F=F+Math.imul(B,We)|0,A=A+Math.imul(B,Be)|0,A=A+Math.imul(se,We)|0,$=$+Math.imul(se,Be)|0,F=F+Math.imul(fe,ut)|0,A=A+Math.imul(fe,ct)|0,A=A+Math.imul(_e,ut)|0,$=$+Math.imul(_e,ct)|0,F=F+Math.imul(J,ft)|0,A=A+Math.imul(J,wt)|0,A=A+Math.imul(te,ft)|0,$=$+Math.imul(te,wt)|0,F=F+Math.imul(ye,kt)|0,A=A+Math.imul(ye,Ot)|0,A=A+Math.imul(Re,kt)|0,$=$+Math.imul(Re,Ot)|0,F=F+Math.imul(T,Bt)|0,A=A+Math.imul(T,qt)|0,A=A+Math.imul(ee,Bt)|0,$=$+Math.imul(ee,qt)|0;var Kt=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,F=Math.imul(Oe,Me),A=Math.imul(Oe,$e),A=A+Math.imul(Ue,Me)|0,$=Math.imul(Ue,$e),F=F+Math.imul(ge,We)|0,A=A+Math.imul(ge,Be)|0,A=A+Math.imul(pe,We)|0,$=$+Math.imul(pe,Be)|0,F=F+Math.imul(B,ut)|0,A=A+Math.imul(B,ct)|0,A=A+Math.imul(se,ut)|0,$=$+Math.imul(se,ct)|0,F=F+Math.imul(fe,ft)|0,A=A+Math.imul(fe,wt)|0,A=A+Math.imul(_e,ft)|0,$=$+Math.imul(_e,wt)|0,F=F+Math.imul(J,kt)|0,A=A+Math.imul(J,Ot)|0,A=A+Math.imul(te,kt)|0,$=$+Math.imul(te,Ot)|0,F=F+Math.imul(ye,Bt)|0,A=A+Math.imul(ye,qt)|0,A=A+Math.imul(Re,Bt)|0,$=$+Math.imul(Re,qt)|0,F=F+Math.imul(T,_t)|0,A=A+Math.imul(T,Vt)|0,A=A+Math.imul(ee,_t)|0,$=$+Math.imul(ee,Vt)|0;var Mt=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,F=Math.imul(je,Me),A=Math.imul(je,$e),A=A+Math.imul(Je,Me)|0,$=Math.imul(Je,$e),F=F+Math.imul(Oe,We)|0,A=A+Math.imul(Oe,Be)|0,A=A+Math.imul(Ue,We)|0,$=$+Math.imul(Ue,Be)|0,F=F+Math.imul(ge,ut)|0,A=A+Math.imul(ge,ct)|0,A=A+Math.imul(pe,ut)|0,$=$+Math.imul(pe,ct)|0,F=F+Math.imul(B,ft)|0,A=A+Math.imul(B,wt)|0,A=A+Math.imul(se,ft)|0,$=$+Math.imul(se,wt)|0,F=F+Math.imul(fe,kt)|0,A=A+Math.imul(fe,Ot)|0,A=A+Math.imul(_e,kt)|0,$=$+Math.imul(_e,Ot)|0,F=F+Math.imul(J,Bt)|0,A=A+Math.imul(J,qt)|0,A=A+Math.imul(te,Bt)|0,$=$+Math.imul(te,qt)|0,F=F+Math.imul(ye,_t)|0,A=A+Math.imul(ye,Vt)|0,A=A+Math.imul(Re,_t)|0,$=$+Math.imul(Re,Vt)|0,F=F+Math.imul(T,Te)|0,A=A+Math.imul(T,Ve)|0,A=A+Math.imul(ee,Te)|0,$=$+Math.imul(ee,Ve)|0;var fi=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(fi>>>26)|0,fi&=67108863,F=Math.imul(le,Me),A=Math.imul(le,$e),A=A+Math.imul(W,Me)|0,$=Math.imul(W,$e),F=F+Math.imul(je,We)|0,A=A+Math.imul(je,Be)|0,A=A+Math.imul(Je,We)|0,$=$+Math.imul(Je,Be)|0,F=F+Math.imul(Oe,ut)|0,A=A+Math.imul(Oe,ct)|0,A=A+Math.imul(Ue,ut)|0,$=$+Math.imul(Ue,ct)|0,F=F+Math.imul(ge,ft)|0,A=A+Math.imul(ge,wt)|0,A=A+Math.imul(pe,ft)|0,$=$+Math.imul(pe,wt)|0,F=F+Math.imul(B,kt)|0,A=A+Math.imul(B,Ot)|0,A=A+Math.imul(se,kt)|0,$=$+Math.imul(se,Ot)|0,F=F+Math.imul(fe,Bt)|0,A=A+Math.imul(fe,qt)|0,A=A+Math.imul(_e,Bt)|0,$=$+Math.imul(_e,qt)|0,F=F+Math.imul(J,_t)|0,A=A+Math.imul(J,Vt)|0,A=A+Math.imul(te,_t)|0,$=$+Math.imul(te,Vt)|0,F=F+Math.imul(ye,Te)|0,A=A+Math.imul(ye,Ve)|0,A=A+Math.imul(Re,Te)|0,$=$+Math.imul(Re,Ve)|0,F=F+Math.imul(T,Xe)|0,A=A+Math.imul(T,rt)|0,A=A+Math.imul(ee,Xe)|0,$=$+Math.imul(ee,rt)|0;var ti=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(ti>>>26)|0,ti&=67108863,F=Math.imul(he,Me),A=Math.imul(he,$e),A=A+Math.imul(Ce,Me)|0,$=Math.imul(Ce,$e),F=F+Math.imul(le,We)|0,A=A+Math.imul(le,Be)|0,A=A+Math.imul(W,We)|0,$=$+Math.imul(W,Be)|0,F=F+Math.imul(je,ut)|0,A=A+Math.imul(je,ct)|0,A=A+Math.imul(Je,ut)|0,$=$+Math.imul(Je,ct)|0,F=F+Math.imul(Oe,ft)|0,A=A+Math.imul(Oe,wt)|0,A=A+Math.imul(Ue,ft)|0,$=$+Math.imul(Ue,wt)|0,F=F+Math.imul(ge,kt)|0,A=A+Math.imul(ge,Ot)|0,A=A+Math.imul(pe,kt)|0,$=$+Math.imul(pe,Ot)|0,F=F+Math.imul(B,Bt)|0,A=A+Math.imul(B,qt)|0,A=A+Math.imul(se,Bt)|0,$=$+Math.imul(se,qt)|0,F=F+Math.imul(fe,_t)|0,A=A+Math.imul(fe,Vt)|0,A=A+Math.imul(_e,_t)|0,$=$+Math.imul(_e,Vt)|0,F=F+Math.imul(J,Te)|0,A=A+Math.imul(J,Ve)|0,A=A+Math.imul(te,Te)|0,$=$+Math.imul(te,Ve)|0,F=F+Math.imul(ye,Xe)|0,A=A+Math.imul(ye,rt)|0,A=A+Math.imul(Re,Xe)|0,$=$+Math.imul(Re,rt)|0,F=F+Math.imul(T,yt)|0,A=A+Math.imul(T,Et)|0,A=A+Math.imul(ee,yt)|0,$=$+Math.imul(ee,Et)|0;var yi=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(yi>>>26)|0,yi&=67108863,F=Math.imul(he,We),A=Math.imul(he,Be),A=A+Math.imul(Ce,We)|0,$=Math.imul(Ce,Be),F=F+Math.imul(le,ut)|0,A=A+Math.imul(le,ct)|0,A=A+Math.imul(W,ut)|0,$=$+Math.imul(W,ct)|0,F=F+Math.imul(je,ft)|0,A=A+Math.imul(je,wt)|0,A=A+Math.imul(Je,ft)|0,$=$+Math.imul(Je,wt)|0,F=F+Math.imul(Oe,kt)|0,A=A+Math.imul(Oe,Ot)|0,A=A+Math.imul(Ue,kt)|0,$=$+Math.imul(Ue,Ot)|0,F=F+Math.imul(ge,Bt)|0,A=A+Math.imul(ge,qt)|0,A=A+Math.imul(pe,Bt)|0,$=$+Math.imul(pe,qt)|0,F=F+Math.imul(B,_t)|0,A=A+Math.imul(B,Vt)|0,A=A+Math.imul(se,_t)|0,$=$+Math.imul(se,Vt)|0,F=F+Math.imul(fe,Te)|0,A=A+Math.imul(fe,Ve)|0,A=A+Math.imul(_e,Te)|0,$=$+Math.imul(_e,Ve)|0,F=F+Math.imul(J,Xe)|0,A=A+Math.imul(J,rt)|0,A=A+Math.imul(te,Xe)|0,$=$+Math.imul(te,rt)|0,F=F+Math.imul(ye,yt)|0,A=A+Math.imul(ye,Et)|0,A=A+Math.imul(Re,yt)|0,$=$+Math.imul(Re,Et)|0;var gi=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(gi>>>26)|0,gi&=67108863,F=Math.imul(he,ut),A=Math.imul(he,ct),A=A+Math.imul(Ce,ut)|0,$=Math.imul(Ce,ct),F=F+Math.imul(le,ft)|0,A=A+Math.imul(le,wt)|0,A=A+Math.imul(W,ft)|0,$=$+Math.imul(W,wt)|0,F=F+Math.imul(je,kt)|0,A=A+Math.imul(je,Ot)|0,A=A+Math.imul(Je,kt)|0,$=$+Math.imul(Je,Ot)|0,F=F+Math.imul(Oe,Bt)|0,A=A+Math.imul(Oe,qt)|0,A=A+Math.imul(Ue,Bt)|0,$=$+Math.imul(Ue,qt)|0,F=F+Math.imul(ge,_t)|0,A=A+Math.imul(ge,Vt)|0,A=A+Math.imul(pe,_t)|0,$=$+Math.imul(pe,Vt)|0,F=F+Math.imul(B,Te)|0,A=A+Math.imul(B,Ve)|0,A=A+Math.imul(se,Te)|0,$=$+Math.imul(se,Ve)|0,F=F+Math.imul(fe,Xe)|0,A=A+Math.imul(fe,rt)|0,A=A+Math.imul(_e,Xe)|0,$=$+Math.imul(_e,rt)|0,F=F+Math.imul(J,yt)|0,A=A+Math.imul(J,Et)|0,A=A+Math.imul(te,yt)|0,$=$+Math.imul(te,Et)|0;var Li=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(Li>>>26)|0,Li&=67108863,F=Math.imul(he,ft),A=Math.imul(he,wt),A=A+Math.imul(Ce,ft)|0,$=Math.imul(Ce,wt),F=F+Math.imul(le,kt)|0,A=A+Math.imul(le,Ot)|0,A=A+Math.imul(W,kt)|0,$=$+Math.imul(W,Ot)|0,F=F+Math.imul(je,Bt)|0,A=A+Math.imul(je,qt)|0,A=A+Math.imul(Je,Bt)|0,$=$+Math.imul(Je,qt)|0,F=F+Math.imul(Oe,_t)|0,A=A+Math.imul(Oe,Vt)|0,A=A+Math.imul(Ue,_t)|0,$=$+Math.imul(Ue,Vt)|0,F=F+Math.imul(ge,Te)|0,A=A+Math.imul(ge,Ve)|0,A=A+Math.imul(pe,Te)|0,$=$+Math.imul(pe,Ve)|0,F=F+Math.imul(B,Xe)|0,A=A+Math.imul(B,rt)|0,A=A+Math.imul(se,Xe)|0,$=$+Math.imul(se,rt)|0,F=F+Math.imul(fe,yt)|0,A=A+Math.imul(fe,Et)|0,A=A+Math.imul(_e,yt)|0,$=$+Math.imul(_e,Et)|0;var Ii=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,F=Math.imul(he,kt),A=Math.imul(he,Ot),A=A+Math.imul(Ce,kt)|0,$=Math.imul(Ce,Ot),F=F+Math.imul(le,Bt)|0,A=A+Math.imul(le,qt)|0,A=A+Math.imul(W,Bt)|0,$=$+Math.imul(W,qt)|0,F=F+Math.imul(je,_t)|0,A=A+Math.imul(je,Vt)|0,A=A+Math.imul(Je,_t)|0,$=$+Math.imul(Je,Vt)|0,F=F+Math.imul(Oe,Te)|0,A=A+Math.imul(Oe,Ve)|0,A=A+Math.imul(Ue,Te)|0,$=$+Math.imul(Ue,Ve)|0,F=F+Math.imul(ge,Xe)|0,A=A+Math.imul(ge,rt)|0,A=A+Math.imul(pe,Xe)|0,$=$+Math.imul(pe,rt)|0,F=F+Math.imul(B,yt)|0,A=A+Math.imul(B,Et)|0,A=A+Math.imul(se,yt)|0,$=$+Math.imul(se,Et)|0;var Mi=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,F=Math.imul(he,Bt),A=Math.imul(he,qt),A=A+Math.imul(Ce,Bt)|0,$=Math.imul(Ce,qt),F=F+Math.imul(le,_t)|0,A=A+Math.imul(le,Vt)|0,A=A+Math.imul(W,_t)|0,$=$+Math.imul(W,Vt)|0,F=F+Math.imul(je,Te)|0,A=A+Math.imul(je,Ve)|0,A=A+Math.imul(Je,Te)|0,$=$+Math.imul(Je,Ve)|0,F=F+Math.imul(Oe,Xe)|0,A=A+Math.imul(Oe,rt)|0,A=A+Math.imul(Ue,Xe)|0,$=$+Math.imul(Ue,rt)|0,F=F+Math.imul(ge,yt)|0,A=A+Math.imul(ge,Et)|0,A=A+Math.imul(pe,yt)|0,$=$+Math.imul(pe,Et)|0;var Ni=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,F=Math.imul(he,_t),A=Math.imul(he,Vt),A=A+Math.imul(Ce,_t)|0,$=Math.imul(Ce,Vt),F=F+Math.imul(le,Te)|0,A=A+Math.imul(le,Ve)|0,A=A+Math.imul(W,Te)|0,$=$+Math.imul(W,Ve)|0,F=F+Math.imul(je,Xe)|0,A=A+Math.imul(je,rt)|0,A=A+Math.imul(Je,Xe)|0,$=$+Math.imul(Je,rt)|0,F=F+Math.imul(Oe,yt)|0,A=A+Math.imul(Oe,Et)|0,A=A+Math.imul(Ue,yt)|0,$=$+Math.imul(Ue,Et)|0;var Lt=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,F=Math.imul(he,Te),A=Math.imul(he,Ve),A=A+Math.imul(Ce,Te)|0,$=Math.imul(Ce,Ve),F=F+Math.imul(le,Xe)|0,A=A+Math.imul(le,rt)|0,A=A+Math.imul(W,Xe)|0,$=$+Math.imul(W,rt)|0,F=F+Math.imul(je,yt)|0,A=A+Math.imul(je,Et)|0,A=A+Math.imul(Je,yt)|0,$=$+Math.imul(Je,Et)|0;var Qt=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,F=Math.imul(he,Xe),A=Math.imul(he,rt),A=A+Math.imul(Ce,Xe)|0,$=Math.imul(Ce,rt),F=F+Math.imul(le,yt)|0,A=A+Math.imul(le,Et)|0,A=A+Math.imul(W,yt)|0,$=$+Math.imul(W,Et)|0;var ci=(x+F|0)+((A&8191)<<13)|0;x=($+(A>>>13)|0)+(ci>>>26)|0,ci&=67108863,F=Math.imul(he,yt),A=Math.imul(he,Et),A=A+Math.imul(Ce,yt)|0,$=Math.imul(Ce,Et);var Ti=(x+F|0)+((A&8191)<<13)|0;return x=($+(A>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,N[0]=Ct,N[1]=nt,N[2]=mt,N[3]=at,N[4]=ei,N[5]=Kt,N[6]=Mt,N[7]=fi,N[8]=ti,N[9]=yi,N[10]=gi,N[11]=Li,N[12]=Ii,N[13]=Mi,N[14]=Ni,N[15]=Lt,N[16]=Qt,N[17]=ci,N[18]=Ti,x!==0&&(N[19]=x,C.length++),C};Math.imul||(y=b);function D(re,I,U){U.negative=I.negative^re.negative,U.length=re.length+I.length;for(var C=0,o=0,g=0;g<U.length-1;g++){var N=o;o=0;for(var x=C&67108863,F=Math.min(g,I.length-1),A=Math.max(0,g-re.length+1);A<=F;A++){var $=g-A,z=re.words[$]|0,T=I.words[A]|0,ee=z*T,xe=ee&67108863;N=N+(ee/67108864|0)|0,xe=xe+x|0,x=xe&67108863,N=N+(xe>>>26)|0,o+=N>>>26,N&=67108863}U.words[g]=x,C=N,N=o}return C!==0?U.words[g]=C:U.length--,U.strip()}function P(re,I,U){var C=new L;return C.mulp(re,I,U)}l.prototype.mulTo=function(I,U){var C,o=this.length+I.length;return this.length===10&&I.length===10?C=y(this,I,U):o<63?C=b(this,I,U):o<1024?C=D(this,I,U):C=P(this,I,U),C};function L(re,I){this.x=re,this.y=I}L.prototype.makeRBT=function(I){for(var U=new Array(I),C=l.prototype._countBits(I)-1,o=0;o<I;o++)U[o]=this.revBin(o,C,I);return U},L.prototype.revBin=function(I,U,C){if(I===0||I===C-1)return I;for(var o=0,g=0;g<U;g++)o|=(I&1)<<U-g-1,I>>=1;return o},L.prototype.permute=function(I,U,C,o,g,N){for(var x=0;x<N;x++)o[x]=U[I[x]],g[x]=C[I[x]]},L.prototype.transform=function(I,U,C,o,g,N){this.permute(N,I,U,C,o,g);for(var x=1;x<g;x<<=1)for(var F=x<<1,A=Math.cos(2*Math.PI/F),$=Math.sin(2*Math.PI/F),z=0;z<g;z+=F)for(var T=A,ee=$,xe=0;xe<x;xe++){var ye=C[z+xe],Re=o[z+xe],Ee=C[z+xe+x],J=o[z+xe+x],te=T*Ee-ee*J;J=T*J+ee*Ee,Ee=te,C[z+xe]=ye+Ee,o[z+xe]=Re+J,C[z+xe+x]=ye-Ee,o[z+xe+x]=Re-J,xe!==F&&(te=A*T-$*ee,ee=A*ee+$*T,T=te)}},L.prototype.guessLen13b=function(I,U){var C=Math.max(U,I)|1,o=C&1,g=0;for(C=C/2|0;C;C=C>>>1)g++;return 1<<g+1+o},L.prototype.conjugate=function(I,U,C){if(!(C<=1))for(var o=0;o<C/2;o++){var g=I[o];I[o]=I[C-o-1],I[C-o-1]=g,g=U[o],U[o]=-U[C-o-1],U[C-o-1]=-g}},L.prototype.normalize13b=function(I,U){for(var C=0,o=0;o<U/2;o++){var g=Math.round(I[2*o+1]/U)*8192+Math.round(I[2*o]/U)+C;I[o]=g&67108863,g<67108864?C=0:C=g/67108864|0}return I},L.prototype.convert13b=function(I,U,C,o){for(var g=0,N=0;N<U;N++)g=g+(I[N]|0),C[2*N]=g&8191,g=g>>>13,C[2*N+1]=g&8191,g=g>>>13;for(N=2*U;N<o;++N)C[N]=0;E(g===0),E((g&~8191)==0)},L.prototype.stub=function(I){for(var U=new Array(I),C=0;C<I;C++)U[C]=0;return U},L.prototype.mulp=function(I,U,C){var o=2*this.guessLen13b(I.length,U.length),g=this.makeRBT(o),N=this.stub(o),x=new Array(o),F=new Array(o),A=new Array(o),$=new Array(o),z=new Array(o),T=new Array(o),ee=C.words;ee.length=o,this.convert13b(I.words,I.length,x,o),this.convert13b(U.words,U.length,$,o),this.transform(x,N,F,A,o,g),this.transform($,N,z,T,o,g);for(var xe=0;xe<o;xe++){var ye=F[xe]*z[xe]-A[xe]*T[xe];A[xe]=F[xe]*T[xe]+A[xe]*z[xe],F[xe]=ye}return this.conjugate(F,A,o),this.transform(F,A,ee,N,o,g),this.conjugate(ee,N,o),this.normalize13b(ee,o),C.negative=I.negative^U.negative,C.length=I.length+U.length,C.strip()},l.prototype.mul=function(I){var U=new l(null);return U.words=new Array(this.length+I.length),this.mulTo(I,U)},l.prototype.mulf=function(I){var U=new l(null);return U.words=new Array(this.length+I.length),P(this,I,U)},l.prototype.imul=function(I){return this.clone().mulTo(I,this)},l.prototype.imuln=function(I){E(typeof I=="number"),E(I<67108864);for(var U=0,C=0;C<this.length;C++){var o=(this.words[C]|0)*I,g=(o&67108863)+(U&67108863);U>>=26,U+=o/67108864|0,U+=g>>>26,this.words[C]=g&67108863}return U!==0&&(this.words[C]=U,this.length++),this},l.prototype.muln=function(I){return this.clone().imuln(I)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(I){var U=p(I);if(U.length===0)return new l(1);for(var C=this,o=0;o<U.length&&U[o]===0;o++,C=C.sqr());if(++o<U.length)for(var g=C.sqr();o<U.length;o++,g=g.sqr())U[o]!==0&&(C=C.mul(g));return C},l.prototype.iushln=function(I){E(typeof I=="number"&&I>=0);var U=I%26,C=(I-U)/26,o=67108863>>>26-U<<26-U,g;if(U!==0){var N=0;for(g=0;g<this.length;g++){var x=this.words[g]&o,F=(this.words[g]|0)-x<<U;this.words[g]=F|N,N=x>>>26-U}N&&(this.words[g]=N,this.length++)}if(C!==0){for(g=this.length-1;g>=0;g--)this.words[g+C]=this.words[g];for(g=0;g<C;g++)this.words[g]=0;this.length+=C}return this.strip()},l.prototype.ishln=function(I){return E(this.negative===0),this.iushln(I)},l.prototype.iushrn=function(I,U,C){E(typeof I=="number"&&I>=0);var o;U?o=(U-U%26)/26:o=0;var g=I%26,N=Math.min((I-g)/26,this.length),x=67108863^67108863>>>g<<g,F=C;if(o-=N,o=Math.max(0,o),F){for(var A=0;A<N;A++)F.words[A]=this.words[A];F.length=N}if(N!==0)if(this.length>N)for(this.length-=N,A=0;A<this.length;A++)this.words[A]=this.words[A+N];else this.words[0]=0,this.length=1;var $=0;for(A=this.length-1;A>=0&&($!==0||A>=o);A--){var z=this.words[A]|0;this.words[A]=$<<26-g|z>>>g,$=z&x}return F&&$!==0&&(F.words[F.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(I,U,C){return E(this.negative===0),this.iushrn(I,U,C)},l.prototype.shln=function(I){return this.clone().ishln(I)},l.prototype.ushln=function(I){return this.clone().iushln(I)},l.prototype.shrn=function(I){return this.clone().ishrn(I)},l.prototype.ushrn=function(I){return this.clone().iushrn(I)},l.prototype.testn=function(I){E(typeof I=="number"&&I>=0);var U=I%26,C=(I-U)/26,o=1<<U;if(this.length<=C)return!1;var g=this.words[C];return!!(g&o)},l.prototype.imaskn=function(I){E(typeof I=="number"&&I>=0);var U=I%26,C=(I-U)/26;if(E(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(U!==0&&C++,this.length=Math.min(C,this.length),U!==0){var o=67108863^67108863>>>U<<U;this.words[this.length-1]&=o}return this.strip()},l.prototype.maskn=function(I){return this.clone().imaskn(I)},l.prototype.iaddn=function(I){return E(typeof I=="number"),E(I<67108864),I<0?this.isubn(-I):this.negative!==0?this.length===1&&(this.words[0]|0)<I?(this.words[0]=I-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(I),this.negative=1,this):this._iaddn(I)},l.prototype._iaddn=function(I){this.words[0]+=I;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)this.words[U]-=67108864,U===this.length-1?this.words[U+1]=1:this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},l.prototype.isubn=function(I){if(E(typeof I=="number"),E(I<67108864),I<0)return this.iaddn(-I);if(this.negative!==0)return this.negative=0,this.iaddn(I),this.negative=1,this;if(this.words[0]-=I,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},l.prototype.addn=function(I){return this.clone().iaddn(I)},l.prototype.subn=function(I){return this.clone().isubn(I)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(I,U,C){var o=I.length+C,g;this._expand(o);var N,x=0;for(g=0;g<I.length;g++){N=(this.words[g+C]|0)+x;var F=(I.words[g]|0)*U;N-=F&67108863,x=(N>>26)-(F/67108864|0),this.words[g+C]=N&67108863}for(;g<this.length-C;g++)N=(this.words[g+C]|0)+x,x=N>>26,this.words[g+C]=N&67108863;if(x===0)return this.strip();for(E(x===-1),x=0,g=0;g<this.length;g++)N=-(this.words[g]|0)+x,x=N>>26,this.words[g]=N&67108863;return this.negative=1,this.strip()},l.prototype._wordDiv=function(I,U){var C=this.length-I.length,o=this.clone(),g=I,N=g.words[g.length-1]|0,x=this._countBits(N);C=26-x,C!==0&&(g=g.ushln(C),o.iushln(C),N=g.words[g.length-1]|0);var F=o.length-g.length,A;if(U!=="mod"){A=new l(null),A.length=F+1,A.words=new Array(A.length);for(var $=0;$<A.length;$++)A.words[$]=0}var z=o.clone()._ishlnsubmul(g,1,F);z.negative===0&&(o=z,A&&(A.words[F]=1));for(var T=F-1;T>=0;T--){var ee=(o.words[g.length+T]|0)*67108864+(o.words[g.length+T-1]|0);for(ee=Math.min(ee/N|0,67108863),o._ishlnsubmul(g,ee,T);o.negative!==0;)ee--,o.negative=0,o._ishlnsubmul(g,1,T),o.isZero()||(o.negative^=1);A&&(A.words[T]=ee)}return A&&A.strip(),o.strip(),U!=="div"&&C!==0&&o.iushrn(C),{div:A||null,mod:o}},l.prototype.divmod=function(I,U,C){if(E(!I.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var o,g,N;return this.negative!==0&&I.negative===0?(N=this.neg().divmod(I,U),U!=="mod"&&(o=N.div.neg()),U!=="div"&&(g=N.mod.neg(),C&&g.negative!==0&&g.iadd(I)),{div:o,mod:g}):this.negative===0&&I.negative!==0?(N=this.divmod(I.neg(),U),U!=="mod"&&(o=N.div.neg()),{div:o,mod:N.mod}):(this.negative&I.negative)!=0?(N=this.neg().divmod(I.neg(),U),U!=="div"&&(g=N.mod.neg(),C&&g.negative!==0&&g.isub(I)),{div:N.div,mod:g}):I.length>this.length||this.cmp(I)<0?{div:new l(0),mod:this}:I.length===1?U==="div"?{div:this.divn(I.words[0]),mod:null}:U==="mod"?{div:null,mod:new l(this.modn(I.words[0]))}:{div:this.divn(I.words[0]),mod:new l(this.modn(I.words[0]))}:this._wordDiv(I,U)},l.prototype.div=function(I){return this.divmod(I,"div",!1).div},l.prototype.mod=function(I){return this.divmod(I,"mod",!1).mod},l.prototype.umod=function(I){return this.divmod(I,"mod",!0).mod},l.prototype.divRound=function(I){var U=this.divmod(I);if(U.mod.isZero())return U.div;var C=U.div.negative!==0?U.mod.isub(I):U.mod,o=I.ushrn(1),g=I.andln(1),N=C.cmp(o);return N<0||g===1&&N===0?U.div:U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},l.prototype.modn=function(I){E(I<=67108863);for(var U=(1<<26)%I,C=0,o=this.length-1;o>=0;o--)C=(U*C+(this.words[o]|0))%I;return C},l.prototype.idivn=function(I){E(I<=67108863);for(var U=0,C=this.length-1;C>=0;C--){var o=(this.words[C]|0)+U*67108864;this.words[C]=o/I|0,U=o%I}return this.strip()},l.prototype.divn=function(I){return this.clone().idivn(I)},l.prototype.egcd=function(I){E(I.negative===0),E(!I.isZero());var U=this,C=I.clone();U.negative!==0?U=U.umod(I):U=U.clone();for(var o=new l(1),g=new l(0),N=new l(0),x=new l(1),F=0;U.isEven()&&C.isEven();)U.iushrn(1),C.iushrn(1),++F;for(var A=C.clone(),$=U.clone();!U.isZero();){for(var z=0,T=1;(U.words[0]&T)==0&&z<26;++z,T<<=1);if(z>0)for(U.iushrn(z);z-- >0;)(o.isOdd()||g.isOdd())&&(o.iadd(A),g.isub($)),o.iushrn(1),g.iushrn(1);for(var ee=0,xe=1;(C.words[0]&xe)==0&&ee<26;++ee,xe<<=1);if(ee>0)for(C.iushrn(ee);ee-- >0;)(N.isOdd()||x.isOdd())&&(N.iadd(A),x.isub($)),N.iushrn(1),x.iushrn(1);U.cmp(C)>=0?(U.isub(C),o.isub(N),g.isub(x)):(C.isub(U),N.isub(o),x.isub(g))}return{a:N,b:x,gcd:C.iushln(F)}},l.prototype._invmp=function(I){E(I.negative===0),E(!I.isZero());var U=this,C=I.clone();U.negative!==0?U=U.umod(I):U=U.clone();for(var o=new l(1),g=new l(0),N=C.clone();U.cmpn(1)>0&&C.cmpn(1)>0;){for(var x=0,F=1;(U.words[0]&F)==0&&x<26;++x,F<<=1);if(x>0)for(U.iushrn(x);x-- >0;)o.isOdd()&&o.iadd(N),o.iushrn(1);for(var A=0,$=1;(C.words[0]&$)==0&&A<26;++A,$<<=1);if(A>0)for(C.iushrn(A);A-- >0;)g.isOdd()&&g.iadd(N),g.iushrn(1);U.cmp(C)>=0?(U.isub(C),o.isub(g)):(C.isub(U),g.isub(o))}var z;return U.cmpn(1)===0?z=o:z=g,z.cmpn(0)<0&&z.iadd(I),z},l.prototype.gcd=function(I){if(this.isZero())return I.abs();if(I.isZero())return this.abs();var U=this.clone(),C=I.clone();U.negative=0,C.negative=0;for(var o=0;U.isEven()&&C.isEven();o++)U.iushrn(1),C.iushrn(1);do{for(;U.isEven();)U.iushrn(1);for(;C.isEven();)C.iushrn(1);var g=U.cmp(C);if(g<0){var N=U;U=C,C=N}else if(g===0||C.cmpn(1)===0)break;U.isub(C)}while(!0);return C.iushln(o)},l.prototype.invm=function(I){return this.egcd(I).a.umod(I)},l.prototype.isEven=function(){return(this.words[0]&1)==0},l.prototype.isOdd=function(){return(this.words[0]&1)==1},l.prototype.andln=function(I){return this.words[0]&I},l.prototype.bincn=function(I){E(typeof I=="number");var U=I%26,C=(I-U)/26,o=1<<U;if(this.length<=C)return this._expand(C+1),this.words[C]|=o,this;for(var g=o,N=C;g!==0&&N<this.length;N++){var x=this.words[N]|0;x+=g,g=x>>>26,x&=67108863,this.words[N]=x}return g!==0&&(this.words[N]=g,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(I){var U=I<0;if(this.negative!==0&&!U)return-1;if(this.negative===0&&U)return 1;this.strip();var C;if(this.length>1)C=1;else{U&&(I=-I),E(I<=67108863,"Number is too big");var o=this.words[0]|0;C=o===I?0:o<I?-1:1}return this.negative!==0?-C|0:C},l.prototype.cmp=function(I){if(this.negative!==0&&I.negative===0)return-1;if(this.negative===0&&I.negative!==0)return 1;var U=this.ucmp(I);return this.negative!==0?-U|0:U},l.prototype.ucmp=function(I){if(this.length>I.length)return 1;if(this.length<I.length)return-1;for(var U=0,C=this.length-1;C>=0;C--){var o=this.words[C]|0,g=I.words[C]|0;if(o!==g){o<g?U=-1:o>g&&(U=1);break}}return U},l.prototype.gtn=function(I){return this.cmpn(I)===1},l.prototype.gt=function(I){return this.cmp(I)===1},l.prototype.gten=function(I){return this.cmpn(I)>=0},l.prototype.gte=function(I){return this.cmp(I)>=0},l.prototype.ltn=function(I){return this.cmpn(I)===-1},l.prototype.lt=function(I){return this.cmp(I)===-1},l.prototype.lten=function(I){return this.cmpn(I)<=0},l.prototype.lte=function(I){return this.cmp(I)<=0},l.prototype.eqn=function(I){return this.cmpn(I)===0},l.prototype.eq=function(I){return this.cmp(I)===0},l.red=function(I){return new ne(I)},l.prototype.toRed=function(I){return E(!this.red,"Already a number in reduction context"),E(this.negative===0,"red works only with positives"),I.convertTo(this)._forceRed(I)},l.prototype.fromRed=function(){return E(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(I){return this.red=I,this},l.prototype.forceRed=function(I){return E(!this.red,"Already a number in reduction context"),this._forceRed(I)},l.prototype.redAdd=function(I){return E(this.red,"redAdd works only with red numbers"),this.red.add(this,I)},l.prototype.redIAdd=function(I){return E(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,I)},l.prototype.redSub=function(I){return E(this.red,"redSub works only with red numbers"),this.red.sub(this,I)},l.prototype.redISub=function(I){return E(this.red,"redISub works only with red numbers"),this.red.isub(this,I)},l.prototype.redShl=function(I){return E(this.red,"redShl works only with red numbers"),this.red.shl(this,I)},l.prototype.redMul=function(I){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.mul(this,I)},l.prototype.redIMul=function(I){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.imul(this,I)},l.prototype.redSqr=function(){return E(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return E(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return E(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return E(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return E(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(I){return E(this.red&&!I.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,I)};var H={k256:null,p224:null,p192:null,p25519:null};function j(re,I){this.name=re,this.p=new l(I,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var I=new l(null);return I.words=new Array(Math.ceil(this.n/13)),I},j.prototype.ireduce=function(I){var U=I,C;do this.split(U,this.tmp),U=this.imulK(U),U=U.iadd(this.tmp),C=U.bitLength();while(C>this.n);var o=C<this.n?-1:U.ucmp(this.p);return o===0?(U.words[0]=0,U.length=1):o>0?U.isub(this.p):U.strip!==void 0?U.strip():U._strip(),U},j.prototype.split=function(I,U){I.iushrn(this.n,0,U)},j.prototype.imulK=function(I){return I.imul(this.k)};function V(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_(V,j),V.prototype.split=function(I,U){for(var C=4194303,o=Math.min(I.length,9),g=0;g<o;g++)U.words[g]=I.words[g];if(U.length=o,I.length<=9){I.words[0]=0,I.length=1;return}var N=I.words[9];for(U.words[U.length++]=N&C,g=10;g<I.length;g++){var x=I.words[g]|0;I.words[g-10]=(x&C)<<4|N>>>22,N=x}N>>>=22,I.words[g-10]=N,N===0&&I.length>10?I.length-=10:I.length-=9},V.prototype.imulK=function(I){I.words[I.length]=0,I.words[I.length+1]=0,I.length+=2;for(var U=0,C=0;C<I.length;C++){var o=I.words[C]|0;U+=o*977,I.words[C]=U&67108863,U=o*64+(U/67108864|0)}return I.words[I.length-1]===0&&(I.length--,I.words[I.length-1]===0&&I.length--),I};function Y(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_(Y,j);function K(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_(K,j);function ae(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_(ae,j),ae.prototype.imulK=function(I){for(var U=0,C=0;C<I.length;C++){var o=(I.words[C]|0)*19+U,g=o&67108863;o>>>=26,I.words[C]=g,U=o}return U!==0&&(I.words[I.length++]=U),I},l._prime=function(I){if(H[I])return H[I];var U;if(I==="k256")U=new V;else if(I==="p224")U=new Y;else if(I==="p192")U=new K;else if(I==="p25519")U=new ae;else throw new Error("Unknown prime "+I);return H[I]=U,U};function ne(re){if(typeof re=="string"){var I=l._prime(re);this.m=I.p,this.prime=I}else E(re.gtn(1),"modulus must be greater than 1"),this.m=re,this.prime=null}ne.prototype._verify1=function(I){E(I.negative===0,"red works only with positives"),E(I.red,"red works only with red numbers")},ne.prototype._verify2=function(I,U){E((I.negative|U.negative)==0,"red works only with positives"),E(I.red&&I.red===U.red,"red works only with red numbers")},ne.prototype.imod=function(I){return this.prime?this.prime.ireduce(I)._forceRed(this):I.umod(this.m)._forceRed(this)},ne.prototype.neg=function(I){return I.isZero()?I.clone():this.m.sub(I)._forceRed(this)},ne.prototype.add=function(I,U){this._verify2(I,U);var C=I.add(U);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},ne.prototype.iadd=function(I,U){this._verify2(I,U);var C=I.iadd(U);return C.cmp(this.m)>=0&&C.isub(this.m),C},ne.prototype.sub=function(I,U){this._verify2(I,U);var C=I.sub(U);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},ne.prototype.isub=function(I,U){this._verify2(I,U);var C=I.isub(U);return C.cmpn(0)<0&&C.iadd(this.m),C},ne.prototype.shl=function(I,U){return this._verify1(I),this.imod(I.ushln(U))},ne.prototype.imul=function(I,U){return this._verify2(I,U),this.imod(I.imul(U))},ne.prototype.mul=function(I,U){return this._verify2(I,U),this.imod(I.mul(U))},ne.prototype.isqr=function(I){return this.imul(I,I.clone())},ne.prototype.sqr=function(I){return this.mul(I,I)},ne.prototype.sqrt=function(I){if(I.isZero())return I.clone();var U=this.m.andln(3);if(E(U%2==1),U===3){var C=this.m.add(new l(1)).iushrn(2);return this.pow(I,C)}for(var o=this.m.subn(1),g=0;!o.isZero()&&o.andln(1)===0;)g++,o.iushrn(1);E(!o.isZero());var N=new l(1).toRed(this),x=N.redNeg(),F=this.m.subn(1).iushrn(1),A=this.m.bitLength();for(A=new l(2*A*A).toRed(this);this.pow(A,F).cmp(x)!==0;)A.redIAdd(x);for(var $=this.pow(A,o),z=this.pow(I,o.addn(1).iushrn(1)),T=this.pow(I,o),ee=g;T.cmp(N)!==0;){for(var xe=T,ye=0;xe.cmp(N)!==0;ye++)xe=xe.redSqr();E(ye<ee);var Re=this.pow($,new l(1).iushln(ee-ye-1));z=z.redMul(Re),$=Re.redSqr(),T=T.redMul($),ee=ye}return z},ne.prototype.invm=function(I){var U=I._invmp(this.m);return U.negative!==0?(U.negative=0,this.imod(U).redNeg()):this.imod(U)},ne.prototype.pow=function(I,U){if(U.isZero())return new l(1).toRed(this);if(U.cmpn(1)===0)return I.clone();var C=4,o=new Array(1<<C);o[0]=new l(1).toRed(this),o[1]=I;for(var g=2;g<o.length;g++)o[g]=this.mul(o[g-1],I);var N=o[0],x=0,F=0,A=U.bitLength()%26;for(A===0&&(A=26),g=U.length-1;g>=0;g--){for(var $=U.words[g],z=A-1;z>=0;z--){var T=$>>z&1;if(N!==o[0]&&(N=this.sqr(N)),T===0&&x===0){F=0;continue}x<<=1,x|=T,F++,!(F!==C&&(g!==0||z!==0))&&(N=this.mul(N,o[x]),F=0,x=0)}A=26}return N},ne.prototype.convertTo=function(I){var U=I.umod(this.m);return U===I?U.clone():U},ne.prototype.convertFrom=function(I){var U=I.clone();return U.red=null,U},l.mont=function(I){return new ce(I)};function ce(re){ne.call(this,re),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_(ce,ne),ce.prototype.convertTo=function(I){return this.imod(I.ushln(this.shift))},ce.prototype.convertFrom=function(I){var U=this.imod(I.mul(this.rinv));return U.red=null,U},ce.prototype.imul=function(I,U){if(I.isZero()||U.isZero())return I.words[0]=0,I.length=1,I;var C=I.imul(U),o=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=C.isub(o).iushrn(this.shift),N=g;return g.cmp(this.m)>=0?N=g.isub(this.m):g.cmpn(0)<0&&(N=g.iadd(this.m)),N._forceRed(this)},ce.prototype.mul=function(I,U){if(I.isZero()||U.isZero())return new l(0)._forceRed(this);var C=I.mul(U),o=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=C.isub(o).iushrn(this.shift),N=g;return g.cmp(this.m)>=0?N=g.isub(this.m):g.cmpn(0)<0&&(N=g.iadd(this.m)),N._forceRed(this)},ce.prototype.invm=function(I){var U=this.imod(I._invmp(this.m).mul(this.r2));return U._forceRed(this)}}(s,this)},29931:(s,Q,R)=>{var S;s.exports=function(l){return S||(S=new M(null)),S.generate(l)};function M(_){this.rand=_}if(s.exports.Rand=M,M.prototype.generate=function(l){return this._rand(l)},M.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var u=new Uint8Array(l),c=0;c<u.length;c++)u[c]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?M.prototype._rand=function(l){var u=new Uint8Array(l);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?M.prototype._rand=function(l){var u=new Uint8Array(l);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(M.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var E=R(89214);if(typeof E.randomBytes!="function")throw new Error("Not supported");M.prototype._rand=function(l){return E.randomBytes(l)}}catch(_){}},74497:(s,Q,R)=>{var S=R(89509).Buffer;function M(f){S.isBuffer(f)||(f=S.from(f));for(var w=f.length/4|0,v=new Array(w),d=0;d<w;d++)v[d]=f.readUInt32BE(d*4);return v}function E(f){for(var w=0;w<f.length;f++)f[w]=0}function _(f,w,v,d,h){for(var p=v[0],b=v[1],y=v[2],D=v[3],P=f[0]^w[0],L=f[1]^w[1],H=f[2]^w[2],j=f[3]^w[3],V,Y,K,ae,ne=4,ce=1;ce<h;ce++)V=p[P>>>24]^b[L>>>16&255]^y[H>>>8&255]^D[j&255]^w[ne++],Y=p[L>>>24]^b[H>>>16&255]^y[j>>>8&255]^D[P&255]^w[ne++],K=p[H>>>24]^b[j>>>16&255]^y[P>>>8&255]^D[L&255]^w[ne++],ae=p[j>>>24]^b[P>>>16&255]^y[L>>>8&255]^D[H&255]^w[ne++],P=V,L=Y,H=K,j=ae;return V=(d[P>>>24]<<24|d[L>>>16&255]<<16|d[H>>>8&255]<<8|d[j&255])^w[ne++],Y=(d[L>>>24]<<24|d[H>>>16&255]<<16|d[j>>>8&255]<<8|d[P&255])^w[ne++],K=(d[H>>>24]<<24|d[j>>>16&255]<<16|d[P>>>8&255]<<8|d[L&255])^w[ne++],ae=(d[j>>>24]<<24|d[P>>>16&255]<<16|d[L>>>8&255]<<8|d[H&255])^w[ne++],V=V>>>0,Y=Y>>>0,K=K>>>0,ae=ae>>>0,[V,Y,K,ae]}var l=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var f=new Array(256),w=0;w<256;w++)w<128?f[w]=w<<1:f[w]=w<<1^283;for(var v=[],d=[],h=[[],[],[],[]],p=[[],[],[],[]],b=0,y=0,D=0;D<256;++D){var P=y^y<<1^y<<2^y<<3^y<<4;P=P>>>8^P&255^99,v[b]=P,d[P]=b;var L=f[b],H=f[L],j=f[H],V=f[P]*257^P*16843008;h[0][b]=V<<24|V>>>8,h[1][b]=V<<16|V>>>16,h[2][b]=V<<8|V>>>24,h[3][b]=V,V=j*16843009^H*65537^L*257^b*16843008,p[0][P]=V<<24|V>>>8,p[1][P]=V<<16|V>>>16,p[2][P]=V<<8|V>>>24,p[3][P]=V,b===0?b=y=1:(b=L^f[f[f[j^L]]],y^=f[f[y]])}return{SBOX:v,INV_SBOX:d,SUB_MIX:h,INV_SUB_MIX:p}}();function c(f){this._key=M(f),this._reset()}c.blockSize=4*4,c.keySize=256/8,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var f=this._key,w=f.length,v=w+6,d=(v+1)*4,h=[],p=0;p<w;p++)h[p]=f[p];for(p=w;p<d;p++){var b=h[p-1];p%w==0?(b=b<<8|b>>>24,b=u.SBOX[b>>>24]<<24|u.SBOX[b>>>16&255]<<16|u.SBOX[b>>>8&255]<<8|u.SBOX[b&255],b^=l[p/w|0]<<24):w>6&&p%w==4&&(b=u.SBOX[b>>>24]<<24|u.SBOX[b>>>16&255]<<16|u.SBOX[b>>>8&255]<<8|u.SBOX[b&255]),h[p]=h[p-w]^b}for(var y=[],D=0;D<d;D++){var P=d-D,L=h[P-(D%4?0:4)];D<4||P<=4?y[D]=L:y[D]=u.INV_SUB_MIX[0][u.SBOX[L>>>24]]^u.INV_SUB_MIX[1][u.SBOX[L>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[L>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[L&255]]}this._nRounds=v,this._keySchedule=h,this._invKeySchedule=y},c.prototype.encryptBlockRaw=function(f){return f=M(f),_(f,this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(f){var w=this.encryptBlockRaw(f),v=S.allocUnsafe(16);return v.writeUInt32BE(w[0],0),v.writeUInt32BE(w[1],4),v.writeUInt32BE(w[2],8),v.writeUInt32BE(w[3],12),v},c.prototype.decryptBlock=function(f){f=M(f);var w=f[1];f[1]=f[3],f[3]=w;var v=_(f,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),d=S.allocUnsafe(16);return d.writeUInt32BE(v[0],0),d.writeUInt32BE(v[3],4),d.writeUInt32BE(v[2],8),d.writeUInt32BE(v[1],12),d},c.prototype.scrub=function(){E(this._keySchedule),E(this._invKeySchedule),E(this._key)},s.exports.AES=c},62422:(s,Q,R)=>{var S=R(74497),M=R(89509).Buffer,E=R(71027),_=R(35717),l=R(83288),u=R(67295),c=R(20685);function f(d,h){var p=0;d.length!==h.length&&p++;for(var b=Math.min(d.length,h.length),y=0;y<b;++y)p+=d[y]^h[y];return p}function w(d,h,p){if(h.length===12)return d._finID=M.concat([h,M.from([0,0,0,1])]),M.concat([h,M.from([0,0,0,2])]);var b=new l(p),y=h.length,D=y%16;b.update(h),D&&(D=16-D,b.update(M.alloc(D,0))),b.update(M.alloc(8,0));var P=y*8,L=M.alloc(8);L.writeUIntBE(P,0,8),b.update(L),d._finID=b.state;var H=M.from(d._finID);return c(H),H}function v(d,h,p,b){E.call(this);var y=M.alloc(4,0);this._cipher=new S.AES(h);var D=this._cipher.encryptBlock(y);this._ghash=new l(D),p=w(this,p,D),this._prev=M.from(p),this._cache=M.allocUnsafe(0),this._secCache=M.allocUnsafe(0),this._decrypt=b,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}_(v,E),v.prototype._update=function(d){if(!this._called&&this._alen){var h=16-this._alen%16;h<16&&(h=M.alloc(h,0),this._ghash.update(h))}this._called=!0;var p=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(p),this._len+=d.length,p},v.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=u(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&f(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},v.prototype.getAuthTag=function(){if(this._decrypt||!M.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},v.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},v.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},s.exports=v},44696:(s,Q,R)=>{var S=R(71494),M=R(66193),E=R(44946);function _(){return Object.keys(E)}Q.createCipher=Q.Cipher=S.createCipher,Q.createCipheriv=Q.Cipheriv=S.createCipheriv,Q.createDecipher=Q.Decipher=M.createDecipher,Q.createDecipheriv=Q.Decipheriv=M.createDecipheriv,Q.listCiphers=Q.getCiphers=_},66193:(s,Q,R)=>{var S=R(62422),M=R(89509).Buffer,E=R(45),_=R(25969),l=R(71027),u=R(74497),c=R(13048),f=R(35717);function w(b,y,D){l.call(this),this._cache=new v,this._last=void 0,this._cipher=new u.AES(y),this._prev=M.from(D),this._mode=b,this._autopadding=!0}f(w,l),w.prototype._update=function(b){this._cache.add(b);for(var y,D,P=[];y=this._cache.get(this._autopadding);)D=this._mode.decrypt(this,y),P.push(D);return M.concat(P)},w.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return d(this._mode.decrypt(this,b));if(b)throw new Error("data not multiple of block length")},w.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this};function v(){this.cache=M.allocUnsafe(0)}v.prototype.add=function(b){this.cache=M.concat([this.cache,b])},v.prototype.get=function(b){var y;if(b){if(this.cache.length>16)return y=this.cache.slice(0,16),this.cache=this.cache.slice(16),y}else if(this.cache.length>=16)return y=this.cache.slice(0,16),this.cache=this.cache.slice(16),y;return null},v.prototype.flush=function(){if(this.cache.length)return this.cache};function d(b){var y=b[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var D=-1;++D<y;)if(b[D+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return b.slice(0,16-y)}function h(b,y,D){var P=E[b.toLowerCase()];if(!P)throw new TypeError("invalid suite type");if(typeof D=="string"&&(D=M.from(D)),P.mode!=="GCM"&&D.length!==P.iv)throw new TypeError("invalid iv length "+D.length);if(typeof y=="string"&&(y=M.from(y)),y.length!==P.key/8)throw new TypeError("invalid key length "+y.length);return P.type==="stream"?new _(P.module,y,D,!0):P.type==="auth"?new S(P.module,y,D,!0):new w(P.module,y,D)}function p(b,y){var D=E[b.toLowerCase()];if(!D)throw new TypeError("invalid suite type");var P=c(y,!1,D.key,D.iv);return h(b,P.key,P.iv)}Q.createDecipher=p,Q.createDecipheriv=h},71494:(s,Q,R)=>{var S=R(45),M=R(62422),E=R(89509).Buffer,_=R(25969),l=R(71027),u=R(74497),c=R(13048),f=R(35717);function w(b,y,D){l.call(this),this._cache=new d,this._cipher=new u.AES(y),this._prev=E.from(D),this._mode=b,this._autopadding=!0}f(w,l),w.prototype._update=function(b){this._cache.add(b);for(var y,D,P=[];y=this._cache.get();)D=this._mode.encrypt(this,y),P.push(D);return E.concat(P)};var v=E.alloc(16,16);w.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return b=this._mode.encrypt(this,b),this._cipher.scrub(),b;if(!b.equals(v))throw this._cipher.scrub(),new Error("data not multiple of block length")},w.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this};function d(){this.cache=E.allocUnsafe(0)}d.prototype.add=function(b){this.cache=E.concat([this.cache,b])},d.prototype.get=function(){if(this.cache.length>15){var b=this.cache.slice(0,16);return this.cache=this.cache.slice(16),b}return null},d.prototype.flush=function(){for(var b=16-this.cache.length,y=E.allocUnsafe(b),D=-1;++D<b;)y.writeUInt8(b,D);return E.concat([this.cache,y])};function h(b,y,D){var P=S[b.toLowerCase()];if(!P)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=E.from(y)),y.length!==P.key/8)throw new TypeError("invalid key length "+y.length);if(typeof D=="string"&&(D=E.from(D)),P.mode!=="GCM"&&D.length!==P.iv)throw new TypeError("invalid iv length "+D.length);return P.type==="stream"?new _(P.module,y,D):P.type==="auth"?new M(P.module,y,D):new w(P.module,y,D)}function p(b,y){var D=S[b.toLowerCase()];if(!D)throw new TypeError("invalid suite type");var P=c(y,!1,D.key,D.iv);return h(b,P.key,P.iv)}Q.createCipheriv=h,Q.createCipher=p},83288:(s,Q,R)=>{var S=R(89509).Buffer,M=S.alloc(16,0);function E(u){return[u.readUInt32BE(0),u.readUInt32BE(4),u.readUInt32BE(8),u.readUInt32BE(12)]}function _(u){var c=S.allocUnsafe(16);return c.writeUInt32BE(u[0]>>>0,0),c.writeUInt32BE(u[1]>>>0,4),c.writeUInt32BE(u[2]>>>0,8),c.writeUInt32BE(u[3]>>>0,12),c}function l(u){this.h=u,this.state=S.alloc(16,0),this.cache=S.allocUnsafe(0)}l.prototype.ghash=function(u){for(var c=-1;++c<u.length;)this.state[c]^=u[c];this._multiply()},l.prototype._multiply=function(){for(var u=E(this.h),c=[0,0,0,0],f,w,v,d=-1;++d<128;){for(w=(this.state[~~(d/8)]&1<<7-d%8)!=0,w&&(c[0]^=u[0],c[1]^=u[1],c[2]^=u[2],c[3]^=u[3]),v=(u[3]&1)!=0,f=3;f>0;f--)u[f]=u[f]>>>1|(u[f-1]&1)<<31;u[0]=u[0]>>>1,v&&(u[0]=u[0]^225<<24)}this.state=_(c)},l.prototype.update=function(u){this.cache=S.concat([this.cache,u]);for(var c;this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},l.prototype.final=function(u,c){return this.cache.length&&this.ghash(S.concat([this.cache,M],16)),this.ghash(_([0,u,0,c])),this.state},s.exports=l},20685:s=>{function Q(R){for(var S=R.length,M;S--;)if(M=R.readUInt8(S),M===255)R.writeUInt8(0,S);else{M++,R.writeUInt8(M,S);break}}s.exports=Q},25292:(s,Q,R)=>{var S=R(67295);Q.encrypt=function(M,E){var _=S(E,M._prev);return M._prev=M._cipher.encryptBlock(_),M._prev},Q.decrypt=function(M,E){var _=M._prev;M._prev=E;var l=M._cipher.decryptBlock(E);return S(l,_)}},86311:(s,Q,R)=>{var S=R(89509).Buffer,M=R(67295);function E(_,l,u){var c=l.length,f=M(l,_._cache);return _._cache=_._cache.slice(c),_._prev=S.concat([_._prev,u?l:f]),f}Q.encrypt=function(_,l,u){for(var c=S.allocUnsafe(0),f;l.length;)if(_._cache.length===0&&(_._cache=_._cipher.encryptBlock(_._prev),_._prev=S.allocUnsafe(0)),_._cache.length<=l.length)f=_._cache.length,c=S.concat([c,E(_,l.slice(0,f),u)]),l=l.slice(f);else{c=S.concat([c,E(_,l,u)]);break}return c}},21510:(s,Q,R)=>{var S=R(89509).Buffer;function M(_,l,u){for(var c,f=-1,w=8,v=0,d,h;++f<w;)c=_._cipher.encryptBlock(_._prev),d=l&1<<7-f?128:0,h=c[0]^d,v+=(h&128)>>f%8,_._prev=E(_._prev,u?d:h);return v}function E(_,l){var u=_.length,c=-1,f=S.allocUnsafe(_.length);for(_=S.concat([_,S.from([l])]);++c<u;)f[c]=_[c]<<1|_[c+1]>>7;return f}Q.encrypt=function(_,l,u){for(var c=l.length,f=S.allocUnsafe(c),w=-1;++w<c;)f[w]=M(_,l[w],u);return f}},71964:(s,Q,R)=>{var S=R(89509).Buffer;function M(E,_,l){var u=E._cipher.encryptBlock(E._prev),c=u[0]^_;return E._prev=S.concat([E._prev.slice(1),S.from([l?_:c])]),c}Q.encrypt=function(E,_,l){for(var u=_.length,c=S.allocUnsafe(u),f=-1;++f<u;)c[f]=M(E,_[f],l);return c}},96009:(s,Q,R)=>{var S=R(67295),M=R(89509).Buffer,E=R(20685);function _(u){var c=u._cipher.encryptBlockRaw(u._prev);return E(u._prev),c}var l=16;Q.encrypt=function(u,c){var f=Math.ceil(c.length/l),w=u._cache.length;u._cache=M.concat([u._cache,M.allocUnsafe(f*l)]);for(var v=0;v<f;v++){var d=_(u),h=w+v*l;u._cache.writeUInt32BE(d[0],h+0),u._cache.writeUInt32BE(d[1],h+4),u._cache.writeUInt32BE(d[2],h+8),u._cache.writeUInt32BE(d[3],h+12)}var p=u._cache.slice(0,c.length);return u._cache=u._cache.slice(c.length),S(c,p)}},11084:(s,Q)=>{Q.encrypt=function(R,S){return R._cipher.encryptBlock(S)},Q.decrypt=function(R,S){return R._cipher.decryptBlock(S)}},45:(s,Q,R)=>{var S={ECB:R(11084),CBC:R(25292),CFB:R(86311),CFB8:R(71964),CFB1:R(21510),OFB:R(18861),CTR:R(96009),GCM:R(96009)},M=R(44946);for(var E in M)M[E].module=S[M[E].mode];s.exports=M},18861:(s,Q,R)=>{var S=R(67295);function M(E){return E._prev=E._cipher.encryptBlock(E._prev),E._prev}Q.encrypt=function(E,_){for(;E._cache.length<_.length;)E._cache=Buffer.concat([E._cache,M(E)]);var l=E._cache.slice(0,_.length);return E._cache=E._cache.slice(_.length),S(_,l)}},25969:(s,Q,R)=>{var S=R(74497),M=R(89509).Buffer,E=R(71027),_=R(35717);function l(u,c,f,w){E.call(this),this._cipher=new S.AES(c),this._prev=M.from(f),this._cache=M.allocUnsafe(0),this._secCache=M.allocUnsafe(0),this._decrypt=w,this._mode=u}_(l,E),l.prototype._update=function(u){return this._mode.encrypt(this,u,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},s.exports=l},53614:(s,Q,R)=>{var S=R(47667),M=R(44696),E=R(45),_=R(99715),l=R(13048);function u(d,h){d=d.toLowerCase();var p,b;if(E[d])p=E[d].key,b=E[d].iv;else if(_[d])p=_[d].key*8,b=_[d].iv;else throw new TypeError("invalid suite type");var y=l(h,!1,p,b);return f(d,y.key,y.iv)}function c(d,h){d=d.toLowerCase();var p,b;if(E[d])p=E[d].key,b=E[d].iv;else if(_[d])p=_[d].key*8,b=_[d].iv;else throw new TypeError("invalid suite type");var y=l(h,!1,p,b);return w(d,y.key,y.iv)}function f(d,h,p){if(d=d.toLowerCase(),E[d])return M.createCipheriv(d,h,p);if(_[d])return new S({key:h,iv:p,mode:d});throw new TypeError("invalid suite type")}function w(d,h,p){if(d=d.toLowerCase(),E[d])return M.createDecipheriv(d,h,p);if(_[d])return new S({key:h,iv:p,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}function v(){return Object.keys(_).concat(M.getCiphers())}Q.createCipher=Q.Cipher=u,Q.createCipheriv=Q.Cipheriv=f,Q.createDecipher=Q.Decipher=c,Q.createDecipheriv=Q.Decipheriv=w,Q.listCiphers=Q.getCiphers=v},47667:(s,Q,R)=>{var S=R(71027),M=R(15251),E=R(35717),_=R(89509).Buffer,l={"des-ede3-cbc":M.CBC.instantiate(M.EDE),"des-ede3":M.EDE,"des-ede-cbc":M.CBC.instantiate(M.EDE),"des-ede":M.EDE,"des-cbc":M.CBC.instantiate(M.DES),"des-ecb":M.DES};l.des=l["des-cbc"],l.des3=l["des-ede3-cbc"],s.exports=u,E(u,S);function u(c){S.call(this);var f=c.mode.toLowerCase(),w=l[f],v;c.decrypt?v="decrypt":v="encrypt";var d=c.key;_.isBuffer(d)||(d=_.from(d)),(f==="des-ede"||f==="des-ede-cbc")&&(d=_.concat([d,d.slice(0,8)]));var h=c.iv;_.isBuffer(h)||(h=_.from(h)),this._des=w.create({key:d,iv:h,type:v})}u.prototype._update=function(c){return _.from(this._des.update(c))},u.prototype._final=function(){return _.from(this._des.final())}},99715:(s,Q)=>{Q["des-ecb"]={key:8,iv:0},Q["des-cbc"]=Q.des={key:8,iv:8},Q["des-ede3-cbc"]=Q.des3={key:24,iv:8},Q["des-ede3"]={key:24,iv:0},Q["des-ede-cbc"]={key:16,iv:8},Q["des-ede"]={key:16,iv:0}},23663:(s,Q,R)=>{var S=R(43982),M=R(61798);function E(u){var c=_(u),f=c.toRed(S.mont(u.modulus)).redPow(new S(u.publicExponent)).fromRed();return{blinder:f,unblinder:c.invm(u.modulus)}}function _(u){var c=u.modulus.byteLength(),f;do f=new S(M(c));while(f.cmp(u.modulus)>=0||!f.umod(u.prime1)||!f.umod(u.prime2));return f}function l(u,c){var f=E(c),w=c.modulus.byteLength(),v=new S(u).mul(f.blinder).umod(c.modulus),d=v.toRed(S.mont(c.prime1)),h=v.toRed(S.mont(c.prime2)),p=c.coefficient,b=c.prime1,y=c.prime2,D=d.redPow(c.exponent1).fromRed(),P=h.redPow(c.exponent2).fromRed(),L=D.isub(P).imul(p).umod(b).imul(y);return P.iadd(L).imul(f.unblinder).umod(c.modulus).toArrayLike(Buffer,"be",w)}l.getr=_,s.exports=l},43982:function(s,Q,R){s=R.nmd(s),function(S,M){"use strict";function E(C,o){if(!C)throw new Error(o||"Assertion failed")}function _(C,o){C.super_=o;var g=function(){};g.prototype=o.prototype,C.prototype=new g,C.prototype.constructor=C}function l(C,o,g){if(l.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((o==="le"||o==="be")&&(g=o,o=10),this._init(C||0,o||10,g||"be"))}typeof S=="object"?S.exports=l:M.BN=l,l.BN=l,l.wordSize=26;var u;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?u=window.Buffer:u=R(71922).Buffer}catch(C){}l.isBN=function(o){return o instanceof l?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===l.wordSize&&Array.isArray(o.words)},l.max=function(o,g){return o.cmp(g)>0?o:g},l.min=function(o,g){return o.cmp(g)<0?o:g},l.prototype._init=function(o,g,N){if(typeof o=="number")return this._initNumber(o,g,N);if(typeof o=="object")return this._initArray(o,g,N);g==="hex"&&(g=16),E(g===(g|0)&&g>=2&&g<=36),o=o.toString().replace(/\s+/g,"");var x=0;o[0]==="-"&&(x++,this.negative=1),x<o.length&&(g===16?this._parseHex(o,x,N):(this._parseBase(o,g,x),N==="le"&&this._initArray(this.toArray(),g,N)))},l.prototype._initNumber=function(o,g,N){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(E(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),g,N)},l.prototype._initArray=function(o,g,N){if(E(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var F,A,$=0;if(N==="be")for(x=o.length-1,F=0;x>=0;x-=3)A=o[x]|o[x-1]<<8|o[x-2]<<16,this.words[F]|=A<<$&67108863,this.words[F+1]=A>>>26-$&67108863,$+=24,$>=26&&($-=26,F++);else if(N==="le")for(x=0,F=0;x<o.length;x+=3)A=o[x]|o[x+1]<<8|o[x+2]<<16,this.words[F]|=A<<$&67108863,this.words[F+1]=A>>>26-$&67108863,$+=24,$>=26&&($-=26,F++);return this._strip()};function c(C,o){var g=C.charCodeAt(o);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;E(!1,"Invalid character in "+C)}function f(C,o,g){var N=c(C,g);return g-1>=o&&(N|=c(C,g-1)<<4),N}l.prototype._parseHex=function(o,g,N){this.length=Math.ceil((o.length-g)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var F=0,A=0,$;if(N==="be")for(x=o.length-1;x>=g;x-=2)$=f(o,g,x)<<F,this.words[A]|=$&67108863,F>=18?(F-=18,A+=1,this.words[A]|=$>>>26):F+=8;else{var z=o.length-g;for(x=z%2==0?g+1:g;x<o.length;x+=2)$=f(o,g,x)<<F,this.words[A]|=$&67108863,F>=18?(F-=18,A+=1,this.words[A]|=$>>>26):F+=8}this._strip()};function w(C,o,g,N){for(var x=0,F=0,A=Math.min(C.length,g),$=o;$<A;$++){var z=C.charCodeAt($)-48;x*=N,z>=49?F=z-49+10:z>=17?F=z-17+10:F=z,E(z>=0&&F<N,"Invalid character"),x+=F}return x}l.prototype._parseBase=function(o,g,N){this.words=[0],this.length=1;for(var x=0,F=1;F<=67108863;F*=g)x++;x--,F=F/g|0;for(var A=o.length-N,$=A%x,z=Math.min(A,A-$)+N,T=0,ee=N;ee<z;ee+=x)T=w(o,ee,ee+x,g),this.imuln(F),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if($!==0){var xe=1;for(T=w(o,ee,o.length,g),ee=0;ee<$;ee++)xe*=g;this.imuln(xe),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},l.prototype.copy=function(o){o.words=new Array(this.length);for(var g=0;g<this.length;g++)o.words[g]=this.words[g];o.length=this.length,o.negative=this.negative,o.red=this.red};function v(C,o){C.words=o.words,C.length=o.length,C.negative=o.negative,C.red=o.red}if(l.prototype._move=function(o){v(o,this)},l.prototype.clone=function(){var o=new l(null);return this.copy(o),o},l.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(C){l.prototype.inspect=d}else l.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(o,g){o=o||10,g=g|0||1;var N;if(o===16||o==="hex"){N="";for(var x=0,F=0,A=0;A<this.length;A++){var $=this.words[A],z=(($<<x|F)&16777215).toString(16);F=$>>>24-x&16777215,F!==0||A!==this.length-1?N=h[6-z.length]+z+N:N=z+N,x+=2,x>=26&&(x-=26,A--)}for(F!==0&&(N=F.toString(16)+N);N.length%g!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(o===(o|0)&&o>=2&&o<=36){var T=p[o],ee=b[o];N="";var xe=this.clone();for(xe.negative=0;!xe.isZero();){var ye=xe.modrn(ee).toString(o);xe=xe.idivn(ee),xe.isZero()?N=ye+N:N=h[T-ye.length]+ye+N}for(this.isZero()&&(N="0"+N);N.length%g!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}E(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&E(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},l.prototype.toJSON=function(){return this.toString(16,2)},u&&(l.prototype.toBuffer=function(o,g){return this.toArrayLike(u,o,g)}),l.prototype.toArray=function(o,g){return this.toArrayLike(Array,o,g)};var y=function(o,g){return o.allocUnsafe?o.allocUnsafe(g):new o(g)};l.prototype.toArrayLike=function(o,g,N){this._strip();var x=this.byteLength(),F=N||Math.max(1,x);E(x<=F,"byte array longer than desired length"),E(F>0,"Requested array length <= 0");var A=y(o,F),$=g==="le"?"LE":"BE";return this["_toArrayLike"+$](A,x),A},l.prototype._toArrayLikeLE=function(o,g){for(var N=0,x=0,F=0,A=0;F<this.length;F++){var $=this.words[F]<<A|x;o[N++]=$&255,N<o.length&&(o[N++]=$>>8&255),N<o.length&&(o[N++]=$>>16&255),A===6?(N<o.length&&(o[N++]=$>>24&255),x=0,A=0):(x=$>>>24,A+=2)}if(N<o.length)for(o[N++]=x;N<o.length;)o[N++]=0},l.prototype._toArrayLikeBE=function(o,g){for(var N=o.length-1,x=0,F=0,A=0;F<this.length;F++){var $=this.words[F]<<A|x;o[N--]=$&255,N>=0&&(o[N--]=$>>8&255),N>=0&&(o[N--]=$>>16&255),A===6?(N>=0&&(o[N--]=$>>24&255),x=0,A=0):(x=$>>>24,A+=2)}if(N>=0)for(o[N--]=x;N>=0;)o[N--]=0},Math.clz32?l.prototype._countBits=function(o){return 32-Math.clz32(o)}:l.prototype._countBits=function(o){var g=o,N=0;return g>=4096&&(N+=13,g>>>=13),g>=64&&(N+=7,g>>>=7),g>=8&&(N+=4,g>>>=4),g>=2&&(N+=2,g>>>=2),N+g},l.prototype._zeroBits=function(o){if(o===0)return 26;var g=o,N=0;return(g&8191)==0&&(N+=13,g>>>=13),(g&127)==0&&(N+=7,g>>>=7),(g&15)==0&&(N+=4,g>>>=4),(g&3)==0&&(N+=2,g>>>=2),(g&1)==0&&N++,N},l.prototype.bitLength=function(){var o=this.words[this.length-1],g=this._countBits(o);return(this.length-1)*26+g};function D(C){for(var o=new Array(C.bitLength()),g=0;g<o.length;g++){var N=g/26|0,x=g%26;o[g]=C.words[N]>>>x&1}return o}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,g=0;g<this.length;g++){var N=this._zeroBits(this.words[g]);if(o+=N,N!==26)break}return o},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},l.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var g=0;g<o.length;g++)this.words[g]=this.words[g]|o.words[g];return this._strip()},l.prototype.ior=function(o){return E((this.negative|o.negative)==0),this.iuor(o)},l.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},l.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},l.prototype.iuand=function(o){var g;this.length>o.length?g=o:g=this;for(var N=0;N<g.length;N++)this.words[N]=this.words[N]&o.words[N];return this.length=g.length,this._strip()},l.prototype.iand=function(o){return E((this.negative|o.negative)==0),this.iuand(o)},l.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},l.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},l.prototype.iuxor=function(o){var g,N;this.length>o.length?(g=this,N=o):(g=o,N=this);for(var x=0;x<N.length;x++)this.words[x]=g.words[x]^N.words[x];if(this!==g)for(;x<g.length;x++)this.words[x]=g.words[x];return this.length=g.length,this._strip()},l.prototype.ixor=function(o){return E((this.negative|o.negative)==0),this.iuxor(o)},l.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},l.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},l.prototype.inotn=function(o){E(typeof o=="number"&&o>=0);var g=Math.ceil(o/26)|0,N=o%26;this._expand(g),N>0&&g--;for(var x=0;x<g;x++)this.words[x]=~this.words[x]&67108863;return N>0&&(this.words[x]=~this.words[x]&67108863>>26-N),this._strip()},l.prototype.notn=function(o){return this.clone().inotn(o)},l.prototype.setn=function(o,g){E(typeof o=="number"&&o>=0);var N=o/26|0,x=o%26;return this._expand(N+1),g?this.words[N]=this.words[N]|1<<x:this.words[N]=this.words[N]&~(1<<x),this._strip()},l.prototype.iadd=function(o){var g;if(this.negative!==0&&o.negative===0)return this.negative=0,g=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,g=this.isub(o),o.negative=1,g._normSign();var N,x;this.length>o.length?(N=this,x=o):(N=o,x=this);for(var F=0,A=0;A<x.length;A++)g=(N.words[A]|0)+(x.words[A]|0)+F,this.words[A]=g&67108863,F=g>>>26;for(;F!==0&&A<N.length;A++)g=(N.words[A]|0)+F,this.words[A]=g&67108863,F=g>>>26;if(this.length=N.length,F!==0)this.words[this.length]=F,this.length++;else if(N!==this)for(;A<N.length;A++)this.words[A]=N.words[A];return this},l.prototype.add=function(o){var g;return o.negative!==0&&this.negative===0?(o.negative=0,g=this.sub(o),o.negative^=1,g):o.negative===0&&this.negative!==0?(this.negative=0,g=o.sub(this),this.negative=1,g):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},l.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var g=this.iadd(o);return o.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var N=this.cmp(o);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,F;N>0?(x=this,F=o):(x=o,F=this);for(var A=0,$=0;$<F.length;$++)g=(x.words[$]|0)-(F.words[$]|0)+A,A=g>>26,this.words[$]=g&67108863;for(;A!==0&&$<x.length;$++)g=(x.words[$]|0)+A,A=g>>26,this.words[$]=g&67108863;if(A===0&&$<x.length&&x!==this)for(;$<x.length;$++)this.words[$]=x.words[$];return this.length=Math.max(this.length,$),x!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(o){return this.clone().isub(o)};function P(C,o,g){g.negative=o.negative^C.negative;var N=C.length+o.length|0;g.length=N,N=N-1|0;var x=C.words[0]|0,F=o.words[0]|0,A=x*F,$=A&67108863,z=A/67108864|0;g.words[0]=$;for(var T=1;T<N;T++){for(var ee=z>>>26,xe=z&67108863,ye=Math.min(T,o.length-1),Re=Math.max(0,T-C.length+1);Re<=ye;Re++){var Ee=T-Re|0;x=C.words[Ee]|0,F=o.words[Re]|0,A=x*F+xe,ee+=A/67108864|0,xe=A&67108863}g.words[T]=xe|0,z=ee|0}return z!==0?g.words[T]=z|0:g.length--,g._strip()}var L=function(o,g,N){var x=o.words,F=g.words,A=N.words,$=0,z,T,ee,xe=x[0]|0,ye=xe&8191,Re=xe>>>13,Ee=x[1]|0,J=Ee&8191,te=Ee>>>13,me=x[2]|0,fe=me&8191,_e=me>>>13,q=x[3]|0,B=q&8191,se=q>>>13,we=x[4]|0,ge=we&8191,pe=we>>>13,Pe=x[5]|0,Oe=Pe&8191,Ue=Pe>>>13,pt=x[6]|0,je=pt&8191,Je=pt>>>13,lt=x[7]|0,le=lt&8191,W=lt>>>13,ie=x[8]|0,he=ie&8191,Ce=ie>>>13,He=x[9]|0,Me=He&8191,$e=He>>>13,xt=F[0]|0,We=xt&8191,Be=xt>>>13,st=F[1]|0,ut=st&8191,ct=st>>>13,zt=F[2]|0,ft=zt&8191,wt=zt>>>13,Si=F[3]|0,kt=Si&8191,Ot=Si>>>13,dr=F[4]|0,Bt=dr&8191,qt=dr>>>13,Mr=F[5]|0,_t=Mr&8191,Vt=Mr>>>13,Hr=F[6]|0,Te=Hr&8191,Ve=Hr>>>13,vt=F[7]|0,Xe=vt&8191,rt=vt>>>13,Wt=F[8]|0,yt=Wt&8191,Et=Wt>>>13,Ct=F[9]|0,nt=Ct&8191,mt=Ct>>>13;N.negative=o.negative^g.negative,N.length=19,z=Math.imul(ye,We),T=Math.imul(ye,Be),T=T+Math.imul(Re,We)|0,ee=Math.imul(Re,Be);var at=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(at>>>26)|0,at&=67108863,z=Math.imul(J,We),T=Math.imul(J,Be),T=T+Math.imul(te,We)|0,ee=Math.imul(te,Be),z=z+Math.imul(ye,ut)|0,T=T+Math.imul(ye,ct)|0,T=T+Math.imul(Re,ut)|0,ee=ee+Math.imul(Re,ct)|0;var ei=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(ei>>>26)|0,ei&=67108863,z=Math.imul(fe,We),T=Math.imul(fe,Be),T=T+Math.imul(_e,We)|0,ee=Math.imul(_e,Be),z=z+Math.imul(J,ut)|0,T=T+Math.imul(J,ct)|0,T=T+Math.imul(te,ut)|0,ee=ee+Math.imul(te,ct)|0,z=z+Math.imul(ye,ft)|0,T=T+Math.imul(ye,wt)|0,T=T+Math.imul(Re,ft)|0,ee=ee+Math.imul(Re,wt)|0;var Kt=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,z=Math.imul(B,We),T=Math.imul(B,Be),T=T+Math.imul(se,We)|0,ee=Math.imul(se,Be),z=z+Math.imul(fe,ut)|0,T=T+Math.imul(fe,ct)|0,T=T+Math.imul(_e,ut)|0,ee=ee+Math.imul(_e,ct)|0,z=z+Math.imul(J,ft)|0,T=T+Math.imul(J,wt)|0,T=T+Math.imul(te,ft)|0,ee=ee+Math.imul(te,wt)|0,z=z+Math.imul(ye,kt)|0,T=T+Math.imul(ye,Ot)|0,T=T+Math.imul(Re,kt)|0,ee=ee+Math.imul(Re,Ot)|0;var Mt=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,z=Math.imul(ge,We),T=Math.imul(ge,Be),T=T+Math.imul(pe,We)|0,ee=Math.imul(pe,Be),z=z+Math.imul(B,ut)|0,T=T+Math.imul(B,ct)|0,T=T+Math.imul(se,ut)|0,ee=ee+Math.imul(se,ct)|0,z=z+Math.imul(fe,ft)|0,T=T+Math.imul(fe,wt)|0,T=T+Math.imul(_e,ft)|0,ee=ee+Math.imul(_e,wt)|0,z=z+Math.imul(J,kt)|0,T=T+Math.imul(J,Ot)|0,T=T+Math.imul(te,kt)|0,ee=ee+Math.imul(te,Ot)|0,z=z+Math.imul(ye,Bt)|0,T=T+Math.imul(ye,qt)|0,T=T+Math.imul(Re,Bt)|0,ee=ee+Math.imul(Re,qt)|0;var fi=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(fi>>>26)|0,fi&=67108863,z=Math.imul(Oe,We),T=Math.imul(Oe,Be),T=T+Math.imul(Ue,We)|0,ee=Math.imul(Ue,Be),z=z+Math.imul(ge,ut)|0,T=T+Math.imul(ge,ct)|0,T=T+Math.imul(pe,ut)|0,ee=ee+Math.imul(pe,ct)|0,z=z+Math.imul(B,ft)|0,T=T+Math.imul(B,wt)|0,T=T+Math.imul(se,ft)|0,ee=ee+Math.imul(se,wt)|0,z=z+Math.imul(fe,kt)|0,T=T+Math.imul(fe,Ot)|0,T=T+Math.imul(_e,kt)|0,ee=ee+Math.imul(_e,Ot)|0,z=z+Math.imul(J,Bt)|0,T=T+Math.imul(J,qt)|0,T=T+Math.imul(te,Bt)|0,ee=ee+Math.imul(te,qt)|0,z=z+Math.imul(ye,_t)|0,T=T+Math.imul(ye,Vt)|0,T=T+Math.imul(Re,_t)|0,ee=ee+Math.imul(Re,Vt)|0;var ti=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(ti>>>26)|0,ti&=67108863,z=Math.imul(je,We),T=Math.imul(je,Be),T=T+Math.imul(Je,We)|0,ee=Math.imul(Je,Be),z=z+Math.imul(Oe,ut)|0,T=T+Math.imul(Oe,ct)|0,T=T+Math.imul(Ue,ut)|0,ee=ee+Math.imul(Ue,ct)|0,z=z+Math.imul(ge,ft)|0,T=T+Math.imul(ge,wt)|0,T=T+Math.imul(pe,ft)|0,ee=ee+Math.imul(pe,wt)|0,z=z+Math.imul(B,kt)|0,T=T+Math.imul(B,Ot)|0,T=T+Math.imul(se,kt)|0,ee=ee+Math.imul(se,Ot)|0,z=z+Math.imul(fe,Bt)|0,T=T+Math.imul(fe,qt)|0,T=T+Math.imul(_e,Bt)|0,ee=ee+Math.imul(_e,qt)|0,z=z+Math.imul(J,_t)|0,T=T+Math.imul(J,Vt)|0,T=T+Math.imul(te,_t)|0,ee=ee+Math.imul(te,Vt)|0,z=z+Math.imul(ye,Te)|0,T=T+Math.imul(ye,Ve)|0,T=T+Math.imul(Re,Te)|0,ee=ee+Math.imul(Re,Ve)|0;var yi=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(yi>>>26)|0,yi&=67108863,z=Math.imul(le,We),T=Math.imul(le,Be),T=T+Math.imul(W,We)|0,ee=Math.imul(W,Be),z=z+Math.imul(je,ut)|0,T=T+Math.imul(je,ct)|0,T=T+Math.imul(Je,ut)|0,ee=ee+Math.imul(Je,ct)|0,z=z+Math.imul(Oe,ft)|0,T=T+Math.imul(Oe,wt)|0,T=T+Math.imul(Ue,ft)|0,ee=ee+Math.imul(Ue,wt)|0,z=z+Math.imul(ge,kt)|0,T=T+Math.imul(ge,Ot)|0,T=T+Math.imul(pe,kt)|0,ee=ee+Math.imul(pe,Ot)|0,z=z+Math.imul(B,Bt)|0,T=T+Math.imul(B,qt)|0,T=T+Math.imul(se,Bt)|0,ee=ee+Math.imul(se,qt)|0,z=z+Math.imul(fe,_t)|0,T=T+Math.imul(fe,Vt)|0,T=T+Math.imul(_e,_t)|0,ee=ee+Math.imul(_e,Vt)|0,z=z+Math.imul(J,Te)|0,T=T+Math.imul(J,Ve)|0,T=T+Math.imul(te,Te)|0,ee=ee+Math.imul(te,Ve)|0,z=z+Math.imul(ye,Xe)|0,T=T+Math.imul(ye,rt)|0,T=T+Math.imul(Re,Xe)|0,ee=ee+Math.imul(Re,rt)|0;var gi=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(gi>>>26)|0,gi&=67108863,z=Math.imul(he,We),T=Math.imul(he,Be),T=T+Math.imul(Ce,We)|0,ee=Math.imul(Ce,Be),z=z+Math.imul(le,ut)|0,T=T+Math.imul(le,ct)|0,T=T+Math.imul(W,ut)|0,ee=ee+Math.imul(W,ct)|0,z=z+Math.imul(je,ft)|0,T=T+Math.imul(je,wt)|0,T=T+Math.imul(Je,ft)|0,ee=ee+Math.imul(Je,wt)|0,z=z+Math.imul(Oe,kt)|0,T=T+Math.imul(Oe,Ot)|0,T=T+Math.imul(Ue,kt)|0,ee=ee+Math.imul(Ue,Ot)|0,z=z+Math.imul(ge,Bt)|0,T=T+Math.imul(ge,qt)|0,T=T+Math.imul(pe,Bt)|0,ee=ee+Math.imul(pe,qt)|0,z=z+Math.imul(B,_t)|0,T=T+Math.imul(B,Vt)|0,T=T+Math.imul(se,_t)|0,ee=ee+Math.imul(se,Vt)|0,z=z+Math.imul(fe,Te)|0,T=T+Math.imul(fe,Ve)|0,T=T+Math.imul(_e,Te)|0,ee=ee+Math.imul(_e,Ve)|0,z=z+Math.imul(J,Xe)|0,T=T+Math.imul(J,rt)|0,T=T+Math.imul(te,Xe)|0,ee=ee+Math.imul(te,rt)|0,z=z+Math.imul(ye,yt)|0,T=T+Math.imul(ye,Et)|0,T=T+Math.imul(Re,yt)|0,ee=ee+Math.imul(Re,Et)|0;var Li=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Li>>>26)|0,Li&=67108863,z=Math.imul(Me,We),T=Math.imul(Me,Be),T=T+Math.imul($e,We)|0,ee=Math.imul($e,Be),z=z+Math.imul(he,ut)|0,T=T+Math.imul(he,ct)|0,T=T+Math.imul(Ce,ut)|0,ee=ee+Math.imul(Ce,ct)|0,z=z+Math.imul(le,ft)|0,T=T+Math.imul(le,wt)|0,T=T+Math.imul(W,ft)|0,ee=ee+Math.imul(W,wt)|0,z=z+Math.imul(je,kt)|0,T=T+Math.imul(je,Ot)|0,T=T+Math.imul(Je,kt)|0,ee=ee+Math.imul(Je,Ot)|0,z=z+Math.imul(Oe,Bt)|0,T=T+Math.imul(Oe,qt)|0,T=T+Math.imul(Ue,Bt)|0,ee=ee+Math.imul(Ue,qt)|0,z=z+Math.imul(ge,_t)|0,T=T+Math.imul(ge,Vt)|0,T=T+Math.imul(pe,_t)|0,ee=ee+Math.imul(pe,Vt)|0,z=z+Math.imul(B,Te)|0,T=T+Math.imul(B,Ve)|0,T=T+Math.imul(se,Te)|0,ee=ee+Math.imul(se,Ve)|0,z=z+Math.imul(fe,Xe)|0,T=T+Math.imul(fe,rt)|0,T=T+Math.imul(_e,Xe)|0,ee=ee+Math.imul(_e,rt)|0,z=z+Math.imul(J,yt)|0,T=T+Math.imul(J,Et)|0,T=T+Math.imul(te,yt)|0,ee=ee+Math.imul(te,Et)|0,z=z+Math.imul(ye,nt)|0,T=T+Math.imul(ye,mt)|0,T=T+Math.imul(Re,nt)|0,ee=ee+Math.imul(Re,mt)|0;var Ii=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,z=Math.imul(Me,ut),T=Math.imul(Me,ct),T=T+Math.imul($e,ut)|0,ee=Math.imul($e,ct),z=z+Math.imul(he,ft)|0,T=T+Math.imul(he,wt)|0,T=T+Math.imul(Ce,ft)|0,ee=ee+Math.imul(Ce,wt)|0,z=z+Math.imul(le,kt)|0,T=T+Math.imul(le,Ot)|0,T=T+Math.imul(W,kt)|0,ee=ee+Math.imul(W,Ot)|0,z=z+Math.imul(je,Bt)|0,T=T+Math.imul(je,qt)|0,T=T+Math.imul(Je,Bt)|0,ee=ee+Math.imul(Je,qt)|0,z=z+Math.imul(Oe,_t)|0,T=T+Math.imul(Oe,Vt)|0,T=T+Math.imul(Ue,_t)|0,ee=ee+Math.imul(Ue,Vt)|0,z=z+Math.imul(ge,Te)|0,T=T+Math.imul(ge,Ve)|0,T=T+Math.imul(pe,Te)|0,ee=ee+Math.imul(pe,Ve)|0,z=z+Math.imul(B,Xe)|0,T=T+Math.imul(B,rt)|0,T=T+Math.imul(se,Xe)|0,ee=ee+Math.imul(se,rt)|0,z=z+Math.imul(fe,yt)|0,T=T+Math.imul(fe,Et)|0,T=T+Math.imul(_e,yt)|0,ee=ee+Math.imul(_e,Et)|0,z=z+Math.imul(J,nt)|0,T=T+Math.imul(J,mt)|0,T=T+Math.imul(te,nt)|0,ee=ee+Math.imul(te,mt)|0;var Mi=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,z=Math.imul(Me,ft),T=Math.imul(Me,wt),T=T+Math.imul($e,ft)|0,ee=Math.imul($e,wt),z=z+Math.imul(he,kt)|0,T=T+Math.imul(he,Ot)|0,T=T+Math.imul(Ce,kt)|0,ee=ee+Math.imul(Ce,Ot)|0,z=z+Math.imul(le,Bt)|0,T=T+Math.imul(le,qt)|0,T=T+Math.imul(W,Bt)|0,ee=ee+Math.imul(W,qt)|0,z=z+Math.imul(je,_t)|0,T=T+Math.imul(je,Vt)|0,T=T+Math.imul(Je,_t)|0,ee=ee+Math.imul(Je,Vt)|0,z=z+Math.imul(Oe,Te)|0,T=T+Math.imul(Oe,Ve)|0,T=T+Math.imul(Ue,Te)|0,ee=ee+Math.imul(Ue,Ve)|0,z=z+Math.imul(ge,Xe)|0,T=T+Math.imul(ge,rt)|0,T=T+Math.imul(pe,Xe)|0,ee=ee+Math.imul(pe,rt)|0,z=z+Math.imul(B,yt)|0,T=T+Math.imul(B,Et)|0,T=T+Math.imul(se,yt)|0,ee=ee+Math.imul(se,Et)|0,z=z+Math.imul(fe,nt)|0,T=T+Math.imul(fe,mt)|0,T=T+Math.imul(_e,nt)|0,ee=ee+Math.imul(_e,mt)|0;var Ni=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,z=Math.imul(Me,kt),T=Math.imul(Me,Ot),T=T+Math.imul($e,kt)|0,ee=Math.imul($e,Ot),z=z+Math.imul(he,Bt)|0,T=T+Math.imul(he,qt)|0,T=T+Math.imul(Ce,Bt)|0,ee=ee+Math.imul(Ce,qt)|0,z=z+Math.imul(le,_t)|0,T=T+Math.imul(le,Vt)|0,T=T+Math.imul(W,_t)|0,ee=ee+Math.imul(W,Vt)|0,z=z+Math.imul(je,Te)|0,T=T+Math.imul(je,Ve)|0,T=T+Math.imul(Je,Te)|0,ee=ee+Math.imul(Je,Ve)|0,z=z+Math.imul(Oe,Xe)|0,T=T+Math.imul(Oe,rt)|0,T=T+Math.imul(Ue,Xe)|0,ee=ee+Math.imul(Ue,rt)|0,z=z+Math.imul(ge,yt)|0,T=T+Math.imul(ge,Et)|0,T=T+Math.imul(pe,yt)|0,ee=ee+Math.imul(pe,Et)|0,z=z+Math.imul(B,nt)|0,T=T+Math.imul(B,mt)|0,T=T+Math.imul(se,nt)|0,ee=ee+Math.imul(se,mt)|0;var Lt=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,z=Math.imul(Me,Bt),T=Math.imul(Me,qt),T=T+Math.imul($e,Bt)|0,ee=Math.imul($e,qt),z=z+Math.imul(he,_t)|0,T=T+Math.imul(he,Vt)|0,T=T+Math.imul(Ce,_t)|0,ee=ee+Math.imul(Ce,Vt)|0,z=z+Math.imul(le,Te)|0,T=T+Math.imul(le,Ve)|0,T=T+Math.imul(W,Te)|0,ee=ee+Math.imul(W,Ve)|0,z=z+Math.imul(je,Xe)|0,T=T+Math.imul(je,rt)|0,T=T+Math.imul(Je,Xe)|0,ee=ee+Math.imul(Je,rt)|0,z=z+Math.imul(Oe,yt)|0,T=T+Math.imul(Oe,Et)|0,T=T+Math.imul(Ue,yt)|0,ee=ee+Math.imul(Ue,Et)|0,z=z+Math.imul(ge,nt)|0,T=T+Math.imul(ge,mt)|0,T=T+Math.imul(pe,nt)|0,ee=ee+Math.imul(pe,mt)|0;var Qt=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,z=Math.imul(Me,_t),T=Math.imul(Me,Vt),T=T+Math.imul($e,_t)|0,ee=Math.imul($e,Vt),z=z+Math.imul(he,Te)|0,T=T+Math.imul(he,Ve)|0,T=T+Math.imul(Ce,Te)|0,ee=ee+Math.imul(Ce,Ve)|0,z=z+Math.imul(le,Xe)|0,T=T+Math.imul(le,rt)|0,T=T+Math.imul(W,Xe)|0,ee=ee+Math.imul(W,rt)|0,z=z+Math.imul(je,yt)|0,T=T+Math.imul(je,Et)|0,T=T+Math.imul(Je,yt)|0,ee=ee+Math.imul(Je,Et)|0,z=z+Math.imul(Oe,nt)|0,T=T+Math.imul(Oe,mt)|0,T=T+Math.imul(Ue,nt)|0,ee=ee+Math.imul(Ue,mt)|0;var ci=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(ci>>>26)|0,ci&=67108863,z=Math.imul(Me,Te),T=Math.imul(Me,Ve),T=T+Math.imul($e,Te)|0,ee=Math.imul($e,Ve),z=z+Math.imul(he,Xe)|0,T=T+Math.imul(he,rt)|0,T=T+Math.imul(Ce,Xe)|0,ee=ee+Math.imul(Ce,rt)|0,z=z+Math.imul(le,yt)|0,T=T+Math.imul(le,Et)|0,T=T+Math.imul(W,yt)|0,ee=ee+Math.imul(W,Et)|0,z=z+Math.imul(je,nt)|0,T=T+Math.imul(je,mt)|0,T=T+Math.imul(Je,nt)|0,ee=ee+Math.imul(Je,mt)|0;var Ti=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,z=Math.imul(Me,Xe),T=Math.imul(Me,rt),T=T+Math.imul($e,Xe)|0,ee=Math.imul($e,rt),z=z+Math.imul(he,yt)|0,T=T+Math.imul(he,Et)|0,T=T+Math.imul(Ce,yt)|0,ee=ee+Math.imul(Ce,Et)|0,z=z+Math.imul(le,nt)|0,T=T+Math.imul(le,mt)|0,T=T+Math.imul(W,nt)|0,ee=ee+Math.imul(W,mt)|0;var Zt=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,z=Math.imul(Me,yt),T=Math.imul(Me,Et),T=T+Math.imul($e,yt)|0,ee=Math.imul($e,Et),z=z+Math.imul(he,nt)|0,T=T+Math.imul(he,mt)|0,T=T+Math.imul(Ce,nt)|0,ee=ee+Math.imul(Ce,mt)|0;var bi=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(bi>>>26)|0,bi&=67108863,z=Math.imul(Me,nt),T=Math.imul(Me,mt),T=T+Math.imul($e,nt)|0,ee=Math.imul($e,mt);var Pi=($+z|0)+((T&8191)<<13)|0;return $=(ee+(T>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,A[0]=at,A[1]=ei,A[2]=Kt,A[3]=Mt,A[4]=fi,A[5]=ti,A[6]=yi,A[7]=gi,A[8]=Li,A[9]=Ii,A[10]=Mi,A[11]=Ni,A[12]=Lt,A[13]=Qt,A[14]=ci,A[15]=Ti,A[16]=Zt,A[17]=bi,A[18]=Pi,$!==0&&(A[19]=$,N.length++),N};Math.imul||(L=P);function H(C,o,g){g.negative=o.negative^C.negative,g.length=C.length+o.length;for(var N=0,x=0,F=0;F<g.length-1;F++){var A=x;x=0;for(var $=N&67108863,z=Math.min(F,o.length-1),T=Math.max(0,F-C.length+1);T<=z;T++){var ee=F-T,xe=C.words[ee]|0,ye=o.words[T]|0,Re=xe*ye,Ee=Re&67108863;A=A+(Re/67108864|0)|0,Ee=Ee+$|0,$=Ee&67108863,A=A+(Ee>>>26)|0,x+=A>>>26,A&=67108863}g.words[F]=$,N=A,A=x}return N!==0?g.words[F]=N:g.length--,g._strip()}function j(C,o,g){return H(C,o,g)}l.prototype.mulTo=function(o,g){var N,x=this.length+o.length;return this.length===10&&o.length===10?N=L(this,o,g):x<63?N=P(this,o,g):x<1024?N=H(this,o,g):N=j(this,o,g),N};function V(C,o){this.x=C,this.y=o}V.prototype.makeRBT=function(o){for(var g=new Array(o),N=l.prototype._countBits(o)-1,x=0;x<o;x++)g[x]=this.revBin(x,N,o);return g},V.prototype.revBin=function(o,g,N){if(o===0||o===N-1)return o;for(var x=0,F=0;F<g;F++)x|=(o&1)<<g-F-1,o>>=1;return x},V.prototype.permute=function(o,g,N,x,F,A){for(var $=0;$<A;$++)x[$]=g[o[$]],F[$]=N[o[$]]},V.prototype.transform=function(o,g,N,x,F,A){this.permute(A,o,g,N,x,F);for(var $=1;$<F;$<<=1)for(var z=$<<1,T=Math.cos(2*Math.PI/z),ee=Math.sin(2*Math.PI/z),xe=0;xe<F;xe+=z)for(var ye=T,Re=ee,Ee=0;Ee<$;Ee++){var J=N[xe+Ee],te=x[xe+Ee],me=N[xe+Ee+$],fe=x[xe+Ee+$],_e=ye*me-Re*fe;fe=ye*fe+Re*me,me=_e,N[xe+Ee]=J+me,x[xe+Ee]=te+fe,N[xe+Ee+$]=J-me,x[xe+Ee+$]=te-fe,Ee!==z&&(_e=T*ye-ee*Re,Re=T*Re+ee*ye,ye=_e)}},V.prototype.guessLen13b=function(o,g){var N=Math.max(g,o)|1,x=N&1,F=0;for(N=N/2|0;N;N=N>>>1)F++;return 1<<F+1+x},V.prototype.conjugate=function(o,g,N){if(!(N<=1))for(var x=0;x<N/2;x++){var F=o[x];o[x]=o[N-x-1],o[N-x-1]=F,F=g[x],g[x]=-g[N-x-1],g[N-x-1]=-F}},V.prototype.normalize13b=function(o,g){for(var N=0,x=0;x<g/2;x++){var F=Math.round(o[2*x+1]/g)*8192+Math.round(o[2*x]/g)+N;o[x]=F&67108863,F<67108864?N=0:N=F/67108864|0}return o},V.prototype.convert13b=function(o,g,N,x){for(var F=0,A=0;A<g;A++)F=F+(o[A]|0),N[2*A]=F&8191,F=F>>>13,N[2*A+1]=F&8191,F=F>>>13;for(A=2*g;A<x;++A)N[A]=0;E(F===0),E((F&~8191)==0)},V.prototype.stub=function(o){for(var g=new Array(o),N=0;N<o;N++)g[N]=0;return g},V.prototype.mulp=function(o,g,N){var x=2*this.guessLen13b(o.length,g.length),F=this.makeRBT(x),A=this.stub(x),$=new Array(x),z=new Array(x),T=new Array(x),ee=new Array(x),xe=new Array(x),ye=new Array(x),Re=N.words;Re.length=x,this.convert13b(o.words,o.length,$,x),this.convert13b(g.words,g.length,ee,x),this.transform($,A,z,T,x,F),this.transform(ee,A,xe,ye,x,F);for(var Ee=0;Ee<x;Ee++){var J=z[Ee]*xe[Ee]-T[Ee]*ye[Ee];T[Ee]=z[Ee]*ye[Ee]+T[Ee]*xe[Ee],z[Ee]=J}return this.conjugate(z,T,x),this.transform(z,T,Re,A,x,F),this.conjugate(Re,A,x),this.normalize13b(Re,x),N.negative=o.negative^g.negative,N.length=o.length+g.length,N._strip()},l.prototype.mul=function(o){var g=new l(null);return g.words=new Array(this.length+o.length),this.mulTo(o,g)},l.prototype.mulf=function(o){var g=new l(null);return g.words=new Array(this.length+o.length),j(this,o,g)},l.prototype.imul=function(o){return this.clone().mulTo(o,this)},l.prototype.imuln=function(o){var g=o<0;g&&(o=-o),E(typeof o=="number"),E(o<67108864);for(var N=0,x=0;x<this.length;x++){var F=(this.words[x]|0)*o,A=(F&67108863)+(N&67108863);N>>=26,N+=F/67108864|0,N+=A>>>26,this.words[x]=A&67108863}return N!==0&&(this.words[x]=N,this.length++),g?this.ineg():this},l.prototype.muln=function(o){return this.clone().imuln(o)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(o){var g=D(o);if(g.length===0)return new l(1);for(var N=this,x=0;x<g.length&&g[x]===0;x++,N=N.sqr());if(++x<g.length)for(var F=N.sqr();x<g.length;x++,F=F.sqr())g[x]!==0&&(N=N.mul(F));return N},l.prototype.iushln=function(o){E(typeof o=="number"&&o>=0);var g=o%26,N=(o-g)/26,x=67108863>>>26-g<<26-g,F;if(g!==0){var A=0;for(F=0;F<this.length;F++){var $=this.words[F]&x,z=(this.words[F]|0)-$<<g;this.words[F]=z|A,A=$>>>26-g}A&&(this.words[F]=A,this.length++)}if(N!==0){for(F=this.length-1;F>=0;F--)this.words[F+N]=this.words[F];for(F=0;F<N;F++)this.words[F]=0;this.length+=N}return this._strip()},l.prototype.ishln=function(o){return E(this.negative===0),this.iushln(o)},l.prototype.iushrn=function(o,g,N){E(typeof o=="number"&&o>=0);var x;g?x=(g-g%26)/26:x=0;var F=o%26,A=Math.min((o-F)/26,this.length),$=67108863^67108863>>>F<<F,z=N;if(x-=A,x=Math.max(0,x),z){for(var T=0;T<A;T++)z.words[T]=this.words[T];z.length=A}if(A!==0)if(this.length>A)for(this.length-=A,T=0;T<this.length;T++)this.words[T]=this.words[T+A];else this.words[0]=0,this.length=1;var ee=0;for(T=this.length-1;T>=0&&(ee!==0||T>=x);T--){var xe=this.words[T]|0;this.words[T]=ee<<26-F|xe>>>F,ee=xe&$}return z&&ee!==0&&(z.words[z.length++]=ee),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(o,g,N){return E(this.negative===0),this.iushrn(o,g,N)},l.prototype.shln=function(o){return this.clone().ishln(o)},l.prototype.ushln=function(o){return this.clone().iushln(o)},l.prototype.shrn=function(o){return this.clone().ishrn(o)},l.prototype.ushrn=function(o){return this.clone().iushrn(o)},l.prototype.testn=function(o){E(typeof o=="number"&&o>=0);var g=o%26,N=(o-g)/26,x=1<<g;if(this.length<=N)return!1;var F=this.words[N];return!!(F&x)},l.prototype.imaskn=function(o){E(typeof o=="number"&&o>=0);var g=o%26,N=(o-g)/26;if(E(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(g!==0&&N++,this.length=Math.min(N,this.length),g!==0){var x=67108863^67108863>>>g<<g;this.words[this.length-1]&=x}return this._strip()},l.prototype.maskn=function(o){return this.clone().imaskn(o)},l.prototype.iaddn=function(o){return E(typeof o=="number"),E(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},l.prototype._iaddn=function(o){this.words[0]+=o;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},l.prototype.isubn=function(o){if(E(typeof o=="number"),E(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},l.prototype.addn=function(o){return this.clone().iaddn(o)},l.prototype.subn=function(o){return this.clone().isubn(o)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(o,g,N){var x=o.length+N,F;this._expand(x);var A,$=0;for(F=0;F<o.length;F++){A=(this.words[F+N]|0)+$;var z=(o.words[F]|0)*g;A-=z&67108863,$=(A>>26)-(z/67108864|0),this.words[F+N]=A&67108863}for(;F<this.length-N;F++)A=(this.words[F+N]|0)+$,$=A>>26,this.words[F+N]=A&67108863;if($===0)return this._strip();for(E($===-1),$=0,F=0;F<this.length;F++)A=-(this.words[F]|0)+$,$=A>>26,this.words[F]=A&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(o,g){var N=this.length-o.length,x=this.clone(),F=o,A=F.words[F.length-1]|0,$=this._countBits(A);N=26-$,N!==0&&(F=F.ushln(N),x.iushln(N),A=F.words[F.length-1]|0);var z=x.length-F.length,T;if(g!=="mod"){T=new l(null),T.length=z+1,T.words=new Array(T.length);for(var ee=0;ee<T.length;ee++)T.words[ee]=0}var xe=x.clone()._ishlnsubmul(F,1,z);xe.negative===0&&(x=xe,T&&(T.words[z]=1));for(var ye=z-1;ye>=0;ye--){var Re=(x.words[F.length+ye]|0)*67108864+(x.words[F.length+ye-1]|0);for(Re=Math.min(Re/A|0,67108863),x._ishlnsubmul(F,Re,ye);x.negative!==0;)Re--,x.negative=0,x._ishlnsubmul(F,1,ye),x.isZero()||(x.negative^=1);T&&(T.words[ye]=Re)}return T&&T._strip(),x._strip(),g!=="div"&&N!==0&&x.iushrn(N),{div:T||null,mod:x}},l.prototype.divmod=function(o,g,N){if(E(!o.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var x,F,A;return this.negative!==0&&o.negative===0?(A=this.neg().divmod(o,g),g!=="mod"&&(x=A.div.neg()),g!=="div"&&(F=A.mod.neg(),N&&F.negative!==0&&F.iadd(o)),{div:x,mod:F}):this.negative===0&&o.negative!==0?(A=this.divmod(o.neg(),g),g!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):(this.negative&o.negative)!=0?(A=this.neg().divmod(o.neg(),g),g!=="div"&&(F=A.mod.neg(),N&&F.negative!==0&&F.isub(o)),{div:A.div,mod:F}):o.length>this.length||this.cmp(o)<0?{div:new l(0),mod:this}:o.length===1?g==="div"?{div:this.divn(o.words[0]),mod:null}:g==="mod"?{div:null,mod:new l(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new l(this.modrn(o.words[0]))}:this._wordDiv(o,g)},l.prototype.div=function(o){return this.divmod(o,"div",!1).div},l.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},l.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},l.prototype.divRound=function(o){var g=this.divmod(o);if(g.mod.isZero())return g.div;var N=g.div.negative!==0?g.mod.isub(o):g.mod,x=o.ushrn(1),F=o.andln(1),A=N.cmp(x);return A<0||F===1&&A===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},l.prototype.modrn=function(o){var g=o<0;g&&(o=-o),E(o<=67108863);for(var N=(1<<26)%o,x=0,F=this.length-1;F>=0;F--)x=(N*x+(this.words[F]|0))%o;return g?-x:x},l.prototype.modn=function(o){return this.modrn(o)},l.prototype.idivn=function(o){var g=o<0;g&&(o=-o),E(o<=67108863);for(var N=0,x=this.length-1;x>=0;x--){var F=(this.words[x]|0)+N*67108864;this.words[x]=F/o|0,N=F%o}return this._strip(),g?this.ineg():this},l.prototype.divn=function(o){return this.clone().idivn(o)},l.prototype.egcd=function(o){E(o.negative===0),E(!o.isZero());var g=this,N=o.clone();g.negative!==0?g=g.umod(o):g=g.clone();for(var x=new l(1),F=new l(0),A=new l(0),$=new l(1),z=0;g.isEven()&&N.isEven();)g.iushrn(1),N.iushrn(1),++z;for(var T=N.clone(),ee=g.clone();!g.isZero();){for(var xe=0,ye=1;(g.words[0]&ye)==0&&xe<26;++xe,ye<<=1);if(xe>0)for(g.iushrn(xe);xe-- >0;)(x.isOdd()||F.isOdd())&&(x.iadd(T),F.isub(ee)),x.iushrn(1),F.iushrn(1);for(var Re=0,Ee=1;(N.words[0]&Ee)==0&&Re<26;++Re,Ee<<=1);if(Re>0)for(N.iushrn(Re);Re-- >0;)(A.isOdd()||$.isOdd())&&(A.iadd(T),$.isub(ee)),A.iushrn(1),$.iushrn(1);g.cmp(N)>=0?(g.isub(N),x.isub(A),F.isub($)):(N.isub(g),A.isub(x),$.isub(F))}return{a:A,b:$,gcd:N.iushln(z)}},l.prototype._invmp=function(o){E(o.negative===0),E(!o.isZero());var g=this,N=o.clone();g.negative!==0?g=g.umod(o):g=g.clone();for(var x=new l(1),F=new l(0),A=N.clone();g.cmpn(1)>0&&N.cmpn(1)>0;){for(var $=0,z=1;(g.words[0]&z)==0&&$<26;++$,z<<=1);if($>0)for(g.iushrn($);$-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var T=0,ee=1;(N.words[0]&ee)==0&&T<26;++T,ee<<=1);if(T>0)for(N.iushrn(T);T-- >0;)F.isOdd()&&F.iadd(A),F.iushrn(1);g.cmp(N)>=0?(g.isub(N),x.isub(F)):(N.isub(g),F.isub(x))}var xe;return g.cmpn(1)===0?xe=x:xe=F,xe.cmpn(0)<0&&xe.iadd(o),xe},l.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var g=this.clone(),N=o.clone();g.negative=0,N.negative=0;for(var x=0;g.isEven()&&N.isEven();x++)g.iushrn(1),N.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;N.isEven();)N.iushrn(1);var F=g.cmp(N);if(F<0){var A=g;g=N,N=A}else if(F===0||N.cmpn(1)===0)break;g.isub(N)}while(!0);return N.iushln(x)},l.prototype.invm=function(o){return this.egcd(o).a.umod(o)},l.prototype.isEven=function(){return(this.words[0]&1)==0},l.prototype.isOdd=function(){return(this.words[0]&1)==1},l.prototype.andln=function(o){return this.words[0]&o},l.prototype.bincn=function(o){E(typeof o=="number");var g=o%26,N=(o-g)/26,x=1<<g;if(this.length<=N)return this._expand(N+1),this.words[N]|=x,this;for(var F=x,A=N;F!==0&&A<this.length;A++){var $=this.words[A]|0;$+=F,F=$>>>26,$&=67108863,this.words[A]=$}return F!==0&&(this.words[A]=F,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(o){var g=o<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var N;if(this.length>1)N=1;else{g&&(o=-o),E(o<=67108863,"Number is too big");var x=this.words[0]|0;N=x===o?0:x<o?-1:1}return this.negative!==0?-N|0:N},l.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var g=this.ucmp(o);return this.negative!==0?-g|0:g},l.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var g=0,N=this.length-1;N>=0;N--){var x=this.words[N]|0,F=o.words[N]|0;if(x!==F){x<F?g=-1:x>F&&(g=1);break}}return g},l.prototype.gtn=function(o){return this.cmpn(o)===1},l.prototype.gt=function(o){return this.cmp(o)===1},l.prototype.gten=function(o){return this.cmpn(o)>=0},l.prototype.gte=function(o){return this.cmp(o)>=0},l.prototype.ltn=function(o){return this.cmpn(o)===-1},l.prototype.lt=function(o){return this.cmp(o)===-1},l.prototype.lten=function(o){return this.cmpn(o)<=0},l.prototype.lte=function(o){return this.cmp(o)<=0},l.prototype.eqn=function(o){return this.cmpn(o)===0},l.prototype.eq=function(o){return this.cmp(o)===0},l.red=function(o){return new I(o)},l.prototype.toRed=function(o){return E(!this.red,"Already a number in reduction context"),E(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},l.prototype.fromRed=function(){return E(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(o){return this.red=o,this},l.prototype.forceRed=function(o){return E(!this.red,"Already a number in reduction context"),this._forceRed(o)},l.prototype.redAdd=function(o){return E(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},l.prototype.redIAdd=function(o){return E(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},l.prototype.redSub=function(o){return E(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},l.prototype.redISub=function(o){return E(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},l.prototype.redShl=function(o){return E(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},l.prototype.redMul=function(o){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},l.prototype.redIMul=function(o){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},l.prototype.redSqr=function(){return E(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return E(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return E(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return E(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return E(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(o){return E(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var Y={k256:null,p224:null,p192:null,p25519:null};function K(C,o){this.name=C,this.p=new l(o,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var o=new l(null);return o.words=new Array(Math.ceil(this.n/13)),o},K.prototype.ireduce=function(o){var g=o,N;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),N=g.bitLength();while(N>this.n);var x=N<this.n?-1:g.ucmp(this.p);return x===0?(g.words[0]=0,g.length=1):x>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},K.prototype.split=function(o,g){o.iushrn(this.n,0,g)},K.prototype.imulK=function(o){return o.imul(this.k)};function ae(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_(ae,K),ae.prototype.split=function(o,g){for(var N=4194303,x=Math.min(o.length,9),F=0;F<x;F++)g.words[F]=o.words[F];if(g.length=x,o.length<=9){o.words[0]=0,o.length=1;return}var A=o.words[9];for(g.words[g.length++]=A&N,F=10;F<o.length;F++){var $=o.words[F]|0;o.words[F-10]=($&N)<<4|A>>>22,A=$}A>>>=22,o.words[F-10]=A,A===0&&o.length>10?o.length-=10:o.length-=9},ae.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var g=0,N=0;N<o.length;N++){var x=o.words[N]|0;g+=x*977,o.words[N]=g&67108863,g=x*64+(g/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ne(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_(ne,K);function ce(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_(ce,K);function re(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_(re,K),re.prototype.imulK=function(o){for(var g=0,N=0;N<o.length;N++){var x=(o.words[N]|0)*19+g,F=x&67108863;x>>>=26,o.words[N]=F,g=x}return g!==0&&(o.words[o.length++]=g),o},l._prime=function(o){if(Y[o])return Y[o];var g;if(o==="k256")g=new ae;else if(o==="p224")g=new ne;else if(o==="p192")g=new ce;else if(o==="p25519")g=new re;else throw new Error("Unknown prime "+o);return Y[o]=g,g};function I(C){if(typeof C=="string"){var o=l._prime(C);this.m=o.p,this.prime=o}else E(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}I.prototype._verify1=function(o){E(o.negative===0,"red works only with positives"),E(o.red,"red works only with red numbers")},I.prototype._verify2=function(o,g){E((o.negative|g.negative)==0,"red works only with positives"),E(o.red&&o.red===g.red,"red works only with red numbers")},I.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(v(o,o.umod(this.m)._forceRed(this)),o)},I.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},I.prototype.add=function(o,g){this._verify2(o,g);var N=o.add(g);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},I.prototype.iadd=function(o,g){this._verify2(o,g);var N=o.iadd(g);return N.cmp(this.m)>=0&&N.isub(this.m),N},I.prototype.sub=function(o,g){this._verify2(o,g);var N=o.sub(g);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},I.prototype.isub=function(o,g){this._verify2(o,g);var N=o.isub(g);return N.cmpn(0)<0&&N.iadd(this.m),N},I.prototype.shl=function(o,g){return this._verify1(o),this.imod(o.ushln(g))},I.prototype.imul=function(o,g){return this._verify2(o,g),this.imod(o.imul(g))},I.prototype.mul=function(o,g){return this._verify2(o,g),this.imod(o.mul(g))},I.prototype.isqr=function(o){return this.imul(o,o.clone())},I.prototype.sqr=function(o){return this.mul(o,o)},I.prototype.sqrt=function(o){if(o.isZero())return o.clone();var g=this.m.andln(3);if(E(g%2==1),g===3){var N=this.m.add(new l(1)).iushrn(2);return this.pow(o,N)}for(var x=this.m.subn(1),F=0;!x.isZero()&&x.andln(1)===0;)F++,x.iushrn(1);E(!x.isZero());var A=new l(1).toRed(this),$=A.redNeg(),z=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new l(2*T*T).toRed(this);this.pow(T,z).cmp($)!==0;)T.redIAdd($);for(var ee=this.pow(T,x),xe=this.pow(o,x.addn(1).iushrn(1)),ye=this.pow(o,x),Re=F;ye.cmp(A)!==0;){for(var Ee=ye,J=0;Ee.cmp(A)!==0;J++)Ee=Ee.redSqr();E(J<Re);var te=this.pow(ee,new l(1).iushln(Re-J-1));xe=xe.redMul(te),ee=te.redSqr(),ye=ye.redMul(ee),Re=J}return xe},I.prototype.invm=function(o){var g=o._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},I.prototype.pow=function(o,g){if(g.isZero())return new l(1).toRed(this);if(g.cmpn(1)===0)return o.clone();var N=4,x=new Array(1<<N);x[0]=new l(1).toRed(this),x[1]=o;for(var F=2;F<x.length;F++)x[F]=this.mul(x[F-1],o);var A=x[0],$=0,z=0,T=g.bitLength()%26;for(T===0&&(T=26),F=g.length-1;F>=0;F--){for(var ee=g.words[F],xe=T-1;xe>=0;xe--){var ye=ee>>xe&1;if(A!==x[0]&&(A=this.sqr(A)),ye===0&&$===0){z=0;continue}$<<=1,$|=ye,z++,!(z!==N&&(F!==0||xe!==0))&&(A=this.mul(A,x[$]),z=0,$=0)}T=26}return A},I.prototype.convertTo=function(o){var g=o.umod(this.m);return g===o?g.clone():g},I.prototype.convertFrom=function(o){var g=o.clone();return g.red=null,g},l.mont=function(o){return new U(o)};function U(C){I.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_(U,I),U.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},U.prototype.convertFrom=function(o){var g=this.imod(o.mul(this.rinv));return g.red=null,g},U.prototype.imul=function(o,g){if(o.isZero()||g.isZero())return o.words[0]=0,o.length=1,o;var N=o.imul(g),x=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=N.isub(x).iushrn(this.shift),A=F;return F.cmp(this.m)>=0?A=F.isub(this.m):F.cmpn(0)<0&&(A=F.iadd(this.m)),A._forceRed(this)},U.prototype.mul=function(o,g){if(o.isZero()||g.isZero())return new l(0)._forceRed(this);var N=o.mul(g),x=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=N.isub(x).iushrn(this.shift),A=F;return F.cmp(this.m)>=0?A=F.isub(this.m):F.cmpn(0)<0&&(A=F.iadd(this.m)),A._forceRed(this)},U.prototype.invm=function(o){var g=this.imod(o._invmp(this.m).mul(this.r2));return g._forceRed(this)}}(s,this)},56042:(s,Q,R)=>{"use strict";s.exports=R(75207)},64743:(s,Q,R)=>{"use strict";var S=R(89509).Buffer,M=R(23482),E=R(23872),_=R(35717),l=R(82957),u=R(47753),c=R(75207);Object.keys(c).forEach(function(h){c[h].id=S.from(c[h].id,"hex"),c[h.toLowerCase()]=c[h]});function f(h){E.Writable.call(this);var p=c[h];if(!p)throw new Error("Unknown message digest");this._hashType=p.hash,this._hash=M(p.hash),this._tag=p.id,this._signType=p.sign}_(f,E.Writable),f.prototype._write=function(p,b,y){this._hash.update(p),y()},f.prototype.update=function(p,b){return this._hash.update(typeof p=="string"?S.from(p,b):p),this},f.prototype.sign=function(p,b){this.end();var y=this._hash.digest(),D=l(y,p,this._hashType,this._signType,this._tag);return b?D.toString(b):D};function w(h){E.Writable.call(this);var p=c[h];if(!p)throw new Error("Unknown message digest");this._hash=M(p.hash),this._tag=p.id,this._signType=p.sign}_(w,E.Writable),w.prototype._write=function(p,b,y){this._hash.update(p),y()},w.prototype.update=function(p,b){return this._hash.update(typeof p=="string"?S.from(p,b):p),this},w.prototype.verify=function(p,b,y){var D=typeof b=="string"?S.from(b,y):b;this.end();var P=this._hash.digest();return u(D,P,p,this._signType,this._tag)};function v(h){return new f(h)}function d(h){return new w(h)}s.exports={Sign:v,Verify:d,createSign:v,createVerify:d}},82957:(s,Q,R)=>{"use strict";var S=R(89509).Buffer,M=R(58355),E=R(23663),_=R(86266).ec,l=R(58815),u=R(70980),c=R(1308),f=1;function w(L,H,j,V,Y){var K=u(H);if(K.curve){if(V!=="ecdsa"&&V!=="ecdsa/rsa")throw new Error("wrong private key type");return v(L,K)}else if(K.type==="dsa"){if(V!=="dsa")throw new Error("wrong private key type");return d(L,K,j)}if(V!=="rsa"&&V!=="ecdsa/rsa")throw new Error("wrong private key type");if(H.padding!==void 0&&H.padding!==f)throw new Error("illegal or unsupported padding mode");L=S.concat([Y,L]);for(var ae=K.modulus.byteLength(),ne=[0,1];L.length+ne.length+1<ae;)ne.push(255);ne.push(0);for(var ce=-1;++ce<L.length;)ne.push(L[ce]);var re=E(ne,K);return re}function v(L,H){var j=c[H.curve.join(".")];if(!j)throw new Error("unknown curve "+H.curve.join("."));var V=new _(j),Y=V.keyFromPrivate(H.privateKey),K=Y.sign(L);return S.from(K.toDER())}function d(L,H,j){for(var V=H.params.priv_key,Y=H.params.p,K=H.params.q,ae=H.params.g,ne=new l(0),ce,re=b(L,K).mod(K),I=!1,U=p(V,K,L,j);I===!1;)ce=D(K,U,j),ne=P(ae,ce,Y,K),I=ce.invm(K).imul(re.add(V.mul(ne))).mod(K),I.cmpn(0)===0&&(I=!1,ne=new l(0));return h(ne,I)}function h(L,H){L=L.toArray(),H=H.toArray(),L[0]&128&&(L=[0].concat(L)),H[0]&128&&(H=[0].concat(H));var j=L.length+H.length+4,V=[48,j,2,L.length];return V=V.concat(L,[2,H.length],H),S.from(V)}function p(L,H,j,V){if(L=S.from(L.toArray()),L.length<H.byteLength()){var Y=S.alloc(H.byteLength()-L.length);L=S.concat([Y,L])}var K=j.length,ae=y(j,H),ne=S.alloc(K);ne.fill(1);var ce=S.alloc(K);return ce=M(V,ce).update(ne).update(S.from([0])).update(L).update(ae).digest(),ne=M(V,ce).update(ne).digest(),ce=M(V,ce).update(ne).update(S.from([1])).update(L).update(ae).digest(),ne=M(V,ce).update(ne).digest(),{k:ce,v:ne}}function b(L,H){var j=new l(L),V=(L.length<<3)-H.bitLength();return V>0&&j.ishrn(V),j}function y(L,H){L=b(L,H),L=L.mod(H);var j=S.from(L.toArray());if(j.length<H.byteLength()){var V=S.alloc(H.byteLength()-j.length);j=S.concat([V,j])}return j}function D(L,H,j){var V,Y;do{for(V=S.alloc(0);V.length*8<L.bitLength();)H.v=M(j,H.k).update(H.v).digest(),V=S.concat([V,H.v]);Y=b(V,L),H.k=M(j,H.k).update(H.v).update(S.from([0])).digest(),H.v=M(j,H.k).update(H.v).digest()}while(Y.cmp(L)!==-1);return Y}function P(L,H,j,V){return L.toRed(l.mont(j)).redPow(H).fromRed().mod(V)}s.exports=w,s.exports.getKey=p,s.exports.makeKey=D},47753:(s,Q,R)=>{"use strict";var S=R(89509).Buffer,M=R(58815),E=R(86266).ec,_=R(70980),l=R(1308);function u(v,d,h,p,b){var y=_(h);if(y.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return c(v,d,y)}else if(y.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return f(v,d,y)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");d=S.concat([b,d]);for(var D=y.modulus.byteLength(),P=[1],L=0;d.length+P.length+2<D;)P.push(255),L+=1;P.push(0);for(var H=-1;++H<d.length;)P.push(d[H]);P=S.from(P);var j=M.mont(y.modulus);v=new M(v).toRed(j),v=v.redPow(new M(y.publicExponent)),v=S.from(v.fromRed().toArray());var V=L<8?1:0;for(D=Math.min(v.length,P.length),v.length!==P.length&&(V=1),H=-1;++H<D;)V|=v[H]^P[H];return V===0}function c(v,d,h){var p=l[h.data.algorithm.curve.join(".")];if(!p)throw new Error("unknown curve "+h.data.algorithm.curve.join("."));var b=new E(p),y=h.data.subjectPrivateKey.data;return b.verify(d,v,y)}function f(v,d,h){var p=h.data.p,b=h.data.q,y=h.data.g,D=h.data.pub_key,P=_.signature.decode(v,"der"),L=P.s,H=P.r;w(L,b),w(H,b);var j=M.mont(p),V=L.invm(b),Y=y.toRed(j).redPow(new M(d).mul(V).mod(b)).fromRed().mul(D.toRed(j).redPow(H.mul(V).mod(b)).fromRed()).mod(p).mod(b);return Y.cmp(H)===0}function w(v,d){if(v.cmpn(0)<=0)throw new Error("invalid sig");if(v.cmp(d)>=0)throw new Error("invalid sig")}s.exports=u},58815:function(s,Q,R){s=R.nmd(s),function(S,M){"use strict";function E(C,o){if(!C)throw new Error(o||"Assertion failed")}function _(C,o){C.super_=o;var g=function(){};g.prototype=o.prototype,C.prototype=new g,C.prototype.constructor=C}function l(C,o,g){if(l.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((o==="le"||o==="be")&&(g=o,o=10),this._init(C||0,o||10,g||"be"))}typeof S=="object"?S.exports=l:M.BN=l,l.BN=l,l.wordSize=26;var u;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?u=window.Buffer:u=R(2363).Buffer}catch(C){}l.isBN=function(o){return o instanceof l?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===l.wordSize&&Array.isArray(o.words)},l.max=function(o,g){return o.cmp(g)>0?o:g},l.min=function(o,g){return o.cmp(g)<0?o:g},l.prototype._init=function(o,g,N){if(typeof o=="number")return this._initNumber(o,g,N);if(typeof o=="object")return this._initArray(o,g,N);g==="hex"&&(g=16),E(g===(g|0)&&g>=2&&g<=36),o=o.toString().replace(/\s+/g,"");var x=0;o[0]==="-"&&(x++,this.negative=1),x<o.length&&(g===16?this._parseHex(o,x,N):(this._parseBase(o,g,x),N==="le"&&this._initArray(this.toArray(),g,N)))},l.prototype._initNumber=function(o,g,N){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(E(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),g,N)},l.prototype._initArray=function(o,g,N){if(E(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var F,A,$=0;if(N==="be")for(x=o.length-1,F=0;x>=0;x-=3)A=o[x]|o[x-1]<<8|o[x-2]<<16,this.words[F]|=A<<$&67108863,this.words[F+1]=A>>>26-$&67108863,$+=24,$>=26&&($-=26,F++);else if(N==="le")for(x=0,F=0;x<o.length;x+=3)A=o[x]|o[x+1]<<8|o[x+2]<<16,this.words[F]|=A<<$&67108863,this.words[F+1]=A>>>26-$&67108863,$+=24,$>=26&&($-=26,F++);return this._strip()};function c(C,o){var g=C.charCodeAt(o);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;E(!1,"Invalid character in "+C)}function f(C,o,g){var N=c(C,g);return g-1>=o&&(N|=c(C,g-1)<<4),N}l.prototype._parseHex=function(o,g,N){this.length=Math.ceil((o.length-g)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var F=0,A=0,$;if(N==="be")for(x=o.length-1;x>=g;x-=2)$=f(o,g,x)<<F,this.words[A]|=$&67108863,F>=18?(F-=18,A+=1,this.words[A]|=$>>>26):F+=8;else{var z=o.length-g;for(x=z%2==0?g+1:g;x<o.length;x+=2)$=f(o,g,x)<<F,this.words[A]|=$&67108863,F>=18?(F-=18,A+=1,this.words[A]|=$>>>26):F+=8}this._strip()};function w(C,o,g,N){for(var x=0,F=0,A=Math.min(C.length,g),$=o;$<A;$++){var z=C.charCodeAt($)-48;x*=N,z>=49?F=z-49+10:z>=17?F=z-17+10:F=z,E(z>=0&&F<N,"Invalid character"),x+=F}return x}l.prototype._parseBase=function(o,g,N){this.words=[0],this.length=1;for(var x=0,F=1;F<=67108863;F*=g)x++;x--,F=F/g|0;for(var A=o.length-N,$=A%x,z=Math.min(A,A-$)+N,T=0,ee=N;ee<z;ee+=x)T=w(o,ee,ee+x,g),this.imuln(F),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if($!==0){var xe=1;for(T=w(o,ee,o.length,g),ee=0;ee<$;ee++)xe*=g;this.imuln(xe),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},l.prototype.copy=function(o){o.words=new Array(this.length);for(var g=0;g<this.length;g++)o.words[g]=this.words[g];o.length=this.length,o.negative=this.negative,o.red=this.red};function v(C,o){C.words=o.words,C.length=o.length,C.negative=o.negative,C.red=o.red}if(l.prototype._move=function(o){v(o,this)},l.prototype.clone=function(){var o=new l(null);return this.copy(o),o},l.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(C){l.prototype.inspect=d}else l.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(o,g){o=o||10,g=g|0||1;var N;if(o===16||o==="hex"){N="";for(var x=0,F=0,A=0;A<this.length;A++){var $=this.words[A],z=(($<<x|F)&16777215).toString(16);F=$>>>24-x&16777215,x+=2,x>=26&&(x-=26,A--),F!==0||A!==this.length-1?N=h[6-z.length]+z+N:N=z+N}for(F!==0&&(N=F.toString(16)+N);N.length%g!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(o===(o|0)&&o>=2&&o<=36){var T=p[o],ee=b[o];N="";var xe=this.clone();for(xe.negative=0;!xe.isZero();){var ye=xe.modrn(ee).toString(o);xe=xe.idivn(ee),xe.isZero()?N=ye+N:N=h[T-ye.length]+ye+N}for(this.isZero()&&(N="0"+N);N.length%g!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}E(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&E(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},l.prototype.toJSON=function(){return this.toString(16,2)},u&&(l.prototype.toBuffer=function(o,g){return this.toArrayLike(u,o,g)}),l.prototype.toArray=function(o,g){return this.toArrayLike(Array,o,g)};var y=function(o,g){return o.allocUnsafe?o.allocUnsafe(g):new o(g)};l.prototype.toArrayLike=function(o,g,N){this._strip();var x=this.byteLength(),F=N||Math.max(1,x);E(x<=F,"byte array longer than desired length"),E(F>0,"Requested array length <= 0");var A=y(o,F),$=g==="le"?"LE":"BE";return this["_toArrayLike"+$](A,x),A},l.prototype._toArrayLikeLE=function(o,g){for(var N=0,x=0,F=0,A=0;F<this.length;F++){var $=this.words[F]<<A|x;o[N++]=$&255,N<o.length&&(o[N++]=$>>8&255),N<o.length&&(o[N++]=$>>16&255),A===6?(N<o.length&&(o[N++]=$>>24&255),x=0,A=0):(x=$>>>24,A+=2)}if(N<o.length)for(o[N++]=x;N<o.length;)o[N++]=0},l.prototype._toArrayLikeBE=function(o,g){for(var N=o.length-1,x=0,F=0,A=0;F<this.length;F++){var $=this.words[F]<<A|x;o[N--]=$&255,N>=0&&(o[N--]=$>>8&255),N>=0&&(o[N--]=$>>16&255),A===6?(N>=0&&(o[N--]=$>>24&255),x=0,A=0):(x=$>>>24,A+=2)}if(N>=0)for(o[N--]=x;N>=0;)o[N--]=0},Math.clz32?l.prototype._countBits=function(o){return 32-Math.clz32(o)}:l.prototype._countBits=function(o){var g=o,N=0;return g>=4096&&(N+=13,g>>>=13),g>=64&&(N+=7,g>>>=7),g>=8&&(N+=4,g>>>=4),g>=2&&(N+=2,g>>>=2),N+g},l.prototype._zeroBits=function(o){if(o===0)return 26;var g=o,N=0;return(g&8191)==0&&(N+=13,g>>>=13),(g&127)==0&&(N+=7,g>>>=7),(g&15)==0&&(N+=4,g>>>=4),(g&3)==0&&(N+=2,g>>>=2),(g&1)==0&&N++,N},l.prototype.bitLength=function(){var o=this.words[this.length-1],g=this._countBits(o);return(this.length-1)*26+g};function D(C){for(var o=new Array(C.bitLength()),g=0;g<o.length;g++){var N=g/26|0,x=g%26;o[g]=C.words[N]>>>x&1}return o}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,g=0;g<this.length;g++){var N=this._zeroBits(this.words[g]);if(o+=N,N!==26)break}return o},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},l.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var g=0;g<o.length;g++)this.words[g]=this.words[g]|o.words[g];return this._strip()},l.prototype.ior=function(o){return E((this.negative|o.negative)==0),this.iuor(o)},l.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},l.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},l.prototype.iuand=function(o){var g;this.length>o.length?g=o:g=this;for(var N=0;N<g.length;N++)this.words[N]=this.words[N]&o.words[N];return this.length=g.length,this._strip()},l.prototype.iand=function(o){return E((this.negative|o.negative)==0),this.iuand(o)},l.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},l.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},l.prototype.iuxor=function(o){var g,N;this.length>o.length?(g=this,N=o):(g=o,N=this);for(var x=0;x<N.length;x++)this.words[x]=g.words[x]^N.words[x];if(this!==g)for(;x<g.length;x++)this.words[x]=g.words[x];return this.length=g.length,this._strip()},l.prototype.ixor=function(o){return E((this.negative|o.negative)==0),this.iuxor(o)},l.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},l.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},l.prototype.inotn=function(o){E(typeof o=="number"&&o>=0);var g=Math.ceil(o/26)|0,N=o%26;this._expand(g),N>0&&g--;for(var x=0;x<g;x++)this.words[x]=~this.words[x]&67108863;return N>0&&(this.words[x]=~this.words[x]&67108863>>26-N),this._strip()},l.prototype.notn=function(o){return this.clone().inotn(o)},l.prototype.setn=function(o,g){E(typeof o=="number"&&o>=0);var N=o/26|0,x=o%26;return this._expand(N+1),g?this.words[N]=this.words[N]|1<<x:this.words[N]=this.words[N]&~(1<<x),this._strip()},l.prototype.iadd=function(o){var g;if(this.negative!==0&&o.negative===0)return this.negative=0,g=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,g=this.isub(o),o.negative=1,g._normSign();var N,x;this.length>o.length?(N=this,x=o):(N=o,x=this);for(var F=0,A=0;A<x.length;A++)g=(N.words[A]|0)+(x.words[A]|0)+F,this.words[A]=g&67108863,F=g>>>26;for(;F!==0&&A<N.length;A++)g=(N.words[A]|0)+F,this.words[A]=g&67108863,F=g>>>26;if(this.length=N.length,F!==0)this.words[this.length]=F,this.length++;else if(N!==this)for(;A<N.length;A++)this.words[A]=N.words[A];return this},l.prototype.add=function(o){var g;return o.negative!==0&&this.negative===0?(o.negative=0,g=this.sub(o),o.negative^=1,g):o.negative===0&&this.negative!==0?(this.negative=0,g=o.sub(this),this.negative=1,g):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},l.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var g=this.iadd(o);return o.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var N=this.cmp(o);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,F;N>0?(x=this,F=o):(x=o,F=this);for(var A=0,$=0;$<F.length;$++)g=(x.words[$]|0)-(F.words[$]|0)+A,A=g>>26,this.words[$]=g&67108863;for(;A!==0&&$<x.length;$++)g=(x.words[$]|0)+A,A=g>>26,this.words[$]=g&67108863;if(A===0&&$<x.length&&x!==this)for(;$<x.length;$++)this.words[$]=x.words[$];return this.length=Math.max(this.length,$),x!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(o){return this.clone().isub(o)};function P(C,o,g){g.negative=o.negative^C.negative;var N=C.length+o.length|0;g.length=N,N=N-1|0;var x=C.words[0]|0,F=o.words[0]|0,A=x*F,$=A&67108863,z=A/67108864|0;g.words[0]=$;for(var T=1;T<N;T++){for(var ee=z>>>26,xe=z&67108863,ye=Math.min(T,o.length-1),Re=Math.max(0,T-C.length+1);Re<=ye;Re++){var Ee=T-Re|0;x=C.words[Ee]|0,F=o.words[Re]|0,A=x*F+xe,ee+=A/67108864|0,xe=A&67108863}g.words[T]=xe|0,z=ee|0}return z!==0?g.words[T]=z|0:g.length--,g._strip()}var L=function(o,g,N){var x=o.words,F=g.words,A=N.words,$=0,z,T,ee,xe=x[0]|0,ye=xe&8191,Re=xe>>>13,Ee=x[1]|0,J=Ee&8191,te=Ee>>>13,me=x[2]|0,fe=me&8191,_e=me>>>13,q=x[3]|0,B=q&8191,se=q>>>13,we=x[4]|0,ge=we&8191,pe=we>>>13,Pe=x[5]|0,Oe=Pe&8191,Ue=Pe>>>13,pt=x[6]|0,je=pt&8191,Je=pt>>>13,lt=x[7]|0,le=lt&8191,W=lt>>>13,ie=x[8]|0,he=ie&8191,Ce=ie>>>13,He=x[9]|0,Me=He&8191,$e=He>>>13,xt=F[0]|0,We=xt&8191,Be=xt>>>13,st=F[1]|0,ut=st&8191,ct=st>>>13,zt=F[2]|0,ft=zt&8191,wt=zt>>>13,Si=F[3]|0,kt=Si&8191,Ot=Si>>>13,dr=F[4]|0,Bt=dr&8191,qt=dr>>>13,Mr=F[5]|0,_t=Mr&8191,Vt=Mr>>>13,Hr=F[6]|0,Te=Hr&8191,Ve=Hr>>>13,vt=F[7]|0,Xe=vt&8191,rt=vt>>>13,Wt=F[8]|0,yt=Wt&8191,Et=Wt>>>13,Ct=F[9]|0,nt=Ct&8191,mt=Ct>>>13;N.negative=o.negative^g.negative,N.length=19,z=Math.imul(ye,We),T=Math.imul(ye,Be),T=T+Math.imul(Re,We)|0,ee=Math.imul(Re,Be);var at=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(at>>>26)|0,at&=67108863,z=Math.imul(J,We),T=Math.imul(J,Be),T=T+Math.imul(te,We)|0,ee=Math.imul(te,Be),z=z+Math.imul(ye,ut)|0,T=T+Math.imul(ye,ct)|0,T=T+Math.imul(Re,ut)|0,ee=ee+Math.imul(Re,ct)|0;var ei=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(ei>>>26)|0,ei&=67108863,z=Math.imul(fe,We),T=Math.imul(fe,Be),T=T+Math.imul(_e,We)|0,ee=Math.imul(_e,Be),z=z+Math.imul(J,ut)|0,T=T+Math.imul(J,ct)|0,T=T+Math.imul(te,ut)|0,ee=ee+Math.imul(te,ct)|0,z=z+Math.imul(ye,ft)|0,T=T+Math.imul(ye,wt)|0,T=T+Math.imul(Re,ft)|0,ee=ee+Math.imul(Re,wt)|0;var Kt=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,z=Math.imul(B,We),T=Math.imul(B,Be),T=T+Math.imul(se,We)|0,ee=Math.imul(se,Be),z=z+Math.imul(fe,ut)|0,T=T+Math.imul(fe,ct)|0,T=T+Math.imul(_e,ut)|0,ee=ee+Math.imul(_e,ct)|0,z=z+Math.imul(J,ft)|0,T=T+Math.imul(J,wt)|0,T=T+Math.imul(te,ft)|0,ee=ee+Math.imul(te,wt)|0,z=z+Math.imul(ye,kt)|0,T=T+Math.imul(ye,Ot)|0,T=T+Math.imul(Re,kt)|0,ee=ee+Math.imul(Re,Ot)|0;var Mt=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,z=Math.imul(ge,We),T=Math.imul(ge,Be),T=T+Math.imul(pe,We)|0,ee=Math.imul(pe,Be),z=z+Math.imul(B,ut)|0,T=T+Math.imul(B,ct)|0,T=T+Math.imul(se,ut)|0,ee=ee+Math.imul(se,ct)|0,z=z+Math.imul(fe,ft)|0,T=T+Math.imul(fe,wt)|0,T=T+Math.imul(_e,ft)|0,ee=ee+Math.imul(_e,wt)|0,z=z+Math.imul(J,kt)|0,T=T+Math.imul(J,Ot)|0,T=T+Math.imul(te,kt)|0,ee=ee+Math.imul(te,Ot)|0,z=z+Math.imul(ye,Bt)|0,T=T+Math.imul(ye,qt)|0,T=T+Math.imul(Re,Bt)|0,ee=ee+Math.imul(Re,qt)|0;var fi=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(fi>>>26)|0,fi&=67108863,z=Math.imul(Oe,We),T=Math.imul(Oe,Be),T=T+Math.imul(Ue,We)|0,ee=Math.imul(Ue,Be),z=z+Math.imul(ge,ut)|0,T=T+Math.imul(ge,ct)|0,T=T+Math.imul(pe,ut)|0,ee=ee+Math.imul(pe,ct)|0,z=z+Math.imul(B,ft)|0,T=T+Math.imul(B,wt)|0,T=T+Math.imul(se,ft)|0,ee=ee+Math.imul(se,wt)|0,z=z+Math.imul(fe,kt)|0,T=T+Math.imul(fe,Ot)|0,T=T+Math.imul(_e,kt)|0,ee=ee+Math.imul(_e,Ot)|0,z=z+Math.imul(J,Bt)|0,T=T+Math.imul(J,qt)|0,T=T+Math.imul(te,Bt)|0,ee=ee+Math.imul(te,qt)|0,z=z+Math.imul(ye,_t)|0,T=T+Math.imul(ye,Vt)|0,T=T+Math.imul(Re,_t)|0,ee=ee+Math.imul(Re,Vt)|0;var ti=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(ti>>>26)|0,ti&=67108863,z=Math.imul(je,We),T=Math.imul(je,Be),T=T+Math.imul(Je,We)|0,ee=Math.imul(Je,Be),z=z+Math.imul(Oe,ut)|0,T=T+Math.imul(Oe,ct)|0,T=T+Math.imul(Ue,ut)|0,ee=ee+Math.imul(Ue,ct)|0,z=z+Math.imul(ge,ft)|0,T=T+Math.imul(ge,wt)|0,T=T+Math.imul(pe,ft)|0,ee=ee+Math.imul(pe,wt)|0,z=z+Math.imul(B,kt)|0,T=T+Math.imul(B,Ot)|0,T=T+Math.imul(se,kt)|0,ee=ee+Math.imul(se,Ot)|0,z=z+Math.imul(fe,Bt)|0,T=T+Math.imul(fe,qt)|0,T=T+Math.imul(_e,Bt)|0,ee=ee+Math.imul(_e,qt)|0,z=z+Math.imul(J,_t)|0,T=T+Math.imul(J,Vt)|0,T=T+Math.imul(te,_t)|0,ee=ee+Math.imul(te,Vt)|0,z=z+Math.imul(ye,Te)|0,T=T+Math.imul(ye,Ve)|0,T=T+Math.imul(Re,Te)|0,ee=ee+Math.imul(Re,Ve)|0;var yi=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(yi>>>26)|0,yi&=67108863,z=Math.imul(le,We),T=Math.imul(le,Be),T=T+Math.imul(W,We)|0,ee=Math.imul(W,Be),z=z+Math.imul(je,ut)|0,T=T+Math.imul(je,ct)|0,T=T+Math.imul(Je,ut)|0,ee=ee+Math.imul(Je,ct)|0,z=z+Math.imul(Oe,ft)|0,T=T+Math.imul(Oe,wt)|0,T=T+Math.imul(Ue,ft)|0,ee=ee+Math.imul(Ue,wt)|0,z=z+Math.imul(ge,kt)|0,T=T+Math.imul(ge,Ot)|0,T=T+Math.imul(pe,kt)|0,ee=ee+Math.imul(pe,Ot)|0,z=z+Math.imul(B,Bt)|0,T=T+Math.imul(B,qt)|0,T=T+Math.imul(se,Bt)|0,ee=ee+Math.imul(se,qt)|0,z=z+Math.imul(fe,_t)|0,T=T+Math.imul(fe,Vt)|0,T=T+Math.imul(_e,_t)|0,ee=ee+Math.imul(_e,Vt)|0,z=z+Math.imul(J,Te)|0,T=T+Math.imul(J,Ve)|0,T=T+Math.imul(te,Te)|0,ee=ee+Math.imul(te,Ve)|0,z=z+Math.imul(ye,Xe)|0,T=T+Math.imul(ye,rt)|0,T=T+Math.imul(Re,Xe)|0,ee=ee+Math.imul(Re,rt)|0;var gi=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(gi>>>26)|0,gi&=67108863,z=Math.imul(he,We),T=Math.imul(he,Be),T=T+Math.imul(Ce,We)|0,ee=Math.imul(Ce,Be),z=z+Math.imul(le,ut)|0,T=T+Math.imul(le,ct)|0,T=T+Math.imul(W,ut)|0,ee=ee+Math.imul(W,ct)|0,z=z+Math.imul(je,ft)|0,T=T+Math.imul(je,wt)|0,T=T+Math.imul(Je,ft)|0,ee=ee+Math.imul(Je,wt)|0,z=z+Math.imul(Oe,kt)|0,T=T+Math.imul(Oe,Ot)|0,T=T+Math.imul(Ue,kt)|0,ee=ee+Math.imul(Ue,Ot)|0,z=z+Math.imul(ge,Bt)|0,T=T+Math.imul(ge,qt)|0,T=T+Math.imul(pe,Bt)|0,ee=ee+Math.imul(pe,qt)|0,z=z+Math.imul(B,_t)|0,T=T+Math.imul(B,Vt)|0,T=T+Math.imul(se,_t)|0,ee=ee+Math.imul(se,Vt)|0,z=z+Math.imul(fe,Te)|0,T=T+Math.imul(fe,Ve)|0,T=T+Math.imul(_e,Te)|0,ee=ee+Math.imul(_e,Ve)|0,z=z+Math.imul(J,Xe)|0,T=T+Math.imul(J,rt)|0,T=T+Math.imul(te,Xe)|0,ee=ee+Math.imul(te,rt)|0,z=z+Math.imul(ye,yt)|0,T=T+Math.imul(ye,Et)|0,T=T+Math.imul(Re,yt)|0,ee=ee+Math.imul(Re,Et)|0;var Li=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Li>>>26)|0,Li&=67108863,z=Math.imul(Me,We),T=Math.imul(Me,Be),T=T+Math.imul($e,We)|0,ee=Math.imul($e,Be),z=z+Math.imul(he,ut)|0,T=T+Math.imul(he,ct)|0,T=T+Math.imul(Ce,ut)|0,ee=ee+Math.imul(Ce,ct)|0,z=z+Math.imul(le,ft)|0,T=T+Math.imul(le,wt)|0,T=T+Math.imul(W,ft)|0,ee=ee+Math.imul(W,wt)|0,z=z+Math.imul(je,kt)|0,T=T+Math.imul(je,Ot)|0,T=T+Math.imul(Je,kt)|0,ee=ee+Math.imul(Je,Ot)|0,z=z+Math.imul(Oe,Bt)|0,T=T+Math.imul(Oe,qt)|0,T=T+Math.imul(Ue,Bt)|0,ee=ee+Math.imul(Ue,qt)|0,z=z+Math.imul(ge,_t)|0,T=T+Math.imul(ge,Vt)|0,T=T+Math.imul(pe,_t)|0,ee=ee+Math.imul(pe,Vt)|0,z=z+Math.imul(B,Te)|0,T=T+Math.imul(B,Ve)|0,T=T+Math.imul(se,Te)|0,ee=ee+Math.imul(se,Ve)|0,z=z+Math.imul(fe,Xe)|0,T=T+Math.imul(fe,rt)|0,T=T+Math.imul(_e,Xe)|0,ee=ee+Math.imul(_e,rt)|0,z=z+Math.imul(J,yt)|0,T=T+Math.imul(J,Et)|0,T=T+Math.imul(te,yt)|0,ee=ee+Math.imul(te,Et)|0,z=z+Math.imul(ye,nt)|0,T=T+Math.imul(ye,mt)|0,T=T+Math.imul(Re,nt)|0,ee=ee+Math.imul(Re,mt)|0;var Ii=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,z=Math.imul(Me,ut),T=Math.imul(Me,ct),T=T+Math.imul($e,ut)|0,ee=Math.imul($e,ct),z=z+Math.imul(he,ft)|0,T=T+Math.imul(he,wt)|0,T=T+Math.imul(Ce,ft)|0,ee=ee+Math.imul(Ce,wt)|0,z=z+Math.imul(le,kt)|0,T=T+Math.imul(le,Ot)|0,T=T+Math.imul(W,kt)|0,ee=ee+Math.imul(W,Ot)|0,z=z+Math.imul(je,Bt)|0,T=T+Math.imul(je,qt)|0,T=T+Math.imul(Je,Bt)|0,ee=ee+Math.imul(Je,qt)|0,z=z+Math.imul(Oe,_t)|0,T=T+Math.imul(Oe,Vt)|0,T=T+Math.imul(Ue,_t)|0,ee=ee+Math.imul(Ue,Vt)|0,z=z+Math.imul(ge,Te)|0,T=T+Math.imul(ge,Ve)|0,T=T+Math.imul(pe,Te)|0,ee=ee+Math.imul(pe,Ve)|0,z=z+Math.imul(B,Xe)|0,T=T+Math.imul(B,rt)|0,T=T+Math.imul(se,Xe)|0,ee=ee+Math.imul(se,rt)|0,z=z+Math.imul(fe,yt)|0,T=T+Math.imul(fe,Et)|0,T=T+Math.imul(_e,yt)|0,ee=ee+Math.imul(_e,Et)|0,z=z+Math.imul(J,nt)|0,T=T+Math.imul(J,mt)|0,T=T+Math.imul(te,nt)|0,ee=ee+Math.imul(te,mt)|0;var Mi=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,z=Math.imul(Me,ft),T=Math.imul(Me,wt),T=T+Math.imul($e,ft)|0,ee=Math.imul($e,wt),z=z+Math.imul(he,kt)|0,T=T+Math.imul(he,Ot)|0,T=T+Math.imul(Ce,kt)|0,ee=ee+Math.imul(Ce,Ot)|0,z=z+Math.imul(le,Bt)|0,T=T+Math.imul(le,qt)|0,T=T+Math.imul(W,Bt)|0,ee=ee+Math.imul(W,qt)|0,z=z+Math.imul(je,_t)|0,T=T+Math.imul(je,Vt)|0,T=T+Math.imul(Je,_t)|0,ee=ee+Math.imul(Je,Vt)|0,z=z+Math.imul(Oe,Te)|0,T=T+Math.imul(Oe,Ve)|0,T=T+Math.imul(Ue,Te)|0,ee=ee+Math.imul(Ue,Ve)|0,z=z+Math.imul(ge,Xe)|0,T=T+Math.imul(ge,rt)|0,T=T+Math.imul(pe,Xe)|0,ee=ee+Math.imul(pe,rt)|0,z=z+Math.imul(B,yt)|0,T=T+Math.imul(B,Et)|0,T=T+Math.imul(se,yt)|0,ee=ee+Math.imul(se,Et)|0,z=z+Math.imul(fe,nt)|0,T=T+Math.imul(fe,mt)|0,T=T+Math.imul(_e,nt)|0,ee=ee+Math.imul(_e,mt)|0;var Ni=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,z=Math.imul(Me,kt),T=Math.imul(Me,Ot),T=T+Math.imul($e,kt)|0,ee=Math.imul($e,Ot),z=z+Math.imul(he,Bt)|0,T=T+Math.imul(he,qt)|0,T=T+Math.imul(Ce,Bt)|0,ee=ee+Math.imul(Ce,qt)|0,z=z+Math.imul(le,_t)|0,T=T+Math.imul(le,Vt)|0,T=T+Math.imul(W,_t)|0,ee=ee+Math.imul(W,Vt)|0,z=z+Math.imul(je,Te)|0,T=T+Math.imul(je,Ve)|0,T=T+Math.imul(Je,Te)|0,ee=ee+Math.imul(Je,Ve)|0,z=z+Math.imul(Oe,Xe)|0,T=T+Math.imul(Oe,rt)|0,T=T+Math.imul(Ue,Xe)|0,ee=ee+Math.imul(Ue,rt)|0,z=z+Math.imul(ge,yt)|0,T=T+Math.imul(ge,Et)|0,T=T+Math.imul(pe,yt)|0,ee=ee+Math.imul(pe,Et)|0,z=z+Math.imul(B,nt)|0,T=T+Math.imul(B,mt)|0,T=T+Math.imul(se,nt)|0,ee=ee+Math.imul(se,mt)|0;var Lt=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,z=Math.imul(Me,Bt),T=Math.imul(Me,qt),T=T+Math.imul($e,Bt)|0,ee=Math.imul($e,qt),z=z+Math.imul(he,_t)|0,T=T+Math.imul(he,Vt)|0,T=T+Math.imul(Ce,_t)|0,ee=ee+Math.imul(Ce,Vt)|0,z=z+Math.imul(le,Te)|0,T=T+Math.imul(le,Ve)|0,T=T+Math.imul(W,Te)|0,ee=ee+Math.imul(W,Ve)|0,z=z+Math.imul(je,Xe)|0,T=T+Math.imul(je,rt)|0,T=T+Math.imul(Je,Xe)|0,ee=ee+Math.imul(Je,rt)|0,z=z+Math.imul(Oe,yt)|0,T=T+Math.imul(Oe,Et)|0,T=T+Math.imul(Ue,yt)|0,ee=ee+Math.imul(Ue,Et)|0,z=z+Math.imul(ge,nt)|0,T=T+Math.imul(ge,mt)|0,T=T+Math.imul(pe,nt)|0,ee=ee+Math.imul(pe,mt)|0;var Qt=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,z=Math.imul(Me,_t),T=Math.imul(Me,Vt),T=T+Math.imul($e,_t)|0,ee=Math.imul($e,Vt),z=z+Math.imul(he,Te)|0,T=T+Math.imul(he,Ve)|0,T=T+Math.imul(Ce,Te)|0,ee=ee+Math.imul(Ce,Ve)|0,z=z+Math.imul(le,Xe)|0,T=T+Math.imul(le,rt)|0,T=T+Math.imul(W,Xe)|0,ee=ee+Math.imul(W,rt)|0,z=z+Math.imul(je,yt)|0,T=T+Math.imul(je,Et)|0,T=T+Math.imul(Je,yt)|0,ee=ee+Math.imul(Je,Et)|0,z=z+Math.imul(Oe,nt)|0,T=T+Math.imul(Oe,mt)|0,T=T+Math.imul(Ue,nt)|0,ee=ee+Math.imul(Ue,mt)|0;var ci=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(ci>>>26)|0,ci&=67108863,z=Math.imul(Me,Te),T=Math.imul(Me,Ve),T=T+Math.imul($e,Te)|0,ee=Math.imul($e,Ve),z=z+Math.imul(he,Xe)|0,T=T+Math.imul(he,rt)|0,T=T+Math.imul(Ce,Xe)|0,ee=ee+Math.imul(Ce,rt)|0,z=z+Math.imul(le,yt)|0,T=T+Math.imul(le,Et)|0,T=T+Math.imul(W,yt)|0,ee=ee+Math.imul(W,Et)|0,z=z+Math.imul(je,nt)|0,T=T+Math.imul(je,mt)|0,T=T+Math.imul(Je,nt)|0,ee=ee+Math.imul(Je,mt)|0;var Ti=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,z=Math.imul(Me,Xe),T=Math.imul(Me,rt),T=T+Math.imul($e,Xe)|0,ee=Math.imul($e,rt),z=z+Math.imul(he,yt)|0,T=T+Math.imul(he,Et)|0,T=T+Math.imul(Ce,yt)|0,ee=ee+Math.imul(Ce,Et)|0,z=z+Math.imul(le,nt)|0,T=T+Math.imul(le,mt)|0,T=T+Math.imul(W,nt)|0,ee=ee+Math.imul(W,mt)|0;var Zt=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,z=Math.imul(Me,yt),T=Math.imul(Me,Et),T=T+Math.imul($e,yt)|0,ee=Math.imul($e,Et),z=z+Math.imul(he,nt)|0,T=T+Math.imul(he,mt)|0,T=T+Math.imul(Ce,nt)|0,ee=ee+Math.imul(Ce,mt)|0;var bi=($+z|0)+((T&8191)<<13)|0;$=(ee+(T>>>13)|0)+(bi>>>26)|0,bi&=67108863,z=Math.imul(Me,nt),T=Math.imul(Me,mt),T=T+Math.imul($e,nt)|0,ee=Math.imul($e,mt);var Pi=($+z|0)+((T&8191)<<13)|0;return $=(ee+(T>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,A[0]=at,A[1]=ei,A[2]=Kt,A[3]=Mt,A[4]=fi,A[5]=ti,A[6]=yi,A[7]=gi,A[8]=Li,A[9]=Ii,A[10]=Mi,A[11]=Ni,A[12]=Lt,A[13]=Qt,A[14]=ci,A[15]=Ti,A[16]=Zt,A[17]=bi,A[18]=Pi,$!==0&&(A[19]=$,N.length++),N};Math.imul||(L=P);function H(C,o,g){g.negative=o.negative^C.negative,g.length=C.length+o.length;for(var N=0,x=0,F=0;F<g.length-1;F++){var A=x;x=0;for(var $=N&67108863,z=Math.min(F,o.length-1),T=Math.max(0,F-C.length+1);T<=z;T++){var ee=F-T,xe=C.words[ee]|0,ye=o.words[T]|0,Re=xe*ye,Ee=Re&67108863;A=A+(Re/67108864|0)|0,Ee=Ee+$|0,$=Ee&67108863,A=A+(Ee>>>26)|0,x+=A>>>26,A&=67108863}g.words[F]=$,N=A,A=x}return N!==0?g.words[F]=N:g.length--,g._strip()}function j(C,o,g){return H(C,o,g)}l.prototype.mulTo=function(o,g){var N,x=this.length+o.length;return this.length===10&&o.length===10?N=L(this,o,g):x<63?N=P(this,o,g):x<1024?N=H(this,o,g):N=j(this,o,g),N};function V(C,o){this.x=C,this.y=o}V.prototype.makeRBT=function(o){for(var g=new Array(o),N=l.prototype._countBits(o)-1,x=0;x<o;x++)g[x]=this.revBin(x,N,o);return g},V.prototype.revBin=function(o,g,N){if(o===0||o===N-1)return o;for(var x=0,F=0;F<g;F++)x|=(o&1)<<g-F-1,o>>=1;return x},V.prototype.permute=function(o,g,N,x,F,A){for(var $=0;$<A;$++)x[$]=g[o[$]],F[$]=N[o[$]]},V.prototype.transform=function(o,g,N,x,F,A){this.permute(A,o,g,N,x,F);for(var $=1;$<F;$<<=1)for(var z=$<<1,T=Math.cos(2*Math.PI/z),ee=Math.sin(2*Math.PI/z),xe=0;xe<F;xe+=z)for(var ye=T,Re=ee,Ee=0;Ee<$;Ee++){var J=N[xe+Ee],te=x[xe+Ee],me=N[xe+Ee+$],fe=x[xe+Ee+$],_e=ye*me-Re*fe;fe=ye*fe+Re*me,me=_e,N[xe+Ee]=J+me,x[xe+Ee]=te+fe,N[xe+Ee+$]=J-me,x[xe+Ee+$]=te-fe,Ee!==z&&(_e=T*ye-ee*Re,Re=T*Re+ee*ye,ye=_e)}},V.prototype.guessLen13b=function(o,g){var N=Math.max(g,o)|1,x=N&1,F=0;for(N=N/2|0;N;N=N>>>1)F++;return 1<<F+1+x},V.prototype.conjugate=function(o,g,N){if(!(N<=1))for(var x=0;x<N/2;x++){var F=o[x];o[x]=o[N-x-1],o[N-x-1]=F,F=g[x],g[x]=-g[N-x-1],g[N-x-1]=-F}},V.prototype.normalize13b=function(o,g){for(var N=0,x=0;x<g/2;x++){var F=Math.round(o[2*x+1]/g)*8192+Math.round(o[2*x]/g)+N;o[x]=F&67108863,F<67108864?N=0:N=F/67108864|0}return o},V.prototype.convert13b=function(o,g,N,x){for(var F=0,A=0;A<g;A++)F=F+(o[A]|0),N[2*A]=F&8191,F=F>>>13,N[2*A+1]=F&8191,F=F>>>13;for(A=2*g;A<x;++A)N[A]=0;E(F===0),E((F&~8191)==0)},V.prototype.stub=function(o){for(var g=new Array(o),N=0;N<o;N++)g[N]=0;return g},V.prototype.mulp=function(o,g,N){var x=2*this.guessLen13b(o.length,g.length),F=this.makeRBT(x),A=this.stub(x),$=new Array(x),z=new Array(x),T=new Array(x),ee=new Array(x),xe=new Array(x),ye=new Array(x),Re=N.words;Re.length=x,this.convert13b(o.words,o.length,$,x),this.convert13b(g.words,g.length,ee,x),this.transform($,A,z,T,x,F),this.transform(ee,A,xe,ye,x,F);for(var Ee=0;Ee<x;Ee++){var J=z[Ee]*xe[Ee]-T[Ee]*ye[Ee];T[Ee]=z[Ee]*ye[Ee]+T[Ee]*xe[Ee],z[Ee]=J}return this.conjugate(z,T,x),this.transform(z,T,Re,A,x,F),this.conjugate(Re,A,x),this.normalize13b(Re,x),N.negative=o.negative^g.negative,N.length=o.length+g.length,N._strip()},l.prototype.mul=function(o){var g=new l(null);return g.words=new Array(this.length+o.length),this.mulTo(o,g)},l.prototype.mulf=function(o){var g=new l(null);return g.words=new Array(this.length+o.length),j(this,o,g)},l.prototype.imul=function(o){return this.clone().mulTo(o,this)},l.prototype.imuln=function(o){var g=o<0;g&&(o=-o),E(typeof o=="number"),E(o<67108864);for(var N=0,x=0;x<this.length;x++){var F=(this.words[x]|0)*o,A=(F&67108863)+(N&67108863);N>>=26,N+=F/67108864|0,N+=A>>>26,this.words[x]=A&67108863}return N!==0&&(this.words[x]=N,this.length++),g?this.ineg():this},l.prototype.muln=function(o){return this.clone().imuln(o)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(o){var g=D(o);if(g.length===0)return new l(1);for(var N=this,x=0;x<g.length&&g[x]===0;x++,N=N.sqr());if(++x<g.length)for(var F=N.sqr();x<g.length;x++,F=F.sqr())g[x]!==0&&(N=N.mul(F));return N},l.prototype.iushln=function(o){E(typeof o=="number"&&o>=0);var g=o%26,N=(o-g)/26,x=67108863>>>26-g<<26-g,F;if(g!==0){var A=0;for(F=0;F<this.length;F++){var $=this.words[F]&x,z=(this.words[F]|0)-$<<g;this.words[F]=z|A,A=$>>>26-g}A&&(this.words[F]=A,this.length++)}if(N!==0){for(F=this.length-1;F>=0;F--)this.words[F+N]=this.words[F];for(F=0;F<N;F++)this.words[F]=0;this.length+=N}return this._strip()},l.prototype.ishln=function(o){return E(this.negative===0),this.iushln(o)},l.prototype.iushrn=function(o,g,N){E(typeof o=="number"&&o>=0);var x;g?x=(g-g%26)/26:x=0;var F=o%26,A=Math.min((o-F)/26,this.length),$=67108863^67108863>>>F<<F,z=N;if(x-=A,x=Math.max(0,x),z){for(var T=0;T<A;T++)z.words[T]=this.words[T];z.length=A}if(A!==0)if(this.length>A)for(this.length-=A,T=0;T<this.length;T++)this.words[T]=this.words[T+A];else this.words[0]=0,this.length=1;var ee=0;for(T=this.length-1;T>=0&&(ee!==0||T>=x);T--){var xe=this.words[T]|0;this.words[T]=ee<<26-F|xe>>>F,ee=xe&$}return z&&ee!==0&&(z.words[z.length++]=ee),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(o,g,N){return E(this.negative===0),this.iushrn(o,g,N)},l.prototype.shln=function(o){return this.clone().ishln(o)},l.prototype.ushln=function(o){return this.clone().iushln(o)},l.prototype.shrn=function(o){return this.clone().ishrn(o)},l.prototype.ushrn=function(o){return this.clone().iushrn(o)},l.prototype.testn=function(o){E(typeof o=="number"&&o>=0);var g=o%26,N=(o-g)/26,x=1<<g;if(this.length<=N)return!1;var F=this.words[N];return!!(F&x)},l.prototype.imaskn=function(o){E(typeof o=="number"&&o>=0);var g=o%26,N=(o-g)/26;if(E(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(g!==0&&N++,this.length=Math.min(N,this.length),g!==0){var x=67108863^67108863>>>g<<g;this.words[this.length-1]&=x}return this._strip()},l.prototype.maskn=function(o){return this.clone().imaskn(o)},l.prototype.iaddn=function(o){return E(typeof o=="number"),E(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},l.prototype._iaddn=function(o){this.words[0]+=o;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},l.prototype.isubn=function(o){if(E(typeof o=="number"),E(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},l.prototype.addn=function(o){return this.clone().iaddn(o)},l.prototype.subn=function(o){return this.clone().isubn(o)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(o,g,N){var x=o.length+N,F;this._expand(x);var A,$=0;for(F=0;F<o.length;F++){A=(this.words[F+N]|0)+$;var z=(o.words[F]|0)*g;A-=z&67108863,$=(A>>26)-(z/67108864|0),this.words[F+N]=A&67108863}for(;F<this.length-N;F++)A=(this.words[F+N]|0)+$,$=A>>26,this.words[F+N]=A&67108863;if($===0)return this._strip();for(E($===-1),$=0,F=0;F<this.length;F++)A=-(this.words[F]|0)+$,$=A>>26,this.words[F]=A&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(o,g){var N=this.length-o.length,x=this.clone(),F=o,A=F.words[F.length-1]|0,$=this._countBits(A);N=26-$,N!==0&&(F=F.ushln(N),x.iushln(N),A=F.words[F.length-1]|0);var z=x.length-F.length,T;if(g!=="mod"){T=new l(null),T.length=z+1,T.words=new Array(T.length);for(var ee=0;ee<T.length;ee++)T.words[ee]=0}var xe=x.clone()._ishlnsubmul(F,1,z);xe.negative===0&&(x=xe,T&&(T.words[z]=1));for(var ye=z-1;ye>=0;ye--){var Re=(x.words[F.length+ye]|0)*67108864+(x.words[F.length+ye-1]|0);for(Re=Math.min(Re/A|0,67108863),x._ishlnsubmul(F,Re,ye);x.negative!==0;)Re--,x.negative=0,x._ishlnsubmul(F,1,ye),x.isZero()||(x.negative^=1);T&&(T.words[ye]=Re)}return T&&T._strip(),x._strip(),g!=="div"&&N!==0&&x.iushrn(N),{div:T||null,mod:x}},l.prototype.divmod=function(o,g,N){if(E(!o.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var x,F,A;return this.negative!==0&&o.negative===0?(A=this.neg().divmod(o,g),g!=="mod"&&(x=A.div.neg()),g!=="div"&&(F=A.mod.neg(),N&&F.negative!==0&&F.iadd(o)),{div:x,mod:F}):this.negative===0&&o.negative!==0?(A=this.divmod(o.neg(),g),g!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):(this.negative&o.negative)!=0?(A=this.neg().divmod(o.neg(),g),g!=="div"&&(F=A.mod.neg(),N&&F.negative!==0&&F.isub(o)),{div:A.div,mod:F}):o.length>this.length||this.cmp(o)<0?{div:new l(0),mod:this}:o.length===1?g==="div"?{div:this.divn(o.words[0]),mod:null}:g==="mod"?{div:null,mod:new l(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new l(this.modrn(o.words[0]))}:this._wordDiv(o,g)},l.prototype.div=function(o){return this.divmod(o,"div",!1).div},l.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},l.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},l.prototype.divRound=function(o){var g=this.divmod(o);if(g.mod.isZero())return g.div;var N=g.div.negative!==0?g.mod.isub(o):g.mod,x=o.ushrn(1),F=o.andln(1),A=N.cmp(x);return A<0||F===1&&A===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},l.prototype.modrn=function(o){var g=o<0;g&&(o=-o),E(o<=67108863);for(var N=(1<<26)%o,x=0,F=this.length-1;F>=0;F--)x=(N*x+(this.words[F]|0))%o;return g?-x:x},l.prototype.modn=function(o){return this.modrn(o)},l.prototype.idivn=function(o){var g=o<0;g&&(o=-o),E(o<=67108863);for(var N=0,x=this.length-1;x>=0;x--){var F=(this.words[x]|0)+N*67108864;this.words[x]=F/o|0,N=F%o}return this._strip(),g?this.ineg():this},l.prototype.divn=function(o){return this.clone().idivn(o)},l.prototype.egcd=function(o){E(o.negative===0),E(!o.isZero());var g=this,N=o.clone();g.negative!==0?g=g.umod(o):g=g.clone();for(var x=new l(1),F=new l(0),A=new l(0),$=new l(1),z=0;g.isEven()&&N.isEven();)g.iushrn(1),N.iushrn(1),++z;for(var T=N.clone(),ee=g.clone();!g.isZero();){for(var xe=0,ye=1;(g.words[0]&ye)==0&&xe<26;++xe,ye<<=1);if(xe>0)for(g.iushrn(xe);xe-- >0;)(x.isOdd()||F.isOdd())&&(x.iadd(T),F.isub(ee)),x.iushrn(1),F.iushrn(1);for(var Re=0,Ee=1;(N.words[0]&Ee)==0&&Re<26;++Re,Ee<<=1);if(Re>0)for(N.iushrn(Re);Re-- >0;)(A.isOdd()||$.isOdd())&&(A.iadd(T),$.isub(ee)),A.iushrn(1),$.iushrn(1);g.cmp(N)>=0?(g.isub(N),x.isub(A),F.isub($)):(N.isub(g),A.isub(x),$.isub(F))}return{a:A,b:$,gcd:N.iushln(z)}},l.prototype._invmp=function(o){E(o.negative===0),E(!o.isZero());var g=this,N=o.clone();g.negative!==0?g=g.umod(o):g=g.clone();for(var x=new l(1),F=new l(0),A=N.clone();g.cmpn(1)>0&&N.cmpn(1)>0;){for(var $=0,z=1;(g.words[0]&z)==0&&$<26;++$,z<<=1);if($>0)for(g.iushrn($);$-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var T=0,ee=1;(N.words[0]&ee)==0&&T<26;++T,ee<<=1);if(T>0)for(N.iushrn(T);T-- >0;)F.isOdd()&&F.iadd(A),F.iushrn(1);g.cmp(N)>=0?(g.isub(N),x.isub(F)):(N.isub(g),F.isub(x))}var xe;return g.cmpn(1)===0?xe=x:xe=F,xe.cmpn(0)<0&&xe.iadd(o),xe},l.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var g=this.clone(),N=o.clone();g.negative=0,N.negative=0;for(var x=0;g.isEven()&&N.isEven();x++)g.iushrn(1),N.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;N.isEven();)N.iushrn(1);var F=g.cmp(N);if(F<0){var A=g;g=N,N=A}else if(F===0||N.cmpn(1)===0)break;g.isub(N)}while(!0);return N.iushln(x)},l.prototype.invm=function(o){return this.egcd(o).a.umod(o)},l.prototype.isEven=function(){return(this.words[0]&1)==0},l.prototype.isOdd=function(){return(this.words[0]&1)==1},l.prototype.andln=function(o){return this.words[0]&o},l.prototype.bincn=function(o){E(typeof o=="number");var g=o%26,N=(o-g)/26,x=1<<g;if(this.length<=N)return this._expand(N+1),this.words[N]|=x,this;for(var F=x,A=N;F!==0&&A<this.length;A++){var $=this.words[A]|0;$+=F,F=$>>>26,$&=67108863,this.words[A]=$}return F!==0&&(this.words[A]=F,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(o){var g=o<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var N;if(this.length>1)N=1;else{g&&(o=-o),E(o<=67108863,"Number is too big");var x=this.words[0]|0;N=x===o?0:x<o?-1:1}return this.negative!==0?-N|0:N},l.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var g=this.ucmp(o);return this.negative!==0?-g|0:g},l.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var g=0,N=this.length-1;N>=0;N--){var x=this.words[N]|0,F=o.words[N]|0;if(x!==F){x<F?g=-1:x>F&&(g=1);break}}return g},l.prototype.gtn=function(o){return this.cmpn(o)===1},l.prototype.gt=function(o){return this.cmp(o)===1},l.prototype.gten=function(o){return this.cmpn(o)>=0},l.prototype.gte=function(o){return this.cmp(o)>=0},l.prototype.ltn=function(o){return this.cmpn(o)===-1},l.prototype.lt=function(o){return this.cmp(o)===-1},l.prototype.lten=function(o){return this.cmpn(o)<=0},l.prototype.lte=function(o){return this.cmp(o)<=0},l.prototype.eqn=function(o){return this.cmpn(o)===0},l.prototype.eq=function(o){return this.cmp(o)===0},l.red=function(o){return new I(o)},l.prototype.toRed=function(o){return E(!this.red,"Already a number in reduction context"),E(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},l.prototype.fromRed=function(){return E(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(o){return this.red=o,this},l.prototype.forceRed=function(o){return E(!this.red,"Already a number in reduction context"),this._forceRed(o)},l.prototype.redAdd=function(o){return E(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},l.prototype.redIAdd=function(o){return E(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},l.prototype.redSub=function(o){return E(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},l.prototype.redISub=function(o){return E(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},l.prototype.redShl=function(o){return E(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},l.prototype.redMul=function(o){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},l.prototype.redIMul=function(o){return E(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},l.prototype.redSqr=function(){return E(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return E(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return E(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return E(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return E(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(o){return E(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var Y={k256:null,p224:null,p192:null,p25519:null};function K(C,o){this.name=C,this.p=new l(o,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var o=new l(null);return o.words=new Array(Math.ceil(this.n/13)),o},K.prototype.ireduce=function(o){var g=o,N;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),N=g.bitLength();while(N>this.n);var x=N<this.n?-1:g.ucmp(this.p);return x===0?(g.words[0]=0,g.length=1):x>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},K.prototype.split=function(o,g){o.iushrn(this.n,0,g)},K.prototype.imulK=function(o){return o.imul(this.k)};function ae(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_(ae,K),ae.prototype.split=function(o,g){for(var N=4194303,x=Math.min(o.length,9),F=0;F<x;F++)g.words[F]=o.words[F];if(g.length=x,o.length<=9){o.words[0]=0,o.length=1;return}var A=o.words[9];for(g.words[g.length++]=A&N,F=10;F<o.length;F++){var $=o.words[F]|0;o.words[F-10]=($&N)<<4|A>>>22,A=$}A>>>=22,o.words[F-10]=A,A===0&&o.length>10?o.length-=10:o.length-=9},ae.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var g=0,N=0;N<o.length;N++){var x=o.words[N]|0;g+=x*977,o.words[N]=g&67108863,g=x*64+(g/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ne(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_(ne,K);function ce(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_(ce,K);function re(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_(re,K),re.prototype.imulK=function(o){for(var g=0,N=0;N<o.length;N++){var x=(o.words[N]|0)*19+g,F=x&67108863;x>>>=26,o.words[N]=F,g=x}return g!==0&&(o.words[o.length++]=g),o},l._prime=function(o){if(Y[o])return Y[o];var g;if(o==="k256")g=new ae;else if(o==="p224")g=new ne;else if(o==="p192")g=new ce;else if(o==="p25519")g=new re;else throw new Error("Unknown prime "+o);return Y[o]=g,g};function I(C){if(typeof C=="string"){var o=l._prime(C);this.m=o.p,this.prime=o}else E(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}I.prototype._verify1=function(o){E(o.negative===0,"red works only with positives"),E(o.red,"red works only with red numbers")},I.prototype._verify2=function(o,g){E((o.negative|g.negative)==0,"red works only with positives"),E(o.red&&o.red===g.red,"red works only with red numbers")},I.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(v(o,o.umod(this.m)._forceRed(this)),o)},I.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},I.prototype.add=function(o,g){this._verify2(o,g);var N=o.add(g);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},I.prototype.iadd=function(o,g){this._verify2(o,g);var N=o.iadd(g);return N.cmp(this.m)>=0&&N.isub(this.m),N},I.prototype.sub=function(o,g){this._verify2(o,g);var N=o.sub(g);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},I.prototype.isub=function(o,g){this._verify2(o,g);var N=o.isub(g);return N.cmpn(0)<0&&N.iadd(this.m),N},I.prototype.shl=function(o,g){return this._verify1(o),this.imod(o.ushln(g))},I.prototype.imul=function(o,g){return this._verify2(o,g),this.imod(o.imul(g))},I.prototype.mul=function(o,g){return this._verify2(o,g),this.imod(o.mul(g))},I.prototype.isqr=function(o){return this.imul(o,o.clone())},I.prototype.sqr=function(o){return this.mul(o,o)},I.prototype.sqrt=function(o){if(o.isZero())return o.clone();var g=this.m.andln(3);if(E(g%2==1),g===3){var N=this.m.add(new l(1)).iushrn(2);return this.pow(o,N)}for(var x=this.m.subn(1),F=0;!x.isZero()&&x.andln(1)===0;)F++,x.iushrn(1);E(!x.isZero());var A=new l(1).toRed(this),$=A.redNeg(),z=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new l(2*T*T).toRed(this);this.pow(T,z).cmp($)!==0;)T.redIAdd($);for(var ee=this.pow(T,x),xe=this.pow(o,x.addn(1).iushrn(1)),ye=this.pow(o,x),Re=F;ye.cmp(A)!==0;){for(var Ee=ye,J=0;Ee.cmp(A)!==0;J++)Ee=Ee.redSqr();E(J<Re);var te=this.pow(ee,new l(1).iushln(Re-J-1));xe=xe.redMul(te),ee=te.redSqr(),ye=ye.redMul(ee),Re=J}return xe},I.prototype.invm=function(o){var g=o._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},I.prototype.pow=function(o,g){if(g.isZero())return new l(1).toRed(this);if(g.cmpn(1)===0)return o.clone();var N=4,x=new Array(1<<N);x[0]=new l(1).toRed(this),x[1]=o;for(var F=2;F<x.length;F++)x[F]=this.mul(x[F-1],o);var A=x[0],$=0,z=0,T=g.bitLength()%26;for(T===0&&(T=26),F=g.length-1;F>=0;F--){for(var ee=g.words[F],xe=T-1;xe>=0;xe--){var ye=ee>>xe&1;if(A!==x[0]&&(A=this.sqr(A)),ye===0&&$===0){z=0;continue}$<<=1,$|=ye,z++,!(z!==N&&(F!==0||xe!==0))&&(A=this.mul(A,x[$]),z=0,$=0)}T=26}return A},I.prototype.convertTo=function(o){var g=o.umod(this.m);return g===o?g.clone():g},I.prototype.convertFrom=function(o){var g=o.clone();return g.red=null,g},l.mont=function(o){return new U(o)};function U(C){I.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_(U,I),U.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},U.prototype.convertFrom=function(o){var g=this.imod(o.mul(this.rinv));return g.red=null,g},U.prototype.imul=function(o,g){if(o.isZero()||g.isZero())return o.words[0]=0,o.length=1,o;var N=o.imul(g),x=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=N.isub(x).iushrn(this.shift),A=F;return F.cmp(this.m)>=0?A=F.isub(this.m):F.cmpn(0)<0&&(A=F.iadd(this.m)),A._forceRed(this)},U.prototype.mul=function(o,g){if(o.isZero()||g.isZero())return new l(0)._forceRed(this);var N=o.mul(g),x=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=N.isub(x).iushrn(this.shift),A=F;return F.cmp(this.m)>=0?A=F.isub(this.m):F.cmpn(0)<0&&(A=F.iadd(this.m)),A._forceRed(this)},U.prototype.invm=function(o){var g=this.imod(o._invmp(this.m).mul(this.r2));return g._forceRed(this)}}(s,this)},84419:s=>{"use strict";function Q(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,u.__proto__=c}var R={};function S(u,c,f){f||(f=Error);function w(d,h,p){return typeof c=="string"?c:c(d,h,p)}var v=function(d){Q(h,d);function h(p,b,y){return d.call(this,w(p,b,y))||this}return h}(f);v.prototype.name=f.name,v.prototype.code=u,R[u]=v}function M(u,c){if(Array.isArray(u)){var f=u.length;return u=u.map(function(w){return String(w)}),f>2?"one of ".concat(c," ").concat(u.slice(0,f-1).join(", "),", or ")+u[f-1]:f===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}else return"of ".concat(c," ").concat(String(u))}function E(u,c,f){return u.substr(!f||f<0?0:+f,c.length)===c}function _(u,c,f){return(f===void 0||f>u.length)&&(f=u.length),u.substring(f-c.length,f)===c}function l(u,c,f){return typeof f!="number"&&(f=0),f+c.length>u.length?!1:u.indexOf(c,f)!==-1}S("ERR_INVALID_OPT_VALUE",function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'},TypeError),S("ERR_INVALID_ARG_TYPE",function(u,c,f){var w;typeof c=="string"&&E(c,"not ")?(w="must not be",c=c.replace(/^not /,"")):w="must be";var v;if(_(u," argument"))v="The ".concat(u," ").concat(w," ").concat(M(c,"type"));else{var d=l(u,".")?"property":"argument";v='The "'.concat(u,'" ').concat(d," ").concat(w," ").concat(M(c,"type"))}return v+=". Received type ".concat(typeof f),v},TypeError),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),S("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),S("ERR_STREAM_PREMATURE_CLOSE","Premature close"),S("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),S("ERR_STREAM_WRITE_AFTER_END","write after end"),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.q=R},34390:(s,Q,R)=>{"use strict";var S=R(34155),M=Object.keys||function(d){var h=[];for(var p in d)h.push(p);return h};s.exports=f;var E=R(44960),_=R(92010);R(35717)(f,E);for(var l=M(_.prototype),u=0;u<l.length;u++){var c=l[u];f.prototype[c]||(f.prototype[c]=_.prototype[c])}function f(d){if(!(this instanceof f))return new f(d);E.call(this,d),_.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",w)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(){this._writableState.ended||S.nextTick(v,this)}function v(d){d.end()}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}})},41294:(s,Q,R)=>{"use strict";s.exports=M;var S=R(3912);R(35717)(M,S);function M(E){if(!(this instanceof M))return new M(E);S.call(this,E)}M.prototype._transform=function(E,_,l){l(null,E)}},44960:(s,Q,R)=>{"use strict";var S=R(34155);s.exports=I;var M;I.ReadableState=re;var E=R(17187).EventEmitter,_=function(B,se){return B.listeners(se).length},l=R(59819),u=R(48764).Buffer,c=(typeof R.g!="undefined"?R.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function f(q){return u.from(q)}function w(q){return u.isBuffer(q)||q instanceof c}var v=R(56353),d;v&&v.debuglog?d=v.debuglog("stream"):d=function(){};var h=R(76633),p=R(75997),b=R(898),y=b.getHighWaterMark,D=R(84419).q,P=D.ERR_INVALID_ARG_TYPE,L=D.ERR_STREAM_PUSH_AFTER_EOF,H=D.ERR_METHOD_NOT_IMPLEMENTED,j=D.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,V,Y,K;R(35717)(I,l);var ae=p.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ce(q,B,se){if(typeof q.prependListener=="function")return q.prependListener(B,se);!q._events||!q._events[B]?q.on(B,se):Array.isArray(q._events[B])?q._events[B].unshift(se):q._events[B]=[se,q._events[B]]}function re(q,B,se){M=M||R(34390),q=q||{},typeof se!="boolean"&&(se=B instanceof M),this.objectMode=!!q.objectMode,se&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=y(this,q,"readableHighWaterMark",se),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(V||(V=R(32553).s),this.decoder=new V(q.encoding),this.encoding=q.encoding)}function I(q){if(M=M||R(34390),!(this instanceof I))return new I(q);var B=this instanceof M;this._readableState=new re(q,this,B),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),l.call(this)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(B){!this._readableState||(this._readableState.destroyed=B)}}),I.prototype.destroy=p.destroy,I.prototype._undestroy=p.undestroy,I.prototype._destroy=function(q,B){B(q)},I.prototype.push=function(q,B){var se=this._readableState,we;return se.objectMode?we=!0:typeof q=="string"&&(B=B||se.defaultEncoding,B!==se.encoding&&(q=u.from(q,B),B=""),we=!0),U(this,q,B,!1,we)},I.prototype.unshift=function(q){return U(this,q,null,!0,!1)};function U(q,B,se,we,ge){d("readableAddChunk",B);var pe=q._readableState;if(B===null)pe.reading=!1,F(q,pe);else{var Pe;if(ge||(Pe=o(pe,B)),Pe)ae(q,Pe);else if(pe.objectMode||B&&B.length>0)if(typeof B!="string"&&!pe.objectMode&&Object.getPrototypeOf(B)!==u.prototype&&(B=f(B)),we)pe.endEmitted?ae(q,new j):C(q,pe,B,!0);else if(pe.ended)ae(q,new L);else{if(pe.destroyed)return!1;pe.reading=!1,pe.decoder&&!se?(B=pe.decoder.write(B),pe.objectMode||B.length!==0?C(q,pe,B,!1):z(q,pe)):C(q,pe,B,!1)}else we||(pe.reading=!1,z(q,pe))}return!pe.ended&&(pe.length<pe.highWaterMark||pe.length===0)}function C(q,B,se,we){B.flowing&&B.length===0&&!B.sync?(B.awaitDrain=0,q.emit("data",se)):(B.length+=B.objectMode?1:se.length,we?B.buffer.unshift(se):B.buffer.push(se),B.needReadable&&A(q)),z(q,B)}function o(q,B){var se;return!w(B)&&typeof B!="string"&&B!==void 0&&!q.objectMode&&(se=new P("chunk",["string","Buffer","Uint8Array"],B)),se}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(q){V||(V=R(32553).s);var B=new V(q);this._readableState.decoder=B,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,we="";se!==null;)we+=B.write(se.data),se=se.next;return this._readableState.buffer.clear(),we!==""&&this._readableState.buffer.push(we),this._readableState.length=we.length,this};var g=1073741824;function N(q){return q>=g?q=g:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function x(q,B){return q<=0||B.length===0&&B.ended?0:B.objectMode?1:q!==q?B.flowing&&B.length?B.buffer.head.data.length:B.length:(q>B.highWaterMark&&(B.highWaterMark=N(q)),q<=B.length?q:B.ended?B.length:(B.needReadable=!0,0))}I.prototype.read=function(q){d("read",q),q=parseInt(q,10);var B=this._readableState,se=q;if(q!==0&&(B.emittedReadable=!1),q===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return d("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?me(this):A(this),null;if(q=x(q,B),q===0&&B.ended)return B.length===0&&me(this),null;var we=B.needReadable;d("need readable",we),(B.length===0||B.length-q<B.highWaterMark)&&(we=!0,d("length less than watermark",we)),B.ended||B.reading?(we=!1,d("reading or ended",we)):we&&(d("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(q=x(se,B)));var ge;return q>0?ge=te(q,B):ge=null,ge===null?(B.needReadable=B.length<=B.highWaterMark,q=0):(B.length-=q,B.awaitDrain=0),B.length===0&&(B.ended||(B.needReadable=!0),se!==q&&B.ended&&me(this)),ge!==null&&this.emit("data",ge),ge};function F(q,B){if(d("onEofChunk"),!B.ended){if(B.decoder){var se=B.decoder.end();se&&se.length&&(B.buffer.push(se),B.length+=B.objectMode?1:se.length)}B.ended=!0,B.sync?A(q):(B.needReadable=!1,B.emittedReadable||(B.emittedReadable=!0,$(q)))}}function A(q){var B=q._readableState;d("emitReadable",B.needReadable,B.emittedReadable),B.needReadable=!1,B.emittedReadable||(d("emitReadable",B.flowing),B.emittedReadable=!0,S.nextTick($,q))}function $(q){var B=q._readableState;d("emitReadable_",B.destroyed,B.length,B.ended),!B.destroyed&&(B.length||B.ended)&&(q.emit("readable"),B.emittedReadable=!1),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,J(q)}function z(q,B){B.readingMore||(B.readingMore=!0,S.nextTick(T,q,B))}function T(q,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){var se=B.length;if(d("maybeReadMore read 0"),q.read(0),se===B.length)break}B.readingMore=!1}I.prototype._read=function(q){ae(this,new H("_read()"))},I.prototype.pipe=function(q,B){var se=this,we=this._readableState;switch(we.pipesCount){case 0:we.pipes=q;break;case 1:we.pipes=[we.pipes,q];break;default:we.pipes.push(q);break}we.pipesCount+=1,d("pipe count=%d opts=%j",we.pipesCount,B);var ge=(!B||B.end!==!1)&&q!==S.stdout&&q!==S.stderr,pe=ge?Oe:ie;we.endEmitted?S.nextTick(pe):se.once("end",pe),q.on("unpipe",Pe);function Pe(he,Ce){d("onunpipe"),he===se&&Ce&&Ce.hasUnpiped===!1&&(Ce.hasUnpiped=!0,je())}function Oe(){d("onend"),q.end()}var Ue=ee(se);q.on("drain",Ue);var pt=!1;function je(){d("cleanup"),q.removeListener("close",le),q.removeListener("finish",W),q.removeListener("drain",Ue),q.removeListener("error",lt),q.removeListener("unpipe",Pe),se.removeListener("end",Oe),se.removeListener("end",ie),se.removeListener("data",Je),pt=!0,we.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&Ue()}se.on("data",Je);function Je(he){d("ondata");var Ce=q.write(he);d("dest.write",Ce),Ce===!1&&((we.pipesCount===1&&we.pipes===q||we.pipesCount>1&&_e(we.pipes,q)!==-1)&&!pt&&(d("false write response, pause",we.awaitDrain),we.awaitDrain++),se.pause())}function lt(he){d("onerror",he),ie(),q.removeListener("error",lt),_(q,"error")===0&&ae(q,he)}ce(q,"error",lt);function le(){q.removeListener("finish",W),ie()}q.once("close",le);function W(){d("onfinish"),q.removeListener("close",le),ie()}q.once("finish",W);function ie(){d("unpipe"),se.unpipe(q)}return q.emit("pipe",se),we.flowing||(d("pipe resume"),se.resume()),q};function ee(q){return function(){var se=q._readableState;d("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&_(q,"data")&&(se.flowing=!0,J(q))}}I.prototype.unpipe=function(q){var B=this._readableState,se={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return q&&q!==B.pipes?this:(q||(q=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,q&&q.emit("unpipe",this,se),this);if(!q){var we=B.pipes,ge=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var pe=0;pe<ge;pe++)we[pe].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=_e(B.pipes,q);return Pe===-1?this:(B.pipes.splice(Pe,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),q.emit("unpipe",this,se),this)},I.prototype.on=function(q,B){var se=l.prototype.on.call(this,q,B),we=this._readableState;return q==="data"?(we.readableListening=this.listenerCount("readable")>0,we.flowing!==!1&&this.resume()):q==="readable"&&!we.endEmitted&&!we.readableListening&&(we.readableListening=we.needReadable=!0,we.flowing=!1,we.emittedReadable=!1,d("on readable",we.length,we.reading),we.length?A(this):we.reading||S.nextTick(ye,this)),se},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(q,B){var se=l.prototype.removeListener.call(this,q,B);return q==="readable"&&S.nextTick(xe,this),se},I.prototype.removeAllListeners=function(q){var B=l.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&S.nextTick(xe,this),B};function xe(q){var B=q._readableState;B.readableListening=q.listenerCount("readable")>0,B.resumeScheduled&&!B.paused?B.flowing=!0:q.listenerCount("data")>0&&q.resume()}function ye(q){d("readable nexttick read 0"),q.read(0)}I.prototype.resume=function(){var q=this._readableState;return q.flowing||(d("resume"),q.flowing=!q.readableListening,Re(this,q)),q.paused=!1,this};function Re(q,B){B.resumeScheduled||(B.resumeScheduled=!0,S.nextTick(Ee,q,B))}function Ee(q,B){d("resume",B.reading),B.reading||q.read(0),B.resumeScheduled=!1,q.emit("resume"),J(q),B.flowing&&!B.reading&&q.read(0)}I.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(q){var B=q._readableState;for(d("flow",B.flowing);B.flowing&&q.read()!==null;);}I.prototype.wrap=function(q){var B=this,se=this._readableState,we=!1;q.on("end",function(){if(d("wrapped end"),se.decoder&&!se.ended){var Pe=se.decoder.end();Pe&&Pe.length&&B.push(Pe)}B.push(null)}),q.on("data",function(Pe){if(d("wrapped data"),se.decoder&&(Pe=se.decoder.write(Pe)),!(se.objectMode&&Pe==null)&&!(!se.objectMode&&(!Pe||!Pe.length))){var Oe=B.push(Pe);Oe||(we=!0,q.pause())}});for(var ge in q)this[ge]===void 0&&typeof q[ge]=="function"&&(this[ge]=function(Oe){return function(){return q[Oe].apply(q,arguments)}}(ge));for(var pe=0;pe<ne.length;pe++)q.on(ne[pe],this.emit.bind(this,ne[pe]));return this._read=function(Pe){d("wrapped _read",Pe),we&&(we=!1,q.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return Y===void 0&&(Y=R(54887)),Y(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}}),I._fromList=te,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(q,B){if(B.length===0)return null;var se;return B.objectMode?se=B.buffer.shift():!q||q>=B.length?(B.decoder?se=B.buffer.join(""):B.buffer.length===1?se=B.buffer.first():se=B.buffer.concat(B.length),B.buffer.clear()):se=B.buffer.consume(q,B.decoder),se}function me(q){var B=q._readableState;d("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,S.nextTick(fe,B,q))}function fe(q,B){if(d("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,B.readable=!1,B.emit("end"),q.autoDestroy)){var se=B._writableState;(!se||se.autoDestroy&&se.finished)&&B.destroy()}}typeof Symbol=="function"&&(I.from=function(q,B){return K===void 0&&(K=R(98859)),K(I,q,B)});function _e(q,B){for(var se=0,we=q.length;se<we;se++)if(q[se]===B)return se;return-1}},3912:(s,Q,R)=>{"use strict";s.exports=f;var S=R(84419).q,M=S.ERR_METHOD_NOT_IMPLEMENTED,E=S.ERR_MULTIPLE_CALLBACK,_=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=S.ERR_TRANSFORM_WITH_LENGTH_0,u=R(34390);R(35717)(f,u);function c(d,h){var p=this._transformState;p.transforming=!1;var b=p.writecb;if(b===null)return this.emit("error",new E);p.writechunk=null,p.writecb=null,h!=null&&this.push(h),b(d);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function f(d){if(!(this instanceof f))return new f(d);u.call(this,d),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",w)}function w(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,p){v(d,h,p)}):v(this,null,null)}f.prototype.push=function(d,h){return this._transformState.needTransform=!1,u.prototype.push.call(this,d,h)},f.prototype._transform=function(d,h,p){p(new M("_transform()"))},f.prototype._write=function(d,h,p){var b=this._transformState;if(b.writecb=p,b.writechunk=d,b.writeencoding=h,!b.transforming){var y=this._readableState;(b.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},f.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},f.prototype._destroy=function(d,h){u.prototype._destroy.call(this,d,function(p){h(p)})};function v(d,h,p){if(h)return d.emit("error",h);if(p!=null&&d.push(p),d._writableState.length)throw new l;if(d._transformState.transforming)throw new _;return d.push(null)}},92010:(s,Q,R)=>{"use strict";var S=R(34155);s.exports=re;function M(J,te,me){this.chunk=J,this.encoding=te,this.callback=me,this.next=null}function E(J){var te=this;this.next=null,this.entry=null,this.finish=function(){Ee(te,J)}}var _;re.WritableState=ne;var l={deprecate:R(94927)},u=R(59819),c=R(48764).Buffer,f=(typeof R.g!="undefined"?R.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function w(J){return c.from(J)}function v(J){return c.isBuffer(J)||J instanceof f}var d=R(75997),h=R(898),p=h.getHighWaterMark,b=R(84419).q,y=b.ERR_INVALID_ARG_TYPE,D=b.ERR_METHOD_NOT_IMPLEMENTED,P=b.ERR_MULTIPLE_CALLBACK,L=b.ERR_STREAM_CANNOT_PIPE,H=b.ERR_STREAM_DESTROYED,j=b.ERR_STREAM_NULL_VALUES,V=b.ERR_STREAM_WRITE_AFTER_END,Y=b.ERR_UNKNOWN_ENCODING,K=d.errorOrDestroy;R(35717)(re,u);function ae(){}function ne(J,te,me){_=_||R(34390),J=J||{},typeof me!="boolean"&&(me=te instanceof _),this.objectMode=!!J.objectMode,me&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=p(this,J,"writableHighWaterMark",me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var fe=J.decodeStrings===!1;this.decodeStrings=!fe,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){F(te,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this)}ne.prototype.getBuffer=function(){for(var te=this.bufferedRequest,me=[];te;)me.push(te),te=te.next;return me},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(J){}}();var ce;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ce=Function.prototype[Symbol.hasInstance],Object.defineProperty(re,Symbol.hasInstance,{value:function(te){return ce.call(this,te)?!0:this!==re?!1:te&&te._writableState instanceof ne}})):ce=function(te){return te instanceof this};function re(J){_=_||R(34390);var te=this instanceof _;if(!te&&!ce.call(re,this))return new re(J);this._writableState=new ne(J,this,te),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),u.call(this)}re.prototype.pipe=function(){K(this,new L)};function I(J,te){var me=new V;K(J,me),S.nextTick(te,me)}function U(J,te,me,fe){var _e;return me===null?_e=new j:typeof me!="string"&&!te.objectMode&&(_e=new y("chunk",["string","Buffer"],me)),_e?(K(J,_e),S.nextTick(fe,_e),!1):!0}re.prototype.write=function(J,te,me){var fe=this._writableState,_e=!1,q=!fe.objectMode&&v(J);return q&&!c.isBuffer(J)&&(J=w(J)),typeof te=="function"&&(me=te,te=null),q?te="buffer":te||(te=fe.defaultEncoding),typeof me!="function"&&(me=ae),fe.ending?I(this,me):(q||U(this,fe,J,me))&&(fe.pendingcb++,_e=o(this,fe,q,J,te,me)),_e},re.prototype.cork=function(){this._writableState.corked++},re.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&z(this,J))},re.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new Y(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(re.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(J,te,me){return!J.objectMode&&J.decodeStrings!==!1&&typeof te=="string"&&(te=c.from(te,me)),te}Object.defineProperty(re.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(J,te,me,fe,_e,q){if(!me){var B=C(te,fe,_e);fe!==B&&(me=!0,_e="buffer",fe=B)}var se=te.objectMode?1:fe.length;te.length+=se;var we=te.length<te.highWaterMark;if(we||(te.needDrain=!0),te.writing||te.corked){var ge=te.lastBufferedRequest;te.lastBufferedRequest={chunk:fe,encoding:_e,isBuf:me,callback:q,next:null},ge?ge.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else g(J,te,!1,se,fe,_e,q);return we}function g(J,te,me,fe,_e,q,B){te.writelen=fe,te.writecb=B,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new H("write")):me?J._writev(_e,te.onwrite):J._write(_e,q,te.onwrite),te.sync=!1}function N(J,te,me,fe,_e){--te.pendingcb,me?(S.nextTick(_e,fe),S.nextTick(ye,J,te),J._writableState.errorEmitted=!0,K(J,fe)):(_e(fe),J._writableState.errorEmitted=!0,K(J,fe),ye(J,te))}function x(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function F(J,te){var me=J._writableState,fe=me.sync,_e=me.writecb;if(typeof _e!="function")throw new P;if(x(me),te)N(J,me,fe,te,_e);else{var q=T(me)||J.destroyed;!q&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&z(J,me),fe?S.nextTick(A,J,me,q,_e):A(J,me,q,_e)}}function A(J,te,me,fe){me||$(J,te),te.pendingcb--,fe(),ye(J,te)}function $(J,te){te.length===0&&te.needDrain&&(te.needDrain=!1,J.emit("drain"))}function z(J,te){te.bufferProcessing=!0;var me=te.bufferedRequest;if(J._writev&&me&&me.next){var fe=te.bufferedRequestCount,_e=new Array(fe),q=te.corkedRequestsFree;q.entry=me;for(var B=0,se=!0;me;)_e[B]=me,me.isBuf||(se=!1),me=me.next,B+=1;_e.allBuffers=se,g(J,te,!0,te.length,_e,"",q.finish),te.pendingcb++,te.lastBufferedRequest=null,q.next?(te.corkedRequestsFree=q.next,q.next=null):te.corkedRequestsFree=new E(te),te.bufferedRequestCount=0}else{for(;me;){var we=me.chunk,ge=me.encoding,pe=me.callback,Pe=te.objectMode?1:we.length;if(g(J,te,!1,Pe,we,ge,pe),me=me.next,te.bufferedRequestCount--,te.writing)break}me===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=me,te.bufferProcessing=!1}re.prototype._write=function(J,te,me){me(new D("_write()"))},re.prototype._writev=null,re.prototype.end=function(J,te,me){var fe=this._writableState;return typeof J=="function"?(me=J,J=null,te=null):typeof te=="function"&&(me=te,te=null),J!=null&&this.write(J,te),fe.corked&&(fe.corked=1,this.uncork()),fe.ending||Re(this,fe,me),this},Object.defineProperty(re.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function T(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function ee(J,te){J._final(function(me){te.pendingcb--,me&&K(J,me),te.prefinished=!0,J.emit("prefinish"),ye(J,te)})}function xe(J,te){!te.prefinished&&!te.finalCalled&&(typeof J._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,S.nextTick(ee,J,te)):(te.prefinished=!0,J.emit("prefinish")))}function ye(J,te){var me=T(te);if(me&&(xe(J,te),te.pendingcb===0&&(te.finished=!0,J.emit("finish"),te.autoDestroy))){var fe=J._readableState;(!fe||fe.autoDestroy&&fe.endEmitted)&&J.destroy()}return me}function Re(J,te,me){te.ending=!0,ye(J,te),me&&(te.finished?S.nextTick(me):J.once("finish",me)),te.ended=!0,J.writable=!1}function Ee(J,te,me){var fe=J.entry;for(J.entry=null;fe;){var _e=fe.callback;te.pendingcb--,_e(me),fe=fe.next}te.corkedRequestsFree.next=J}Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){!this._writableState||(this._writableState.destroyed=te)}}),re.prototype.destroy=d.destroy,re.prototype._undestroy=d.undestroy,re.prototype._destroy=function(J,te){te(J)}},54887:(s,Q,R)=>{"use strict";var S=R(34155),M;function E(V,Y,K){return Y=_(Y),Y in V?Object.defineProperty(V,Y,{value:K,enumerable:!0,configurable:!0,writable:!0}):V[Y]=K,V}function _(V){var Y=l(V,"string");return typeof Y=="symbol"?Y:String(Y)}function l(V,Y){if(typeof V!="object"||V===null)return V;var K=V[Symbol.toPrimitive];if(K!==void 0){var ae=K.call(V,Y||"default");if(typeof ae!="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(V)}var u=R(5800),c=Symbol("lastResolve"),f=Symbol("lastReject"),w=Symbol("error"),v=Symbol("ended"),d=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function b(V,Y){return{value:V,done:Y}}function y(V){var Y=V[c];if(Y!==null){var K=V[p].read();K!==null&&(V[d]=null,V[c]=null,V[f]=null,Y(b(K,!1)))}}function D(V){S.nextTick(y,V)}function P(V,Y){return function(K,ae){V.then(function(){if(Y[v]){K(b(void 0,!0));return}Y[h](K,ae)},ae)}}var L=Object.getPrototypeOf(function(){}),H=Object.setPrototypeOf((M={get stream(){return this[p]},next:function(){var Y=this,K=this[w];if(K!==null)return Promise.reject(K);if(this[v])return Promise.resolve(b(void 0,!0));if(this[p].destroyed)return new Promise(function(re,I){S.nextTick(function(){Y[w]?I(Y[w]):re(b(void 0,!0))})});var ae=this[d],ne;if(ae)ne=new Promise(P(ae,this));else{var ce=this[p].read();if(ce!==null)return Promise.resolve(b(ce,!1));ne=new Promise(this[h])}return this[d]=ne,ne}},E(M,Symbol.asyncIterator,function(){return this}),E(M,"return",function(){var Y=this;return new Promise(function(K,ae){Y[p].destroy(null,function(ne){if(ne){ae(ne);return}K(b(void 0,!0))})})}),M),L),j=function(Y){var K,ae=Object.create(H,(K={},E(K,p,{value:Y,writable:!0}),E(K,c,{value:null,writable:!0}),E(K,f,{value:null,writable:!0}),E(K,w,{value:null,writable:!0}),E(K,v,{value:Y._readableState.endEmitted,writable:!0}),E(K,h,{value:function(ce,re){var I=ae[p].read();I?(ae[d]=null,ae[c]=null,ae[f]=null,ce(b(I,!1))):(ae[c]=ce,ae[f]=re)},writable:!0}),K));return ae[d]=null,u(Y,function(ne){if(ne&&ne.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ce=ae[f];ce!==null&&(ae[d]=null,ae[c]=null,ae[f]=null,ce(ne)),ae[w]=ne;return}var re=ae[c];re!==null&&(ae[d]=null,ae[c]=null,ae[f]=null,re(b(void 0,!0))),ae[v]=!0}),Y.on("readable",D.bind(null,ae)),ae};s.exports=j},76633:(s,Q,R)=>{"use strict";function S(y,D){var P=Object.keys(y);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(y);D&&(L=L.filter(function(H){return Object.getOwnPropertyDescriptor(y,H).enumerable})),P.push.apply(P,L)}return P}function M(y){for(var D=1;D<arguments.length;D++){var P=arguments[D]!=null?arguments[D]:{};D%2?S(Object(P),!0).forEach(function(L){E(y,L,P[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(P)):S(Object(P)).forEach(function(L){Object.defineProperty(y,L,Object.getOwnPropertyDescriptor(P,L))})}return y}function E(y,D,P){return D=c(D),D in y?Object.defineProperty(y,D,{value:P,enumerable:!0,configurable:!0,writable:!0}):y[D]=P,y}function _(y,D){if(!(y instanceof D))throw new TypeError("Cannot call a class as a function")}function l(y,D){for(var P=0;P<D.length;P++){var L=D[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(y,c(L.key),L)}}function u(y,D,P){return D&&l(y.prototype,D),P&&l(y,P),Object.defineProperty(y,"prototype",{writable:!1}),y}function c(y){var D=f(y,"string");return typeof D=="symbol"?D:String(D)}function f(y,D){if(typeof y!="object"||y===null)return y;var P=y[Symbol.toPrimitive];if(P!==void 0){var L=P.call(y,D||"default");if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(y)}var w=R(48764),v=w.Buffer,d=R(96419),h=d.inspect,p=h&&h.custom||"inspect";function b(y,D,P){v.prototype.copy.call(y,D,P)}s.exports=function(){function y(){_(this,y),this.head=null,this.tail=null,this.length=0}return u(y,[{key:"push",value:function(P){var L={data:P,next:null};this.length>0?this.tail.next=L:this.head=L,this.tail=L,++this.length}},{key:"unshift",value:function(P){var L={data:P,next:this.head};this.length===0&&(this.tail=L),this.head=L,++this.length}},{key:"shift",value:function(){if(this.length!==0){var P=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,P}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(P){if(this.length===0)return"";for(var L=this.head,H=""+L.data;L=L.next;)H+=P+L.data;return H}},{key:"concat",value:function(P){if(this.length===0)return v.alloc(0);for(var L=v.allocUnsafe(P>>>0),H=this.head,j=0;H;)b(H.data,L,j),j+=H.data.length,H=H.next;return L}},{key:"consume",value:function(P,L){var H;return P<this.head.data.length?(H=this.head.data.slice(0,P),this.head.data=this.head.data.slice(P)):P===this.head.data.length?H=this.shift():H=L?this._getString(P):this._getBuffer(P),H}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(P){var L=this.head,H=1,j=L.data;for(P-=j.length;L=L.next;){var V=L.data,Y=P>V.length?V.length:P;if(Y===V.length?j+=V:j+=V.slice(0,P),P-=Y,P===0){Y===V.length?(++H,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=V.slice(Y));break}++H}return this.length-=H,j}},{key:"_getBuffer",value:function(P){var L=v.allocUnsafe(P),H=this.head,j=1;for(H.data.copy(L),P-=H.data.length;H=H.next;){var V=H.data,Y=P>V.length?V.length:P;if(V.copy(L,L.length-P,0,Y),P-=Y,P===0){Y===V.length?(++j,H.next?this.head=H.next:this.head=this.tail=null):(this.head=H,H.data=V.slice(Y));break}++j}return this.length-=j,L}},{key:p,value:function(P,L){return h(this,M(M({},L),{},{depth:0,customInspect:!1}))}}]),y}()},75997:(s,Q,R)=>{"use strict";var S=R(34155);function M(f,w){var v=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(w?w(f):f&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,S.nextTick(u,this,f)):S.nextTick(u,this,f)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(p){!w&&p?v._writableState?v._writableState.errorEmitted?S.nextTick(_,v):(v._writableState.errorEmitted=!0,S.nextTick(E,v,p)):S.nextTick(E,v,p):w?(S.nextTick(_,v),w(p)):S.nextTick(_,v)}),this)}function E(f,w){u(f,w),_(f)}function _(f){f._writableState&&!f._writableState.emitClose||f._readableState&&!f._readableState.emitClose||f.emit("close")}function l(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(f,w){f.emit("error",w)}function c(f,w){var v=f._readableState,d=f._writableState;v&&v.autoDestroy||d&&d.autoDestroy?f.destroy(w):f.emit("error",w)}s.exports={destroy:M,undestroy:l,errorOrDestroy:c}},5800:(s,Q,R)=>{"use strict";var S=R(84419).q.ERR_STREAM_PREMATURE_CLOSE;function M(u){var c=!1;return function(){if(!c){c=!0;for(var f=arguments.length,w=new Array(f),v=0;v<f;v++)w[v]=arguments[v];u.apply(this,w)}}}function E(){}function _(u){return u.setHeader&&typeof u.abort=="function"}function l(u,c,f){if(typeof c=="function")return l(u,null,c);c||(c={}),f=M(f||E);var w=c.readable||c.readable!==!1&&u.readable,v=c.writable||c.writable!==!1&&u.writable,d=function(){u.writable||p()},h=u._writableState&&u._writableState.finished,p=function(){v=!1,h=!0,w||f.call(u)},b=u._readableState&&u._readableState.endEmitted,y=function(){w=!1,b=!0,v||f.call(u)},D=function(j){f.call(u,j)},P=function(){var j;if(w&&!b)return(!u._readableState||!u._readableState.ended)&&(j=new S),f.call(u,j);if(v&&!h)return(!u._writableState||!u._writableState.ended)&&(j=new S),f.call(u,j)},L=function(){u.req.on("finish",p)};return _(u)?(u.on("complete",p),u.on("abort",P),u.req?L():u.on("request",L)):v&&!u._writableState&&(u.on("end",d),u.on("close",d)),u.on("end",y),u.on("finish",p),c.error!==!1&&u.on("error",D),u.on("close",P),function(){u.removeListener("complete",p),u.removeListener("abort",P),u.removeListener("request",L),u.req&&u.req.removeListener("finish",p),u.removeListener("end",d),u.removeListener("close",d),u.removeListener("finish",p),u.removeListener("end",y),u.removeListener("error",D),u.removeListener("close",P)}}s.exports=l},98859:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},37065:(s,Q,R)=>{"use strict";var S;function M(p){var b=!1;return function(){b||(b=!0,p.apply(void 0,arguments))}}var E=R(84419).q,_=E.ERR_MISSING_ARGS,l=E.ERR_STREAM_DESTROYED;function u(p){if(p)throw p}function c(p){return p.setHeader&&typeof p.abort=="function"}function f(p,b,y,D){D=M(D);var P=!1;p.on("close",function(){P=!0}),S===void 0&&(S=R(5800)),S(p,{readable:b,writable:y},function(H){if(H)return D(H);P=!0,D()});var L=!1;return function(H){if(!P&&!L){if(L=!0,c(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();D(H||new l("pipe"))}}}function w(p){p()}function v(p,b){return p.pipe(b)}function d(p){return!p.length||typeof p[p.length-1]!="function"?u:p.pop()}function h(){for(var p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];var D=d(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new _("streams");var P,L=b.map(function(H,j){var V=j<b.length-1,Y=j>0;return f(H,V,Y,function(K){P||(P=K),K&&L.forEach(w),!V&&(L.forEach(w),D(P))})});return b.reduce(v)}s.exports=h},898:(s,Q,R)=>{"use strict";var S=R(84419).q.ERR_INVALID_OPT_VALUE;function M(_,l,u){return _.highWaterMark!=null?_.highWaterMark:l?_[u]:null}function E(_,l,u,c){var f=M(l,c,u);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var w=c?u:"highWaterMark";throw new S(w,f)}return Math.floor(f)}return _.objectMode?16:16*1024}s.exports={getHighWaterMark:E}},59819:(s,Q,R)=>{s.exports=R(17187).EventEmitter},23872:(s,Q,R)=>{Q=s.exports=R(44960),Q.Stream=Q,Q.Readable=Q,Q.Writable=R(92010),Q.Duplex=R(34390),Q.Transform=R(3912),Q.PassThrough=R(41294),Q.finished=R(5800),Q.pipeline=R(37065)},67295:s=>{s.exports=function(R,S){for(var M=Math.min(R.length,S.length),E=new Buffer(M),_=0;_<M;++_)E[_]=R[_]^S[_];return E}},48764:(s,Q,R)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const S=R(79742),M=R(80645),E=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Q.Buffer=c,Q.SlowBuffer=L,Q.INSPECT_MAX_BYTES=50;const _=2147483647;Q.kMaxLength=_,c.TYPED_ARRAY_SUPPORT=l(),!c.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const le=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf(le,W),le.foo()===42}catch(le){return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function u(le){if(le>_)throw new RangeError('The value "'+le+'" is invalid for option "size"');const W=new Uint8Array(le);return Object.setPrototypeOf(W,c.prototype),W}function c(le,W,ie){if(typeof le=="number"){if(typeof W=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(le)}return f(le,W,ie)}c.poolSize=8192;function f(le,W,ie){if(typeof le=="string")return h(le,W);if(ArrayBuffer.isView(le))return b(le);if(le==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof le);if(Ue(le,ArrayBuffer)||le&&Ue(le.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ue(le,SharedArrayBuffer)||le&&Ue(le.buffer,SharedArrayBuffer)))return y(le,W,ie);if(typeof le=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const he=le.valueOf&&le.valueOf();if(he!=null&&he!==le)return c.from(he,W,ie);const Ce=D(le);if(Ce)return Ce;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof le[Symbol.toPrimitive]=="function")return c.from(le[Symbol.toPrimitive]("string"),W,ie);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof le)}c.from=function(le,W,ie){return f(le,W,ie)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function w(le){if(typeof le!="number")throw new TypeError('"size" argument must be of type number');if(le<0)throw new RangeError('The value "'+le+'" is invalid for option "size"')}function v(le,W,ie){return w(le),le<=0?u(le):W!==void 0?typeof ie=="string"?u(le).fill(W,ie):u(le).fill(W):u(le)}c.alloc=function(le,W,ie){return v(le,W,ie)};function d(le){return w(le),u(le<0?0:P(le)|0)}c.allocUnsafe=function(le){return d(le)},c.allocUnsafeSlow=function(le){return d(le)};function h(le,W){if((typeof W!="string"||W==="")&&(W="utf8"),!c.isEncoding(W))throw new TypeError("Unknown encoding: "+W);const ie=H(le,W)|0;let he=u(ie);const Ce=he.write(le,W);return Ce!==ie&&(he=he.slice(0,Ce)),he}function p(le){const W=le.length<0?0:P(le.length)|0,ie=u(W);for(let he=0;he<W;he+=1)ie[he]=le[he]&255;return ie}function b(le){if(Ue(le,Uint8Array)){const W=new Uint8Array(le);return y(W.buffer,W.byteOffset,W.byteLength)}return p(le)}function y(le,W,ie){if(W<0||le.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(le.byteLength<W+(ie||0))throw new RangeError('"length" is outside of buffer bounds');let he;return W===void 0&&ie===void 0?he=new Uint8Array(le):ie===void 0?he=new Uint8Array(le,W):he=new Uint8Array(le,W,ie),Object.setPrototypeOf(he,c.prototype),he}function D(le){if(c.isBuffer(le)){const W=P(le.length)|0,ie=u(W);return ie.length===0||le.copy(ie,0,0,W),ie}if(le.length!==void 0)return typeof le.length!="number"||pt(le.length)?u(0):p(le);if(le.type==="Buffer"&&Array.isArray(le.data))return p(le.data)}function P(le){if(le>=_)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_.toString(16)+" bytes");return le|0}function L(le){return+le!=le&&(le=0),c.alloc(+le)}c.isBuffer=function(W){return W!=null&&W._isBuffer===!0&&W!==c.prototype},c.compare=function(W,ie){if(Ue(W,Uint8Array)&&(W=c.from(W,W.offset,W.byteLength)),Ue(ie,Uint8Array)&&(ie=c.from(ie,ie.offset,ie.byteLength)),!c.isBuffer(W)||!c.isBuffer(ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===ie)return 0;let he=W.length,Ce=ie.length;for(let He=0,Me=Math.min(he,Ce);He<Me;++He)if(W[He]!==ie[He]){he=W[He],Ce=ie[He];break}return he<Ce?-1:Ce<he?1:0},c.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(W,ie){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(W.length===0)return c.alloc(0);let he;if(ie===void 0)for(ie=0,he=0;he<W.length;++he)ie+=W[he].length;const Ce=c.allocUnsafe(ie);let He=0;for(he=0;he<W.length;++he){let Me=W[he];if(Ue(Me,Uint8Array))He+Me.length>Ce.length?(c.isBuffer(Me)||(Me=c.from(Me)),Me.copy(Ce,He)):Uint8Array.prototype.set.call(Ce,Me,He);else if(c.isBuffer(Me))Me.copy(Ce,He);else throw new TypeError('"list" argument must be an Array of Buffers');He+=Me.length}return Ce};function H(le,W){if(c.isBuffer(le))return le.length;if(ArrayBuffer.isView(le)||Ue(le,ArrayBuffer))return le.byteLength;if(typeof le!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof le);const ie=le.length,he=arguments.length>2&&arguments[2]===!0;if(!he&&ie===0)return 0;let Ce=!1;for(;;)switch(W){case"ascii":case"latin1":case"binary":return ie;case"utf8":case"utf-8":return we(le).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie*2;case"hex":return ie>>>1;case"base64":return Pe(le).length;default:if(Ce)return he?-1:we(le).length;W=(""+W).toLowerCase(),Ce=!0}}c.byteLength=H;function j(le,W,ie){let he=!1;if((W===void 0||W<0)&&(W=0),W>this.length||((ie===void 0||ie>this.length)&&(ie=this.length),ie<=0)||(ie>>>=0,W>>>=0,ie<=W))return"";for(le||(le="utf8");;)switch(le){case"hex":return F(this,W,ie);case"utf8":case"utf-8":return C(this,W,ie);case"ascii":return N(this,W,ie);case"latin1":case"binary":return x(this,W,ie);case"base64":return U(this,W,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,W,ie);default:if(he)throw new TypeError("Unknown encoding: "+le);le=(le+"").toLowerCase(),he=!0}}c.prototype._isBuffer=!0;function V(le,W,ie){const he=le[W];le[W]=le[ie],le[ie]=he}c.prototype.swap16=function(){const W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ie=0;ie<W;ie+=2)V(this,ie,ie+1);return this},c.prototype.swap32=function(){const W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ie=0;ie<W;ie+=4)V(this,ie,ie+3),V(this,ie+1,ie+2);return this},c.prototype.swap64=function(){const W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ie=0;ie<W;ie+=8)V(this,ie,ie+7),V(this,ie+1,ie+6),V(this,ie+2,ie+5),V(this,ie+3,ie+4);return this},c.prototype.toString=function(){const W=this.length;return W===0?"":arguments.length===0?C(this,0,W):j.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(W){if(!c.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W?!0:c.compare(this,W)===0},c.prototype.inspect=function(){let W="";const ie=Q.INSPECT_MAX_BYTES;return W=this.toString("hex",0,ie).replace(/(.{2})/g,"$1 ").trim(),this.length>ie&&(W+=" ... "),"<Buffer "+W+">"},E&&(c.prototype[E]=c.prototype.inspect),c.prototype.compare=function(W,ie,he,Ce,He){if(Ue(W,Uint8Array)&&(W=c.from(W,W.offset,W.byteLength)),!c.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(ie===void 0&&(ie=0),he===void 0&&(he=W?W.length:0),Ce===void 0&&(Ce=0),He===void 0&&(He=this.length),ie<0||he>W.length||Ce<0||He>this.length)throw new RangeError("out of range index");if(Ce>=He&&ie>=he)return 0;if(Ce>=He)return-1;if(ie>=he)return 1;if(ie>>>=0,he>>>=0,Ce>>>=0,He>>>=0,this===W)return 0;let Me=He-Ce,$e=he-ie;const xt=Math.min(Me,$e),We=this.slice(Ce,He),Be=W.slice(ie,he);for(let st=0;st<xt;++st)if(We[st]!==Be[st]){Me=We[st],$e=Be[st];break}return Me<$e?-1:$e<Me?1:0};function Y(le,W,ie,he,Ce){if(le.length===0)return-1;if(typeof ie=="string"?(he=ie,ie=0):ie>2147483647?ie=2147483647:ie<-2147483648&&(ie=-2147483648),ie=+ie,pt(ie)&&(ie=Ce?0:le.length-1),ie<0&&(ie=le.length+ie),ie>=le.length){if(Ce)return-1;ie=le.length-1}else if(ie<0)if(Ce)ie=0;else return-1;if(typeof W=="string"&&(W=c.from(W,he)),c.isBuffer(W))return W.length===0?-1:K(le,W,ie,he,Ce);if(typeof W=="number")return W=W&255,typeof Uint8Array.prototype.indexOf=="function"?Ce?Uint8Array.prototype.indexOf.call(le,W,ie):Uint8Array.prototype.lastIndexOf.call(le,W,ie):K(le,[W],ie,he,Ce);throw new TypeError("val must be string, number or Buffer")}function K(le,W,ie,he,Ce){let He=1,Me=le.length,$e=W.length;if(he!==void 0&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(le.length<2||W.length<2)return-1;He=2,Me/=2,$e/=2,ie/=2}function xt(Be,st){return He===1?Be[st]:Be.readUInt16BE(st*He)}let We;if(Ce){let Be=-1;for(We=ie;We<Me;We++)if(xt(le,We)===xt(W,Be===-1?0:We-Be)){if(Be===-1&&(Be=We),We-Be+1===$e)return Be*He}else Be!==-1&&(We-=We-Be),Be=-1}else for(ie+$e>Me&&(ie=Me-$e),We=ie;We>=0;We--){let Be=!0;for(let st=0;st<$e;st++)if(xt(le,We+st)!==xt(W,st)){Be=!1;break}if(Be)return We}return-1}c.prototype.includes=function(W,ie,he){return this.indexOf(W,ie,he)!==-1},c.prototype.indexOf=function(W,ie,he){return Y(this,W,ie,he,!0)},c.prototype.lastIndexOf=function(W,ie,he){return Y(this,W,ie,he,!1)};function ae(le,W,ie,he){ie=Number(ie)||0;const Ce=le.length-ie;he?(he=Number(he),he>Ce&&(he=Ce)):he=Ce;const He=W.length;he>He/2&&(he=He/2);let Me;for(Me=0;Me<he;++Me){const $e=parseInt(W.substr(Me*2,2),16);if(pt($e))return Me;le[ie+Me]=$e}return Me}function ne(le,W,ie,he){return Oe(we(W,le.length-ie),le,ie,he)}function ce(le,W,ie,he){return Oe(ge(W),le,ie,he)}function re(le,W,ie,he){return Oe(Pe(W),le,ie,he)}function I(le,W,ie,he){return Oe(pe(W,le.length-ie),le,ie,he)}c.prototype.write=function(W,ie,he,Ce){if(ie===void 0)Ce="utf8",he=this.length,ie=0;else if(he===void 0&&typeof ie=="string")Ce=ie,he=this.length,ie=0;else if(isFinite(ie))ie=ie>>>0,isFinite(he)?(he=he>>>0,Ce===void 0&&(Ce="utf8")):(Ce=he,he=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const He=this.length-ie;if((he===void 0||he>He)&&(he=He),W.length>0&&(he<0||ie<0)||ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");let Me=!1;for(;;)switch(Ce){case"hex":return ae(this,W,ie,he);case"utf8":case"utf-8":return ne(this,W,ie,he);case"ascii":case"latin1":case"binary":return ce(this,W,ie,he);case"base64":return re(this,W,ie,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,W,ie,he);default:if(Me)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),Me=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(le,W,ie){return W===0&&ie===le.length?S.fromByteArray(le):S.fromByteArray(le.slice(W,ie))}function C(le,W,ie){ie=Math.min(le.length,ie);const he=[];let Ce=W;for(;Ce<ie;){const He=le[Ce];let Me=null,$e=He>239?4:He>223?3:He>191?2:1;if(Ce+$e<=ie){let xt,We,Be,st;switch($e){case 1:He<128&&(Me=He);break;case 2:xt=le[Ce+1],(xt&192)==128&&(st=(He&31)<<6|xt&63,st>127&&(Me=st));break;case 3:xt=le[Ce+1],We=le[Ce+2],(xt&192)==128&&(We&192)==128&&(st=(He&15)<<12|(xt&63)<<6|We&63,st>2047&&(st<55296||st>57343)&&(Me=st));break;case 4:xt=le[Ce+1],We=le[Ce+2],Be=le[Ce+3],(xt&192)==128&&(We&192)==128&&(Be&192)==128&&(st=(He&15)<<18|(xt&63)<<12|(We&63)<<6|Be&63,st>65535&&st<1114112&&(Me=st))}}Me===null?(Me=65533,$e=1):Me>65535&&(Me-=65536,he.push(Me>>>10&1023|55296),Me=56320|Me&1023),he.push(Me),Ce+=$e}return g(he)}const o=4096;function g(le){const W=le.length;if(W<=o)return String.fromCharCode.apply(String,le);let ie="",he=0;for(;he<W;)ie+=String.fromCharCode.apply(String,le.slice(he,he+=o));return ie}function N(le,W,ie){let he="";ie=Math.min(le.length,ie);for(let Ce=W;Ce<ie;++Ce)he+=String.fromCharCode(le[Ce]&127);return he}function x(le,W,ie){let he="";ie=Math.min(le.length,ie);for(let Ce=W;Ce<ie;++Ce)he+=String.fromCharCode(le[Ce]);return he}function F(le,W,ie){const he=le.length;(!W||W<0)&&(W=0),(!ie||ie<0||ie>he)&&(ie=he);let Ce="";for(let He=W;He<ie;++He)Ce+=je[le[He]];return Ce}function A(le,W,ie){const he=le.slice(W,ie);let Ce="";for(let He=0;He<he.length-1;He+=2)Ce+=String.fromCharCode(he[He]+he[He+1]*256);return Ce}c.prototype.slice=function(W,ie){const he=this.length;W=~~W,ie=ie===void 0?he:~~ie,W<0?(W+=he,W<0&&(W=0)):W>he&&(W=he),ie<0?(ie+=he,ie<0&&(ie=0)):ie>he&&(ie=he),ie<W&&(ie=W);const Ce=this.subarray(W,ie);return Object.setPrototypeOf(Ce,c.prototype),Ce};function $(le,W,ie){if(le%1!=0||le<0)throw new RangeError("offset is not uint");if(le+W>ie)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(W,ie,he){W=W>>>0,ie=ie>>>0,he||$(W,ie,this.length);let Ce=this[W],He=1,Me=0;for(;++Me<ie&&(He*=256);)Ce+=this[W+Me]*He;return Ce},c.prototype.readUintBE=c.prototype.readUIntBE=function(W,ie,he){W=W>>>0,ie=ie>>>0,he||$(W,ie,this.length);let Ce=this[W+--ie],He=1;for(;ie>0&&(He*=256);)Ce+=this[W+--ie]*He;return Ce},c.prototype.readUint8=c.prototype.readUInt8=function(W,ie){return W=W>>>0,ie||$(W,1,this.length),this[W]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(W,ie){return W=W>>>0,ie||$(W,2,this.length),this[W]|this[W+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(W,ie){return W=W>>>0,ie||$(W,2,this.length),this[W]<<8|this[W+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(W,ie){return W=W>>>0,ie||$(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+this[W+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(W,ie){return W=W>>>0,ie||$(W,4,this.length),this[W]*16777216+(this[W+1]<<16|this[W+2]<<8|this[W+3])},c.prototype.readBigUInt64LE=Je(function(W){W=W>>>0,_e(W,"offset");const ie=this[W],he=this[W+7];(ie===void 0||he===void 0)&&q(W,this.length-8);const Ce=ie+this[++W]*2**8+this[++W]*2**16+this[++W]*2**24,He=this[++W]+this[++W]*2**8+this[++W]*2**16+he*2**24;return BigInt(Ce)+(BigInt(He)<<BigInt(32))}),c.prototype.readBigUInt64BE=Je(function(W){W=W>>>0,_e(W,"offset");const ie=this[W],he=this[W+7];(ie===void 0||he===void 0)&&q(W,this.length-8);const Ce=ie*2**24+this[++W]*2**16+this[++W]*2**8+this[++W],He=this[++W]*2**24+this[++W]*2**16+this[++W]*2**8+he;return(BigInt(Ce)<<BigInt(32))+BigInt(He)}),c.prototype.readIntLE=function(W,ie,he){W=W>>>0,ie=ie>>>0,he||$(W,ie,this.length);let Ce=this[W],He=1,Me=0;for(;++Me<ie&&(He*=256);)Ce+=this[W+Me]*He;return He*=128,Ce>=He&&(Ce-=Math.pow(2,8*ie)),Ce},c.prototype.readIntBE=function(W,ie,he){W=W>>>0,ie=ie>>>0,he||$(W,ie,this.length);let Ce=ie,He=1,Me=this[W+--Ce];for(;Ce>0&&(He*=256);)Me+=this[W+--Ce]*He;return He*=128,Me>=He&&(Me-=Math.pow(2,8*ie)),Me},c.prototype.readInt8=function(W,ie){return W=W>>>0,ie||$(W,1,this.length),this[W]&128?(255-this[W]+1)*-1:this[W]},c.prototype.readInt16LE=function(W,ie){W=W>>>0,ie||$(W,2,this.length);const he=this[W]|this[W+1]<<8;return he&32768?he|4294901760:he},c.prototype.readInt16BE=function(W,ie){W=W>>>0,ie||$(W,2,this.length);const he=this[W+1]|this[W]<<8;return he&32768?he|4294901760:he},c.prototype.readInt32LE=function(W,ie){return W=W>>>0,ie||$(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},c.prototype.readInt32BE=function(W,ie){return W=W>>>0,ie||$(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},c.prototype.readBigInt64LE=Je(function(W){W=W>>>0,_e(W,"offset");const ie=this[W],he=this[W+7];(ie===void 0||he===void 0)&&q(W,this.length-8);const Ce=this[W+4]+this[W+5]*2**8+this[W+6]*2**16+(he<<24);return(BigInt(Ce)<<BigInt(32))+BigInt(ie+this[++W]*2**8+this[++W]*2**16+this[++W]*2**24)}),c.prototype.readBigInt64BE=Je(function(W){W=W>>>0,_e(W,"offset");const ie=this[W],he=this[W+7];(ie===void 0||he===void 0)&&q(W,this.length-8);const Ce=(ie<<24)+this[++W]*2**16+this[++W]*2**8+this[++W];return(BigInt(Ce)<<BigInt(32))+BigInt(this[++W]*2**24+this[++W]*2**16+this[++W]*2**8+he)}),c.prototype.readFloatLE=function(W,ie){return W=W>>>0,ie||$(W,4,this.length),M.read(this,W,!0,23,4)},c.prototype.readFloatBE=function(W,ie){return W=W>>>0,ie||$(W,4,this.length),M.read(this,W,!1,23,4)},c.prototype.readDoubleLE=function(W,ie){return W=W>>>0,ie||$(W,8,this.length),M.read(this,W,!0,52,8)},c.prototype.readDoubleBE=function(W,ie){return W=W>>>0,ie||$(W,8,this.length),M.read(this,W,!1,52,8)};function z(le,W,ie,he,Ce,He){if(!c.isBuffer(le))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>Ce||W<He)throw new RangeError('"value" argument is out of bounds');if(ie+he>le.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(W,ie,he,Ce){if(W=+W,ie=ie>>>0,he=he>>>0,!Ce){const $e=Math.pow(2,8*he)-1;z(this,W,ie,he,$e,0)}let He=1,Me=0;for(this[ie]=W&255;++Me<he&&(He*=256);)this[ie+Me]=W/He&255;return ie+he},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(W,ie,he,Ce){if(W=+W,ie=ie>>>0,he=he>>>0,!Ce){const $e=Math.pow(2,8*he)-1;z(this,W,ie,he,$e,0)}let He=he-1,Me=1;for(this[ie+He]=W&255;--He>=0&&(Me*=256);)this[ie+He]=W/Me&255;return ie+he},c.prototype.writeUint8=c.prototype.writeUInt8=function(W,ie,he){return W=+W,ie=ie>>>0,he||z(this,W,ie,1,255,0),this[ie]=W&255,ie+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(W,ie,he){return W=+W,ie=ie>>>0,he||z(this,W,ie,2,65535,0),this[ie]=W&255,this[ie+1]=W>>>8,ie+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(W,ie,he){return W=+W,ie=ie>>>0,he||z(this,W,ie,2,65535,0),this[ie]=W>>>8,this[ie+1]=W&255,ie+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(W,ie,he){return W=+W,ie=ie>>>0,he||z(this,W,ie,4,4294967295,0),this[ie+3]=W>>>24,this[ie+2]=W>>>16,this[ie+1]=W>>>8,this[ie]=W&255,ie+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(W,ie,he){return W=+W,ie=ie>>>0,he||z(this,W,ie,4,4294967295,0),this[ie]=W>>>24,this[ie+1]=W>>>16,this[ie+2]=W>>>8,this[ie+3]=W&255,ie+4};function T(le,W,ie,he,Ce){fe(W,he,Ce,le,ie,7);let He=Number(W&BigInt(4294967295));le[ie++]=He,He=He>>8,le[ie++]=He,He=He>>8,le[ie++]=He,He=He>>8,le[ie++]=He;let Me=Number(W>>BigInt(32)&BigInt(4294967295));return le[ie++]=Me,Me=Me>>8,le[ie++]=Me,Me=Me>>8,le[ie++]=Me,Me=Me>>8,le[ie++]=Me,ie}function ee(le,W,ie,he,Ce){fe(W,he,Ce,le,ie,7);let He=Number(W&BigInt(4294967295));le[ie+7]=He,He=He>>8,le[ie+6]=He,He=He>>8,le[ie+5]=He,He=He>>8,le[ie+4]=He;let Me=Number(W>>BigInt(32)&BigInt(4294967295));return le[ie+3]=Me,Me=Me>>8,le[ie+2]=Me,Me=Me>>8,le[ie+1]=Me,Me=Me>>8,le[ie]=Me,ie+8}c.prototype.writeBigUInt64LE=Je(function(W,ie=0){return T(this,W,ie,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Je(function(W,ie=0){return ee(this,W,ie,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(W,ie,he,Ce){if(W=+W,ie=ie>>>0,!Ce){const xt=Math.pow(2,8*he-1);z(this,W,ie,he,xt-1,-xt)}let He=0,Me=1,$e=0;for(this[ie]=W&255;++He<he&&(Me*=256);)W<0&&$e===0&&this[ie+He-1]!==0&&($e=1),this[ie+He]=(W/Me>>0)-$e&255;return ie+he},c.prototype.writeIntBE=function(W,ie,he,Ce){if(W=+W,ie=ie>>>0,!Ce){const xt=Math.pow(2,8*he-1);z(this,W,ie,he,xt-1,-xt)}let He=he-1,Me=1,$e=0;for(this[ie+He]=W&255;--He>=0&&(Me*=256);)W<0&&$e===0&&this[ie+He+1]!==0&&($e=1),this[ie+He]=(W/Me>>0)-$e&255;return ie+he},c.prototype.writeInt8=function(W,ie,he){return W=+W,ie=ie>>>0,he||z(this,W,ie,1,127,-128),W<0&&(W=255+W+1),this[ie]=W&255,ie+1},c.prototype.writeInt16LE=function(W,ie,he){return W=+W,ie=ie>>>0,he||z(this,W,ie,2,32767,-32768),this[ie]=W&255,this[ie+1]=W>>>8,ie+2},c.prototype.writeInt16BE=function(W,ie,he){return W=+W,ie=ie>>>0,he||z(this,W,ie,2,32767,-32768),this[ie]=W>>>8,this[ie+1]=W&255,ie+2},c.prototype.writeInt32LE=function(W,ie,he){return W=+W,ie=ie>>>0,he||z(this,W,ie,4,2147483647,-2147483648),this[ie]=W&255,this[ie+1]=W>>>8,this[ie+2]=W>>>16,this[ie+3]=W>>>24,ie+4},c.prototype.writeInt32BE=function(W,ie,he){return W=+W,ie=ie>>>0,he||z(this,W,ie,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[ie]=W>>>24,this[ie+1]=W>>>16,this[ie+2]=W>>>8,this[ie+3]=W&255,ie+4},c.prototype.writeBigInt64LE=Je(function(W,ie=0){return T(this,W,ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Je(function(W,ie=0){return ee(this,W,ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(le,W,ie,he,Ce,He){if(ie+he>le.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("Index out of range")}function ye(le,W,ie,he,Ce){return W=+W,ie=ie>>>0,Ce||xe(le,W,ie,4,34028234663852886e22,-34028234663852886e22),M.write(le,W,ie,he,23,4),ie+4}c.prototype.writeFloatLE=function(W,ie,he){return ye(this,W,ie,!0,he)},c.prototype.writeFloatBE=function(W,ie,he){return ye(this,W,ie,!1,he)};function Re(le,W,ie,he,Ce){return W=+W,ie=ie>>>0,Ce||xe(le,W,ie,8,17976931348623157e292,-17976931348623157e292),M.write(le,W,ie,he,52,8),ie+8}c.prototype.writeDoubleLE=function(W,ie,he){return Re(this,W,ie,!0,he)},c.prototype.writeDoubleBE=function(W,ie,he){return Re(this,W,ie,!1,he)},c.prototype.copy=function(W,ie,he,Ce){if(!c.isBuffer(W))throw new TypeError("argument should be a Buffer");if(he||(he=0),!Ce&&Ce!==0&&(Ce=this.length),ie>=W.length&&(ie=W.length),ie||(ie=0),Ce>0&&Ce<he&&(Ce=he),Ce===he||W.length===0||this.length===0)return 0;if(ie<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),W.length-ie<Ce-he&&(Ce=W.length-ie+he);const He=Ce-he;return this===W&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ie,he,Ce):Uint8Array.prototype.set.call(W,this.subarray(he,Ce),ie),He},c.prototype.fill=function(W,ie,he,Ce){if(typeof W=="string"){if(typeof ie=="string"?(Ce=ie,ie=0,he=this.length):typeof he=="string"&&(Ce=he,he=this.length),Ce!==void 0&&typeof Ce!="string")throw new TypeError("encoding must be a string");if(typeof Ce=="string"&&!c.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);if(W.length===1){const Me=W.charCodeAt(0);(Ce==="utf8"&&Me<128||Ce==="latin1")&&(W=Me)}}else typeof W=="number"?W=W&255:typeof W=="boolean"&&(W=Number(W));if(ie<0||this.length<ie||this.length<he)throw new RangeError("Out of range index");if(he<=ie)return this;ie=ie>>>0,he=he===void 0?this.length:he>>>0,W||(W=0);let He;if(typeof W=="number")for(He=ie;He<he;++He)this[He]=W;else{const Me=c.isBuffer(W)?W:c.from(W,Ce),$e=Me.length;if($e===0)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(He=0;He<he-ie;++He)this[He+ie]=Me[He%$e]}return this};const Ee={};function J(le,W,ie){Ee[le]=class extends ie{constructor(){super();Object.defineProperty(this,"message",{value:W.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${le}]`,this.stack,delete this.name}get code(){return le}set code(Ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ce,writable:!0})}toString(){return`${this.name} [${le}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(le){return le?`${le} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(le,W){return`The "${le}" argument must be of type number. Received type ${typeof W}`},TypeError),J("ERR_OUT_OF_RANGE",function(le,W,ie){let he=`The value of "${le}" is out of range.`,Ce=ie;return Number.isInteger(ie)&&Math.abs(ie)>2**32?Ce=te(String(ie)):typeof ie=="bigint"&&(Ce=String(ie),(ie>BigInt(2)**BigInt(32)||ie<-(BigInt(2)**BigInt(32)))&&(Ce=te(Ce)),Ce+="n"),he+=` It must be ${W}. Received ${Ce}`,he},RangeError);function te(le){let W="",ie=le.length;const he=le[0]==="-"?1:0;for(;ie>=he+4;ie-=3)W=`_${le.slice(ie-3,ie)}${W}`;return`${le.slice(0,ie)}${W}`}function me(le,W,ie){_e(W,"offset"),(le[W]===void 0||le[W+ie]===void 0)&&q(W,le.length-(ie+1))}function fe(le,W,ie,he,Ce,He){if(le>ie||le<W){const Me=typeof W=="bigint"?"n":"";let $e;throw He>3?W===0||W===BigInt(0)?$e=`>= 0${Me} and < 2${Me} ** ${(He+1)*8}${Me}`:$e=`>= -(2${Me} ** ${(He+1)*8-1}${Me}) and < 2 ** ${(He+1)*8-1}${Me}`:$e=`>= ${W}${Me} and <= ${ie}${Me}`,new Ee.ERR_OUT_OF_RANGE("value",$e,le)}me(he,Ce,He)}function _e(le,W){if(typeof le!="number")throw new Ee.ERR_INVALID_ARG_TYPE(W,"number",le)}function q(le,W,ie){throw Math.floor(le)!==le?(_e(le,ie),new Ee.ERR_OUT_OF_RANGE(ie||"offset","an integer",le)):W<0?new Ee.ERR_BUFFER_OUT_OF_BOUNDS:new Ee.ERR_OUT_OF_RANGE(ie||"offset",`>= ${ie?1:0} and <= ${W}`,le)}const B=/[^+/0-9A-Za-z-_]/g;function se(le){if(le=le.split("=")[0],le=le.trim().replace(B,""),le.length<2)return"";for(;le.length%4!=0;)le=le+"=";return le}function we(le,W){W=W||Infinity;let ie;const he=le.length;let Ce=null;const He=[];for(let Me=0;Me<he;++Me){if(ie=le.charCodeAt(Me),ie>55295&&ie<57344){if(!Ce){if(ie>56319){(W-=3)>-1&&He.push(239,191,189);continue}else if(Me+1===he){(W-=3)>-1&&He.push(239,191,189);continue}Ce=ie;continue}if(ie<56320){(W-=3)>-1&&He.push(239,191,189),Ce=ie;continue}ie=(Ce-55296<<10|ie-56320)+65536}else Ce&&(W-=3)>-1&&He.push(239,191,189);if(Ce=null,ie<128){if((W-=1)<0)break;He.push(ie)}else if(ie<2048){if((W-=2)<0)break;He.push(ie>>6|192,ie&63|128)}else if(ie<65536){if((W-=3)<0)break;He.push(ie>>12|224,ie>>6&63|128,ie&63|128)}else if(ie<1114112){if((W-=4)<0)break;He.push(ie>>18|240,ie>>12&63|128,ie>>6&63|128,ie&63|128)}else throw new Error("Invalid code point")}return He}function ge(le){const W=[];for(let ie=0;ie<le.length;++ie)W.push(le.charCodeAt(ie)&255);return W}function pe(le,W){let ie,he,Ce;const He=[];for(let Me=0;Me<le.length&&!((W-=2)<0);++Me)ie=le.charCodeAt(Me),he=ie>>8,Ce=ie%256,He.push(Ce),He.push(he);return He}function Pe(le){return S.toByteArray(se(le))}function Oe(le,W,ie,he){let Ce;for(Ce=0;Ce<he&&!(Ce+ie>=W.length||Ce>=le.length);++Ce)W[Ce+ie]=le[Ce];return Ce}function Ue(le,W){return le instanceof W||le!=null&&le.constructor!=null&&le.constructor.name!=null&&le.constructor.name===W.name}function pt(le){return le!==le}const je=function(){const le="0123456789abcdef",W=new Array(256);for(let ie=0;ie<16;++ie){const he=ie*16;for(let Ce=0;Ce<16;++Ce)W[he+Ce]=le[ie]+le[Ce]}return W}();function Je(le){return typeof BigInt=="undefined"?lt:le}function lt(){throw new Error("BigInt not supported")}},71027:(s,Q,R)=>{var S=R(89509).Buffer,M=R(42830).Transform,E=R(32553).s,_=R(35717);function l(u){M.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}_(l,M),l.prototype.update=function(u,c,f){typeof u=="string"&&(u=S.from(u,c));var w=this._update(u);return this.hashMode?this:(f&&(w=this._toString(w,f)),w)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(u,c,f){var w;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(v){w=v}finally{f(w)}},l.prototype._flush=function(u){var c;try{this.push(this.__final())}catch(f){c=f}u(c)},l.prototype._finalOrDigest=function(u){var c=this.__final()||S.alloc(0);return u&&(c=this._toString(c,u,!0)),c},l.prototype._toString=function(u,c,f){if(this._decoder||(this._decoder=new E(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var w=this._decoder.write(u);return f&&(w+=this._decoder.end()),w},s.exports=l},76393:(s,Q,R)=>{var S=R(86266),M=R(13550);s.exports=function(c){return new _(c)};var E={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};E.p224=E.secp224r1,E.p256=E.secp256r1=E.prime256v1,E.p192=E.secp192r1=E.prime192v1,E.p384=E.secp384r1,E.p521=E.secp521r1;function _(u){this.curveType=E[u],this.curveType||(this.curveType={name:u}),this.curve=new S.ec(this.curveType.name),this.keys=void 0}_.prototype.generateKeys=function(u,c){return this.keys=this.curve.genKeyPair(),this.getPublicKey(u,c)},_.prototype.computeSecret=function(u,c,f){c=c||"utf8",Buffer.isBuffer(u)||(u=new Buffer(u,c));var w=this.curve.keyFromPublic(u).getPublic(),v=w.mul(this.keys.getPrivate()).getX();return l(v,f,this.curveType.byteLength)},_.prototype.getPublicKey=function(u,c){var f=this.keys.getPublic(c==="compressed",!0);return c==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),l(f,u)},_.prototype.getPrivateKey=function(u){return l(this.keys.getPrivate(),u)},_.prototype.setPublicKey=function(u,c){return c=c||"utf8",Buffer.isBuffer(u)||(u=new Buffer(u,c)),this.keys._importPublic(u),this},_.prototype.setPrivateKey=function(u,c){c=c||"utf8",Buffer.isBuffer(u)||(u=new Buffer(u,c));var f=new M(u);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this};function l(u,c,f){Array.isArray(u)||(u=u.toArray());var w=new Buffer(u);if(f&&w.length<f){var v=new Buffer(f-w.length);v.fill(0),w=Buffer.concat([v,w])}return c?w.toString(c):w}},23482:(s,Q,R)=>{"use strict";var S=R(35717),M=R(62318),E=R(79785),_=R(89072),l=R(71027);function u(c){l.call(this,"digest"),this._hash=c}S(u,l),u.prototype._update=function(c){this._hash.update(c)},u.prototype._final=function(){return this._hash.digest()},s.exports=function(f){return f=f.toLowerCase(),f==="md5"?new M:f==="rmd160"||f==="ripemd160"?new E:new u(_(f))}},78028:(s,Q,R)=>{var S=R(62318);s.exports=function(M){return new S().update(M).digest()}},58355:(s,Q,R)=>{"use strict";var S=R(35717),M=R(51031),E=R(71027),_=R(89509).Buffer,l=R(78028),u=R(79785),c=R(89072),f=_.alloc(128);function w(v,d){E.call(this,"digest"),typeof d=="string"&&(d=_.from(d));var h=v==="sha512"||v==="sha384"?128:64;if(this._alg=v,this._key=d,d.length>h){var p=v==="rmd160"?new u:c(v);d=p.update(d).digest()}else d.length<h&&(d=_.concat([d,f],h));for(var b=this._ipad=_.allocUnsafe(h),y=this._opad=_.allocUnsafe(h),D=0;D<h;D++)b[D]=d[D]^54,y[D]=d[D]^92;this._hash=v==="rmd160"?new u:c(v),this._hash.update(b)}S(w,E),w.prototype._update=function(v){this._hash.update(v)},w.prototype._final=function(){var v=this._hash.digest(),d=this._alg==="rmd160"?new u:c(this._alg);return d.update(this._opad).update(v).digest()},s.exports=function(d,h){return d=d.toLowerCase(),d==="rmd160"||d==="ripemd160"?new w("rmd160",h):d==="md5"?new M(l,h):new w(d,h)}},51031:(s,Q,R)=>{"use strict";var S=R(35717),M=R(89509).Buffer,E=R(71027),_=M.alloc(128),l=64;function u(c,f){E.call(this,"digest"),typeof f=="string"&&(f=M.from(f)),this._alg=c,this._key=f,f.length>l?f=c(f):f.length<l&&(f=M.concat([f,_],l));for(var w=this._ipad=M.allocUnsafe(l),v=this._opad=M.allocUnsafe(l),d=0;d<l;d++)w[d]=f[d]^54,v[d]=f[d]^92;this._hash=[w]}S(u,E),u.prototype._update=function(c){this._hash.push(c)},u.prototype._final=function(){var c=this._alg(M.concat(this._hash));return this._alg(M.concat([this._opad,c]))},s.exports=u},54098:function(s,Q){var R=typeof self!="undefined"?self:this,S=function(){function E(){this.fetch=!1,this.DOMException=R.DOMException}return E.prototype=R,new E}();(function(E){var _=function(l){var u={searchParams:"URLSearchParams"in E,iterable:"Symbol"in E&&"iterator"in Symbol,blob:"FileReader"in E&&"Blob"in E&&function(){try{return new Blob,!0}catch(U){return!1}}(),formData:"FormData"in E,arrayBuffer:"ArrayBuffer"in E};function c(U){return U&&DataView.prototype.isPrototypeOf(U)}if(u.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(U){return U&&f.indexOf(Object.prototype.toString.call(U))>-1};function v(U){if(typeof U!="string"&&(U=String(U)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(U))throw new TypeError("Invalid character in header field name");return U.toLowerCase()}function d(U){return typeof U!="string"&&(U=String(U)),U}function h(U){var C={next:function(){var o=U.shift();return{done:o===void 0,value:o}}};return u.iterable&&(C[Symbol.iterator]=function(){return C}),C}function p(U){this.map={},U instanceof p?U.forEach(function(C,o){this.append(o,C)},this):Array.isArray(U)?U.forEach(function(C){this.append(C[0],C[1])},this):U&&Object.getOwnPropertyNames(U).forEach(function(C){this.append(C,U[C])},this)}p.prototype.append=function(U,C){U=v(U),C=d(C);var o=this.map[U];this.map[U]=o?o+", "+C:C},p.prototype.delete=function(U){delete this.map[v(U)]},p.prototype.get=function(U){return U=v(U),this.has(U)?this.map[U]:null},p.prototype.has=function(U){return this.map.hasOwnProperty(v(U))},p.prototype.set=function(U,C){this.map[v(U)]=d(C)},p.prototype.forEach=function(U,C){for(var o in this.map)this.map.hasOwnProperty(o)&&U.call(C,this.map[o],o,this)},p.prototype.keys=function(){var U=[];return this.forEach(function(C,o){U.push(o)}),h(U)},p.prototype.values=function(){var U=[];return this.forEach(function(C){U.push(C)}),h(U)},p.prototype.entries=function(){var U=[];return this.forEach(function(C,o){U.push([o,C])}),h(U)},u.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function b(U){if(U.bodyUsed)return Promise.reject(new TypeError("Already read"));U.bodyUsed=!0}function y(U){return new Promise(function(C,o){U.onload=function(){C(U.result)},U.onerror=function(){o(U.error)}})}function D(U){var C=new FileReader,o=y(C);return C.readAsArrayBuffer(U),o}function P(U){var C=new FileReader,o=y(C);return C.readAsText(U),o}function L(U){for(var C=new Uint8Array(U),o=new Array(C.length),g=0;g<C.length;g++)o[g]=String.fromCharCode(C[g]);return o.join("")}function H(U){if(U.slice)return U.slice(0);var C=new Uint8Array(U.byteLength);return C.set(new Uint8Array(U)),C.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(U){this._bodyInit=U,U?typeof U=="string"?this._bodyText=U:u.blob&&Blob.prototype.isPrototypeOf(U)?this._bodyBlob=U:u.formData&&FormData.prototype.isPrototypeOf(U)?this._bodyFormData=U:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)?this._bodyText=U.toString():u.arrayBuffer&&u.blob&&c(U)?(this._bodyArrayBuffer=H(U.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(U)||w(U))?this._bodyArrayBuffer=H(U):this._bodyText=U=Object.prototype.toString.call(U):this._bodyText="",this.headers.get("content-type")||(typeof U=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var U=b(this);if(U)return U;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?b(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(D)}),this.text=function(){var U=b(this);if(U)return U;if(this._bodyBlob)return P(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(ae)}),this.json=function(){return this.text().then(JSON.parse)},this}var V=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Y(U){var C=U.toUpperCase();return V.indexOf(C)>-1?C:U}function K(U,C){C=C||{};var o=C.body;if(U instanceof K){if(U.bodyUsed)throw new TypeError("Already read");this.url=U.url,this.credentials=U.credentials,C.headers||(this.headers=new p(U.headers)),this.method=U.method,this.mode=U.mode,this.signal=U.signal,!o&&U._bodyInit!=null&&(o=U._bodyInit,U.bodyUsed=!0)}else this.url=String(U);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new p(C.headers)),this.method=Y(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}K.prototype.clone=function(){return new K(this,{body:this._bodyInit})};function ae(U){var C=new FormData;return U.trim().split("&").forEach(function(o){if(o){var g=o.split("="),N=g.shift().replace(/\+/g," "),x=g.join("=").replace(/\+/g," ");C.append(decodeURIComponent(N),decodeURIComponent(x))}}),C}function ne(U){var C=new p,o=U.replace(/\r?\n[\t ]+/g," ");return o.split(/\r?\n/).forEach(function(g){var N=g.split(":"),x=N.shift().trim();if(x){var F=N.join(":").trim();C.append(x,F)}}),C}j.call(K.prototype);function ce(U,C){C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in C?C.statusText:"OK",this.headers=new p(C.headers),this.url=C.url||"",this._initBody(U)}j.call(ce.prototype),ce.prototype.clone=function(){return new ce(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},ce.error=function(){var U=new ce(null,{status:0,statusText:""});return U.type="error",U};var re=[301,302,303,307,308];ce.redirect=function(U,C){if(re.indexOf(C)===-1)throw new RangeError("Invalid status code");return new ce(null,{status:C,headers:{location:U}})},l.DOMException=E.DOMException;try{new l.DOMException}catch(U){l.DOMException=function(C,o){this.message=C,this.name=o;var g=Error(C);this.stack=g.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function I(U,C){return new Promise(function(o,g){var N=new K(U,C);if(N.signal&&N.signal.aborted)return g(new l.DOMException("Aborted","AbortError"));var x=new XMLHttpRequest;function F(){x.abort()}x.onload=function(){var A={status:x.status,statusText:x.statusText,headers:ne(x.getAllResponseHeaders()||"")};A.url="responseURL"in x?x.responseURL:A.headers.get("X-Request-URL");var $="response"in x?x.response:x.responseText;o(new ce($,A))},x.onerror=function(){g(new TypeError("Network request failed"))},x.ontimeout=function(){g(new TypeError("Network request failed"))},x.onabort=function(){g(new l.DOMException("Aborted","AbortError"))},x.open(N.method,N.url,!0),N.credentials==="include"?x.withCredentials=!0:N.credentials==="omit"&&(x.withCredentials=!1),"responseType"in x&&u.blob&&(x.responseType="blob"),N.headers.forEach(function(A,$){x.setRequestHeader($,A)}),N.signal&&(N.signal.addEventListener("abort",F),x.onreadystatechange=function(){x.readyState===4&&N.signal.removeEventListener("abort",F)}),x.send(typeof N._bodyInit=="undefined"?null:N._bodyInit)})}return I.polyfill=!0,E.fetch||(E.fetch=I,E.Headers=p,E.Request=K,E.Response=ce),l.Headers=p,l.Request=K,l.Response=ce,l.fetch=I,Object.defineProperty(l,"__esModule",{value:!0}),l}({})})(S),S.fetch.ponyfill=!0,delete S.fetch.polyfill;var M=S;Q=M.fetch,Q.default=M.fetch,Q.fetch=M.fetch,Q.Headers=M.Headers,Q.Request=M.Request,Q.Response=M.Response,s.exports=Q},55835:(s,Q,R)=>{"use strict";var S;S=S=S=R(61798),Q.js=R(23482),S=R(58355);var M=R(56042),E=Object.keys(M),_=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(E);S=function(){return _};var l=R(25632);S=l.pbkdf2,S=l.pbkdf2Sync;var u=R(53614);S=u.Cipher,S=u.createCipher,S=u.Cipheriv,S=u.createCipheriv,S=u.Decipher,S=u.createDecipher,S=u.Decipheriv,S=u.createDecipheriv,S=u.getCiphers,S=u.listCiphers;var c=R(62607);S=c.DiffieHellmanGroup,S=c.createDiffieHellmanGroup,S=c.getDiffieHellman,S=c.createDiffieHellman,S=c.DiffieHellman;var f=R(64743);S=f.createSign,S=f.Sign,S=f.createVerify,S=f.Verify,R(76393);var w=R(7900);S=w.publicEncrypt,S=w.privateEncrypt,S=w.publicDecrypt,S=w.privateDecrypt;var v=R(77963);S=v.randomFill,S=v.randomFillSync,S=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},S={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},27484:function(s){(function(Q,R){s.exports=R()})(this,function(){"use strict";var Q="millisecond",R="second",S="minute",M="hour",E="day",_="week",l="month",u="quarter",c="year",f="date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(Y,K,ae){var ne=String(Y);return!ne||ne.length>=K?Y:""+Array(K+1-ne.length).join(ae)+Y},p={s:h,z:function(Y){var K=-Y.utcOffset(),ae=Math.abs(K),ne=Math.floor(ae/60),ce=ae%60;return(K<=0?"+":"-")+h(ne,2,"0")+":"+h(ce,2,"0")},m:function Y(K,ae){if(K.date()<ae.date())return-Y(ae,K);var ne=12*(ae.year()-K.year())+(ae.month()-K.month()),ce=K.clone().add(ne,l),re=ae-ce<0,I=K.clone().add(ne+(re?-1:1),l);return+(-(ne+(ae-ce)/(re?ce-I:I-ce))||0)},a:function(Y){return Y<0?Math.ceil(Y)||0:Math.floor(Y)},p:function(Y){return{M:l,y:c,w:_,d:E,D:f,h:M,m:S,s:R,ms:Q,Q:u}[Y]||String(Y||"").toLowerCase().replace(/s$/,"")},u:function(Y){return Y===void 0}},b="en",y={};y[b]=d;var D=function(Y){return Y instanceof j},P=function(Y,K,ae){var ne;if(!Y)return b;if(typeof Y=="string")y[Y]&&(ne=Y),K&&(y[Y]=K,ne=Y);else{var ce=Y.name;y[ce]=Y,ne=ce}return!ae&&ne&&(b=ne),ne||!ae&&b},L=function(Y,K){if(D(Y))return Y.clone();var ae=typeof K=="object"?K:{};return ae.date=Y,ae.args=arguments,new j(ae)},H=p;H.l=P,H.i=D,H.w=function(Y,K){return L(Y,{locale:K.$L,utc:K.$u,x:K.$x,$offset:K.$offset})};var j=function(){function Y(ae){this.$L=P(ae.locale,null,!0),this.parse(ae)}var K=Y.prototype;return K.parse=function(ae){this.$d=function(ne){var ce=ne.date,re=ne.utc;if(ce===null)return new Date(NaN);if(H.u(ce))return new Date;if(ce instanceof Date)return new Date(ce);if(typeof ce=="string"&&!/Z$/i.test(ce)){var I=ce.match(w);if(I){var U=I[2]-1||0,C=(I[7]||"0").substring(0,3);return re?new Date(Date.UTC(I[1],U,I[3]||1,I[4]||0,I[5]||0,I[6]||0,C)):new Date(I[1],U,I[3]||1,I[4]||0,I[5]||0,I[6]||0,C)}}return new Date(ce)}(ae),this.$x=ae.x||{},this.init()},K.init=function(){var ae=this.$d;this.$y=ae.getFullYear(),this.$M=ae.getMonth(),this.$D=ae.getDate(),this.$W=ae.getDay(),this.$H=ae.getHours(),this.$m=ae.getMinutes(),this.$s=ae.getSeconds(),this.$ms=ae.getMilliseconds()},K.$utils=function(){return H},K.isValid=function(){return this.$d.toString()!=="Invalid Date"},K.isSame=function(ae,ne){var ce=L(ae);return this.startOf(ne)<=ce&&ce<=this.endOf(ne)},K.isAfter=function(ae,ne){return L(ae)<this.startOf(ne)},K.isBefore=function(ae,ne){return this.endOf(ne)<L(ae)},K.$g=function(ae,ne,ce){return H.u(ae)?this[ne]:this.set(ce,ae)},K.unix=function(){return Math.floor(this.valueOf()/1e3)},K.valueOf=function(){return this.$d.getTime()},K.startOf=function(ae,ne){var ce=this,re=!!H.u(ne)||ne,I=H.p(ae),U=function($,z){var T=H.w(ce.$u?Date.UTC(ce.$y,z,$):new Date(ce.$y,z,$),ce);return re?T:T.endOf(E)},C=function($,z){return H.w(ce.toDate()[$].apply(ce.toDate("s"),(re?[0,0,0,0]:[23,59,59,999]).slice(z)),ce)},o=this.$W,g=this.$M,N=this.$D,x="set"+(this.$u?"UTC":"");switch(I){case c:return re?U(1,0):U(31,11);case l:return re?U(1,g):U(0,g+1);case _:var F=this.$locale().weekStart||0,A=(o<F?o+7:o)-F;return U(re?N-A:N+(6-A),g);case E:case f:return C(x+"Hours",0);case M:return C(x+"Minutes",1);case S:return C(x+"Seconds",2);case R:return C(x+"Milliseconds",3);default:return this.clone()}},K.endOf=function(ae){return this.startOf(ae,!1)},K.$set=function(ae,ne){var ce,re=H.p(ae),I="set"+(this.$u?"UTC":""),U=(ce={},ce[E]=I+"Date",ce[f]=I+"Date",ce[l]=I+"Month",ce[c]=I+"FullYear",ce[M]=I+"Hours",ce[S]=I+"Minutes",ce[R]=I+"Seconds",ce[Q]=I+"Milliseconds",ce)[re],C=re===E?this.$D+(ne-this.$W):ne;if(re===l||re===c){var o=this.clone().set(f,1);o.$d[U](C),o.init(),this.$d=o.set(f,Math.min(this.$D,o.daysInMonth())).$d}else U&&this.$d[U](C);return this.init(),this},K.set=function(ae,ne){return this.clone().$set(ae,ne)},K.get=function(ae){return this[H.p(ae)]()},K.add=function(ae,ne){var ce,re=this;ae=Number(ae);var I=H.p(ne),U=function(g){var N=L(re);return H.w(N.date(N.date()+Math.round(g*ae)),re)};if(I===l)return this.set(l,this.$M+ae);if(I===c)return this.set(c,this.$y+ae);if(I===E)return U(1);if(I===_)return U(7);var C=(ce={},ce[S]=6e4,ce[M]=36e5,ce[R]=1e3,ce)[I]||1,o=this.$d.getTime()+ae*C;return H.w(o,this)},K.subtract=function(ae,ne){return this.add(-1*ae,ne)},K.format=function(ae){var ne=this;if(!this.isValid())return"Invalid Date";var ce=ae||"YYYY-MM-DDTHH:mm:ssZ",re=H.z(this),I=this.$locale(),U=this.$H,C=this.$m,o=this.$M,g=I.weekdays,N=I.months,x=function(z,T,ee,xe){return z&&(z[T]||z(ne,ce))||ee[T].substr(0,xe)},F=function(z){return H.s(U%12||12,z,"0")},A=I.meridiem||function(z,T,ee){var xe=z<12?"AM":"PM";return ee?xe.toLowerCase():xe},$={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:H.s(o+1,2,"0"),MMM:x(I.monthsShort,o,N,3),MMMM:x(N,o),D:this.$D,DD:H.s(this.$D,2,"0"),d:String(this.$W),dd:x(I.weekdaysMin,this.$W,g,2),ddd:x(I.weekdaysShort,this.$W,g,3),dddd:g[this.$W],H:String(U),HH:H.s(U,2,"0"),h:F(1),hh:F(2),a:A(U,C,!0),A:A(U,C,!1),m:String(C),mm:H.s(C,2,"0"),s:String(this.$s),ss:H.s(this.$s,2,"0"),SSS:H.s(this.$ms,3,"0"),Z:re};return ce.replace(v,function(z,T){return T||$[z]||re.replace(":","")})},K.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},K.diff=function(ae,ne,ce){var re,I=H.p(ne),U=L(ae),C=6e4*(U.utcOffset()-this.utcOffset()),o=this-U,g=H.m(this,U);return g=(re={},re[c]=g/12,re[l]=g,re[u]=g/3,re[_]=(o-C)/6048e5,re[E]=(o-C)/864e5,re[M]=o/36e5,re[S]=o/6e4,re[R]=o/1e3,re)[I]||o,ce?g:H.a(g)},K.daysInMonth=function(){return this.endOf(l).$D},K.$locale=function(){return y[this.$L]},K.locale=function(ae,ne){if(!ae)return this.$L;var ce=this.clone(),re=P(ae,ne,!0);return re&&(ce.$L=re),ce},K.clone=function(){return H.w(this.$d,this)},K.toDate=function(){return new Date(this.valueOf())},K.toJSON=function(){return this.isValid()?this.toISOString():null},K.toISOString=function(){return this.$d.toISOString()},K.toString=function(){return this.$d.toUTCString()},Y}(),V=j.prototype;return L.prototype=V,[["$ms",Q],["$s",R],["$m",S],["$H",M],["$W",E],["$M",l],["$y",c],["$D",f]].forEach(function(Y){V[Y[1]]=function(K){return this.$g(K,Y[0],Y[1])}}),L.extend=function(Y,K){return Y.$i||(Y(K,j,L),Y.$i=!0),L},L.locale=P,L.isDayjs=D,L.unix=function(Y){return L(1e3*Y)},L.en=y[b],L.Ls=y,L.p={},L})},84110:function(s){(function(Q,R){s.exports=R()})(this,function(){"use strict";return function(Q,R,S){Q=Q||{};var M=R.prototype,E={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _(u,c,f,w){return M.fromToBase(u,c,f,w)}S.en.relativeTime=E,M.fromToBase=function(u,c,f,w,v){for(var d,h,p,b=f.$locale().relativeTime||E,y=Q.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],D=y.length,P=0;P<D;P+=1){var L=y[P];L.d&&(d=w?S(u).diff(f,L.d,!0):f.diff(u,L.d,!0));var H=(Q.rounding||Math.round)(Math.abs(d));if(p=d>0,H<=L.r||!L.r){H<=1&&P>0&&(L=y[P-1]);var j=b[L.l];v&&(H=v(""+H)),h=typeof j=="string"?j.replace("%d",H):j(H,c,L.l,p);break}}if(c)return h;var V=p?b.future:b.past;return typeof V=="function"?V(h):V.replace("%s",h)},M.to=function(u,c){return _(u,c,this,!0)},M.from=function(u,c){return _(u,c,this)};var l=function(u){return u.$u?S.utc():S()};M.toNow=function(u){return this.to(l(this),u)},M.fromNow=function(u){return this.from(l(this),u)}}})},70660:function(s){(function(Q,R){s.exports=R()})(this,function(){"use strict";return function(Q,R,S){S.updateLocale=function(M,E){var _=S.Ls[M];if(_)return(E?Object.keys(E):[]).forEach(function(l){_[l]=E[l]}),_}}})},15251:(s,Q,R)=>{"use strict";Q.utils=R(11278),Q.Cipher=R(55756),Q.DES=R(70778),Q.CBC=R(39051),Q.EDE=R(50651)},39051:(s,Q,R)=>{"use strict";var S=R(79746),M=R(35717),E={};function _(u){S.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=u[c]}function l(u){function c(d){u.call(this,d),this._cbcInit()}M(c,u);for(var f=Object.keys(E),w=0;w<f.length;w++){var v=f[w];c.prototype[v]=E[v]}return c.create=function(h){return new c(h)},c}Q.instantiate=l,E._cbcInit=function(){var c=new _(this.options.iv);this._cbcState=c},E._update=function(c,f,w,v){var d=this._cbcState,h=this.constructor.super_.prototype,p=d.iv;if(this.type==="encrypt"){for(var b=0;b<this.blockSize;b++)p[b]^=c[f+b];h._update.call(this,p,0,w,v);for(var b=0;b<this.blockSize;b++)p[b]=w[v+b]}else{h._update.call(this,c,f,w,v);for(var b=0;b<this.blockSize;b++)w[v+b]^=p[b];for(var b=0;b<this.blockSize;b++)p[b]=c[f+b]}}},55756:(s,Q,R)=>{"use strict";var S=R(79746);function M(E){this.options=E,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}s.exports=M,M.prototype._init=function(){},M.prototype.update=function(_){return _.length===0?[]:this.type==="decrypt"?this._updateDecrypt(_):this._updateEncrypt(_)},M.prototype._buffer=function(_,l){for(var u=Math.min(this.buffer.length-this.bufferOff,_.length-l),c=0;c<u;c++)this.buffer[this.bufferOff+c]=_[l+c];return this.bufferOff+=u,u},M.prototype._flushBuffer=function(_,l){return this._update(this.buffer,0,_,l),this.bufferOff=0,this.blockSize},M.prototype._updateEncrypt=function(_){var l=0,u=0,c=(this.bufferOff+_.length)/this.blockSize|0,f=new Array(c*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(_,l),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(f,u)));for(var w=_.length-(_.length-l)%this.blockSize;l<w;l+=this.blockSize)this._update(_,l,f,u),u+=this.blockSize;for(;l<_.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=_[l];return f},M.prototype._updateDecrypt=function(_){for(var l=0,u=0,c=Math.ceil((this.bufferOff+_.length)/this.blockSize)-1,f=new Array(c*this.blockSize);c>0;c--)l+=this._buffer(_,l),u+=this._flushBuffer(f,u);return l+=this._buffer(_,l),f},M.prototype.final=function(_){var l;_&&(l=this.update(_));var u;return this.type==="encrypt"?u=this._finalEncrypt():u=this._finalDecrypt(),l?l.concat(u):u},M.prototype._pad=function(_,l){if(l===0)return!1;for(;l<_.length;)_[l++]=0;return!0},M.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var _=new Array(this.blockSize);return this._update(this.buffer,0,_,0),_},M.prototype._unpad=function(_){return _},M.prototype._finalDecrypt=function(){S.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var _=new Array(this.blockSize);return this._flushBuffer(_,0),this._unpad(_)}},70778:(s,Q,R)=>{"use strict";var S=R(79746),M=R(35717),E=R(11278),_=R(55756);function l(){this.tmp=new Array(2),this.keys=null}function u(f){_.call(this,f);var w=new l;this._desState=w,this.deriveKeys(w,f.key)}M(u,_),s.exports=u,u.create=function(w){return new u(w)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(w,v){w.keys=new Array(16*2),S.equal(v.length,this.blockSize,"Invalid key length");var d=E.readUInt32BE(v,0),h=E.readUInt32BE(v,4);E.pc1(d,h,w.tmp,0),d=w.tmp[0],h=w.tmp[1];for(var p=0;p<w.keys.length;p+=2){var b=c[p>>>1];d=E.r28shl(d,b),h=E.r28shl(h,b),E.pc2(d,h,w.keys,p)}},u.prototype._update=function(w,v,d,h){var p=this._desState,b=E.readUInt32BE(w,v),y=E.readUInt32BE(w,v+4);E.ip(b,y,p.tmp,0),b=p.tmp[0],y=p.tmp[1],this.type==="encrypt"?this._encrypt(p,b,y,p.tmp,0):this._decrypt(p,b,y,p.tmp,0),b=p.tmp[0],y=p.tmp[1],E.writeUInt32BE(d,b,h),E.writeUInt32BE(d,y,h+4)},u.prototype._pad=function(w,v){for(var d=w.length-v,h=v;h<w.length;h++)w[h]=d;return!0},u.prototype._unpad=function(w){for(var v=w[w.length-1],d=w.length-v;d<w.length;d++)S.equal(w[d],v);return w.slice(0,w.length-v)},u.prototype._encrypt=function(w,v,d,h,p){for(var b=v,y=d,D=0;D<w.keys.length;D+=2){var P=w.keys[D],L=w.keys[D+1];E.expand(y,w.tmp,0),P^=w.tmp[0],L^=w.tmp[1];var H=E.substitute(P,L),j=E.permute(H),V=y;y=(b^j)>>>0,b=V}E.rip(y,b,h,p)},u.prototype._decrypt=function(w,v,d,h,p){for(var b=d,y=v,D=w.keys.length-2;D>=0;D-=2){var P=w.keys[D],L=w.keys[D+1];E.expand(b,w.tmp,0),P^=w.tmp[0],L^=w.tmp[1];var H=E.substitute(P,L),j=E.permute(H),V=b;b=(y^j)>>>0,y=V}E.rip(b,y,h,p)}},50651:(s,Q,R)=>{"use strict";var S=R(79746),M=R(35717),E=R(55756),_=R(70778);function l(c,f){S.equal(f.length,24,"Invalid key length");var w=f.slice(0,8),v=f.slice(8,16),d=f.slice(16,24);c==="encrypt"?this.ciphers=[_.create({type:"encrypt",key:w}),_.create({type:"decrypt",key:v}),_.create({type:"encrypt",key:d})]:this.ciphers=[_.create({type:"decrypt",key:d}),_.create({type:"encrypt",key:v}),_.create({type:"decrypt",key:w})]}function u(c){E.call(this,c);var f=new l(this.type,this.options.key);this._edeState=f}M(u,E),s.exports=u,u.create=function(f){return new u(f)},u.prototype._update=function(f,w,v,d){var h=this._edeState;h.ciphers[0]._update(f,w,v,d),h.ciphers[1]._update(v,d,v,d),h.ciphers[2]._update(v,d,v,d)},u.prototype._pad=_.prototype._pad,u.prototype._unpad=_.prototype._unpad},11278:(s,Q)=>{"use strict";Q.readUInt32BE=function(_,l){var u=_[0+l]<<24|_[1+l]<<16|_[2+l]<<8|_[3+l];return u>>>0},Q.writeUInt32BE=function(_,l,u){_[0+u]=l>>>24,_[1+u]=l>>>16&255,_[2+u]=l>>>8&255,_[3+u]=l&255},Q.ip=function(_,l,u,c){for(var f=0,w=0,v=6;v>=0;v-=2){for(var d=0;d<=24;d+=8)f<<=1,f|=l>>>d+v&1;for(var d=0;d<=24;d+=8)f<<=1,f|=_>>>d+v&1}for(var v=6;v>=0;v-=2){for(var d=1;d<=25;d+=8)w<<=1,w|=l>>>d+v&1;for(var d=1;d<=25;d+=8)w<<=1,w|=_>>>d+v&1}u[c+0]=f>>>0,u[c+1]=w>>>0},Q.rip=function(_,l,u,c){for(var f=0,w=0,v=0;v<4;v++)for(var d=24;d>=0;d-=8)f<<=1,f|=l>>>d+v&1,f<<=1,f|=_>>>d+v&1;for(var v=4;v<8;v++)for(var d=24;d>=0;d-=8)w<<=1,w|=l>>>d+v&1,w<<=1,w|=_>>>d+v&1;u[c+0]=f>>>0,u[c+1]=w>>>0},Q.pc1=function(_,l,u,c){for(var f=0,w=0,v=7;v>=5;v--){for(var d=0;d<=24;d+=8)f<<=1,f|=l>>d+v&1;for(var d=0;d<=24;d+=8)f<<=1,f|=_>>d+v&1}for(var d=0;d<=24;d+=8)f<<=1,f|=l>>d+v&1;for(var v=1;v<=3;v++){for(var d=0;d<=24;d+=8)w<<=1,w|=l>>d+v&1;for(var d=0;d<=24;d+=8)w<<=1,w|=_>>d+v&1}for(var d=0;d<=24;d+=8)w<<=1,w|=_>>d+v&1;u[c+0]=f>>>0,u[c+1]=w>>>0},Q.r28shl=function(_,l){return _<<l&268435455|_>>>28-l};var R=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Q.pc2=function(_,l,u,c){for(var f=0,w=0,v=R.length>>>1,d=0;d<v;d++)f<<=1,f|=_>>>R[d]&1;for(var d=v;d<R.length;d++)w<<=1,w|=l>>>R[d]&1;u[c+0]=f>>>0,u[c+1]=w>>>0},Q.expand=function(_,l,u){var c=0,f=0;c=(_&1)<<5|_>>>27;for(var w=23;w>=15;w-=4)c<<=6,c|=_>>>w&63;for(var w=11;w>=3;w-=4)f|=_>>>w&63,f<<=6;f|=(_&31)<<1|_>>>31,l[u+0]=c>>>0,l[u+1]=f>>>0};var S=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Q.substitute=function(_,l){for(var u=0,c=0;c<4;c++){var f=_>>>18-c*6&63,w=S[c*64+f];u<<=4,u|=w}for(var c=0;c<4;c++){var f=l>>>18-c*6&63,w=S[4*64+c*64+f];u<<=4,u|=w}return u>>>0};var M=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Q.permute=function(_){for(var l=0,u=0;u<M.length;u++)l<<=1,l|=_>>>M[u]&1;return l>>>0},Q.padSplit=function(_,l,u){for(var c=_.toString(2);c.length<l;)c="0"+c;for(var f=[],w=0;w<l;w+=u)f.push(c.slice(w,w+u));return f.join(" ")}},62607:(s,Q,R)=>{var S=R(43590),M=R(29799),E=R(57426);function _(c){var f=new Buffer(M[c].prime,"hex"),w=new Buffer(M[c].gen,"hex");return new E(f,w)}var l={binary:!0,hex:!0,base64:!0};function u(c,f,w,v){return Buffer.isBuffer(f)||l[f]===void 0?u(c,"binary",f,w):(f=f||"binary",v=v||"binary",w=w||new Buffer([2]),Buffer.isBuffer(w)||(w=new Buffer(w,v)),typeof c=="number"?new E(S(c,w),w,!0):(Buffer.isBuffer(c)||(c=new Buffer(c,f)),new E(c,w,!0)))}Q.DiffieHellmanGroup=Q.createDiffieHellmanGroup=Q.getDiffieHellman=_,Q.createDiffieHellman=Q.DiffieHellman=u},57426:(s,Q,R)=>{var S=R(13550),M=R(63047),E=new M,_=new S(24),l=new S(11),u=new S(10),c=new S(3),f=new S(7),w=R(43590),v=R(61798);s.exports=y;function d(P,L){return L=L||"utf8",Buffer.isBuffer(P)||(P=new Buffer(P,L)),this._pub=new S(P),this}function h(P,L){return L=L||"utf8",Buffer.isBuffer(P)||(P=new Buffer(P,L)),this._priv=new S(P),this}var p={};function b(P,L){var H=L.toString("hex"),j=[H,P.toString(16)].join("_");if(j in p)return p[j];var V=0;if(P.isEven()||!w.simpleSieve||!w.fermatTest(P)||!E.test(P))return V+=1,H==="02"||H==="05"?V+=8:V+=4,p[j]=V,V;E.test(P.shrn(1))||(V+=2);var Y;switch(H){case"02":P.mod(_).cmp(l)&&(V+=8);break;case"05":Y=P.mod(u),Y.cmp(c)&&Y.cmp(f)&&(V+=8);break;default:V+=4}return p[j]=V,V}function y(P,L,H){this.setGenerator(L),this.__prime=new S(P),this._prime=S.mont(this.__prime),this._primeLen=P.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,H?(this.setPublicKey=d,this.setPrivateKey=h):this._primeCode=8}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=b(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new S(v(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(P){P=new S(P),P=P.toRed(this._prime);var L=P.redPow(this._priv).fromRed(),H=new Buffer(L.toArray()),j=this.getPrime();if(H.length<j.length){var V=new Buffer(j.length-H.length);V.fill(0),H=Buffer.concat([V,H])}return H},y.prototype.getPublicKey=function(L){return D(this._pub,L)},y.prototype.getPrivateKey=function(L){return D(this._priv,L)},y.prototype.getPrime=function(P){return D(this.__prime,P)},y.prototype.getGenerator=function(P){return D(this._gen,P)},y.prototype.setGenerator=function(P,L){return L=L||"utf8",Buffer.isBuffer(P)||(P=new Buffer(P,L)),this.__gen=P,this._gen=new S(P),this};function D(P,L){var H=new Buffer(P.toArray());return L?H.toString(L):H}},43590:(s,Q,R)=>{var S=R(61798);s.exports=V,V.simpleSieve=H,V.fermatTest=j;var M=R(13550),E=new M(24),_=R(63047),l=new _,u=new M(1),c=new M(2),f=new M(5),w=new M(16),v=new M(8),d=new M(10),h=new M(3),p=new M(7),b=new M(11),y=new M(4),D=new M(12),P=null;function L(){if(P!==null)return P;var Y=1048576,K=[];K[0]=2;for(var ae=1,ne=3;ne<Y;ne+=2){for(var ce=Math.ceil(Math.sqrt(ne)),re=0;re<ae&&K[re]<=ce&&ne%K[re]!=0;re++);ae!==re&&K[re]<=ce||(K[ae++]=ne)}return P=K,K}function H(Y){for(var K=L(),ae=0;ae<K.length;ae++)if(Y.modn(K[ae])===0)return Y.cmpn(K[ae])===0;return!0}function j(Y){var K=M.mont(Y);return c.toRed(K).redPow(Y.subn(1)).fromRed().cmpn(1)===0}function V(Y,K){if(Y<16)return K===2||K===5?new M([140,123]):new M([140,39]);K=new M(K);for(var ae,ne;;){for(ae=new M(S(Math.ceil(Y/8)));ae.bitLength()>Y;)ae.ishrn(1);if(ae.isEven()&&ae.iadd(u),ae.testn(1)||ae.iadd(c),K.cmp(c)){if(!K.cmp(f))for(;ae.mod(d).cmp(h);)ae.iadd(y)}else for(;ae.mod(E).cmp(b);)ae.iadd(y);if(ne=ae.shrn(1),H(ne)&&H(ae)&&j(ne)&&j(ae)&&l.test(ne)&&l.test(ae))return ae}}},86266:(s,Q,R)=>{"use strict";var S=Q;S.version=R(18597).i8,S.utils=R(80953),S.rand=R(29931),S.curve=R(88254),S.curves=R(45427),S.ec=R(57954),S.eddsa=R(65980)},4918:(s,Q,R)=>{"use strict";var S=R(13550),M=R(80953),E=M.getNAF,_=M.getJSF,l=M.assert;function u(f,w){this.type=f,this.p=new S(w.p,16),this.red=w.prime?S.red(w.prime):S.mont(this.p),this.zero=new S(0).toRed(this.red),this.one=new S(1).toRed(this.red),this.two=new S(2).toRed(this.red),this.n=w.n&&new S(w.n,16),this.g=w.g&&this.pointFromJSON(w.g,w.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var v=this.n&&this.p.div(this.n);!v||v.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}s.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(w,v){l(w.precomputed);var d=w._getDoubles(),h=E(v,1,this._bitLength),p=(1<<d.step+1)-(d.step%2==0?2:1);p/=3;var b=[],y,D;for(y=0;y<h.length;y+=d.step){D=0;for(var P=y+d.step-1;P>=y;P--)D=(D<<1)+h[P];b.push(D)}for(var L=this.jpoint(null,null,null),H=this.jpoint(null,null,null),j=p;j>0;j--){for(y=0;y<b.length;y++)D=b[y],D===j?H=H.mixedAdd(d.points[y]):D===-j&&(H=H.mixedAdd(d.points[y].neg()));L=L.add(H)}return L.toP()},u.prototype._wnafMul=function(w,v){var d=4,h=w._getNAFPoints(d);d=h.wnd;for(var p=h.points,b=E(v,d,this._bitLength),y=this.jpoint(null,null,null),D=b.length-1;D>=0;D--){for(var P=0;D>=0&&b[D]===0;D--)P++;if(D>=0&&P++,y=y.dblp(P),D<0)break;var L=b[D];l(L!==0),w.type==="affine"?L>0?y=y.mixedAdd(p[L-1>>1]):y=y.mixedAdd(p[-L-1>>1].neg()):L>0?y=y.add(p[L-1>>1]):y=y.add(p[-L-1>>1].neg())}return w.type==="affine"?y.toP():y},u.prototype._wnafMulAdd=function(w,v,d,h,p){var b=this._wnafT1,y=this._wnafT2,D=this._wnafT3,P=0,L,H,j;for(L=0;L<h;L++){j=v[L];var V=j._getNAFPoints(w);b[L]=V.wnd,y[L]=V.points}for(L=h-1;L>=1;L-=2){var Y=L-1,K=L;if(b[Y]!==1||b[K]!==1){D[Y]=E(d[Y],b[Y],this._bitLength),D[K]=E(d[K],b[K],this._bitLength),P=Math.max(D[Y].length,P),P=Math.max(D[K].length,P);continue}var ae=[v[Y],null,null,v[K]];v[Y].y.cmp(v[K].y)===0?(ae[1]=v[Y].add(v[K]),ae[2]=v[Y].toJ().mixedAdd(v[K].neg())):v[Y].y.cmp(v[K].y.redNeg())===0?(ae[1]=v[Y].toJ().mixedAdd(v[K]),ae[2]=v[Y].add(v[K].neg())):(ae[1]=v[Y].toJ().mixedAdd(v[K]),ae[2]=v[Y].toJ().mixedAdd(v[K].neg()));var ne=[-3,-1,-5,-7,0,7,5,1,3],ce=_(d[Y],d[K]);for(P=Math.max(ce[0].length,P),D[Y]=new Array(P),D[K]=new Array(P),H=0;H<P;H++){var re=ce[0][H]|0,I=ce[1][H]|0;D[Y][H]=ne[(re+1)*3+(I+1)],D[K][H]=0,y[Y]=ae}}var U=this.jpoint(null,null,null),C=this._wnafT4;for(L=P;L>=0;L--){for(var o=0;L>=0;){var g=!0;for(H=0;H<h;H++)C[H]=D[H][L]|0,C[H]!==0&&(g=!1);if(!g)break;o++,L--}if(L>=0&&o++,U=U.dblp(o),L<0)break;for(H=0;H<h;H++){var N=C[H];N!==0&&(N>0?j=y[H][N-1>>1]:N<0&&(j=y[H][-N-1>>1].neg()),j.type==="affine"?U=U.mixedAdd(j):U=U.add(j))}}for(L=0;L<h;L++)y[L]=null;return p?U:U.toP()};function c(f,w){this.curve=f,this.type=w,this.precomputed=null}u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(w,v){w=M.toArray(w,v);var d=this.p.byteLength();if((w[0]===4||w[0]===6||w[0]===7)&&w.length-1==2*d){w[0]===6?l(w[w.length-1]%2==0):w[0]===7&&l(w[w.length-1]%2==1);var h=this.point(w.slice(1,1+d),w.slice(1+d,1+2*d));return h}else if((w[0]===2||w[0]===3)&&w.length-1===d)return this.pointFromX(w.slice(1,1+d),w[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(w){return this.encode(w,!0)},c.prototype._encode=function(w){var v=this.curve.p.byteLength(),d=this.getX().toArray("be",v);return w?[this.getY().isEven()?2:3].concat(d):[4].concat(d,this.getY().toArray("be",v))},c.prototype.encode=function(w,v){return M.encode(this._encode(v),w)},c.prototype.precompute=function(w){if(this.precomputed)return this;var v={doubles:null,naf:null,beta:null};return v.naf=this._getNAFPoints(8),v.doubles=this._getDoubles(4,w),v.beta=this._getBeta(),this.precomputed=v,this},c.prototype._hasDoubles=function(w){if(!this.precomputed)return!1;var v=this.precomputed.doubles;return v?v.points.length>=Math.ceil((w.bitLength()+1)/v.step):!1},c.prototype._getDoubles=function(w,v){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var d=[this],h=this,p=0;p<v;p+=w){for(var b=0;b<w;b++)h=h.dbl();d.push(h)}return{step:w,points:d}},c.prototype._getNAFPoints=function(w){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var v=[this],d=(1<<w)-1,h=d===1?null:this.dbl(),p=1;p<d;p++)v[p]=v[p-1].add(h);return{wnd:w,points:v}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(w){for(var v=this,d=0;d<w;d++)v=v.dbl();return v}},31138:(s,Q,R)=>{"use strict";var S=R(80953),M=R(13550),E=R(35717),_=R(4918),l=S.assert;function u(f){this.twisted=(f.a|0)!=1,this.mOneA=this.twisted&&(f.a|0)==-1,this.extended=this.mOneA,_.call(this,"edwards",f),this.a=new M(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new M(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new M(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(f.c|0)==1}E(u,_),s.exports=u,u.prototype._mulA=function(w){return this.mOneA?w.redNeg():this.a.redMul(w)},u.prototype._mulC=function(w){return this.oneC?w:this.c.redMul(w)},u.prototype.jpoint=function(w,v,d,h){return this.point(w,v,d,h)},u.prototype.pointFromX=function(w,v){w=new M(w,16),w.red||(w=w.toRed(this.red));var d=w.redSqr(),h=this.c2.redSub(this.a.redMul(d)),p=this.one.redSub(this.c2.redMul(this.d).redMul(d)),b=h.redMul(p.redInvm()),y=b.redSqrt();if(y.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var D=y.fromRed().isOdd();return(v&&!D||!v&&D)&&(y=y.redNeg()),this.point(w,y)},u.prototype.pointFromY=function(w,v){w=new M(w,16),w.red||(w=w.toRed(this.red));var d=w.redSqr(),h=d.redSub(this.c2),p=d.redMul(this.d).redMul(this.c2).redSub(this.a),b=h.redMul(p.redInvm());if(b.cmp(this.zero)===0){if(v)throw new Error("invalid point");return this.point(this.zero,w)}var y=b.redSqrt();if(y.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==v&&(y=y.redNeg()),this.point(y,w)},u.prototype.validate=function(w){if(w.isInfinity())return!0;w.normalize();var v=w.x.redSqr(),d=w.y.redSqr(),h=v.redMul(this.a).redAdd(d),p=this.c2.redMul(this.one.redAdd(this.d.redMul(v).redMul(d)));return h.cmp(p)===0};function c(f,w,v,d,h){_.BasePoint.call(this,f,"projective"),w===null&&v===null&&d===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new M(w,16),this.y=new M(v,16),this.z=d?new M(d,16):this.curve.one,this.t=h&&new M(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}E(c,_.BasePoint),u.prototype.pointFromJSON=function(w){return c.fromJSON(this,w)},u.prototype.point=function(w,v,d,h){return new c(this,w,v,d,h)},c.fromJSON=function(w,v){return new c(w,v[0],v[1],v[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var w=this.x.redSqr(),v=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var h=this.curve._mulA(w),p=this.x.redAdd(this.y).redSqr().redISub(w).redISub(v),b=h.redAdd(v),y=b.redSub(d),D=h.redSub(v),P=p.redMul(y),L=b.redMul(D),H=p.redMul(D),j=y.redMul(b);return this.curve.point(P,L,j,H)},c.prototype._projDbl=function(){var w=this.x.redAdd(this.y).redSqr(),v=this.x.redSqr(),d=this.y.redSqr(),h,p,b,y,D,P;if(this.curve.twisted){y=this.curve._mulA(v);var L=y.redAdd(d);this.zOne?(h=w.redSub(v).redSub(d).redMul(L.redSub(this.curve.two)),p=L.redMul(y.redSub(d)),b=L.redSqr().redSub(L).redSub(L)):(D=this.z.redSqr(),P=L.redSub(D).redISub(D),h=w.redSub(v).redISub(d).redMul(P),p=L.redMul(y.redSub(d)),b=L.redMul(P))}else y=v.redAdd(d),D=this.curve._mulC(this.z).redSqr(),P=y.redSub(D).redSub(D),h=this.curve._mulC(w.redISub(y)).redMul(P),p=this.curve._mulC(y).redMul(v.redISub(d)),b=y.redMul(P);return this.curve.point(h,p,b)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(w){var v=this.y.redSub(this.x).redMul(w.y.redSub(w.x)),d=this.y.redAdd(this.x).redMul(w.y.redAdd(w.x)),h=this.t.redMul(this.curve.dd).redMul(w.t),p=this.z.redMul(w.z.redAdd(w.z)),b=d.redSub(v),y=p.redSub(h),D=p.redAdd(h),P=d.redAdd(v),L=b.redMul(y),H=D.redMul(P),j=b.redMul(P),V=y.redMul(D);return this.curve.point(L,H,V,j)},c.prototype._projAdd=function(w){var v=this.z.redMul(w.z),d=v.redSqr(),h=this.x.redMul(w.x),p=this.y.redMul(w.y),b=this.curve.d.redMul(h).redMul(p),y=d.redSub(b),D=d.redAdd(b),P=this.x.redAdd(this.y).redMul(w.x.redAdd(w.y)).redISub(h).redISub(p),L=v.redMul(y).redMul(P),H,j;return this.curve.twisted?(H=v.redMul(D).redMul(p.redSub(this.curve._mulA(h))),j=y.redMul(D)):(H=v.redMul(D).redMul(p.redSub(h)),j=this.curve._mulC(y).redMul(D)),this.curve.point(L,H,j)},c.prototype.add=function(w){return this.isInfinity()?w:w.isInfinity()?this:this.curve.extended?this._extAdd(w):this._projAdd(w)},c.prototype.mul=function(w){return this._hasDoubles(w)?this.curve._fixedNafMul(this,w):this.curve._wnafMul(this,w)},c.prototype.mulAdd=function(w,v,d){return this.curve._wnafMulAdd(1,[this,v],[w,d],2,!1)},c.prototype.jmulAdd=function(w,v,d){return this.curve._wnafMulAdd(1,[this,v],[w,d],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var w=this.z.redInvm();return this.x=this.x.redMul(w),this.y=this.y.redMul(w),this.t&&(this.t=this.t.redMul(w)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(w){return this===w||this.getX().cmp(w.getX())===0&&this.getY().cmp(w.getY())===0},c.prototype.eqXToP=function(w){var v=w.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(v)===0)return!0;for(var d=w.clone(),h=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(h),this.x.cmp(v)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},88254:(s,Q,R)=>{"use strict";var S=Q;S.base=R(4918),S.short=R(6673),S.mont=R(22881),S.edwards=R(31138)},22881:(s,Q,R)=>{"use strict";var S=R(13550),M=R(35717),E=R(4918),_=R(80953);function l(c){E.call(this,"mont",c),this.a=new S(c.a,16).toRed(this.red),this.b=new S(c.b,16).toRed(this.red),this.i4=new S(4).toRed(this.red).redInvm(),this.two=new S(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}M(l,E),s.exports=l,l.prototype.validate=function(f){var w=f.normalize().x,v=w.redSqr(),d=v.redMul(w).redAdd(v.redMul(this.a)).redAdd(w),h=d.redSqrt();return h.redSqr().cmp(d)===0};function u(c,f,w){E.BasePoint.call(this,c,"projective"),f===null&&w===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new S(f,16),this.z=new S(w,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}M(u,E.BasePoint),l.prototype.decodePoint=function(f,w){return this.point(_.toArray(f,w),1)},l.prototype.point=function(f,w){return new u(this,f,w)},l.prototype.pointFromJSON=function(f){return u.fromJSON(this,f)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(f,w){return new u(f,w[0],w[1]||f.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var f=this.x.redAdd(this.z),w=f.redSqr(),v=this.x.redSub(this.z),d=v.redSqr(),h=w.redSub(d),p=w.redMul(d),b=h.redMul(d.redAdd(this.curve.a24.redMul(h)));return this.curve.point(p,b)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(f,w){var v=this.x.redAdd(this.z),d=this.x.redSub(this.z),h=f.x.redAdd(f.z),p=f.x.redSub(f.z),b=p.redMul(v),y=h.redMul(d),D=w.z.redMul(b.redAdd(y).redSqr()),P=w.x.redMul(b.redISub(y).redSqr());return this.curve.point(D,P)},u.prototype.mul=function(f){for(var w=f.clone(),v=this,d=this.curve.point(null,null),h=this,p=[];w.cmpn(0)!==0;w.iushrn(1))p.push(w.andln(1));for(var b=p.length-1;b>=0;b--)p[b]===0?(v=v.diffAdd(d,h),d=d.dbl()):(d=v.diffAdd(d,h),v=v.dbl());return d},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(s,Q,R)=>{"use strict";var S=R(80953),M=R(13550),E=R(35717),_=R(4918),l=S.assert;function u(w){_.call(this,"short",w),this.a=new M(w.a,16).toRed(this.red),this.b=new M(w.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(w),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}E(u,_),s.exports=u,u.prototype._getEndomorphism=function(v){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var d,h;if(v.beta)d=new M(v.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);d=p[0].cmp(p[1])<0?p[0]:p[1],d=d.toRed(this.red)}if(v.lambda)h=new M(v.lambda,16);else{var b=this._getEndoRoots(this.n);this.g.mul(b[0]).x.cmp(this.g.x.redMul(d))===0?h=b[0]:(h=b[1],l(this.g.mul(h).x.cmp(this.g.x.redMul(d))===0))}var y;return v.basis?y=v.basis.map(function(D){return{a:new M(D.a,16),b:new M(D.b,16)}}):y=this._getEndoBasis(h),{beta:d,lambda:h,basis:y}}},u.prototype._getEndoRoots=function(v){var d=v===this.p?this.red:M.mont(v),h=new M(2).toRed(d).redInvm(),p=h.redNeg(),b=new M(3).toRed(d).redNeg().redSqrt().redMul(h),y=p.redAdd(b).fromRed(),D=p.redSub(b).fromRed();return[y,D]},u.prototype._getEndoBasis=function(v){for(var d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=v,p=this.n.clone(),b=new M(1),y=new M(0),D=new M(0),P=new M(1),L,H,j,V,Y,K,ae,ne=0,ce,re;h.cmpn(0)!==0;){var I=p.div(h);ce=p.sub(I.mul(h)),re=D.sub(I.mul(b));var U=P.sub(I.mul(y));if(!j&&ce.cmp(d)<0)L=ae.neg(),H=b,j=ce.neg(),V=re;else if(j&&++ne==2)break;ae=ce,p=h,h=ce,D=b,b=re,P=y,y=U}Y=ce.neg(),K=re;var C=j.sqr().add(V.sqr()),o=Y.sqr().add(K.sqr());return o.cmp(C)>=0&&(Y=L,K=H),j.negative&&(j=j.neg(),V=V.neg()),Y.negative&&(Y=Y.neg(),K=K.neg()),[{a:j,b:V},{a:Y,b:K}]},u.prototype._endoSplit=function(v){var d=this.endo.basis,h=d[0],p=d[1],b=p.b.mul(v).divRound(this.n),y=h.b.neg().mul(v).divRound(this.n),D=b.mul(h.a),P=y.mul(p.a),L=b.mul(h.b),H=y.mul(p.b),j=v.sub(D).sub(P),V=L.add(H).neg();return{k1:j,k2:V}},u.prototype.pointFromX=function(v,d){v=new M(v,16),v.red||(v=v.toRed(this.red));var h=v.redSqr().redMul(v).redIAdd(v.redMul(this.a)).redIAdd(this.b),p=h.redSqrt();if(p.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");var b=p.fromRed().isOdd();return(d&&!b||!d&&b)&&(p=p.redNeg()),this.point(v,p)},u.prototype.validate=function(v){if(v.inf)return!0;var d=v.x,h=v.y,p=this.a.redMul(d),b=d.redSqr().redMul(d).redIAdd(p).redIAdd(this.b);return h.redSqr().redISub(b).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(v,d,h){for(var p=this._endoWnafT1,b=this._endoWnafT2,y=0;y<v.length;y++){var D=this._endoSplit(d[y]),P=v[y],L=P._getBeta();D.k1.negative&&(D.k1.ineg(),P=P.neg(!0)),D.k2.negative&&(D.k2.ineg(),L=L.neg(!0)),p[y*2]=P,p[y*2+1]=L,b[y*2]=D.k1,b[y*2+1]=D.k2}for(var H=this._wnafMulAdd(1,p,b,y*2,h),j=0;j<y*2;j++)p[j]=null,b[j]=null;return H};function c(w,v,d,h){_.BasePoint.call(this,w,"affine"),v===null&&d===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new M(v,16),this.y=new M(d,16),h&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}E(c,_.BasePoint),u.prototype.point=function(v,d,h){return new c(this,v,d,h)},u.prototype.pointFromJSON=function(v,d){return c.fromJSON(this,v,d)},c.prototype._getBeta=function(){if(!!this.curve.endo){var v=this.precomputed;if(v&&v.beta)return v.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(v){var h=this.curve,p=function(b){return h.point(b.x.redMul(h.endo.beta),b.y)};v.beta=d,d.precomputed={beta:null,naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(p)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(p)}}}return d}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(v,d,h){typeof d=="string"&&(d=JSON.parse(d));var p=v.point(d[0],d[1],h);if(!d[2])return p;function b(D){return v.point(D[0],D[1],h)}var y=d[2];return p.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[p].concat(y.doubles.points.map(b))},naf:y.naf&&{wnd:y.naf.wnd,points:[p].concat(y.naf.points.map(b))}},p},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(v){if(this.inf)return v;if(v.inf)return this;if(this.eq(v))return this.dbl();if(this.neg().eq(v))return this.curve.point(null,null);if(this.x.cmp(v.x)===0)return this.curve.point(null,null);var d=this.y.redSub(v.y);d.cmpn(0)!==0&&(d=d.redMul(this.x.redSub(v.x).redInvm()));var h=d.redSqr().redISub(this.x).redISub(v.x),p=d.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,p)},c.prototype.dbl=function(){if(this.inf)return this;var v=this.y.redAdd(this.y);if(v.cmpn(0)===0)return this.curve.point(null,null);var d=this.curve.a,h=this.x.redSqr(),p=v.redInvm(),b=h.redAdd(h).redIAdd(h).redIAdd(d).redMul(p),y=b.redSqr().redISub(this.x.redAdd(this.x)),D=b.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,D)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(v){return v=new M(v,16),this.isInfinity()?this:this._hasDoubles(v)?this.curve._fixedNafMul(this,v):this.curve.endo?this.curve._endoWnafMulAdd([this],[v]):this.curve._wnafMul(this,v)},c.prototype.mulAdd=function(v,d,h){var p=[this,d],b=[v,h];return this.curve.endo?this.curve._endoWnafMulAdd(p,b):this.curve._wnafMulAdd(1,p,b,2)},c.prototype.jmulAdd=function(v,d,h){var p=[this,d],b=[v,h];return this.curve.endo?this.curve._endoWnafMulAdd(p,b,!0):this.curve._wnafMulAdd(1,p,b,2,!0)},c.prototype.eq=function(v){return this===v||this.inf===v.inf&&(this.inf||this.x.cmp(v.x)===0&&this.y.cmp(v.y)===0)},c.prototype.neg=function(v){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(v&&this.precomputed){var h=this.precomputed,p=function(b){return b.neg()};d.precomputed={naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(p)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(p)}}}return d},c.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var v=this.curve.jpoint(this.x,this.y,this.curve.one);return v};function f(w,v,d,h){_.BasePoint.call(this,w,"jacobian"),v===null&&d===null&&h===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new M(0)):(this.x=new M(v,16),this.y=new M(d,16),this.z=new M(h,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}E(f,_.BasePoint),u.prototype.jpoint=function(v,d,h){return new f(this,v,d,h)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var v=this.z.redInvm(),d=v.redSqr(),h=this.x.redMul(d),p=this.y.redMul(d).redMul(v);return this.curve.point(h,p)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(v){if(this.isInfinity())return v;if(v.isInfinity())return this;var d=v.z.redSqr(),h=this.z.redSqr(),p=this.x.redMul(d),b=v.x.redMul(h),y=this.y.redMul(d.redMul(v.z)),D=v.y.redMul(h.redMul(this.z)),P=p.redSub(b),L=y.redSub(D);if(P.cmpn(0)===0)return L.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var H=P.redSqr(),j=H.redMul(P),V=p.redMul(H),Y=L.redSqr().redIAdd(j).redISub(V).redISub(V),K=L.redMul(V.redISub(Y)).redISub(y.redMul(j)),ae=this.z.redMul(v.z).redMul(P);return this.curve.jpoint(Y,K,ae)},f.prototype.mixedAdd=function(v){if(this.isInfinity())return v.toJ();if(v.isInfinity())return this;var d=this.z.redSqr(),h=this.x,p=v.x.redMul(d),b=this.y,y=v.y.redMul(d).redMul(this.z),D=h.redSub(p),P=b.redSub(y);if(D.cmpn(0)===0)return P.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var L=D.redSqr(),H=L.redMul(D),j=h.redMul(L),V=P.redSqr().redIAdd(H).redISub(j).redISub(j),Y=P.redMul(j.redISub(V)).redISub(b.redMul(H)),K=this.z.redMul(D);return this.curve.jpoint(V,Y,K)},f.prototype.dblp=function(v){if(v===0)return this;if(this.isInfinity())return this;if(!v)return this.dbl();var d;if(this.curve.zeroA||this.curve.threeA){var h=this;for(d=0;d<v;d++)h=h.dbl();return h}var p=this.curve.a,b=this.curve.tinv,y=this.x,D=this.y,P=this.z,L=P.redSqr().redSqr(),H=D.redAdd(D);for(d=0;d<v;d++){var j=y.redSqr(),V=H.redSqr(),Y=V.redSqr(),K=j.redAdd(j).redIAdd(j).redIAdd(p.redMul(L)),ae=y.redMul(V),ne=K.redSqr().redISub(ae.redAdd(ae)),ce=ae.redISub(ne),re=K.redMul(ce);re=re.redIAdd(re).redISub(Y);var I=H.redMul(P);d+1<v&&(L=L.redMul(Y)),y=ne,P=I,H=re}return this.curve.jpoint(y,H.redMul(b),P)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var v,d,h;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),y=b.redSqr(),D=this.x.redAdd(b).redSqr().redISub(p).redISub(y);D=D.redIAdd(D);var P=p.redAdd(p).redIAdd(p),L=P.redSqr().redISub(D).redISub(D),H=y.redIAdd(y);H=H.redIAdd(H),H=H.redIAdd(H),v=L,d=P.redMul(D.redISub(L)).redISub(H),h=this.y.redAdd(this.y)}else{var j=this.x.redSqr(),V=this.y.redSqr(),Y=V.redSqr(),K=this.x.redAdd(V).redSqr().redISub(j).redISub(Y);K=K.redIAdd(K);var ae=j.redAdd(j).redIAdd(j),ne=ae.redSqr(),ce=Y.redIAdd(Y);ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),v=ne.redISub(K).redISub(K),d=ae.redMul(K.redISub(v)).redISub(ce),h=this.y.redMul(this.z),h=h.redIAdd(h)}return this.curve.jpoint(v,d,h)},f.prototype._threeDbl=function(){var v,d,h;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),y=b.redSqr(),D=this.x.redAdd(b).redSqr().redISub(p).redISub(y);D=D.redIAdd(D);var P=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),L=P.redSqr().redISub(D).redISub(D);v=L;var H=y.redIAdd(y);H=H.redIAdd(H),H=H.redIAdd(H),d=P.redMul(D.redISub(L)).redISub(H),h=this.y.redAdd(this.y)}else{var j=this.z.redSqr(),V=this.y.redSqr(),Y=this.x.redMul(V),K=this.x.redSub(j).redMul(this.x.redAdd(j));K=K.redAdd(K).redIAdd(K);var ae=Y.redIAdd(Y);ae=ae.redIAdd(ae);var ne=ae.redAdd(ae);v=K.redSqr().redISub(ne),h=this.y.redAdd(this.z).redSqr().redISub(V).redISub(j);var ce=V.redSqr();ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),d=K.redMul(ae.redISub(v)).redISub(ce)}return this.curve.jpoint(v,d,h)},f.prototype._dbl=function(){var v=this.curve.a,d=this.x,h=this.y,p=this.z,b=p.redSqr().redSqr(),y=d.redSqr(),D=h.redSqr(),P=y.redAdd(y).redIAdd(y).redIAdd(v.redMul(b)),L=d.redAdd(d);L=L.redIAdd(L);var H=L.redMul(D),j=P.redSqr().redISub(H.redAdd(H)),V=H.redISub(j),Y=D.redSqr();Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y);var K=P.redMul(V).redISub(Y),ae=h.redAdd(h).redMul(p);return this.curve.jpoint(j,K,ae)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var v=this.x.redSqr(),d=this.y.redSqr(),h=this.z.redSqr(),p=d.redSqr(),b=v.redAdd(v).redIAdd(v),y=b.redSqr(),D=this.x.redAdd(d).redSqr().redISub(v).redISub(p);D=D.redIAdd(D),D=D.redAdd(D).redIAdd(D),D=D.redISub(y);var P=D.redSqr(),L=p.redIAdd(p);L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var H=b.redIAdd(D).redSqr().redISub(y).redISub(P).redISub(L),j=d.redMul(H);j=j.redIAdd(j),j=j.redIAdd(j);var V=this.x.redMul(P).redISub(j);V=V.redIAdd(V),V=V.redIAdd(V);var Y=this.y.redMul(H.redMul(L.redISub(H)).redISub(D.redMul(P)));Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y);var K=this.z.redAdd(D).redSqr().redISub(h).redISub(P);return this.curve.jpoint(V,Y,K)},f.prototype.mul=function(v,d){return v=new M(v,d),this.curve._wnafMul(this,v)},f.prototype.eq=function(v){if(v.type==="affine")return this.eq(v.toJ());if(this===v)return!0;var d=this.z.redSqr(),h=v.z.redSqr();if(this.x.redMul(h).redISub(v.x.redMul(d)).cmpn(0)!==0)return!1;var p=d.redMul(this.z),b=h.redMul(v.z);return this.y.redMul(b).redISub(v.y.redMul(p)).cmpn(0)===0},f.prototype.eqXToP=function(v){var d=this.z.redSqr(),h=v.toRed(this.curve.red).redMul(d);if(this.x.cmp(h)===0)return!0;for(var p=v.clone(),b=this.curve.redN.redMul(d);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(b),this.x.cmp(h)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},45427:(s,Q,R)=>{"use strict";var S=Q,M=R(33715),E=R(88254),_=R(80953),l=_.assert;function u(w){w.type==="short"?this.curve=new E.short(w):w.type==="edwards"?this.curve=new E.edwards(w):this.curve=new E.mont(w),this.g=this.curve.g,this.n=this.curve.n,this.hash=w.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}S.PresetCurve=u;function c(w,v){Object.defineProperty(S,w,{configurable:!0,enumerable:!0,get:function(){var d=new u(v);return Object.defineProperty(S,w,{configurable:!0,enumerable:!0,value:d}),d}})}c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:M.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:M.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:M.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:M.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:M.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:M.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:M.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=R(91037)}catch(w){f=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:M.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})},57954:(s,Q,R)=>{"use strict";var S=R(13550),M=R(2156),E=R(80953),_=R(45427),l=R(29931),u=E.assert,c=R(31251),f=R(90611);function w(v){if(!(this instanceof w))return new w(v);typeof v=="string"&&(u(Object.prototype.hasOwnProperty.call(_,v),"Unknown curve "+v),v=_[v]),v instanceof _.PresetCurve&&(v={curve:v}),this.curve=v.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=v.curve.g,this.g.precompute(v.curve.n.bitLength()+1),this.hash=v.hash||v.curve.hash}s.exports=w,w.prototype.keyPair=function(d){return new c(this,d)},w.prototype.keyFromPrivate=function(d,h){return c.fromPrivate(this,d,h)},w.prototype.keyFromPublic=function(d,h){return c.fromPublic(this,d,h)},w.prototype.genKeyPair=function(d){d||(d={});for(var h=new M({hash:this.hash,pers:d.pers,persEnc:d.persEnc||"utf8",entropy:d.entropy||l(this.hash.hmacStrength),entropyEnc:d.entropy&&d.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),b=this.n.sub(new S(2));;){var y=new S(h.generate(p));if(!(y.cmp(b)>0))return y.iaddn(1),this.keyFromPrivate(y)}},w.prototype._truncateToN=function(d,h){var p=d.byteLength()*8-this.n.bitLength();return p>0&&(d=d.ushrn(p)),!h&&d.cmp(this.n)>=0?d.sub(this.n):d},w.prototype.sign=function(d,h,p,b){typeof p=="object"&&(b=p,p=null),b||(b={}),h=this.keyFromPrivate(h,p),d=this._truncateToN(new S(d,16));for(var y=this.n.byteLength(),D=h.getPrivate().toArray("be",y),P=d.toArray("be",y),L=new M({hash:this.hash,entropy:D,nonce:P,pers:b.pers,persEnc:b.persEnc||"utf8"}),H=this.n.sub(new S(1)),j=0;;j++){var V=b.k?b.k(j):new S(L.generate(this.n.byteLength()));if(V=this._truncateToN(V,!0),!(V.cmpn(1)<=0||V.cmp(H)>=0)){var Y=this.g.mul(V);if(!Y.isInfinity()){var K=Y.getX(),ae=K.umod(this.n);if(ae.cmpn(0)!==0){var ne=V.invm(this.n).mul(ae.mul(h.getPrivate()).iadd(d));if(ne=ne.umod(this.n),ne.cmpn(0)!==0){var ce=(Y.getY().isOdd()?1:0)|(K.cmp(ae)!==0?2:0);return b.canonical&&ne.cmp(this.nh)>0&&(ne=this.n.sub(ne),ce^=1),new f({r:ae,s:ne,recoveryParam:ce})}}}}}},w.prototype.verify=function(d,h,p,b){d=this._truncateToN(new S(d,16)),p=this.keyFromPublic(p,b),h=new f(h,"hex");var y=h.r,D=h.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||D.cmpn(1)<0||D.cmp(this.n)>=0)return!1;var P=D.invm(this.n),L=P.mul(d).umod(this.n),H=P.mul(y).umod(this.n),j;return this.curve._maxwellTrick?(j=this.g.jmulAdd(L,p.getPublic(),H),j.isInfinity()?!1:j.eqXToP(y)):(j=this.g.mulAdd(L,p.getPublic(),H),j.isInfinity()?!1:j.getX().umod(this.n).cmp(y)===0)},w.prototype.recoverPubKey=function(v,d,h,p){u((3&h)===h,"The recovery param is more than two bits"),d=new f(d,p);var b=this.n,y=new S(v),D=d.r,P=d.s,L=h&1,H=h>>1;if(D.cmp(this.curve.p.umod(this.curve.n))>=0&&H)throw new Error("Unable to find sencond key candinate");H?D=this.curve.pointFromX(D.add(this.curve.n),L):D=this.curve.pointFromX(D,L);var j=d.r.invm(b),V=b.sub(y).mul(j).umod(b),Y=P.mul(j).umod(b);return this.g.mulAdd(V,D,Y)},w.prototype.getKeyRecoveryParam=function(v,d,h,p){if(d=new f(d,p),d.recoveryParam!==null)return d.recoveryParam;for(var b=0;b<4;b++){var y;try{y=this.recoverPubKey(v,d,b)}catch(D){continue}if(y.eq(h))return b}throw new Error("Unable to find valid recovery factor")}},31251:(s,Q,R)=>{"use strict";var S=R(13550),M=R(80953),E=M.assert;function _(l,u){this.ec=l,this.priv=null,this.pub=null,u.priv&&this._importPrivate(u.priv,u.privEnc),u.pub&&this._importPublic(u.pub,u.pubEnc)}s.exports=_,_.fromPublic=function(u,c,f){return c instanceof _?c:new _(u,{pub:c,pubEnc:f})},_.fromPrivate=function(u,c,f){return c instanceof _?c:new _(u,{priv:c,privEnc:f})},_.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},_.prototype.getPublic=function(u,c){return typeof u=="string"&&(c=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,u):this.pub},_.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},_.prototype._importPrivate=function(u,c){this.priv=new S(u,c||16),this.priv=this.priv.umod(this.ec.curve.n)},_.prototype._importPublic=function(u,c){if(u.x||u.y){this.ec.curve.type==="mont"?E(u.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&E(u.x&&u.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(u.x,u.y);return}this.pub=this.ec.curve.decodePoint(u,c)},_.prototype.derive=function(u){return u.validate()||E(u.validate(),"public point not validated"),u.mul(this.priv).getX()},_.prototype.sign=function(u,c,f){return this.ec.sign(u,this,c,f)},_.prototype.verify=function(u,c){return this.ec.verify(u,c,this)},_.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90611:(s,Q,R)=>{"use strict";var S=R(13550),M=R(80953),E=M.assert;function _(w,v){if(w instanceof _)return w;this._importDER(w,v)||(E(w.r&&w.s,"Signature without r or s"),this.r=new S(w.r,16),this.s=new S(w.s,16),w.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=w.recoveryParam)}s.exports=_;function l(){this.place=0}function u(w,v){var d=w[v.place++];if(!(d&128))return d;var h=d&15;if(h===0||h>4)return!1;for(var p=0,b=0,y=v.place;b<h;b++,y++)p<<=8,p|=w[y],p>>>=0;return p<=127?!1:(v.place=y,p)}function c(w){for(var v=0,d=w.length-1;!w[v]&&!(w[v+1]&128)&&v<d;)v++;return v===0?w:w.slice(v)}_.prototype._importDER=function(v,d){v=M.toArray(v,d);var h=new l;if(v[h.place++]!==48)return!1;var p=u(v,h);if(p===!1||p+h.place!==v.length||v[h.place++]!==2)return!1;var b=u(v,h);if(b===!1)return!1;var y=v.slice(h.place,b+h.place);if(h.place+=b,v[h.place++]!==2)return!1;var D=u(v,h);if(D===!1||v.length!==D+h.place)return!1;var P=v.slice(h.place,D+h.place);if(y[0]===0)if(y[1]&128)y=y.slice(1);else return!1;if(P[0]===0)if(P[1]&128)P=P.slice(1);else return!1;return this.r=new S(y),this.s=new S(P),this.recoveryParam=null,!0};function f(w,v){if(v<128){w.push(v);return}var d=1+(Math.log(v)/Math.LN2>>>3);for(w.push(d|128);--d;)w.push(v>>>(d<<3)&255);w.push(v)}_.prototype.toDER=function(v){var d=this.r.toArray(),h=this.s.toArray();for(d[0]&128&&(d=[0].concat(d)),h[0]&128&&(h=[0].concat(h)),d=c(d),h=c(h);!h[0]&&!(h[1]&128);)h=h.slice(1);var p=[2];f(p,d.length),p=p.concat(d),p.push(2),f(p,h.length);var b=p.concat(h),y=[48];return f(y,b.length),y=y.concat(b),M.encode(y,v)}},65980:(s,Q,R)=>{"use strict";var S=R(33715),M=R(45427),E=R(80953),_=E.assert,l=E.parseBytes,u=R(79087),c=R(23622);function f(w){if(_(w==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(w);w=M[w].curve,this.curve=w,this.g=w.g,this.g.precompute(w.n.bitLength()+1),this.pointClass=w.point().constructor,this.encodingLength=Math.ceil(w.n.bitLength()/8),this.hash=S.sha512}s.exports=f,f.prototype.sign=function(v,d){v=l(v);var h=this.keyFromSecret(d),p=this.hashInt(h.messagePrefix(),v),b=this.g.mul(p),y=this.encodePoint(b),D=this.hashInt(y,h.pubBytes(),v).mul(h.priv()),P=p.add(D).umod(this.curve.n);return this.makeSignature({R:b,S:P,Rencoded:y})},f.prototype.verify=function(v,d,h){v=l(v),d=this.makeSignature(d);var p=this.keyFromPublic(h),b=this.hashInt(d.Rencoded(),p.pubBytes(),v),y=this.g.mul(d.S()),D=d.R().add(p.pub().mul(b));return D.eq(y)},f.prototype.hashInt=function(){for(var v=this.hash(),d=0;d<arguments.length;d++)v.update(arguments[d]);return E.intFromLE(v.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(v){return u.fromPublic(this,v)},f.prototype.keyFromSecret=function(v){return u.fromSecret(this,v)},f.prototype.makeSignature=function(v){return v instanceof c?v:new c(this,v)},f.prototype.encodePoint=function(v){var d=v.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=v.getX().isOdd()?128:0,d},f.prototype.decodePoint=function(v){v=E.parseBytes(v);var d=v.length-1,h=v.slice(0,d).concat(v[d]&~128),p=(v[d]&128)!=0,b=E.intFromLE(h);return this.curve.pointFromY(b,p)},f.prototype.encodeInt=function(v){return v.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(v){return E.intFromLE(v)},f.prototype.isPoint=function(v){return v instanceof this.pointClass}},79087:(s,Q,R)=>{"use strict";var S=R(80953),M=S.assert,E=S.parseBytes,_=S.cachedProperty;function l(u,c){this.eddsa=u,this._secret=E(c.secret),u.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=E(c.pub)}l.fromPublic=function(c,f){return f instanceof l?f:new l(c,{pub:f})},l.fromSecret=function(c,f){return f instanceof l?f:new l(c,{secret:f})},l.prototype.secret=function(){return this._secret},_(l,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),_(l,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),_(l,"privBytes",function(){var c=this.eddsa,f=this.hash(),w=c.encodingLength-1,v=f.slice(0,c.encodingLength);return v[0]&=248,v[w]&=127,v[w]|=64,v}),_(l,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),_(l,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),_(l,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),l.prototype.sign=function(c){return M(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},l.prototype.verify=function(c,f){return this.eddsa.verify(c,f,this)},l.prototype.getSecret=function(c){return M(this._secret,"KeyPair is public only"),S.encode(this.secret(),c)},l.prototype.getPublic=function(c){return S.encode(this.pubBytes(),c)},s.exports=l},23622:(s,Q,R)=>{"use strict";var S=R(13550),M=R(80953),E=M.assert,_=M.cachedProperty,l=M.parseBytes;function u(c,f){this.eddsa=c,typeof f!="object"&&(f=l(f)),Array.isArray(f)&&(f={R:f.slice(0,c.encodingLength),S:f.slice(c.encodingLength)}),E(f.R&&f.S,"Signature without R or S"),c.isPoint(f.R)&&(this._R=f.R),f.S instanceof S&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}_(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),_(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),_(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),_(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return M.encode(this.toBytes(),"hex").toUpperCase()},s.exports=u},91037:s=>{s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80953:(s,Q,R)=>{"use strict";var S=Q,M=R(13550),E=R(79746),_=R(34504);S.assert=E,S.toArray=_.toArray,S.zero2=_.zero2,S.toHex=_.toHex,S.encode=_.encode;function l(v,d,h){var p=new Array(Math.max(v.bitLength(),h)+1);p.fill(0);for(var b=1<<d+1,y=v.clone(),D=0;D<p.length;D++){var P,L=y.andln(b-1);y.isOdd()?(L>(b>>1)-1?P=(b>>1)-L:P=L,y.isubn(P)):P=0,p[D]=P,y.iushrn(1)}return p}S.getNAF=l;function u(v,d){var h=[[],[]];v=v.clone(),d=d.clone();for(var p=0,b=0,y;v.cmpn(-p)>0||d.cmpn(-b)>0;){var D=v.andln(3)+p&3,P=d.andln(3)+b&3;D===3&&(D=-1),P===3&&(P=-1);var L;(D&1)==0?L=0:(y=v.andln(7)+p&7,(y===3||y===5)&&P===2?L=-D:L=D),h[0].push(L);var H;(P&1)==0?H=0:(y=d.andln(7)+b&7,(y===3||y===5)&&D===2?H=-P:H=P),h[1].push(H),2*p===L+1&&(p=1-p),2*b===H+1&&(b=1-b),v.iushrn(1),d.iushrn(1)}return h}S.getJSF=u;function c(v,d,h){var p="_"+d;v.prototype[d]=function(){return this[p]!==void 0?this[p]:this[p]=h.call(this)}}S.cachedProperty=c;function f(v){return typeof v=="string"?S.toArray(v,"hex"):v}S.parseBytes=f;function w(v){return new M(v,"hex","le")}S.intFromLE=w},17187:s=>{"use strict";var Q=typeof Reflect=="object"?Reflect:null,R=Q&&typeof Q.apply=="function"?Q.apply:function(L,H,j){return Function.prototype.apply.call(L,H,j)},S;Q&&typeof Q.ownKeys=="function"?S=Q.ownKeys:Object.getOwnPropertySymbols?S=function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:S=function(L){return Object.getOwnPropertyNames(L)};function M(P){console&&console.warn&&console.warn(P)}var E=Number.isNaN||function(L){return L!==L};function _(){_.init.call(this)}s.exports=_,s.exports.once=D,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._eventsCount=0,_.prototype._maxListeners=void 0;var l=10;function u(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(_,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(P){if(typeof P!="number"||P<0||E(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");l=P}}),_.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||E(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this};function c(P){return P._maxListeners===void 0?_.defaultMaxListeners:P._maxListeners}_.prototype.getMaxListeners=function(){return c(this)},_.prototype.emit=function(L){for(var H=[],j=1;j<arguments.length;j++)H.push(arguments[j]);var V=L==="error",Y=this._events;if(Y!==void 0)V=V&&Y.error===void 0;else if(!V)return!1;if(V){var K;if(H.length>0&&(K=H[0]),K instanceof Error)throw K;var ae=new Error("Unhandled error."+(K?" ("+K.message+")":""));throw ae.context=K,ae}var ne=Y[L];if(ne===void 0)return!1;if(typeof ne=="function")R(ne,this,H);else for(var ce=ne.length,re=p(ne,ce),j=0;j<ce;++j)R(re[j],this,H);return!0};function f(P,L,H,j){var V,Y,K;if(u(H),Y=P._events,Y===void 0?(Y=P._events=Object.create(null),P._eventsCount=0):(Y.newListener!==void 0&&(P.emit("newListener",L,H.listener?H.listener:H),Y=P._events),K=Y[L]),K===void 0)K=Y[L]=H,++P._eventsCount;else if(typeof K=="function"?K=Y[L]=j?[H,K]:[K,H]:j?K.unshift(H):K.push(H),V=c(P),V>0&&K.length>V&&!K.warned){K.warned=!0;var ae=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit");ae.name="MaxListenersExceededWarning",ae.emitter=P,ae.type=L,ae.count=K.length,M(ae)}return P}_.prototype.addListener=function(L,H){return f(this,L,H,!1)},_.prototype.on=_.prototype.addListener,_.prototype.prependListener=function(L,H){return f(this,L,H,!0)};function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(P,L,H){var j={fired:!1,wrapFn:void 0,target:P,type:L,listener:H},V=w.bind(j);return V.listener=H,j.wrapFn=V,V}_.prototype.once=function(L,H){return u(H),this.on(L,v(this,L,H)),this},_.prototype.prependOnceListener=function(L,H){return u(H),this.prependListener(L,v(this,L,H)),this},_.prototype.removeListener=function(L,H){var j,V,Y,K,ae;if(u(H),V=this._events,V===void 0)return this;if(j=V[L],j===void 0)return this;if(j===H||j.listener===H)--this._eventsCount==0?this._events=Object.create(null):(delete V[L],V.removeListener&&this.emit("removeListener",L,j.listener||H));else if(typeof j!="function"){for(Y=-1,K=j.length-1;K>=0;K--)if(j[K]===H||j[K].listener===H){ae=j[K].listener,Y=K;break}if(Y<0)return this;Y===0?j.shift():b(j,Y),j.length===1&&(V[L]=j[0]),V.removeListener!==void 0&&this.emit("removeListener",L,ae||H)}return this},_.prototype.off=_.prototype.removeListener,_.prototype.removeAllListeners=function(L){var H,j,V;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[L]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete j[L]),this;if(arguments.length===0){var Y=Object.keys(j),K;for(V=0;V<Y.length;++V)K=Y[V],K!=="removeListener"&&this.removeAllListeners(K);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(H=j[L],typeof H=="function")this.removeListener(L,H);else if(H!==void 0)for(V=H.length-1;V>=0;V--)this.removeListener(L,H[V]);return this};function d(P,L,H){var j=P._events;if(j===void 0)return[];var V=j[L];return V===void 0?[]:typeof V=="function"?H?[V.listener||V]:[V]:H?y(V):p(V,V.length)}_.prototype.listeners=function(L){return d(this,L,!0)},_.prototype.rawListeners=function(L){return d(this,L,!1)},_.listenerCount=function(P,L){return typeof P.listenerCount=="function"?P.listenerCount(L):h.call(P,L)},_.prototype.listenerCount=h;function h(P){var L=this._events;if(L!==void 0){var H=L[P];if(typeof H=="function")return 1;if(H!==void 0)return H.length}return 0}_.prototype.eventNames=function(){return this._eventsCount>0?S(this._events):[]};function p(P,L){for(var H=new Array(L),j=0;j<L;++j)H[j]=P[j];return H}function b(P,L){for(;L+1<P.length;L++)P[L]=P[L+1];P.pop()}function y(P){for(var L=new Array(P.length),H=0;H<L.length;++H)L[H]=P[H].listener||P[H];return L}function D(P,L){return new Promise(function(H,j){function V(){Y!==void 0&&P.removeListener("error",Y),H([].slice.call(arguments))}var Y;L!=="error"&&(Y=function(ae){P.removeListener(L,V),j(ae)},P.once("error",Y)),P.once(L,V)})}},13048:(s,Q,R)=>{var S=R(89509).Buffer,M=R(62318);function E(_,l,u,c){if(S.isBuffer(_)||(_=S.from(_,"binary")),l&&(S.isBuffer(l)||(l=S.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=u/8,w=S.alloc(f),v=S.alloc(c||0),d=S.alloc(0);f>0||c>0;){var h=new M;h.update(d),h.update(_),l&&h.update(l),d=h.digest();var p=0;if(f>0){var b=w.length-f;p=Math.min(f,d.length),d.copy(w,b,0,p),f-=p}if(p<d.length&&c>0){var y=v.length-c,D=Math.min(c,d.length-p);d.copy(v,y,p,p+D),c-=D}}return d.fill(0),{key:w,iv:v}}s.exports=E},64063:s=>{"use strict";s.exports=function Q(R,S){if(R===S)return!0;if(R&&S&&typeof R=="object"&&typeof S=="object"){if(R.constructor!==S.constructor)return!1;var M,E,_;if(Array.isArray(R)){if(M=R.length,M!=S.length)return!1;for(E=M;E--!=0;)if(!Q(R[E],S[E]))return!1;return!0}if(R.constructor===RegExp)return R.source===S.source&&R.flags===S.flags;if(R.valueOf!==Object.prototype.valueOf)return R.valueOf()===S.valueOf();if(R.toString!==Object.prototype.toString)return R.toString()===S.toString();if(_=Object.keys(R),M=_.length,M!==Object.keys(S).length)return!1;for(E=M;E--!=0;)if(!Object.prototype.hasOwnProperty.call(S,_[E]))return!1;for(E=M;E--!=0;){var l=_[E];if(!Q(R[l],S[l]))return!1}return!0}return R!==R&&S!==S}},35035:s=>{"use strict";s.exports=function(Q,R){R||(R={}),typeof R=="function"&&(R={cmp:R});var S=typeof R.cycles=="boolean"?R.cycles:!1,M=R.cmp&&function(_){return function(l){return function(u,c){var f={key:u,value:l[u]},w={key:c,value:l[c]};return _(f,w)}}}(R.cmp),E=[];return function _(l){if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l!==void 0){if(typeof l=="number")return isFinite(l)?""+l:"null";if(typeof l!="object")return JSON.stringify(l);var u,c;if(Array.isArray(l)){for(c="[",u=0;u<l.length;u++)u&&(c+=","),c+=_(l[u])||"null";return c+"]"}if(l===null)return"null";if(E.indexOf(l)!==-1){if(S)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var f=E.push(l)-1,w=Object.keys(l).sort(M&&M(l));for(c="",u=0;u<w.length;u++){var v=w[u],d=_(l[v]);!d||(c&&(c+=","),c+=JSON.stringify(v)+":"+d)}return E.splice(f,1),"{"+c+"}"}}(Q)}},89967:(s,Q,R)=>{var S={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepoProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrgProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddPullRequestToProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddProjectV2ItemByIdInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addProjectV2ItemById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemovePullRequestFromProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteProjectV2ItemInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteProjectV2Item"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedItemId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:3145}};S.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are also in the limit file, but are not limited (by scope or API availability) here

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	titleHTML
	title
	author {
		login
		url
		avatarUrl
		... on User {
			email
			id
		}
		... on Organization {
			email
			id
		}
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	createdAt
	updatedAt
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	merged
	mergeable
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	id
	databaseId
	isDraft
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			login
			name
			avatarUrl
			id
			url
			email
		}
	}
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			login
			avatarUrl
			id
			name
			url
		}
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

# Queries that only exist in this file

query GetRepoProjects($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		projectsV2(first: 100, query: "state:OPEN") {
			nodes {
				title
				id
			}
		}
	}
}

query GetOrgProjects($owner: String!, $after: String) {
	organization(login: $owner) {
		projectsV2(first: 100, after: $after, query: "state:OPEN", orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				title
				id
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

mutation AddPullRequestToProject($input: AddProjectV2ItemByIdInput!) {
	addProjectV2ItemById(input: $input) {
		item {
			id
		}
	}
}

mutation RemovePullRequestFromProject($input: DeleteProjectV2ItemInput!) {
	deleteProjectV2Item(input: $input) {
		deletedItemId
	}
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var M={};function E(f){return f.filter(function(w){if(w.kind!=="FragmentDefinition")return!0;var v=w.name.value;return M[v]?!1:(M[v]=!0,!0)})}S.definitions=S.definitions.concat(E(R(14978).definitions));function _(f,w){if(f.kind==="FragmentSpread")w.add(f.name.value);else if(f.kind==="VariableDefinition"){var v=f.type;v.kind==="NamedType"&&w.add(v.name.value)}f.selectionSet&&f.selectionSet.selections.forEach(function(d){_(d,w)}),f.variableDefinitions&&f.variableDefinitions.forEach(function(d){_(d,w)}),f.definitions&&f.definitions.forEach(function(d){_(d,w)})}var l={};(function(){S.definitions.forEach(function(w){if(w.name){var v=new Set;_(w,v),l[w.name.value]=v}})})();function u(f,w){for(var v=0;v<f.definitions.length;v++){var d=f.definitions[v];if(d.name&&d.name.value==w)return d}}function c(f,w){var v={kind:f.kind,definitions:[u(f,w)]};f.hasOwnProperty("loc")&&(v.loc=f.loc);var d=l[w]||new Set,h=new Set,p=new Set;for(d.forEach(function(y){p.add(y)});p.size>0;){var b=p;p=new Set,b.forEach(function(y){if(!h.has(y)){h.add(y);var D=l[y]||new Set;D.forEach(function(P){p.add(P)})}})}return h.forEach(function(y){var D=u(f,y);D&&v.definitions.push(D)}),v}s.exports=S,s.exports.PullRequest=c(S,"PullRequest"),s.exports.PullRequestForHead=c(S,"PullRequestForHead"),s.exports.CreatePullRequest=c(S,"CreatePullRequest"),s.exports.GetRepoProjects=c(S,"GetRepoProjects"),s.exports.GetOrgProjects=c(S,"GetOrgProjects"),s.exports.AddPullRequestToProject=c(S,"AddPullRequestToProject"),s.exports.RemovePullRequestFromProject=c(S,"RemovePullRequestFromProject")},31651:(s,Q,R)=>{var S={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:2075}};S.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	titleHTML
	title
	author {
		login
		url
		avatarUrl
		... on User {
			email
			id
		}
		... on Organization {
			email
			id
		}
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	createdAt
	updatedAt
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	merged
	mergeable
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	id
	databaseId
	isDraft
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			login
			name
			avatarUrl
			id
			url
			email
		}
	}
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			login
			avatarUrl
			id
			name
			url
		}
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var M={};function E(f){return f.filter(function(w){if(w.kind!=="FragmentDefinition")return!0;var v=w.name.value;return M[v]?!1:(M[v]=!0,!0)})}S.definitions=S.definitions.concat(E(R(14978).definitions));function _(f,w){if(f.kind==="FragmentSpread")w.add(f.name.value);else if(f.kind==="VariableDefinition"){var v=f.type;v.kind==="NamedType"&&w.add(v.name.value)}f.selectionSet&&f.selectionSet.selections.forEach(function(d){_(d,w)}),f.variableDefinitions&&f.variableDefinitions.forEach(function(d){_(d,w)}),f.definitions&&f.definitions.forEach(function(d){_(d,w)})}var l={};(function(){S.definitions.forEach(function(w){if(w.name){var v=new Set;_(w,v),l[w.name.value]=v}})})();function u(f,w){for(var v=0;v<f.definitions.length;v++){var d=f.definitions[v];if(d.name&&d.name.value==w)return d}}function c(f,w){var v={kind:f.kind,definitions:[u(f,w)]};f.hasOwnProperty("loc")&&(v.loc=f.loc);var d=l[w]||new Set,h=new Set,p=new Set;for(d.forEach(function(y){p.add(y)});p.size>0;){var b=p;p=new Set,b.forEach(function(y){if(!h.has(y)){h.add(y);var D=l[y]||new Set;D.forEach(function(P){p.add(P)})}})}return h.forEach(function(y){var D=u(f,y);D&&v.definitions.push(D)}),v}s.exports=S,s.exports.PullRequest=c(S,"PullRequest"),s.exports.PullRequestForHead=c(S,"PullRequestForHead"),s.exports.CreatePullRequest=c(S,"CreatePullRequest")},14978:s=>{var Q={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RateLimit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RateLimit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authoredDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LegacyReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviewCommit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerLatestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeamsCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeams"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repositories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"repoName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequestsAdditionalScopes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetParticipants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LegacyPullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Viewer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyAddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RequestReviewsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"qualifiedName"},value:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ListBranches"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"refPrefix"},value:{kind:"StringValue",value:"refs/heads/",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssuesWithoutMilestone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}},{kind:"Argument",name:{kind:"Name",value:"filterBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"assignee"},value:{kind:"Variable",name:{kind:"Name",value:"assignee"}}},{kind:"ObjectField",name:{kind:"Name",value:"milestone"},value:{kind:"NullValue"}}]}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"states"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MilestoneState"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"Variable",name:{kind:"Name",value:"states"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestonesWithIssues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"12"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"filterBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"assignee"},value:{kind:"Variable",name:{kind:"Name",value:"assignee"}}}]}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecksWithoutSuite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFileContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"expression"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"object"},arguments:[{kind:"Argument",name:{kind:"Name",value:"expression"},value:{kind:"Variable",name:{kind:"Name",value:"expression"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Blob"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyUnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DisablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DisablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:23100}};Q.loc.source={body:`# /*---------------------------------------------------------------------------------------------\r
#  *  Copyright (c) Microsoft Corporation. All rights reserved.\r
#  *  Licensed under the MIT License. See License.txt in the project root for license information.\r
#  *--------------------------------------------------------------------------------------------*/\r
\r
fragment RateLimit on RateLimit {\r
	limit\r
	cost\r
	remaining\r
	resetAt\r
}\r
\r
fragment Merged on MergedEvent {\r
	id\r
	actor {\r
		login\r
		avatarUrl\r
		url\r
	}\r
	createdAt\r
	mergeRef {\r
		name\r
	}\r
	commit {\r
		oid\r
		commitUrl\r
	}\r
	url\r
}\r
\r
fragment HeadRefDeleted on HeadRefDeletedEvent {\r
	id\r
	actor {\r
		login\r
		avatarUrl\r
		url\r
	}\r
	createdAt\r
	headRefName\r
}\r
\r
fragment Ref on Ref {\r
	name\r
	repository {\r
		owner {\r
			login\r
		}\r
		url\r
	}\r
	target {\r
		oid\r
	}\r
}\r
\r
fragment Comment on IssueComment {\r
	id\r
	databaseId\r
	authorAssociation\r
	author {\r
		login\r
		avatarUrl\r
		url\r
		... on User {\r
			email\r
			id\r
		}\r
		... on Organization {\r
			email\r
			id\r
		}\r
	}\r
	url\r
	body\r
	bodyHTML\r
	updatedAt\r
	createdAt\r
	viewerCanUpdate\r
	viewerCanReact\r
	viewerCanDelete\r
}\r
\r
fragment Commit on PullRequestCommit {\r
	id\r
	commit {\r
		author {\r
			user {\r
				login\r
				avatarUrl\r
				id\r
				url\r
				email\r
			}\r
		}\r
		committer {\r
			avatarUrl\r
			name\r
		}\r
		oid\r
		message\r
		authoredDate\r
	}\r
	url\r
}\r
\r
fragment AssignedEvent on AssignedEvent {\r
	id\r
	actor {\r
		login\r
		avatarUrl\r
		url\r
	}\r
	user {\r
		login\r
		avatarUrl\r
		id\r
		url\r
	}\r
}\r
\r
fragment Review on PullRequestReview {\r
	id\r
	databaseId\r
	authorAssociation\r
	url\r
	author {\r
		login\r
		avatarUrl\r
		url\r
		... on User {\r
			email\r
			id\r
		}\r
		... on Organization {\r
			email\r
			id\r
		}\r
	}\r
	state\r
	body\r
	bodyHTML\r
	submittedAt\r
	updatedAt\r
	createdAt\r
}\r
\r
fragment Reactable on Reactable {\r
	reactionGroups {\r
		content\r
		viewerHasReacted\r
		users {\r
			totalCount\r
		}\r
	}\r
}\r
\r
\r
fragment ReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	subjectType\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment LegacyReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
\r
query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...HeadRefDeleted\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Comment\r
					...AssignedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviewCommit($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			viewerLatestReview {\r
				commit {\r
					oid\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviews($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			latestReviews (first: 10) {\r
				nodes {\r
					state\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeamsCount($login: String!) {\r
	organization(login: $login) {\r
		teams(first: 0, privacy: VISIBLE) {\r
			totalCount\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeams($login: String!, $after: String, $repoName: String!) {\r
	organization(login: $login) {\r
		teams(first: 100, after: $after, privacy: VISIBLE) {\r
			nodes {\r
				name\r
				avatarUrl\r
				url\r
				repositories(first: 5, query: $repoName) {\r
					nodes {\r
						name\r
					}\r
				}\r
				slug\r
				id\r
			}\r
			totalCount\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequestsAdditionalScopes($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						... on User {\r
							login\r
							avatarUrl\r
							id\r
							url\r
							email\r
							name\r
						}\r
						... on Team {\r
							name\r
							avatarUrl\r
							url\r
							slug\r
							id\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequests($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						... on User {\r
							login\r
							avatarUrl\r
							id\r
							url\r
							email\r
							name\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
fragment ReviewComment on PullRequestReviewComment {\r
	id\r
	databaseId\r
	url\r
	author {\r
		login\r
		avatarUrl\r
		url\r
		... on User {\r
			email\r
			id\r
		}\r
		... on Organization {\r
			email\r
			id\r
		}\r
	}\r
	path\r
	originalPosition\r
	body\r
	bodyHTML\r
	diffHunk\r
	position\r
	state\r
	pullRequestReview {\r
		databaseId\r
	}\r
	commit {\r
		oid\r
	}\r
	replyTo {\r
		databaseId\r
	}\r
	createdAt\r
	originalCommit {\r
		oid\r
	}\r
	reactionGroups {\r
		content\r
		viewerHasReacted\r
		users {\r
			totalCount\r
		}\r
	}\r
	viewerCanUpdate\r
	viewerCanDelete\r
}\r
\r
query GetParticipants($owner: String!, $name: String!, $number: Int!, $first: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			participants(first: $first) {\r
				nodes {\r
					login\r
					avatarUrl\r
					id\r
					name\r
					url\r
					email\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetPendingReviewId($pullRequestId: ID!, $author: String!) {\r
	node(id: $pullRequestId) {\r
		... on PullRequest {\r
			reviews(first: 1, author: $author, states: [PENDING]) {\r
				nodes {\r
					id\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 100, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					subjectType\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LegacyPullRequestComments($owner: String!, $name: String!, $number: Int!, $first: Int = 100) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: $first) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Viewer {\r
	viewer {\r
		login\r
		avatarUrl\r
		id\r
		name\r
		url\r
		email\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestFiles($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			files(first: 100, after: $after) {\r
				nodes {\r
					path\r
					viewerViewedState\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Issue($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			number\r
			url\r
			state\r
			body\r
			bodyHTML\r
			title\r
			author {\r
				login\r
				url\r
				avatarUrl\r
				... on User {\r
					email\r
					id\r
				}\r
				... on Organization {\r
					email\r
					id\r
				}\r
			}\r
			createdAt\r
			updatedAt\r
			labels(first: 50) {\r
				nodes {\r
					name\r
					color\r
				}\r
			}\r
			id\r
			databaseId\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssueWithComments($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			number\r
			url\r
			state\r
			body\r
			bodyHTML\r
			title\r
			author {\r
				login\r
				url\r
				avatarUrl\r
				... on User {\r
					email\r
					id\r
				}\r
				... on Organization {\r
					email\r
					id\r
				}\r
			}\r
			createdAt\r
			updatedAt\r
			labels(first: 50) {\r
				nodes {\r
					name\r
					color\r
				}\r
			}\r
			id\r
			databaseId\r
			comments(first: 50) {\r
				nodes {\r
					author {\r
						login\r
						url\r
						avatarUrl\r
						... on User {\r
							email\r
							id\r
						}\r
						... on Organization {\r
							email\r
							id\r
						}\r
					}\r
					body\r
					databaseId\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetUser($login: String!) {\r
	user(login: $login) {\r
		login\r
		avatarUrl(size: 50)\r
		id\r
		bio\r
		name\r
		company\r
		location\r
		contributionsCollection {\r
			commitContributionsByRepository(maxRepositories: 50) {\r
				contributions(first: 1) {\r
					nodes {\r
						occurredAt\r
					}\r
				}\r
				repository {\r
					nameWithOwner\r
				}\r
			}\r
		}\r
		url\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			mergeable\r
			mergeStateStatus\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestState($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			title\r
			number\r
			state\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
mutation AddComment($input: AddPullRequestReviewCommentInput!) {\r
	addPullRequestReviewComment(input: $input) {\r
		comment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyAddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation AddReviewers($input: RequestReviewsInput!) {\r
	requestReviews(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {\r
	updatePullRequestReviewComment(input: $input) {\r
		pullRequestReviewComment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {\r
	markPullRequestReadyForReview(input: $input) {\r
		pullRequest {\r
			isDraft\r
		}\r
	}\r
}\r
\r
mutation StartReview($input: AddPullRequestReviewInput!) {\r
	addPullRequestReview(input: $input) {\r
		pullRequestReview {\r
			id\r
		}\r
	}\r
}\r
\r
mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {\r
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {\r
		pullRequestReview {\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
			...Review\r
		}\r
	}\r
}\r
\r
mutation DeleteReview($input: DeletePullRequestReviewInput!) {\r
	deletePullRequestReview(input: $input) {\r
		pullRequestReview {\r
			databaseId\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
		}\r
	}\r
}\r
\r
mutation AddReaction($input: AddReactionInput!) {\r
	addReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation DeleteReaction($input: RemoveReactionInput!) {\r
	removeReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation UpdatePullRequest($input: UpdatePullRequestInput!) {\r
	updatePullRequest(input: $input) {\r
		pullRequest {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
		}\r
	}\r
}\r
\r
mutation AddIssueComment($input: AddCommentInput!) {\r
	addComment(input: $input) {\r
		commentEdge {\r
			node {\r
				...Comment\r
			}\r
		}\r
	}\r
}\r
\r
mutation EditIssueComment($input: UpdateIssueCommentInput!) {\r
	updateIssueComment(input: $input) {\r
		issueComment {\r
			...Comment\r
		}\r
	}\r
}\r
\r
query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		mentionableUsers(first: $first, after: $after) {\r
			nodes {\r
				login\r
				avatarUrl\r
				name\r
				url\r
				email\r
				id\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		assignableUsers(first: $first, after: $after) {\r
			nodes {\r
				login\r
				avatarUrl\r
				name\r
				url\r
				email\r
				id\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetBranch($owner: String!, $name: String!, $qualifiedName: String!) {\r
	repository(owner: $owner, name: $name) {\r
		ref(qualifiedName: $qualifiedName) {\r
			target {\r
				oid\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query ListBranches($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		refs(first: $first, after: $after, refPrefix: "refs/heads/") {\r
			nodes {\r
				name\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssuesWithoutMilestone($owner: String!, $name: String!, $assignee: String!) {\r
	repository(owner: $owner, name: $name) {\r
		issues(\r
			first: 100\r
			states: OPEN\r
			filterBy: { assignee: $assignee, milestone: null }\r
			orderBy: { direction: DESC, field: UPDATED_AT }\r
		) {\r
			edges {\r
				node {\r
					... on Issue {\r
						number\r
						url\r
						state\r
						body\r
						bodyHTML\r
						title\r
						assignees(first: 10) {\r
							nodes {\r
								login\r
								url\r
								email\r
							}\r
						}\r
						author {\r
							login\r
							url\r
							avatarUrl(size: 50)\r
							... on User {\r
								email\r
							}\r
							... on Organization {\r
								email\r
							}\r
						}\r
						createdAt\r
						updatedAt\r
						labels(first: 50) {\r
							nodes {\r
								name\r
								color\r
							}\r
						}\r
						id\r
						databaseId\r
						milestone {\r
							title\r
							dueOn\r
						}\r
					}\r
				}\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MaxIssue($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {\r
			edges {\r
				node {\r
					... on Issue {\r
						number\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetMilestones($owner: String!, $name: String!, $states: [MilestoneState!]!) {\r
	repository(owner: $owner, name: $name) {\r
		milestones(first: 100, orderBy: { direction: DESC, field: DUE_DATE }, states: $states) {\r
			nodes {\r
				dueOn\r
				title\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetMilestonesWithIssues($owner: String!, $name: String!, $assignee: String!) {\r
	repository(owner: $owner, name: $name) {\r
		milestones(first: 12, orderBy: { direction: DESC, field: DUE_DATE }, states: OPEN) {\r
			nodes {\r
				dueOn\r
				title\r
				createdAt\r
				id\r
				issues(\r
					first: 100\r
					filterBy: { assignee: $assignee }\r
					orderBy: { direction: DESC, field: UPDATED_AT }\r
					states: OPEN\r
				) {\r
					edges {\r
						node {\r
							... on Issue {\r
								number\r
								url\r
								state\r
								body\r
								bodyHTML\r
								title\r
								assignees(first: 10) {\r
									nodes {\r
										avatarUrl\r
										email\r
										login\r
										url\r
										id\r
									}\r
								}\r
								author {\r
									login\r
									url\r
									avatarUrl(size: 50)\r
									... on User {\r
										email\r
										id\r
									}\r
									... on Organization {\r
										email\r
										id\r
									}\r
								}\r
								createdAt\r
								updatedAt\r
								labels(first: 50) {\r
									nodes {\r
										name\r
										color\r
									}\r
								}\r
								id\r
								databaseId\r
								milestone {\r
									title\r
									dueOn\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Issues($query: String!) {\r
	search(first: 100, type: ISSUE, query: $query) {\r
		issueCount\r
		pageInfo {\r
			hasNextPage\r
			endCursor\r
		}\r
		edges {\r
			node {\r
				... on Issue {\r
					number\r
					url\r
					state\r
					body\r
					bodyHTML\r
					title\r
					assignees(first: 10) {\r
						nodes {\r
							avatarUrl\r
							email\r
							login\r
							url\r
							id\r
						}\r
					}\r
					author {\r
						login\r
						url\r
						avatarUrl(size: 50)\r
						... on User {\r
							email\r
							id\r
						}\r
						... on Organization {\r
							email\r
							id\r
						}\r
					}\r
					createdAt\r
					updatedAt\r
					labels(first: 50) {\r
						nodes {\r
							name\r
							color\r
						}\r
					}\r
					id\r
					databaseId\r
					milestone {\r
						title\r
						dueOn\r
						id\r
						createdAt\r
					}\r
					repository {\r
						name\r
						owner {\r
							login\r
						}\r
						url\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetViewerPermission($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		viewerPermission\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetRepositoryForkDetails($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		isFork\r
		parent {\r
			name\r
			owner {\r
				login\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecks($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
										checkSuite {\r
											app {\r
												logoUrl\r
												url\r
											}\r
										}\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecksWithoutSuite($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetFileContent($owner: String!, $name: String!, $expression: String!) {\r
	repository(owner: $owner, name: $name) {\r
		object(expression: $expression) {\r
			... on Blob {\r
				text\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyUnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation EnablePullRequestAutoMerge($input: EnablePullRequestAutoMergeInput!) {\r
	enablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation DisablePullRequestAutoMerge($input: DisablePullRequestAutoMergeInput!) {\r
	disablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {\r
	markFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {\r
	unmarkFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var R={};function S(u){return u.filter(function(c){if(c.kind!=="FragmentDefinition")return!0;var f=c.name.value;return R[f]?!1:(R[f]=!0,!0)})}function M(u,c){if(u.kind==="FragmentSpread")c.add(u.name.value);else if(u.kind==="VariableDefinition"){var f=u.type;f.kind==="NamedType"&&c.add(f.name.value)}u.selectionSet&&u.selectionSet.selections.forEach(function(w){M(w,c)}),u.variableDefinitions&&u.variableDefinitions.forEach(function(w){M(w,c)}),u.definitions&&u.definitions.forEach(function(w){M(w,c)})}var E={};(function(){Q.definitions.forEach(function(c){if(c.name){var f=new Set;M(c,f),E[c.name.value]=f}})})();function _(u,c){for(var f=0;f<u.definitions.length;f++){var w=u.definitions[f];if(w.name&&w.name.value==c)return w}}function l(u,c){var f={kind:u.kind,definitions:[_(u,c)]};u.hasOwnProperty("loc")&&(f.loc=u.loc);var w=E[c]||new Set,v=new Set,d=new Set;for(w.forEach(function(p){d.add(p)});d.size>0;){var h=d;d=new Set,h.forEach(function(p){if(!v.has(p)){v.add(p);var b=E[p]||new Set;b.forEach(function(y){d.add(y)})}})}return v.forEach(function(p){var b=_(u,p);b&&f.definitions.push(b)}),f}s.exports=Q,s.exports.TimelineEvents=l(Q,"TimelineEvents"),s.exports.IssueTimelineEvents=l(Q,"IssueTimelineEvents"),s.exports.LatestReviewCommit=l(Q,"LatestReviewCommit"),s.exports.LatestReviews=l(Q,"LatestReviews"),s.exports.GetOrganizationTeamsCount=l(Q,"GetOrganizationTeamsCount"),s.exports.GetOrganizationTeams=l(Q,"GetOrganizationTeams"),s.exports.GetReviewRequestsAdditionalScopes=l(Q,"GetReviewRequestsAdditionalScopes"),s.exports.GetReviewRequests=l(Q,"GetReviewRequests"),s.exports.GetParticipants=l(Q,"GetParticipants"),s.exports.GetPendingReviewId=l(Q,"GetPendingReviewId"),s.exports.PullRequestComments=l(Q,"PullRequestComments"),s.exports.LegacyPullRequestComments=l(Q,"LegacyPullRequestComments"),s.exports.Viewer=l(Q,"Viewer"),s.exports.PullRequestFiles=l(Q,"PullRequestFiles"),s.exports.Issue=l(Q,"Issue"),s.exports.IssueWithComments=l(Q,"IssueWithComments"),s.exports.GetUser=l(Q,"GetUser"),s.exports.PullRequestMergeability=l(Q,"PullRequestMergeability"),s.exports.PullRequestState=l(Q,"PullRequestState"),s.exports.AddComment=l(Q,"AddComment"),s.exports.AddReviewThread=l(Q,"AddReviewThread"),s.exports.LegacyAddReviewThread=l(Q,"LegacyAddReviewThread"),s.exports.AddReviewers=l(Q,"AddReviewers"),s.exports.EditComment=l(Q,"EditComment"),s.exports.ReadyForReview=l(Q,"ReadyForReview"),s.exports.StartReview=l(Q,"StartReview"),s.exports.SubmitReview=l(Q,"SubmitReview"),s.exports.DeleteReview=l(Q,"DeleteReview"),s.exports.AddReaction=l(Q,"AddReaction"),s.exports.DeleteReaction=l(Q,"DeleteReaction"),s.exports.UpdatePullRequest=l(Q,"UpdatePullRequest"),s.exports.AddIssueComment=l(Q,"AddIssueComment"),s.exports.EditIssueComment=l(Q,"EditIssueComment"),s.exports.GetMentionableUsers=l(Q,"GetMentionableUsers"),s.exports.GetAssignableUsers=l(Q,"GetAssignableUsers"),s.exports.GetBranch=l(Q,"GetBranch"),s.exports.ListBranches=l(Q,"ListBranches"),s.exports.IssuesWithoutMilestone=l(Q,"IssuesWithoutMilestone"),s.exports.MaxIssue=l(Q,"MaxIssue"),s.exports.GetMilestones=l(Q,"GetMilestones"),s.exports.GetMilestonesWithIssues=l(Q,"GetMilestonesWithIssues"),s.exports.Issues=l(Q,"Issues"),s.exports.GetViewerPermission=l(Q,"GetViewerPermission"),s.exports.GetRepositoryForkDetails=l(Q,"GetRepositoryForkDetails"),s.exports.GetChecks=l(Q,"GetChecks"),s.exports.GetChecksWithoutSuite=l(Q,"GetChecksWithoutSuite"),s.exports.GetFileContent=l(Q,"GetFileContent"),s.exports.ResolveReviewThread=l(Q,"ResolveReviewThread"),s.exports.LegacyResolveReviewThread=l(Q,"LegacyResolveReviewThread"),s.exports.UnresolveReviewThread=l(Q,"UnresolveReviewThread"),s.exports.LegacyUnresolveReviewThread=l(Q,"LegacyUnresolveReviewThread"),s.exports.EnablePullRequestAutoMerge=l(Q,"EnablePullRequestAutoMerge"),s.exports.DisablePullRequestAutoMerge=l(Q,"DisablePullRequestAutoMerge"),s.exports.MarkFileAsViewed=l(Q,"MarkFileAsViewed"),s.exports.UnmarkFileAsViewed=l(Q,"UnmarkFileAsViewed")},50972:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=_;var S=E(R(7706)),M=E(R(18554));function E(l){return l&&l.__esModule?l:{default:l}}function _(l){var u=l.prototype.toJSON;typeof u=="function"||(0,S.default)(0),l.prototype.inspect=u,M.default&&(l.prototype[M.default]=u)}},8002:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=u;var S=M(R(18554));function M(p){return p&&p.__esModule?p:{default:p}}function E(p){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(y){return typeof y}:E=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},E(p)}var _=10,l=2;function u(p){return c(p,[])}function c(p,b){switch(E(p)){case"string":return JSON.stringify(p);case"function":return p.name?"[function ".concat(p.name,"]"):"[function]";case"object":return p===null?"null":f(p,b);default:return String(p)}}function f(p,b){if(b.indexOf(p)!==-1)return"[Circular]";var y=[].concat(b,[p]),D=d(p);if(D!==void 0){var P=D.call(p);if(P!==p)return typeof P=="string"?P:c(P,y)}else if(Array.isArray(p))return v(p,y);return w(p,y)}function w(p,b){var y=Object.keys(p);if(y.length===0)return"{}";if(b.length>l)return"["+h(p)+"]";var D=y.map(function(P){var L=c(p[P],b);return P+": "+L});return"{ "+D.join(", ")+" }"}function v(p,b){if(p.length===0)return"[]";if(b.length>l)return"[Array]";for(var y=Math.min(_,p.length),D=p.length-y,P=[],L=0;L<y;++L)P.push(c(p[L],b));return D===1?P.push("... 1 more item"):D>1&&P.push("... ".concat(D," more items")),"["+P.join(", ")+"]"}function d(p){var b=p[String(S.default)];if(typeof b=="function")return b;if(typeof p.inspect=="function")return p.inspect}function h(p){var b=Object.prototype.toString.call(p).replace(/^\[object /,"").replace(/]$/,"");if(b==="Object"&&typeof p.constructor=="function"){var y=p.constructor.name;if(typeof y=="string"&&y!=="")return y}return b}},7706:(s,Q)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=R;function R(S,M){var E=Boolean(S);if(!E)throw new Error(M!=null?M:"Unexpected invariant triggered.")}},18554:(s,Q)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var R=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,S=R;Q.default=S},91807:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.isNode=l,Q.Token=Q.Location=void 0;var S=M(R(50972));function M(u){return u&&u.__esModule?u:{default:u}}var E=function(){function u(f,w,v){this.start=f.start,this.end=w.end,this.startToken=f,this.endToken=w,this.source=v}var c=u.prototype;return c.toJSON=function(){return{start:this.start,end:this.end}},u}();Q.Location=E,(0,S.default)(E);var _=function(){function u(f,w,v,d,h,p,b){this.kind=f,this.start=w,this.end=v,this.line=d,this.column=h,this.value=b,this.prev=p,this.next=null}var c=u.prototype;return c.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},u}();Q.Token=_,(0,S.default)(_);function l(u){return u!=null&&typeof u.kind=="string"}},70849:(s,Q)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.dedentBlockStringValue=R,Q.getBlockStringIndentation=M,Q.printBlockString=E;function R(_){var l=_.split(/\r\n|[\n\r]/g),u=M(_);if(u!==0)for(var c=1;c<l.length;c++)l[c]=l[c].slice(u);for(var f=0;f<l.length&&S(l[f]);)++f;for(var w=l.length;w>f&&S(l[w-1]);)--w;return l.slice(f,w).join(`
`)}function S(_){for(var l=0;l<_.length;++l)if(_[l]!==" "&&_[l]!=="	")return!1;return!0}function M(_){for(var l,u=!0,c=!0,f=0,w=null,v=0;v<_.length;++v)switch(_.charCodeAt(v)){case 13:_.charCodeAt(v+1)===10&&++v;case 10:u=!1,c=!0,f=0;break;case 9:case 32:++f;break;default:c&&!u&&(w===null||f<w)&&(w=f),c=!1}return(l=w)!==null&&l!==void 0?l:0}function E(_){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=_.indexOf(`
`)===-1,f=_[0]===" "||_[0]==="	",w=_[_.length-1]==='"',v=_[_.length-1]==="\\",d=!c||w||v||u,h="";return d&&!(c&&f)&&(h+=`
`+l),h+=l?_.replace(/\n/g,`
`+l):_,d&&(h+=`
`),'"""'+h.replace(/"""/g,'\\"""')+'"""'}},23033:(s,Q,R)=>{"use strict";var S;S={value:!0},Q.S=_;var M=R(80285),E=R(70849);function _(b){return(0,M.visit)(b,{leave:u})}var l=80,u={Name:function(y){return y.value},Variable:function(y){return"$"+y.name},Document:function(y){return f(y.definitions,`

`)+`
`},OperationDefinition:function(y){var D=y.operation,P=y.name,L=v("(",f(y.variableDefinitions,", "),")"),H=f(y.directives," "),j=y.selectionSet;return!P&&!H&&!L&&D==="query"?j:f([D,f([P,L]),H,j]," ")},VariableDefinition:function(y){var D=y.variable,P=y.type,L=y.defaultValue,H=y.directives;return D+": "+P+v(" = ",L)+v(" ",f(H," "))},SelectionSet:function(y){var D=y.selections;return w(D)},Field:function(y){var D=y.alias,P=y.name,L=y.arguments,H=y.directives,j=y.selectionSet,V=v("",D,": ")+P,Y=V+v("(",f(L,", "),")");return Y.length>l&&(Y=V+v(`(
`,d(f(L,`
`)),`
)`)),f([Y,f(H," "),j]," ")},Argument:function(y){var D=y.name,P=y.value;return D+": "+P},FragmentSpread:function(y){var D=y.name,P=y.directives;return"..."+D+v(" ",f(P," "))},InlineFragment:function(y){var D=y.typeCondition,P=y.directives,L=y.selectionSet;return f(["...",v("on ",D),f(P," "),L]," ")},FragmentDefinition:function(y){var D=y.name,P=y.typeCondition,L=y.variableDefinitions,H=y.directives,j=y.selectionSet;return"fragment ".concat(D).concat(v("(",f(L,", "),")")," ")+"on ".concat(P," ").concat(v("",f(H," ")," "))+j},IntValue:function(y){var D=y.value;return D},FloatValue:function(y){var D=y.value;return D},StringValue:function(y,D){var P=y.value,L=y.block;return L?(0,E.printBlockString)(P,D==="description"?"":"  "):JSON.stringify(P)},BooleanValue:function(y){var D=y.value;return D?"true":"false"},NullValue:function(){return"null"},EnumValue:function(y){var D=y.value;return D},ListValue:function(y){var D=y.values;return"["+f(D,", ")+"]"},ObjectValue:function(y){var D=y.fields;return"{"+f(D,", ")+"}"},ObjectField:function(y){var D=y.name,P=y.value;return D+": "+P},Directive:function(y){var D=y.name,P=y.arguments;return"@"+D+v("(",f(P,", "),")")},NamedType:function(y){var D=y.name;return D},ListType:function(y){var D=y.type;return"["+D+"]"},NonNullType:function(y){var D=y.type;return D+"!"},SchemaDefinition:c(function(b){var y=b.directives,D=b.operationTypes;return f(["schema",f(y," "),w(D)]," ")}),OperationTypeDefinition:function(y){var D=y.operation,P=y.type;return D+": "+P},ScalarTypeDefinition:c(function(b){var y=b.name,D=b.directives;return f(["scalar",y,f(D," ")]," ")}),ObjectTypeDefinition:c(function(b){var y=b.name,D=b.interfaces,P=b.directives,L=b.fields;return f(["type",y,v("implements ",f(D," & ")),f(P," "),w(L)]," ")}),FieldDefinition:c(function(b){var y=b.name,D=b.arguments,P=b.type,L=b.directives;return y+(p(D)?v(`(
`,d(f(D,`
`)),`
)`):v("(",f(D,", "),")"))+": "+P+v(" ",f(L," "))}),InputValueDefinition:c(function(b){var y=b.name,D=b.type,P=b.defaultValue,L=b.directives;return f([y+": "+D,v("= ",P),f(L," ")]," ")}),InterfaceTypeDefinition:c(function(b){var y=b.name,D=b.interfaces,P=b.directives,L=b.fields;return f(["interface",y,v("implements ",f(D," & ")),f(P," "),w(L)]," ")}),UnionTypeDefinition:c(function(b){var y=b.name,D=b.directives,P=b.types;return f(["union",y,f(D," "),P&&P.length!==0?"= "+f(P," | "):""]," ")}),EnumTypeDefinition:c(function(b){var y=b.name,D=b.directives,P=b.values;return f(["enum",y,f(D," "),w(P)]," ")}),EnumValueDefinition:c(function(b){var y=b.name,D=b.directives;return f([y,f(D," ")]," ")}),InputObjectTypeDefinition:c(function(b){var y=b.name,D=b.directives,P=b.fields;return f(["input",y,f(D," "),w(P)]," ")}),DirectiveDefinition:c(function(b){var y=b.name,D=b.arguments,P=b.repeatable,L=b.locations;return"directive @"+y+(p(D)?v(`(
`,d(f(D,`
`)),`
)`):v("(",f(D,", "),")"))+(P?" repeatable":"")+" on "+f(L," | ")}),SchemaExtension:function(y){var D=y.directives,P=y.operationTypes;return f(["extend schema",f(D," "),w(P)]," ")},ScalarTypeExtension:function(y){var D=y.name,P=y.directives;return f(["extend scalar",D,f(P," ")]," ")},ObjectTypeExtension:function(y){var D=y.name,P=y.interfaces,L=y.directives,H=y.fields;return f(["extend type",D,v("implements ",f(P," & ")),f(L," "),w(H)]," ")},InterfaceTypeExtension:function(y){var D=y.name,P=y.interfaces,L=y.directives,H=y.fields;return f(["extend interface",D,v("implements ",f(P," & ")),f(L," "),w(H)]," ")},UnionTypeExtension:function(y){var D=y.name,P=y.directives,L=y.types;return f(["extend union",D,f(P," "),L&&L.length!==0?"= "+f(L," | "):""]," ")},EnumTypeExtension:function(y){var D=y.name,P=y.directives,L=y.values;return f(["extend enum",D,f(P," "),w(L)]," ")},InputObjectTypeExtension:function(y){var D=y.name,P=y.directives,L=y.fields;return f(["extend input",D,f(P," "),w(L)]," ")}};function c(b){return function(y){return f([y.description,b(y)],`
`)}}function f(b){var y,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(y=b==null?void 0:b.filter(function(P){return P}).join(D))!==null&&y!==void 0?y:""}function w(b){return v(`{
`,d(f(b,`
`)),`
}`)}function v(b,y){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return y!=null&&y!==""?b+y+D:""}function d(b){return v("  ",b.replace(/\n/g,`
  `))}function h(b){return b.indexOf(`
`)!==-1}function p(b){return b!=null&&b.some(h)}},80285:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.visit=u,Q.visitInParallel=c,Q.getVisitFn=f,Q.BREAK=Q.QueryDocumentKeys=void 0;var S=E(R(8002)),M=R(91807);function E(w){return w&&w.__esModule?w:{default:w}}var _={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};Q.QueryDocumentKeys=_;var l=Object.freeze({});Q.BREAK=l;function u(w,v){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_,h=void 0,p=Array.isArray(w),b=[w],y=-1,D=[],P=void 0,L=void 0,H=void 0,j=[],V=[],Y=w;do{y++;var K=y===b.length,ae=K&&D.length!==0;if(K){if(L=V.length===0?void 0:j[j.length-1],P=H,H=V.pop(),ae){if(p)P=P.slice();else{for(var ne={},ce=0,re=Object.keys(P);ce<re.length;ce++){var I=re[ce];ne[I]=P[I]}P=ne}for(var U=0,C=0;C<D.length;C++){var o=D[C][0],g=D[C][1];p&&(o-=U),p&&g===null?(P.splice(o,1),U++):P[o]=g}}y=h.index,b=h.keys,D=h.edits,p=h.inArray,h=h.prev}else{if(L=H?p?y:b[y]:void 0,P=H?H[L]:Y,P==null)continue;H&&j.push(L)}var N=void 0;if(!Array.isArray(P)){if(!(0,M.isNode)(P))throw new Error("Invalid AST Node: ".concat((0,S.default)(P),"."));var x=f(v,P.kind,K);if(x){if(N=x.call(v,P,L,H,j,V),N===l)break;if(N===!1){if(!K){j.pop();continue}}else if(N!==void 0&&(D.push([L,N]),!K))if((0,M.isNode)(N))P=N;else{j.pop();continue}}}if(N===void 0&&ae&&D.push([L,P]),K)j.pop();else{var F;h={inArray:p,index:y,keys:b,edits:D,prev:h},p=Array.isArray(P),b=p?P:(F=d[P.kind])!==null&&F!==void 0?F:[],y=-1,D=[],H&&V.push(H),H=P}}while(h!==void 0);return D.length!==0&&(Y=D[D.length-1][1]),Y}function c(w){var v=new Array(w.length);return{enter:function(h){for(var p=0;p<w.length;p++)if(v[p]==null){var b=f(w[p],h.kind,!1);if(b){var y=b.apply(w[p],arguments);if(y===!1)v[p]=h;else if(y===l)v[p]=l;else if(y!==void 0)return y}}},leave:function(h){for(var p=0;p<w.length;p++)if(v[p]==null){var b=f(w[p],h.kind,!0);if(b){var y=b.apply(w[p],arguments);if(y===l)v[p]=l;else if(y!==void 0&&y!==!1)return y}}else v[p]===h&&(v[p]=null)}}}function f(w,v,d){var h=w[v];if(h){if(!d&&typeof h=="function")return h;var p=d?h.leave:h.enter;if(typeof p=="function")return p}else{var b=d?w.leave:w.enter;if(b){if(typeof b=="function")return b;var y=b[v];if(typeof y=="function")return y}}}},3349:(s,Q,R)=>{"use strict";var S=R(89509).Buffer,M=R(70326).Transform,E=R(35717);function _(u,c){if(!S.isBuffer(u)&&typeof u!="string")throw new TypeError(c+" must be a string or a buffer")}function l(u){M.call(this),this._block=S.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}E(l,M),l.prototype._transform=function(u,c,f){var w=null;try{this.update(u,c)}catch(v){w=v}f(w)},l.prototype._flush=function(u){var c=null;try{this.push(this.digest())}catch(f){c=f}u(c)},l.prototype.update=function(u,c){if(_(u,"Data"),this._finalized)throw new Error("Digest already called");S.isBuffer(u)||(u=S.from(u,c));for(var f=this._block,w=0;this._blockOffset+u.length-w>=this._blockSize;){for(var v=this._blockOffset;v<this._blockSize;)f[v++]=u[w++];this._update(),this._blockOffset=0}for(;w<u.length;)f[this._blockOffset++]=u[w++];for(var d=0,h=u.length*8;h>0;++d)this._length[d]+=h,h=this._length[d]/4294967296|0,h>0&&(this._length[d]-=4294967296*h);return this},l.prototype._update=function(){throw new Error("_update is not implemented")},l.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();u!==void 0&&(c=c.toString(u)),this._block.fill(0),this._blockOffset=0;for(var f=0;f<4;++f)this._length[f]=0;return c},l.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=l},9786:s=>{"use strict";function Q(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,u.__proto__=c}var R={};function S(u,c,f){f||(f=Error);function w(d,h,p){return typeof c=="string"?c:c(d,h,p)}var v=function(d){Q(h,d);function h(p,b,y){return d.call(this,w(p,b,y))||this}return h}(f);v.prototype.name=f.name,v.prototype.code=u,R[u]=v}function M(u,c){if(Array.isArray(u)){var f=u.length;return u=u.map(function(w){return String(w)}),f>2?"one of ".concat(c," ").concat(u.slice(0,f-1).join(", "),", or ")+u[f-1]:f===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}else return"of ".concat(c," ").concat(String(u))}function E(u,c,f){return u.substr(!f||f<0?0:+f,c.length)===c}function _(u,c,f){return(f===void 0||f>u.length)&&(f=u.length),u.substring(f-c.length,f)===c}function l(u,c,f){return typeof f!="number"&&(f=0),f+c.length>u.length?!1:u.indexOf(c,f)!==-1}S("ERR_INVALID_OPT_VALUE",function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'},TypeError),S("ERR_INVALID_ARG_TYPE",function(u,c,f){var w;typeof c=="string"&&E(c,"not ")?(w="must not be",c=c.replace(/^not /,"")):w="must be";var v;if(_(u," argument"))v="The ".concat(u," ").concat(w," ").concat(M(c,"type"));else{var d=l(u,".")?"property":"argument";v='The "'.concat(u,'" ').concat(d," ").concat(w," ").concat(M(c,"type"))}return v+=". Received type ".concat(typeof f),v},TypeError),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),S("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),S("ERR_STREAM_PREMATURE_CLOSE","Premature close"),S("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),S("ERR_STREAM_WRITE_AFTER_END","write after end"),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.q=R},62910:(s,Q,R)=>{"use strict";var S=R(34155),M=Object.keys||function(d){var h=[];for(var p in d)h.push(p);return h};s.exports=f;var E=R(45789),_=R(70469);R(35717)(f,E);for(var l=M(_.prototype),u=0;u<l.length;u++){var c=l[u];f.prototype[c]||(f.prototype[c]=_.prototype[c])}function f(d){if(!(this instanceof f))return new f(d);E.call(this,d),_.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",w)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(){this._writableState.ended||S.nextTick(v,this)}function v(d){d.end()}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}})},58994:(s,Q,R)=>{"use strict";s.exports=M;var S=R(70421);R(35717)(M,S);function M(E){if(!(this instanceof M))return new M(E);S.call(this,E)}M.prototype._transform=function(E,_,l){l(null,E)}},45789:(s,Q,R)=>{"use strict";var S=R(34155);s.exports=I;var M;I.ReadableState=re;var E=R(17187).EventEmitter,_=function(B,se){return B.listeners(se).length},l=R(50677),u=R(48764).Buffer,c=R.g.Uint8Array||function(){};function f(q){return u.from(q)}function w(q){return u.isBuffer(q)||q instanceof c}var v=R(31616),d;v&&v.debuglog?d=v.debuglog("stream"):d=function(){};var h=R(98354),p=R(35072),b=R(31222),y=b.getHighWaterMark,D=R(9786).q,P=D.ERR_INVALID_ARG_TYPE,L=D.ERR_STREAM_PUSH_AFTER_EOF,H=D.ERR_METHOD_NOT_IMPLEMENTED,j=D.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,V,Y,K;R(35717)(I,l);var ae=p.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ce(q,B,se){if(typeof q.prependListener=="function")return q.prependListener(B,se);!q._events||!q._events[B]?q.on(B,se):Array.isArray(q._events[B])?q._events[B].unshift(se):q._events[B]=[se,q._events[B]]}function re(q,B,se){M=M||R(62910),q=q||{},typeof se!="boolean"&&(se=B instanceof M),this.objectMode=!!q.objectMode,se&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=y(this,q,"readableHighWaterMark",se),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(V||(V=R(32553).s),this.decoder=new V(q.encoding),this.encoding=q.encoding)}function I(q){if(M=M||R(62910),!(this instanceof I))return new I(q);var B=this instanceof M;this._readableState=new re(q,this,B),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),l.call(this)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(B){!this._readableState||(this._readableState.destroyed=B)}}),I.prototype.destroy=p.destroy,I.prototype._undestroy=p.undestroy,I.prototype._destroy=function(q,B){B(q)},I.prototype.push=function(q,B){var se=this._readableState,we;return se.objectMode?we=!0:typeof q=="string"&&(B=B||se.defaultEncoding,B!==se.encoding&&(q=u.from(q,B),B=""),we=!0),U(this,q,B,!1,we)},I.prototype.unshift=function(q){return U(this,q,null,!0,!1)};function U(q,B,se,we,ge){d("readableAddChunk",B);var pe=q._readableState;if(B===null)pe.reading=!1,F(q,pe);else{var Pe;if(ge||(Pe=o(pe,B)),Pe)ae(q,Pe);else if(pe.objectMode||B&&B.length>0)if(typeof B!="string"&&!pe.objectMode&&Object.getPrototypeOf(B)!==u.prototype&&(B=f(B)),we)pe.endEmitted?ae(q,new j):C(q,pe,B,!0);else if(pe.ended)ae(q,new L);else{if(pe.destroyed)return!1;pe.reading=!1,pe.decoder&&!se?(B=pe.decoder.write(B),pe.objectMode||B.length!==0?C(q,pe,B,!1):z(q,pe)):C(q,pe,B,!1)}else we||(pe.reading=!1,z(q,pe))}return!pe.ended&&(pe.length<pe.highWaterMark||pe.length===0)}function C(q,B,se,we){B.flowing&&B.length===0&&!B.sync?(B.awaitDrain=0,q.emit("data",se)):(B.length+=B.objectMode?1:se.length,we?B.buffer.unshift(se):B.buffer.push(se),B.needReadable&&A(q)),z(q,B)}function o(q,B){var se;return!w(B)&&typeof B!="string"&&B!==void 0&&!q.objectMode&&(se=new P("chunk",["string","Buffer","Uint8Array"],B)),se}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(q){V||(V=R(32553).s);var B=new V(q);this._readableState.decoder=B,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,we="";se!==null;)we+=B.write(se.data),se=se.next;return this._readableState.buffer.clear(),we!==""&&this._readableState.buffer.push(we),this._readableState.length=we.length,this};var g=1073741824;function N(q){return q>=g?q=g:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function x(q,B){return q<=0||B.length===0&&B.ended?0:B.objectMode?1:q!==q?B.flowing&&B.length?B.buffer.head.data.length:B.length:(q>B.highWaterMark&&(B.highWaterMark=N(q)),q<=B.length?q:B.ended?B.length:(B.needReadable=!0,0))}I.prototype.read=function(q){d("read",q),q=parseInt(q,10);var B=this._readableState,se=q;if(q!==0&&(B.emittedReadable=!1),q===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return d("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?me(this):A(this),null;if(q=x(q,B),q===0&&B.ended)return B.length===0&&me(this),null;var we=B.needReadable;d("need readable",we),(B.length===0||B.length-q<B.highWaterMark)&&(we=!0,d("length less than watermark",we)),B.ended||B.reading?(we=!1,d("reading or ended",we)):we&&(d("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(q=x(se,B)));var ge;return q>0?ge=te(q,B):ge=null,ge===null?(B.needReadable=B.length<=B.highWaterMark,q=0):(B.length-=q,B.awaitDrain=0),B.length===0&&(B.ended||(B.needReadable=!0),se!==q&&B.ended&&me(this)),ge!==null&&this.emit("data",ge),ge};function F(q,B){if(d("onEofChunk"),!B.ended){if(B.decoder){var se=B.decoder.end();se&&se.length&&(B.buffer.push(se),B.length+=B.objectMode?1:se.length)}B.ended=!0,B.sync?A(q):(B.needReadable=!1,B.emittedReadable||(B.emittedReadable=!0,$(q)))}}function A(q){var B=q._readableState;d("emitReadable",B.needReadable,B.emittedReadable),B.needReadable=!1,B.emittedReadable||(d("emitReadable",B.flowing),B.emittedReadable=!0,S.nextTick($,q))}function $(q){var B=q._readableState;d("emitReadable_",B.destroyed,B.length,B.ended),!B.destroyed&&(B.length||B.ended)&&(q.emit("readable"),B.emittedReadable=!1),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,J(q)}function z(q,B){B.readingMore||(B.readingMore=!0,S.nextTick(T,q,B))}function T(q,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){var se=B.length;if(d("maybeReadMore read 0"),q.read(0),se===B.length)break}B.readingMore=!1}I.prototype._read=function(q){ae(this,new H("_read()"))},I.prototype.pipe=function(q,B){var se=this,we=this._readableState;switch(we.pipesCount){case 0:we.pipes=q;break;case 1:we.pipes=[we.pipes,q];break;default:we.pipes.push(q);break}we.pipesCount+=1,d("pipe count=%d opts=%j",we.pipesCount,B);var ge=(!B||B.end!==!1)&&q!==S.stdout&&q!==S.stderr,pe=ge?Oe:ie;we.endEmitted?S.nextTick(pe):se.once("end",pe),q.on("unpipe",Pe);function Pe(he,Ce){d("onunpipe"),he===se&&Ce&&Ce.hasUnpiped===!1&&(Ce.hasUnpiped=!0,je())}function Oe(){d("onend"),q.end()}var Ue=ee(se);q.on("drain",Ue);var pt=!1;function je(){d("cleanup"),q.removeListener("close",le),q.removeListener("finish",W),q.removeListener("drain",Ue),q.removeListener("error",lt),q.removeListener("unpipe",Pe),se.removeListener("end",Oe),se.removeListener("end",ie),se.removeListener("data",Je),pt=!0,we.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&Ue()}se.on("data",Je);function Je(he){d("ondata");var Ce=q.write(he);d("dest.write",Ce),Ce===!1&&((we.pipesCount===1&&we.pipes===q||we.pipesCount>1&&_e(we.pipes,q)!==-1)&&!pt&&(d("false write response, pause",we.awaitDrain),we.awaitDrain++),se.pause())}function lt(he){d("onerror",he),ie(),q.removeListener("error",lt),_(q,"error")===0&&ae(q,he)}ce(q,"error",lt);function le(){q.removeListener("finish",W),ie()}q.once("close",le);function W(){d("onfinish"),q.removeListener("close",le),ie()}q.once("finish",W);function ie(){d("unpipe"),se.unpipe(q)}return q.emit("pipe",se),we.flowing||(d("pipe resume"),se.resume()),q};function ee(q){return function(){var se=q._readableState;d("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&_(q,"data")&&(se.flowing=!0,J(q))}}I.prototype.unpipe=function(q){var B=this._readableState,se={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return q&&q!==B.pipes?this:(q||(q=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,q&&q.emit("unpipe",this,se),this);if(!q){var we=B.pipes,ge=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var pe=0;pe<ge;pe++)we[pe].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=_e(B.pipes,q);return Pe===-1?this:(B.pipes.splice(Pe,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),q.emit("unpipe",this,se),this)},I.prototype.on=function(q,B){var se=l.prototype.on.call(this,q,B),we=this._readableState;return q==="data"?(we.readableListening=this.listenerCount("readable")>0,we.flowing!==!1&&this.resume()):q==="readable"&&!we.endEmitted&&!we.readableListening&&(we.readableListening=we.needReadable=!0,we.flowing=!1,we.emittedReadable=!1,d("on readable",we.length,we.reading),we.length?A(this):we.reading||S.nextTick(ye,this)),se},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(q,B){var se=l.prototype.removeListener.call(this,q,B);return q==="readable"&&S.nextTick(xe,this),se},I.prototype.removeAllListeners=function(q){var B=l.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&S.nextTick(xe,this),B};function xe(q){var B=q._readableState;B.readableListening=q.listenerCount("readable")>0,B.resumeScheduled&&!B.paused?B.flowing=!0:q.listenerCount("data")>0&&q.resume()}function ye(q){d("readable nexttick read 0"),q.read(0)}I.prototype.resume=function(){var q=this._readableState;return q.flowing||(d("resume"),q.flowing=!q.readableListening,Re(this,q)),q.paused=!1,this};function Re(q,B){B.resumeScheduled||(B.resumeScheduled=!0,S.nextTick(Ee,q,B))}function Ee(q,B){d("resume",B.reading),B.reading||q.read(0),B.resumeScheduled=!1,q.emit("resume"),J(q),B.flowing&&!B.reading&&q.read(0)}I.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(q){var B=q._readableState;for(d("flow",B.flowing);B.flowing&&q.read()!==null;);}I.prototype.wrap=function(q){var B=this,se=this._readableState,we=!1;q.on("end",function(){if(d("wrapped end"),se.decoder&&!se.ended){var Pe=se.decoder.end();Pe&&Pe.length&&B.push(Pe)}B.push(null)}),q.on("data",function(Pe){if(d("wrapped data"),se.decoder&&(Pe=se.decoder.write(Pe)),!(se.objectMode&&Pe==null)&&!(!se.objectMode&&(!Pe||!Pe.length))){var Oe=B.push(Pe);Oe||(we=!0,q.pause())}});for(var ge in q)this[ge]===void 0&&typeof q[ge]=="function"&&(this[ge]=function(Oe){return function(){return q[Oe].apply(q,arguments)}}(ge));for(var pe=0;pe<ne.length;pe++)q.on(ne[pe],this.emit.bind(this,ne[pe]));return this._read=function(Pe){d("wrapped _read",Pe),we&&(we=!1,q.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return Y===void 0&&(Y=R(30527)),Y(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}}),I._fromList=te,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(q,B){if(B.length===0)return null;var se;return B.objectMode?se=B.buffer.shift():!q||q>=B.length?(B.decoder?se=B.buffer.join(""):B.buffer.length===1?se=B.buffer.first():se=B.buffer.concat(B.length),B.buffer.clear()):se=B.buffer.consume(q,B.decoder),se}function me(q){var B=q._readableState;d("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,S.nextTick(fe,B,q))}function fe(q,B){if(d("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,B.readable=!1,B.emit("end"),q.autoDestroy)){var se=B._writableState;(!se||se.autoDestroy&&se.finished)&&B.destroy()}}typeof Symbol=="function"&&(I.from=function(q,B){return K===void 0&&(K=R(5327)),K(I,q,B)});function _e(q,B){for(var se=0,we=q.length;se<we;se++)if(q[se]===B)return se;return-1}},70421:(s,Q,R)=>{"use strict";s.exports=f;var S=R(9786).q,M=S.ERR_METHOD_NOT_IMPLEMENTED,E=S.ERR_MULTIPLE_CALLBACK,_=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=S.ERR_TRANSFORM_WITH_LENGTH_0,u=R(62910);R(35717)(f,u);function c(d,h){var p=this._transformState;p.transforming=!1;var b=p.writecb;if(b===null)return this.emit("error",new E);p.writechunk=null,p.writecb=null,h!=null&&this.push(h),b(d);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function f(d){if(!(this instanceof f))return new f(d);u.call(this,d),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",w)}function w(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,p){v(d,h,p)}):v(this,null,null)}f.prototype.push=function(d,h){return this._transformState.needTransform=!1,u.prototype.push.call(this,d,h)},f.prototype._transform=function(d,h,p){p(new M("_transform()"))},f.prototype._write=function(d,h,p){var b=this._transformState;if(b.writecb=p,b.writechunk=d,b.writeencoding=h,!b.transforming){var y=this._readableState;(b.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},f.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},f.prototype._destroy=function(d,h){u.prototype._destroy.call(this,d,function(p){h(p)})};function v(d,h,p){if(h)return d.emit("error",h);if(p!=null&&d.push(p),d._writableState.length)throw new l;if(d._transformState.transforming)throw new _;return d.push(null)}},70469:(s,Q,R)=>{"use strict";var S=R(34155);s.exports=re;function M(J,te,me){this.chunk=J,this.encoding=te,this.callback=me,this.next=null}function E(J){var te=this;this.next=null,this.entry=null,this.finish=function(){Ee(te,J)}}var _;re.WritableState=ne;var l={deprecate:R(94927)},u=R(50677),c=R(48764).Buffer,f=R.g.Uint8Array||function(){};function w(J){return c.from(J)}function v(J){return c.isBuffer(J)||J instanceof f}var d=R(35072),h=R(31222),p=h.getHighWaterMark,b=R(9786).q,y=b.ERR_INVALID_ARG_TYPE,D=b.ERR_METHOD_NOT_IMPLEMENTED,P=b.ERR_MULTIPLE_CALLBACK,L=b.ERR_STREAM_CANNOT_PIPE,H=b.ERR_STREAM_DESTROYED,j=b.ERR_STREAM_NULL_VALUES,V=b.ERR_STREAM_WRITE_AFTER_END,Y=b.ERR_UNKNOWN_ENCODING,K=d.errorOrDestroy;R(35717)(re,u);function ae(){}function ne(J,te,me){_=_||R(62910),J=J||{},typeof me!="boolean"&&(me=te instanceof _),this.objectMode=!!J.objectMode,me&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=p(this,J,"writableHighWaterMark",me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var fe=J.decodeStrings===!1;this.decodeStrings=!fe,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){F(te,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this)}ne.prototype.getBuffer=function(){for(var te=this.bufferedRequest,me=[];te;)me.push(te),te=te.next;return me},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(J){}}();var ce;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ce=Function.prototype[Symbol.hasInstance],Object.defineProperty(re,Symbol.hasInstance,{value:function(te){return ce.call(this,te)?!0:this!==re?!1:te&&te._writableState instanceof ne}})):ce=function(te){return te instanceof this};function re(J){_=_||R(62910);var te=this instanceof _;if(!te&&!ce.call(re,this))return new re(J);this._writableState=new ne(J,this,te),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),u.call(this)}re.prototype.pipe=function(){K(this,new L)};function I(J,te){var me=new V;K(J,me),S.nextTick(te,me)}function U(J,te,me,fe){var _e;return me===null?_e=new j:typeof me!="string"&&!te.objectMode&&(_e=new y("chunk",["string","Buffer"],me)),_e?(K(J,_e),S.nextTick(fe,_e),!1):!0}re.prototype.write=function(J,te,me){var fe=this._writableState,_e=!1,q=!fe.objectMode&&v(J);return q&&!c.isBuffer(J)&&(J=w(J)),typeof te=="function"&&(me=te,te=null),q?te="buffer":te||(te=fe.defaultEncoding),typeof me!="function"&&(me=ae),fe.ending?I(this,me):(q||U(this,fe,J,me))&&(fe.pendingcb++,_e=o(this,fe,q,J,te,me)),_e},re.prototype.cork=function(){this._writableState.corked++},re.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&z(this,J))},re.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new Y(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(re.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(J,te,me){return!J.objectMode&&J.decodeStrings!==!1&&typeof te=="string"&&(te=c.from(te,me)),te}Object.defineProperty(re.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(J,te,me,fe,_e,q){if(!me){var B=C(te,fe,_e);fe!==B&&(me=!0,_e="buffer",fe=B)}var se=te.objectMode?1:fe.length;te.length+=se;var we=te.length<te.highWaterMark;if(we||(te.needDrain=!0),te.writing||te.corked){var ge=te.lastBufferedRequest;te.lastBufferedRequest={chunk:fe,encoding:_e,isBuf:me,callback:q,next:null},ge?ge.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else g(J,te,!1,se,fe,_e,q);return we}function g(J,te,me,fe,_e,q,B){te.writelen=fe,te.writecb=B,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new H("write")):me?J._writev(_e,te.onwrite):J._write(_e,q,te.onwrite),te.sync=!1}function N(J,te,me,fe,_e){--te.pendingcb,me?(S.nextTick(_e,fe),S.nextTick(ye,J,te),J._writableState.errorEmitted=!0,K(J,fe)):(_e(fe),J._writableState.errorEmitted=!0,K(J,fe),ye(J,te))}function x(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function F(J,te){var me=J._writableState,fe=me.sync,_e=me.writecb;if(typeof _e!="function")throw new P;if(x(me),te)N(J,me,fe,te,_e);else{var q=T(me)||J.destroyed;!q&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&z(J,me),fe?S.nextTick(A,J,me,q,_e):A(J,me,q,_e)}}function A(J,te,me,fe){me||$(J,te),te.pendingcb--,fe(),ye(J,te)}function $(J,te){te.length===0&&te.needDrain&&(te.needDrain=!1,J.emit("drain"))}function z(J,te){te.bufferProcessing=!0;var me=te.bufferedRequest;if(J._writev&&me&&me.next){var fe=te.bufferedRequestCount,_e=new Array(fe),q=te.corkedRequestsFree;q.entry=me;for(var B=0,se=!0;me;)_e[B]=me,me.isBuf||(se=!1),me=me.next,B+=1;_e.allBuffers=se,g(J,te,!0,te.length,_e,"",q.finish),te.pendingcb++,te.lastBufferedRequest=null,q.next?(te.corkedRequestsFree=q.next,q.next=null):te.corkedRequestsFree=new E(te),te.bufferedRequestCount=0}else{for(;me;){var we=me.chunk,ge=me.encoding,pe=me.callback,Pe=te.objectMode?1:we.length;if(g(J,te,!1,Pe,we,ge,pe),me=me.next,te.bufferedRequestCount--,te.writing)break}me===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=me,te.bufferProcessing=!1}re.prototype._write=function(J,te,me){me(new D("_write()"))},re.prototype._writev=null,re.prototype.end=function(J,te,me){var fe=this._writableState;return typeof J=="function"?(me=J,J=null,te=null):typeof te=="function"&&(me=te,te=null),J!=null&&this.write(J,te),fe.corked&&(fe.corked=1,this.uncork()),fe.ending||Re(this,fe,me),this},Object.defineProperty(re.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function T(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function ee(J,te){J._final(function(me){te.pendingcb--,me&&K(J,me),te.prefinished=!0,J.emit("prefinish"),ye(J,te)})}function xe(J,te){!te.prefinished&&!te.finalCalled&&(typeof J._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,S.nextTick(ee,J,te)):(te.prefinished=!0,J.emit("prefinish")))}function ye(J,te){var me=T(te);if(me&&(xe(J,te),te.pendingcb===0&&(te.finished=!0,J.emit("finish"),te.autoDestroy))){var fe=J._readableState;(!fe||fe.autoDestroy&&fe.endEmitted)&&J.destroy()}return me}function Re(J,te,me){te.ending=!0,ye(J,te),me&&(te.finished?S.nextTick(me):J.once("finish",me)),te.ended=!0,J.writable=!1}function Ee(J,te,me){var fe=J.entry;for(J.entry=null;fe;){var _e=fe.callback;te.pendingcb--,_e(me),fe=fe.next}te.corkedRequestsFree.next=J}Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){!this._writableState||(this._writableState.destroyed=te)}}),re.prototype.destroy=d.destroy,re.prototype._undestroy=d.undestroy,re.prototype._destroy=function(J,te){te(J)}},30527:(s,Q,R)=>{"use strict";var S=R(34155),M;function E(H,j,V){return j in H?Object.defineProperty(H,j,{value:V,enumerable:!0,configurable:!0,writable:!0}):H[j]=V,H}var _=R(28640),l=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),f=Symbol("ended"),w=Symbol("lastPromise"),v=Symbol("handlePromise"),d=Symbol("stream");function h(H,j){return{value:H,done:j}}function p(H){var j=H[l];if(j!==null){var V=H[d].read();V!==null&&(H[w]=null,H[l]=null,H[u]=null,j(h(V,!1)))}}function b(H){S.nextTick(p,H)}function y(H,j){return function(V,Y){H.then(function(){if(j[f]){V(h(void 0,!0));return}j[v](V,Y)},Y)}}var D=Object.getPrototypeOf(function(){}),P=Object.setPrototypeOf((M={get stream(){return this[d]},next:function(){var j=this,V=this[c];if(V!==null)return Promise.reject(V);if(this[f])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise(function(ne,ce){S.nextTick(function(){j[c]?ce(j[c]):ne(h(void 0,!0))})});var Y=this[w],K;if(Y)K=new Promise(y(Y,this));else{var ae=this[d].read();if(ae!==null)return Promise.resolve(h(ae,!1));K=new Promise(this[v])}return this[w]=K,K}},E(M,Symbol.asyncIterator,function(){return this}),E(M,"return",function(){var j=this;return new Promise(function(V,Y){j[d].destroy(null,function(K){if(K){Y(K);return}V(h(void 0,!0))})})}),M),D),L=function(j){var V,Y=Object.create(P,(V={},E(V,d,{value:j,writable:!0}),E(V,l,{value:null,writable:!0}),E(V,u,{value:null,writable:!0}),E(V,c,{value:null,writable:!0}),E(V,f,{value:j._readableState.endEmitted,writable:!0}),E(V,v,{value:function(ae,ne){var ce=Y[d].read();ce?(Y[w]=null,Y[l]=null,Y[u]=null,ae(h(ce,!1))):(Y[l]=ae,Y[u]=ne)},writable:!0}),V));return Y[w]=null,_(j,function(K){if(K&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ae=Y[u];ae!==null&&(Y[w]=null,Y[l]=null,Y[u]=null,ae(K)),Y[c]=K;return}var ne=Y[l];ne!==null&&(Y[w]=null,Y[l]=null,Y[u]=null,ne(h(void 0,!0))),Y[f]=!0}),j.on("readable",b.bind(null,Y)),Y};s.exports=L},98354:(s,Q,R)=>{"use strict";function S(p,b){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(p);b&&(D=D.filter(function(P){return Object.getOwnPropertyDescriptor(p,P).enumerable})),y.push.apply(y,D)}return y}function M(p){for(var b=1;b<arguments.length;b++){var y=arguments[b]!=null?arguments[b]:{};b%2?S(Object(y),!0).forEach(function(D){E(p,D,y[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):S(Object(y)).forEach(function(D){Object.defineProperty(p,D,Object.getOwnPropertyDescriptor(y,D))})}return p}function E(p,b,y){return b in p?Object.defineProperty(p,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[b]=y,p}function _(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function l(p,b){for(var y=0;y<b.length;y++){var D=b[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,D.key,D)}}function u(p,b,y){return b&&l(p.prototype,b),y&&l(p,y),p}var c=R(48764),f=c.Buffer,w=R(69386),v=w.inspect,d=v&&v.custom||"inspect";function h(p,b,y){f.prototype.copy.call(p,b,y)}s.exports=function(){function p(){_(this,p),this.head=null,this.tail=null,this.length=0}return u(p,[{key:"push",value:function(y){var D={data:y,next:null};this.length>0?this.tail.next=D:this.head=D,this.tail=D,++this.length}},{key:"unshift",value:function(y){var D={data:y,next:this.head};this.length===0&&(this.tail=D),this.head=D,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var D=this.head,P=""+D.data;D=D.next;)P+=y+D.data;return P}},{key:"concat",value:function(y){if(this.length===0)return f.alloc(0);for(var D=f.allocUnsafe(y>>>0),P=this.head,L=0;P;)h(P.data,D,L),L+=P.data.length,P=P.next;return D}},{key:"consume",value:function(y,D){var P;return y<this.head.data.length?(P=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?P=this.shift():P=D?this._getString(y):this._getBuffer(y),P}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var D=this.head,P=1,L=D.data;for(y-=L.length;D=D.next;){var H=D.data,j=y>H.length?H.length:y;if(j===H.length?L+=H:L+=H.slice(0,y),y-=j,y===0){j===H.length?(++P,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=H.slice(j));break}++P}return this.length-=P,L}},{key:"_getBuffer",value:function(y){var D=f.allocUnsafe(y),P=this.head,L=1;for(P.data.copy(D),y-=P.data.length;P=P.next;){var H=P.data,j=y>H.length?H.length:y;if(H.copy(D,D.length-y,0,j),y-=j,y===0){j===H.length?(++L,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=H.slice(j));break}++L}return this.length-=L,D}},{key:d,value:function(y,D){return v(this,M({},D,{depth:0,customInspect:!1}))}}]),p}()},35072:(s,Q,R)=>{"use strict";var S=R(34155);function M(f,w){var v=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(w?w(f):f&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,S.nextTick(u,this,f)):S.nextTick(u,this,f)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(p){!w&&p?v._writableState?v._writableState.errorEmitted?S.nextTick(_,v):(v._writableState.errorEmitted=!0,S.nextTick(E,v,p)):S.nextTick(E,v,p):w?(S.nextTick(_,v),w(p)):S.nextTick(_,v)}),this)}function E(f,w){u(f,w),_(f)}function _(f){f._writableState&&!f._writableState.emitClose||f._readableState&&!f._readableState.emitClose||f.emit("close")}function l(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(f,w){f.emit("error",w)}function c(f,w){var v=f._readableState,d=f._writableState;v&&v.autoDestroy||d&&d.autoDestroy?f.destroy(w):f.emit("error",w)}s.exports={destroy:M,undestroy:l,errorOrDestroy:c}},28640:(s,Q,R)=>{"use strict";var S=R(9786).q.ERR_STREAM_PREMATURE_CLOSE;function M(u){var c=!1;return function(){if(!c){c=!0;for(var f=arguments.length,w=new Array(f),v=0;v<f;v++)w[v]=arguments[v];u.apply(this,w)}}}function E(){}function _(u){return u.setHeader&&typeof u.abort=="function"}function l(u,c,f){if(typeof c=="function")return l(u,null,c);c||(c={}),f=M(f||E);var w=c.readable||c.readable!==!1&&u.readable,v=c.writable||c.writable!==!1&&u.writable,d=function(){u.writable||p()},h=u._writableState&&u._writableState.finished,p=function(){v=!1,h=!0,w||f.call(u)},b=u._readableState&&u._readableState.endEmitted,y=function(){w=!1,b=!0,v||f.call(u)},D=function(j){f.call(u,j)},P=function(){var j;if(w&&!b)return(!u._readableState||!u._readableState.ended)&&(j=new S),f.call(u,j);if(v&&!h)return(!u._writableState||!u._writableState.ended)&&(j=new S),f.call(u,j)},L=function(){u.req.on("finish",p)};return _(u)?(u.on("complete",p),u.on("abort",P),u.req?L():u.on("request",L)):v&&!u._writableState&&(u.on("end",d),u.on("close",d)),u.on("end",y),u.on("finish",p),c.error!==!1&&u.on("error",D),u.on("close",P),function(){u.removeListener("complete",p),u.removeListener("abort",P),u.removeListener("request",L),u.req&&u.req.removeListener("finish",p),u.removeListener("end",d),u.removeListener("close",d),u.removeListener("finish",p),u.removeListener("end",y),u.removeListener("error",D),u.removeListener("close",P)}}s.exports=l},5327:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},64218:(s,Q,R)=>{"use strict";var S;function M(p){var b=!1;return function(){b||(b=!0,p.apply(void 0,arguments))}}var E=R(9786).q,_=E.ERR_MISSING_ARGS,l=E.ERR_STREAM_DESTROYED;function u(p){if(p)throw p}function c(p){return p.setHeader&&typeof p.abort=="function"}function f(p,b,y,D){D=M(D);var P=!1;p.on("close",function(){P=!0}),S===void 0&&(S=R(28640)),S(p,{readable:b,writable:y},function(H){if(H)return D(H);P=!0,D()});var L=!1;return function(H){if(!P&&!L){if(L=!0,c(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();D(H||new l("pipe"))}}}function w(p){p()}function v(p,b){return p.pipe(b)}function d(p){return!p.length||typeof p[p.length-1]!="function"?u:p.pop()}function h(){for(var p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];var D=d(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new _("streams");var P,L=b.map(function(H,j){var V=j<b.length-1,Y=j>0;return f(H,V,Y,function(K){P||(P=K),K&&L.forEach(w),!V&&(L.forEach(w),D(P))})});return b.reduce(v)}s.exports=h},31222:(s,Q,R)=>{"use strict";var S=R(9786).q.ERR_INVALID_OPT_VALUE;function M(_,l,u){return _.highWaterMark!=null?_.highWaterMark:l?_[u]:null}function E(_,l,u,c){var f=M(l,c,u);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var w=c?u:"highWaterMark";throw new S(w,f)}return Math.floor(f)}return _.objectMode?16:16*1024}s.exports={getHighWaterMark:E}},50677:(s,Q,R)=>{s.exports=R(17187).EventEmitter},70326:(s,Q,R)=>{Q=s.exports=R(45789),Q.Stream=Q,Q.Readable=Q,Q.Writable=R(70469),Q.Duplex=R(62910),Q.Transform=R(70421),Q.PassThrough=R(58994),Q.finished=R(28640),Q.pipeline=R(64218)},33715:(s,Q,R)=>{var S=Q;S.utils=R(26436),S.common=R(95772),S.sha=R(89041),S.ripemd=R(12949),S.hmac=R(52344),S.sha1=S.sha.sha1,S.sha256=S.sha.sha256,S.sha224=S.sha.sha224,S.sha384=S.sha.sha384,S.sha512=S.sha.sha512,S.ripemd160=S.ripemd.ripemd160},95772:(s,Q,R)=>{"use strict";var S=R(26436),M=R(79746);function E(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Q.BlockHash=E,E.prototype.update=function(l,u){if(l=S.toArray(l,u),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){l=this.pending;var c=l.length%this._delta8;this.pending=l.slice(l.length-c,l.length),this.pending.length===0&&(this.pending=null),l=S.join32(l,0,l.length-c,this.endian);for(var f=0;f<l.length;f+=this._delta32)this._update(l,f,f+this._delta32)}return this},E.prototype.digest=function(l){return this.update(this._pad()),M(this.pending===null),this._digest(l)},E.prototype._pad=function(){var l=this.pendingTotal,u=this._delta8,c=u-(l+this.padLength)%u,f=new Array(c+this.padLength);f[0]=128;for(var w=1;w<c;w++)f[w]=0;if(l<<=3,this.endian==="big"){for(var v=8;v<this.padLength;v++)f[w++]=0;f[w++]=0,f[w++]=0,f[w++]=0,f[w++]=0,f[w++]=l>>>24&255,f[w++]=l>>>16&255,f[w++]=l>>>8&255,f[w++]=l&255}else for(f[w++]=l&255,f[w++]=l>>>8&255,f[w++]=l>>>16&255,f[w++]=l>>>24&255,f[w++]=0,f[w++]=0,f[w++]=0,f[w++]=0,v=8;v<this.padLength;v++)f[w++]=0;return f}},52344:(s,Q,R)=>{"use strict";var S=R(26436),M=R(79746);function E(_,l,u){if(!(this instanceof E))return new E(_,l,u);this.Hash=_,this.blockSize=_.blockSize/8,this.outSize=_.outSize/8,this.inner=null,this.outer=null,this._init(S.toArray(l,u))}s.exports=E,E.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),M(l.length<=this.blockSize);for(var u=l.length;u<this.blockSize;u++)l.push(0);for(u=0;u<l.length;u++)l[u]^=54;for(this.inner=new this.Hash().update(l),u=0;u<l.length;u++)l[u]^=106;this.outer=new this.Hash().update(l)},E.prototype.update=function(l,u){return this.inner.update(l,u),this},E.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},12949:(s,Q,R)=>{"use strict";var S=R(26436),M=R(95772),E=S.rotl32,_=S.sum32,l=S.sum32_3,u=S.sum32_4,c=M.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}S.inherits(f,c),Q.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(P,L){for(var H=this.h[0],j=this.h[1],V=this.h[2],Y=this.h[3],K=this.h[4],ae=H,ne=j,ce=V,re=Y,I=K,U=0;U<80;U++){var C=_(E(u(H,w(U,j,V,Y),P[h[U]+L],v(U)),b[U]),K);H=K,K=Y,Y=E(V,10),V=j,j=C,C=_(E(u(ae,w(79-U,ne,ce,re),P[p[U]+L],d(U)),y[U]),I),ae=I,I=re,re=E(ce,10),ce=ne,ne=C}C=l(this.h[1],V,re),this.h[1]=l(this.h[2],Y,I),this.h[2]=l(this.h[3],K,ae),this.h[3]=l(this.h[4],H,ne),this.h[4]=l(this.h[0],j,ce),this.h[0]=C},f.prototype._digest=function(P){return P==="hex"?S.toHex32(this.h,"little"):S.split32(this.h,"little")};function w(D,P,L,H){return D<=15?P^L^H:D<=31?P&L|~P&H:D<=47?(P|~L)^H:D<=63?P&H|L&~H:P^(L|~H)}function v(D){return D<=15?0:D<=31?1518500249:D<=47?1859775393:D<=63?2400959708:2840853838}function d(D){return D<=15?1352829926:D<=31?1548603684:D<=47?1836072691:D<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:(s,Q,R)=>{"use strict";Q.sha1=R(84761),Q.sha224=R(10799),Q.sha256=R(89344),Q.sha384=R(80772),Q.sha512=R(45900)},84761:(s,Q,R)=>{"use strict";var S=R(26436),M=R(95772),E=R(37038),_=S.rotl32,l=S.sum32,u=S.sum32_5,c=E.ft_1,f=M.BlockHash,w=[1518500249,1859775393,2400959708,3395469782];function v(){if(!(this instanceof v))return new v;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}S.inherits(v,f),s.exports=v,v.blockSize=512,v.outSize=160,v.hmacStrength=80,v.padLength=64,v.prototype._update=function(h,p){for(var b=this.W,y=0;y<16;y++)b[y]=h[p+y];for(;y<b.length;y++)b[y]=_(b[y-3]^b[y-8]^b[y-14]^b[y-16],1);var D=this.h[0],P=this.h[1],L=this.h[2],H=this.h[3],j=this.h[4];for(y=0;y<b.length;y++){var V=~~(y/20),Y=u(_(D,5),c(V,P,L,H),j,b[y],w[V]);j=H,H=L,L=_(P,30),P=D,D=Y}this.h[0]=l(this.h[0],D),this.h[1]=l(this.h[1],P),this.h[2]=l(this.h[2],L),this.h[3]=l(this.h[3],H),this.h[4]=l(this.h[4],j)},v.prototype._digest=function(h){return h==="hex"?S.toHex32(this.h,"big"):S.split32(this.h,"big")}},10799:(s,Q,R)=>{"use strict";var S=R(26436),M=R(89344);function E(){if(!(this instanceof E))return new E;M.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}S.inherits(E,M),s.exports=E,E.blockSize=512,E.outSize=224,E.hmacStrength=192,E.padLength=64,E.prototype._digest=function(l){return l==="hex"?S.toHex32(this.h.slice(0,7),"big"):S.split32(this.h.slice(0,7),"big")}},89344:(s,Q,R)=>{"use strict";var S=R(26436),M=R(95772),E=R(37038),_=R(79746),l=S.sum32,u=S.sum32_4,c=S.sum32_5,f=E.ch32,w=E.maj32,v=E.s0_256,d=E.s1_256,h=E.g0_256,p=E.g1_256,b=M.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function D(){if(!(this instanceof D))return new D;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}S.inherits(D,b),s.exports=D,D.blockSize=512,D.outSize=256,D.hmacStrength=192,D.padLength=64,D.prototype._update=function(L,H){for(var j=this.W,V=0;V<16;V++)j[V]=L[H+V];for(;V<j.length;V++)j[V]=u(p(j[V-2]),j[V-7],h(j[V-15]),j[V-16]);var Y=this.h[0],K=this.h[1],ae=this.h[2],ne=this.h[3],ce=this.h[4],re=this.h[5],I=this.h[6],U=this.h[7];for(_(this.k.length===j.length),V=0;V<j.length;V++){var C=c(U,d(ce),f(ce,re,I),this.k[V],j[V]),o=l(v(Y),w(Y,K,ae));U=I,I=re,re=ce,ce=l(ne,C),ne=ae,ae=K,K=Y,Y=l(C,o)}this.h[0]=l(this.h[0],Y),this.h[1]=l(this.h[1],K),this.h[2]=l(this.h[2],ae),this.h[3]=l(this.h[3],ne),this.h[4]=l(this.h[4],ce),this.h[5]=l(this.h[5],re),this.h[6]=l(this.h[6],I),this.h[7]=l(this.h[7],U)},D.prototype._digest=function(L){return L==="hex"?S.toHex32(this.h,"big"):S.split32(this.h,"big")}},80772:(s,Q,R)=>{"use strict";var S=R(26436),M=R(45900);function E(){if(!(this instanceof E))return new E;M.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}S.inherits(E,M),s.exports=E,E.blockSize=1024,E.outSize=384,E.hmacStrength=192,E.padLength=128,E.prototype._digest=function(l){return l==="hex"?S.toHex32(this.h.slice(0,12),"big"):S.split32(this.h.slice(0,12),"big")}},45900:(s,Q,R)=>{"use strict";var S=R(26436),M=R(95772),E=R(79746),_=S.rotr64_hi,l=S.rotr64_lo,u=S.shr64_hi,c=S.shr64_lo,f=S.sum64,w=S.sum64_hi,v=S.sum64_lo,d=S.sum64_4_hi,h=S.sum64_4_lo,p=S.sum64_5_hi,b=S.sum64_5_lo,y=M.BlockHash,D=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function P(){if(!(this instanceof P))return new P;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=D,this.W=new Array(160)}S.inherits(P,y),s.exports=P,P.blockSize=1024,P.outSize=512,P.hmacStrength=192,P.padLength=128,P.prototype._prepareBlock=function(o,g){for(var N=this.W,x=0;x<32;x++)N[x]=o[g+x];for(;x<N.length;x+=2){var F=I(N[x-4],N[x-3]),A=U(N[x-4],N[x-3]),$=N[x-14],z=N[x-13],T=ce(N[x-30],N[x-29]),ee=re(N[x-30],N[x-29]),xe=N[x-32],ye=N[x-31];N[x]=d(F,A,$,z,T,ee,xe,ye),N[x+1]=h(F,A,$,z,T,ee,xe,ye)}},P.prototype._update=function(o,g){this._prepareBlock(o,g);var N=this.W,x=this.h[0],F=this.h[1],A=this.h[2],$=this.h[3],z=this.h[4],T=this.h[5],ee=this.h[6],xe=this.h[7],ye=this.h[8],Re=this.h[9],Ee=this.h[10],J=this.h[11],te=this.h[12],me=this.h[13],fe=this.h[14],_e=this.h[15];E(this.k.length===N.length);for(var q=0;q<N.length;q+=2){var B=fe,se=_e,we=ae(ye,Re),ge=ne(ye,Re),pe=L(ye,Re,Ee,J,te,me),Pe=H(ye,Re,Ee,J,te,me),Oe=this.k[q],Ue=this.k[q+1],pt=N[q],je=N[q+1],Je=p(B,se,we,ge,pe,Pe,Oe,Ue,pt,je),lt=b(B,se,we,ge,pe,Pe,Oe,Ue,pt,je);B=Y(x,F),se=K(x,F),we=j(x,F,A,$,z,T),ge=V(x,F,A,$,z,T);var le=w(B,se,we,ge),W=v(B,se,we,ge);fe=te,_e=me,te=Ee,me=J,Ee=ye,J=Re,ye=w(ee,xe,Je,lt),Re=v(xe,xe,Je,lt),ee=z,xe=T,z=A,T=$,A=x,$=F,x=w(Je,lt,le,W),F=v(Je,lt,le,W)}f(this.h,0,x,F),f(this.h,2,A,$),f(this.h,4,z,T),f(this.h,6,ee,xe),f(this.h,8,ye,Re),f(this.h,10,Ee,J),f(this.h,12,te,me),f(this.h,14,fe,_e)},P.prototype._digest=function(o){return o==="hex"?S.toHex32(this.h,"big"):S.split32(this.h,"big")};function L(C,o,g,N,x){var F=C&g^~C&x;return F<0&&(F+=4294967296),F}function H(C,o,g,N,x,F){var A=o&N^~o&F;return A<0&&(A+=4294967296),A}function j(C,o,g,N,x){var F=C&g^C&x^g&x;return F<0&&(F+=4294967296),F}function V(C,o,g,N,x,F){var A=o&N^o&F^N&F;return A<0&&(A+=4294967296),A}function Y(C,o){var g=_(C,o,28),N=_(o,C,2),x=_(o,C,7),F=g^N^x;return F<0&&(F+=4294967296),F}function K(C,o){var g=l(C,o,28),N=l(o,C,2),x=l(o,C,7),F=g^N^x;return F<0&&(F+=4294967296),F}function ae(C,o){var g=_(C,o,14),N=_(C,o,18),x=_(o,C,9),F=g^N^x;return F<0&&(F+=4294967296),F}function ne(C,o){var g=l(C,o,14),N=l(C,o,18),x=l(o,C,9),F=g^N^x;return F<0&&(F+=4294967296),F}function ce(C,o){var g=_(C,o,1),N=_(C,o,8),x=u(C,o,7),F=g^N^x;return F<0&&(F+=4294967296),F}function re(C,o){var g=l(C,o,1),N=l(C,o,8),x=c(C,o,7),F=g^N^x;return F<0&&(F+=4294967296),F}function I(C,o){var g=_(C,o,19),N=_(o,C,29),x=u(C,o,6),F=g^N^x;return F<0&&(F+=4294967296),F}function U(C,o){var g=l(C,o,19),N=l(o,C,29),x=c(C,o,6),F=g^N^x;return F<0&&(F+=4294967296),F}},37038:(s,Q,R)=>{"use strict";var S=R(26436),M=S.rotr32;function E(d,h,p,b){if(d===0)return _(h,p,b);if(d===1||d===3)return u(h,p,b);if(d===2)return l(h,p,b)}Q.ft_1=E;function _(d,h,p){return d&h^~d&p}Q.ch32=_;function l(d,h,p){return d&h^d&p^h&p}Q.maj32=l;function u(d,h,p){return d^h^p}Q.p32=u;function c(d){return M(d,2)^M(d,13)^M(d,22)}Q.s0_256=c;function f(d){return M(d,6)^M(d,11)^M(d,25)}Q.s1_256=f;function w(d){return M(d,7)^M(d,18)^d>>>3}Q.g0_256=w;function v(d){return M(d,17)^M(d,19)^d>>>10}Q.g1_256=v},26436:(s,Q,R)=>{"use strict";var S=R(79746),M=R(35717);Q.inherits=M;function E(U,C){return(U.charCodeAt(C)&64512)!=55296||C<0||C+1>=U.length?!1:(U.charCodeAt(C+1)&64512)==56320}function _(U,C){if(Array.isArray(U))return U.slice();if(!U)return[];var o=[];if(typeof U=="string")if(C){if(C==="hex")for(U=U.replace(/[^a-z0-9]+/ig,""),U.length%2!=0&&(U="0"+U),N=0;N<U.length;N+=2)o.push(parseInt(U[N]+U[N+1],16))}else for(var g=0,N=0;N<U.length;N++){var x=U.charCodeAt(N);x<128?o[g++]=x:x<2048?(o[g++]=x>>6|192,o[g++]=x&63|128):E(U,N)?(x=65536+((x&1023)<<10)+(U.charCodeAt(++N)&1023),o[g++]=x>>18|240,o[g++]=x>>12&63|128,o[g++]=x>>6&63|128,o[g++]=x&63|128):(o[g++]=x>>12|224,o[g++]=x>>6&63|128,o[g++]=x&63|128)}else for(N=0;N<U.length;N++)o[N]=U[N]|0;return o}Q.toArray=_;function l(U){for(var C="",o=0;o<U.length;o++)C+=f(U[o].toString(16));return C}Q.toHex=l;function u(U){var C=U>>>24|U>>>8&65280|U<<8&16711680|(U&255)<<24;return C>>>0}Q.htonl=u;function c(U,C){for(var o="",g=0;g<U.length;g++){var N=U[g];C==="little"&&(N=u(N)),o+=w(N.toString(16))}return o}Q.toHex32=c;function f(U){return U.length===1?"0"+U:U}Q.zero2=f;function w(U){return U.length===7?"0"+U:U.length===6?"00"+U:U.length===5?"000"+U:U.length===4?"0000"+U:U.length===3?"00000"+U:U.length===2?"000000"+U:U.length===1?"0000000"+U:U}Q.zero8=w;function v(U,C,o,g){var N=o-C;S(N%4==0);for(var x=new Array(N/4),F=0,A=C;F<x.length;F++,A+=4){var $;g==="big"?$=U[A]<<24|U[A+1]<<16|U[A+2]<<8|U[A+3]:$=U[A+3]<<24|U[A+2]<<16|U[A+1]<<8|U[A],x[F]=$>>>0}return x}Q.join32=v;function d(U,C){for(var o=new Array(U.length*4),g=0,N=0;g<U.length;g++,N+=4){var x=U[g];C==="big"?(o[N]=x>>>24,o[N+1]=x>>>16&255,o[N+2]=x>>>8&255,o[N+3]=x&255):(o[N+3]=x>>>24,o[N+2]=x>>>16&255,o[N+1]=x>>>8&255,o[N]=x&255)}return o}Q.split32=d;function h(U,C){return U>>>C|U<<32-C}Q.rotr32=h;function p(U,C){return U<<C|U>>>32-C}Q.rotl32=p;function b(U,C){return U+C>>>0}Q.sum32=b;function y(U,C,o){return U+C+o>>>0}Q.sum32_3=y;function D(U,C,o,g){return U+C+o+g>>>0}Q.sum32_4=D;function P(U,C,o,g,N){return U+C+o+g+N>>>0}Q.sum32_5=P;function L(U,C,o,g){var N=U[C],x=U[C+1],F=g+x>>>0,A=(F<g?1:0)+o+N;U[C]=A>>>0,U[C+1]=F}Q.sum64=L;function H(U,C,o,g){var N=C+g>>>0,x=(N<C?1:0)+U+o;return x>>>0}Q.sum64_hi=H;function j(U,C,o,g){var N=C+g;return N>>>0}Q.sum64_lo=j;function V(U,C,o,g,N,x,F,A){var $=0,z=C;z=z+g>>>0,$+=z<C?1:0,z=z+x>>>0,$+=z<x?1:0,z=z+A>>>0,$+=z<A?1:0;var T=U+o+N+F+$;return T>>>0}Q.sum64_4_hi=V;function Y(U,C,o,g,N,x,F,A){var $=C+g+x+A;return $>>>0}Q.sum64_4_lo=Y;function K(U,C,o,g,N,x,F,A,$,z){var T=0,ee=C;ee=ee+g>>>0,T+=ee<C?1:0,ee=ee+x>>>0,T+=ee<x?1:0,ee=ee+A>>>0,T+=ee<A?1:0,ee=ee+z>>>0,T+=ee<z?1:0;var xe=U+o+N+F+$+T;return xe>>>0}Q.sum64_5_hi=K;function ae(U,C,o,g,N,x,F,A,$,z){var T=C+g+x+A+z;return T>>>0}Q.sum64_5_lo=ae;function ne(U,C,o){var g=C<<32-o|U>>>o;return g>>>0}Q.rotr64_hi=ne;function ce(U,C,o){var g=U<<32-o|C>>>o;return g>>>0}Q.rotr64_lo=ce;function re(U,C,o){return U>>>o}Q.shr64_hi=re;function I(U,C,o){var g=U<<32-o|C>>>o;return g>>>0}Q.shr64_lo=I},2156:(s,Q,R)=>{"use strict";var S=R(33715),M=R(34504),E=R(79746);function _(l){if(!(this instanceof _))return new _(l);this.hash=l.hash,this.predResist=!!l.predResist,this.outLen=this.hash.outSize,this.minEntropy=l.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=M.toArray(l.entropy,l.entropyEnc||"hex"),c=M.toArray(l.nonce,l.nonceEnc||"hex"),f=M.toArray(l.pers,l.persEnc||"hex");E(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,c,f)}s.exports=_,_.prototype._init=function(u,c,f){var w=u.concat(c).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var v=0;v<this.V.length;v++)this.K[v]=0,this.V[v]=1;this._update(w),this._reseed=1,this.reseedInterval=281474976710656},_.prototype._hmac=function(){return new S.hmac(this.hash,this.K)},_.prototype._update=function(u){var c=this._hmac().update(this.V).update([0]);u&&(c=c.update(u)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),!!u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},_.prototype.reseed=function(u,c,f,w){typeof c!="string"&&(w=f,f=c,c=null),u=M.toArray(u,c),f=M.toArray(f,w),E(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(f||[])),this._reseed=1},_.prototype.generate=function(u,c,f,w){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(w=f,f=c,c=null),f&&(f=M.toArray(f,w||"hex"),this._update(f));for(var v=[];v.length<u;)this.V=this._hmac().update(this.V).digest(),v=v.concat(this.V);var d=v.slice(0,u);return this._update(f),this._reseed++,M.encode(d,c)}},80645:(s,Q)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Q.read=function(R,S,M,E,_){var l,u,c=_*8-E-1,f=(1<<c)-1,w=f>>1,v=-7,d=M?_-1:0,h=M?-1:1,p=R[S+d];for(d+=h,l=p&(1<<-v)-1,p>>=-v,v+=c;v>0;l=l*256+R[S+d],d+=h,v-=8);for(u=l&(1<<-v)-1,l>>=-v,v+=E;v>0;u=u*256+R[S+d],d+=h,v-=8);if(l===0)l=1-w;else{if(l===f)return u?NaN:(p?-1:1)*Infinity;u=u+Math.pow(2,E),l=l-w}return(p?-1:1)*u*Math.pow(2,l-E)},Q.write=function(R,S,M,E,_,l){var u,c,f,w=l*8-_-1,v=(1<<w)-1,d=v>>1,h=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=E?0:l-1,b=E?1:-1,y=S<0||S===0&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===Infinity?(c=isNaN(S)?1:0,u=v):(u=Math.floor(Math.log(S)/Math.LN2),S*(f=Math.pow(2,-u))<1&&(u--,f*=2),u+d>=1?S+=h/f:S+=h*Math.pow(2,1-d),S*f>=2&&(u++,f/=2),u+d>=v?(c=0,u=v):u+d>=1?(c=(S*f-1)*Math.pow(2,_),u=u+d):(c=S*Math.pow(2,d-1)*Math.pow(2,_),u=0));_>=8;R[M+p]=c&255,p+=b,c/=256,_-=8);for(u=u<<_|c,w+=_;w>0;R[M+p]=u&255,p+=b,u/=256,w-=8);R[M+p-b]|=y*128}},35717:s=>{typeof Object.create=="function"?s.exports=function(R,S){S&&(R.super_=S,R.prototype=Object.create(S.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(R,S){if(S){R.super_=S;var M=function(){};M.prototype=S.prototype,R.prototype=new M,R.prototype.constructor=R}}},39593:(s,Q,R)=>{"use strict";const S=R(34411),M=Symbol("max"),E=Symbol("length"),_=Symbol("lengthCalculator"),l=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),f=Symbol("noDisposeOnSet"),w=Symbol("lruList"),v=Symbol("cache"),d=Symbol("updateAgeOnGet"),h=()=>1;class p{constructor(V){if(typeof V=="number"&&(V={max:V}),V||(V={}),V.max&&(typeof V.max!="number"||V.max<0))throw new TypeError("max must be a non-negative number");const Y=this[M]=V.max||Infinity,K=V.length||h;if(this[_]=typeof K!="function"?h:K,this[l]=V.stale||!1,V.maxAge&&typeof V.maxAge!="number")throw new TypeError("maxAge must be a number");this[u]=V.maxAge||0,this[c]=V.dispose,this[f]=V.noDisposeOnSet||!1,this[d]=V.updateAgeOnGet||!1,this.reset()}set max(V){if(typeof V!="number"||V<0)throw new TypeError("max must be a non-negative number");this[M]=V||Infinity,D(this)}get max(){return this[M]}set allowStale(V){this[l]=!!V}get allowStale(){return this[l]}set maxAge(V){if(typeof V!="number")throw new TypeError("maxAge must be a non-negative number");this[u]=V,D(this)}get maxAge(){return this[u]}set lengthCalculator(V){typeof V!="function"&&(V=h),V!==this[_]&&(this[_]=V,this[E]=0,this[w].forEach(Y=>{Y.length=this[_](Y.value,Y.key),this[E]+=Y.length})),D(this)}get lengthCalculator(){return this[_]}get length(){return this[E]}get itemCount(){return this[w].length}rforEach(V,Y){Y=Y||this;for(let K=this[w].tail;K!==null;){const ae=K.prev;H(this,V,K,Y),K=ae}}forEach(V,Y){Y=Y||this;for(let K=this[w].head;K!==null;){const ae=K.next;H(this,V,K,Y),K=ae}}keys(){return this[w].toArray().map(V=>V.key)}values(){return this[w].toArray().map(V=>V.value)}reset(){this[c]&&this[w]&&this[w].length&&this[w].forEach(V=>this[c](V.key,V.value)),this[v]=new Map,this[w]=new S,this[E]=0}dump(){return this[w].map(V=>y(this,V)?!1:{k:V.key,v:V.value,e:V.now+(V.maxAge||0)}).toArray().filter(V=>V)}dumpLru(){return this[w]}set(V,Y,K){if(K=K||this[u],K&&typeof K!="number")throw new TypeError("maxAge must be a number");const ae=K?Date.now():0,ne=this[_](Y,V);if(this[v].has(V)){if(ne>this[M])return P(this,this[v].get(V)),!1;const I=this[v].get(V).value;return this[c]&&(this[f]||this[c](V,I.value)),I.now=ae,I.maxAge=K,I.value=Y,this[E]+=ne-I.length,I.length=ne,this.get(V),D(this),!0}const ce=new L(V,Y,ne,ae,K);return ce.length>this[M]?(this[c]&&this[c](V,Y),!1):(this[E]+=ce.length,this[w].unshift(ce),this[v].set(V,this[w].head),D(this),!0)}has(V){if(!this[v].has(V))return!1;const Y=this[v].get(V).value;return!y(this,Y)}get(V){return b(this,V,!0)}peek(V){return b(this,V,!1)}pop(){const V=this[w].tail;return V?(P(this,V),V.value):null}del(V){P(this,this[v].get(V))}load(V){this.reset();const Y=Date.now();for(let K=V.length-1;K>=0;K--){const ae=V[K],ne=ae.e||0;if(ne===0)this.set(ae.k,ae.v);else{const ce=ne-Y;ce>0&&this.set(ae.k,ae.v,ce)}}}prune(){this[v].forEach((V,Y)=>b(this,Y,!1))}}const b=(j,V,Y)=>{const K=j[v].get(V);if(K){const ae=K.value;if(y(j,ae)){if(P(j,K),!j[l])return}else Y&&(j[d]&&(K.value.now=Date.now()),j[w].unshiftNode(K));return ae.value}},y=(j,V)=>{if(!V||!V.maxAge&&!j[u])return!1;const Y=Date.now()-V.now;return V.maxAge?Y>V.maxAge:j[u]&&Y>j[u]},D=j=>{if(j[E]>j[M])for(let V=j[w].tail;j[E]>j[M]&&V!==null;){const Y=V.prev;P(j,V),V=Y}},P=(j,V)=>{if(V){const Y=V.value;j[c]&&j[c](Y.key,Y.value),j[E]-=Y.length,j[v].delete(Y.key),j[w].removeNode(V)}};class L{constructor(V,Y,K,ae,ne){this.key=V,this.value=Y,this.length=K,this.now=ae,this.maxAge=ne||0}}const H=(j,V,Y,K)=>{let ae=Y.value;y(j,ae)&&(P(j,Y),j[l]||(ae=void 0)),ae&&V.call(K,ae.value,ae.key,j)};s.exports=p},62318:(s,Q,R)=>{"use strict";var S=R(35717),M=R(3349),E=R(89509).Buffer,_=new Array(16);function l(){M.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}S(l,M),l.prototype._update=function(){for(var d=_,h=0;h<16;++h)d[h]=this._block.readInt32LE(h*4);var p=this._a,b=this._b,y=this._c,D=this._d;p=c(p,b,y,D,d[0],3614090360,7),D=c(D,p,b,y,d[1],3905402710,12),y=c(y,D,p,b,d[2],606105819,17),b=c(b,y,D,p,d[3],3250441966,22),p=c(p,b,y,D,d[4],4118548399,7),D=c(D,p,b,y,d[5],1200080426,12),y=c(y,D,p,b,d[6],2821735955,17),b=c(b,y,D,p,d[7],4249261313,22),p=c(p,b,y,D,d[8],1770035416,7),D=c(D,p,b,y,d[9],2336552879,12),y=c(y,D,p,b,d[10],4294925233,17),b=c(b,y,D,p,d[11],2304563134,22),p=c(p,b,y,D,d[12],1804603682,7),D=c(D,p,b,y,d[13],4254626195,12),y=c(y,D,p,b,d[14],2792965006,17),b=c(b,y,D,p,d[15],1236535329,22),p=f(p,b,y,D,d[1],4129170786,5),D=f(D,p,b,y,d[6],3225465664,9),y=f(y,D,p,b,d[11],643717713,14),b=f(b,y,D,p,d[0],3921069994,20),p=f(p,b,y,D,d[5],3593408605,5),D=f(D,p,b,y,d[10],38016083,9),y=f(y,D,p,b,d[15],3634488961,14),b=f(b,y,D,p,d[4],3889429448,20),p=f(p,b,y,D,d[9],568446438,5),D=f(D,p,b,y,d[14],3275163606,9),y=f(y,D,p,b,d[3],4107603335,14),b=f(b,y,D,p,d[8],1163531501,20),p=f(p,b,y,D,d[13],2850285829,5),D=f(D,p,b,y,d[2],4243563512,9),y=f(y,D,p,b,d[7],1735328473,14),b=f(b,y,D,p,d[12],2368359562,20),p=w(p,b,y,D,d[5],4294588738,4),D=w(D,p,b,y,d[8],2272392833,11),y=w(y,D,p,b,d[11],1839030562,16),b=w(b,y,D,p,d[14],4259657740,23),p=w(p,b,y,D,d[1],2763975236,4),D=w(D,p,b,y,d[4],1272893353,11),y=w(y,D,p,b,d[7],4139469664,16),b=w(b,y,D,p,d[10],3200236656,23),p=w(p,b,y,D,d[13],681279174,4),D=w(D,p,b,y,d[0],3936430074,11),y=w(y,D,p,b,d[3],3572445317,16),b=w(b,y,D,p,d[6],76029189,23),p=w(p,b,y,D,d[9],3654602809,4),D=w(D,p,b,y,d[12],3873151461,11),y=w(y,D,p,b,d[15],530742520,16),b=w(b,y,D,p,d[2],3299628645,23),p=v(p,b,y,D,d[0],4096336452,6),D=v(D,p,b,y,d[7],1126891415,10),y=v(y,D,p,b,d[14],2878612391,15),b=v(b,y,D,p,d[5],4237533241,21),p=v(p,b,y,D,d[12],1700485571,6),D=v(D,p,b,y,d[3],2399980690,10),y=v(y,D,p,b,d[10],4293915773,15),b=v(b,y,D,p,d[1],2240044497,21),p=v(p,b,y,D,d[8],1873313359,6),D=v(D,p,b,y,d[15],4264355552,10),y=v(y,D,p,b,d[6],2734768916,15),b=v(b,y,D,p,d[13],1309151649,21),p=v(p,b,y,D,d[4],4149444226,6),D=v(D,p,b,y,d[11],3174756917,10),y=v(y,D,p,b,d[2],718787259,15),b=v(b,y,D,p,d[9],3951481745,21),this._a=this._a+p|0,this._b=this._b+b|0,this._c=this._c+y|0,this._d=this._d+D|0},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var d=E.allocUnsafe(16);return d.writeInt32LE(this._a,0),d.writeInt32LE(this._b,4),d.writeInt32LE(this._c,8),d.writeInt32LE(this._d,12),d};function u(d,h){return d<<h|d>>>32-h}function c(d,h,p,b,y,D,P){return u(d+(h&p|~h&b)+y+D|0,P)+h|0}function f(d,h,p,b,y,D,P){return u(d+(h&b|p&~b)+y+D|0,P)+h|0}function w(d,h,p,b,y,D,P){return u(d+(h^p^b)+y+D|0,P)+h|0}function v(d,h,p,b,y,D,P){return u(d+(p^(h|~b))+y+D|0,P)+h|0}s.exports=l},63047:(s,Q,R)=>{var S=R(13550),M=R(29931);function E(_){this.rand=_||new M.Rand}s.exports=E,E.create=function(l){return new E(l)},E.prototype._randbelow=function(l){var u=l.bitLength(),c=Math.ceil(u/8);do var f=new S(this.rand.generate(c));while(f.cmp(l)>=0);return f},E.prototype._randrange=function(l,u){var c=u.sub(l);return l.add(this._randbelow(c))},E.prototype.test=function(l,u,c){var f=l.bitLength(),w=S.mont(l),v=new S(1).toRed(w);u||(u=Math.max(1,f/48|0));for(var d=l.subn(1),h=0;!d.testn(h);h++);for(var p=l.shrn(h),b=d.toRed(w),y=!0;u>0;u--){var D=this._randrange(new S(2),d);c&&c(D);var P=D.toRed(w).redPow(p);if(!(P.cmp(v)===0||P.cmp(b)===0)){for(var L=1;L<h;L++){if(P=P.redSqr(),P.cmp(v)===0)return!1;if(P.cmp(b)===0)break}if(L===h)return!1}}return y},E.prototype.getDivisor=function(l,u){var c=l.bitLength(),f=S.mont(l),w=new S(1).toRed(f);u||(u=Math.max(1,c/48|0));for(var v=l.subn(1),d=0;!v.testn(d);d++);for(var h=l.shrn(d),p=v.toRed(f);u>0;u--){var b=this._randrange(new S(2),v),y=l.gcd(b);if(y.cmpn(1)!==0)return y;var D=b.toRed(f).redPow(h);if(!(D.cmp(w)===0||D.cmp(p)===0)){for(var P=1;P<d;P++){if(D=D.redSqr(),D.cmp(w)===0)return D.fromRed().subn(1).gcd(l);if(D.cmp(p)===0)break}if(P===d)return D=D.redSqr(),D.fromRed().subn(1).gcd(l)}}return!1}},79746:s=>{s.exports=Q;function Q(R,S){if(!R)throw new Error(S||"Assertion failed")}Q.equal=function(S,M,E){if(S!=M)throw new Error(E||"Assertion failed: "+S+" != "+M)}},34504:(s,Q)=>{"use strict";var R=Q;function S(_,l){if(Array.isArray(_))return _.slice();if(!_)return[];var u=[];if(typeof _!="string"){for(var c=0;c<_.length;c++)u[c]=_[c]|0;return u}if(l==="hex"){_=_.replace(/[^a-z0-9]+/ig,""),_.length%2!=0&&(_="0"+_);for(var c=0;c<_.length;c+=2)u.push(parseInt(_[c]+_[c+1],16))}else for(var c=0;c<_.length;c++){var f=_.charCodeAt(c),w=f>>8,v=f&255;w?u.push(w,v):u.push(v)}return u}R.toArray=S;function M(_){return _.length===1?"0"+_:_}R.zero2=M;function E(_){for(var l="",u=0;u<_.length;u++)l+=M(_[u].toString(16));return l}R.toHex=E,R.encode=function(l,u){return u==="hex"?E(l):l}},30778:(s,Q,R)=>{var S=R(52479);s.exports=S(M),s.exports.strict=S(E),M.proto=M(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return M(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return E(this)},configurable:!0})});function M(_){var l=function(){return l.called?l.value:(l.called=!0,l.value=_.apply(this,arguments))};return l.called=!1,l}function E(_){var l=function(){if(l.called)throw new Error(l.onceError);return l.called=!0,l.value=_.apply(this,arguments)},u=_.name||"Function wrapped with `once`";return l.onceError=u+" shouldn't be called more than once",l.called=!1,l}},52818:(s,Q,R)=>{"use strict";var S=R(39809);Q.certificate=R(41934);var M=S.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Q.RSAPrivateKey=M;var E=S.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Q.RSAPublicKey=E;var _=S.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())});Q.PublicKey=_;var l=S.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=S.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(l),this.key("subjectPrivateKey").octstr())});Q.PrivateKey=u;var c=S.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Q.EncryptedPrivateKey=c;var f=S.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Q.DSAPrivateKey=f,Q.DSAparam=S.define("DSAparam",function(){this.int()});var w=S.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(v),this.key("publicKey").optional().explicit(1).bitstr())});Q.ECPrivateKey=w;var v=S.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});Q.signature=S.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},41934:(s,Q,R)=>{"use strict";var S=R(39809),M=S.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),E=S.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),_=S.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),l=S.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(_),this.key("subjectPublicKey").bitstr())}),u=S.define("RelativeDistinguishedName",function(){this.setof(E)}),c=S.define("RDNSequence",function(){this.seqof(u)}),f=S.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),w=S.define("Validity",function(){this.seq().obj(this.key("notBefore").use(M),this.key("notAfter").use(M))}),v=S.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=S.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(_),this.key("issuer").use(f),this.key("validity").use(w),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(l),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(v).optional())}),h=S.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(_),this.key("signatureValue").bitstr())});s.exports=h},77631:(s,Q,R)=>{var S=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,M=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,E=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,_=R(13048),l=R(44696),u=R(89509).Buffer;s.exports=function(c,f){var w=c.toString(),v=w.match(S),d;if(v){var p="aes"+v[1],b=u.from(v[2],"hex"),y=u.from(v[3].replace(/[\r\n]/g,""),"base64"),D=_(f,b.slice(0,8),parseInt(v[1],10)).key,P=[],L=l.createDecipheriv(p,D,b);P.push(L.update(y)),P.push(L.final()),d=u.concat(P)}else{var h=w.match(E);d=u.from(h[2].replace(/[\r\n]/g,""),"base64")}var H=w.match(M)[1];return{tag:H,data:d}}},70980:(s,Q,R)=>{var S=R(52818),M=R(22562),E=R(77631),_=R(44696),l=R(25632),u=R(89509).Buffer;s.exports=c;function c(w){var v;typeof w=="object"&&!u.isBuffer(w)&&(v=w.passphrase,w=w.key),typeof w=="string"&&(w=u.from(w));var d=E(w,v),h=d.tag,p=d.data,b,y;switch(h){case"CERTIFICATE":y=S.certificate.decode(p,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=S.PublicKey.decode(p,"der")),b=y.algorithm.algorithm.join("."),b){case"1.2.840.113549.1.1.1":return S.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=S.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+b)}case"ENCRYPTED PRIVATE KEY":p=S.EncryptedPrivateKey.decode(p,"der"),p=f(p,v);case"PRIVATE KEY":switch(y=S.PrivateKey.decode(p,"der"),b=y.algorithm.algorithm.join("."),b){case"1.2.840.113549.1.1.1":return S.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:S.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=S.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+b)}case"RSA PUBLIC KEY":return S.RSAPublicKey.decode(p,"der");case"RSA PRIVATE KEY":return S.RSAPrivateKey.decode(p,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:S.DSAPrivateKey.decode(p,"der")};case"EC PRIVATE KEY":return p=S.ECPrivateKey.decode(p,"der"),{curve:p.parameters.value,privateKey:p.privateKey};default:throw new Error("unknown key type "+h)}}c.signature=S.signature;function f(w,v){var d=w.algorithm.decrypt.kde.kdeparams.salt,h=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),p=M[w.algorithm.decrypt.cipher.algo.join(".")],b=w.algorithm.decrypt.cipher.iv,y=w.subjectPrivateKey,D=parseInt(p.split("-")[1],10)/8,P=l.pbkdf2Sync(v,d,h,D,"sha1"),L=_.createDecipheriv(p,P,b),H=[];return H.push(L.update(y)),H.push(L.final()),u.concat(H)}},26470:(s,Q,R)=>{"use strict";var S=R(34155);function M(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function E(u,c){for(var f="",w=0,v=-1,d=0,h,p=0;p<=u.length;++p){if(p<u.length)h=u.charCodeAt(p);else{if(h===47)break;h=47}if(h===47){if(!(v===p-1||d===1))if(v!==p-1&&d===2){if(f.length<2||w!==2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){var b=f.lastIndexOf("/");if(b!==f.length-1){b===-1?(f="",w=0):(f=f.slice(0,b),w=f.length-1-f.lastIndexOf("/")),v=p,d=0;continue}}else if(f.length===2||f.length===1){f="",w=0,v=p,d=0;continue}}c&&(f.length>0?f+="/..":f="..",w=2)}else f.length>0?f+="/"+u.slice(v+1,p):f=u.slice(v+1,p),w=p-v-1;v=p,d=0}else h===46&&d!==-1?++d:d=-1}return f}function _(u,c){var f=c.dir||c.root,w=c.base||(c.name||"")+(c.ext||"");return f?f===c.root?f+w:f+u+w:w}var l={resolve:function(){for(var c="",f=!1,w,v=arguments.length-1;v>=-1&&!f;v--){var d;v>=0?d=arguments[v]:(w===void 0&&(w=S.cwd()),d=w),M(d),d.length!==0&&(c=d+"/"+c,f=d.charCodeAt(0)===47)}return c=E(c,!f),f?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(c){if(M(c),c.length===0)return".";var f=c.charCodeAt(0)===47,w=c.charCodeAt(c.length-1)===47;return c=E(c,!f),c.length===0&&!f&&(c="."),c.length>0&&w&&(c+="/"),f?"/"+c:c},isAbsolute:function(c){return M(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,f=0;f<arguments.length;++f){var w=arguments[f];M(w),w.length>0&&(c===void 0?c=w:c+="/"+w)}return c===void 0?".":l.normalize(c)},relative:function(c,f){if(M(c),M(f),c===f||(c=l.resolve(c),f=l.resolve(f),c===f))return"";for(var w=1;w<c.length&&c.charCodeAt(w)===47;++w);for(var v=c.length,d=v-w,h=1;h<f.length&&f.charCodeAt(h)===47;++h);for(var p=f.length,b=p-h,y=d<b?d:b,D=-1,P=0;P<=y;++P){if(P===y){if(b>y){if(f.charCodeAt(h+P)===47)return f.slice(h+P+1);if(P===0)return f.slice(h+P)}else d>y&&(c.charCodeAt(w+P)===47?D=P:P===0&&(D=0));break}var L=c.charCodeAt(w+P),H=f.charCodeAt(h+P);if(L!==H)break;L===47&&(D=P)}var j="";for(P=w+D+1;P<=v;++P)(P===v||c.charCodeAt(P)===47)&&(j.length===0?j+="..":j+="/..");return j.length>0?j+f.slice(h+D):(h+=D,f.charCodeAt(h)===47&&++h,f.slice(h))},_makeLong:function(c){return c},dirname:function(c){if(M(c),c.length===0)return".";for(var f=c.charCodeAt(0),w=f===47,v=-1,d=!0,h=c.length-1;h>=1;--h)if(f=c.charCodeAt(h),f===47){if(!d){v=h;break}}else d=!1;return v===-1?w?"/":".":w&&v===1?"//":c.slice(0,v)},basename:function(c,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');M(c);var w=0,v=-1,d=!0,h;if(f!==void 0&&f.length>0&&f.length<=c.length){if(f.length===c.length&&f===c)return"";var p=f.length-1,b=-1;for(h=c.length-1;h>=0;--h){var y=c.charCodeAt(h);if(y===47){if(!d){w=h+1;break}}else b===-1&&(d=!1,b=h+1),p>=0&&(y===f.charCodeAt(p)?--p==-1&&(v=h):(p=-1,v=b))}return w===v?v=b:v===-1&&(v=c.length),c.slice(w,v)}else{for(h=c.length-1;h>=0;--h)if(c.charCodeAt(h)===47){if(!d){w=h+1;break}}else v===-1&&(d=!1,v=h+1);return v===-1?"":c.slice(w,v)}},extname:function(c){M(c);for(var f=-1,w=0,v=-1,d=!0,h=0,p=c.length-1;p>=0;--p){var b=c.charCodeAt(p);if(b===47){if(!d){w=p+1;break}continue}v===-1&&(d=!1,v=p+1),b===46?f===-1?f=p:h!==1&&(h=1):f!==-1&&(h=-1)}return f===-1||v===-1||h===0||h===1&&f===v-1&&f===w+1?"":c.slice(f,v)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return _("/",c)},parse:function(c){M(c);var f={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return f;var w=c.charCodeAt(0),v=w===47,d;v?(f.root="/",d=1):d=0;for(var h=-1,p=0,b=-1,y=!0,D=c.length-1,P=0;D>=d;--D){if(w=c.charCodeAt(D),w===47){if(!y){p=D+1;break}continue}b===-1&&(y=!1,b=D+1),w===46?h===-1?h=D:P!==1&&(P=1):h!==-1&&(P=-1)}return h===-1||b===-1||P===0||P===1&&h===b-1&&h===p+1?b!==-1&&(p===0&&v?f.base=f.name=c.slice(1,b):f.base=f.name=c.slice(p,b)):(p===0&&v?(f.name=c.slice(1,h),f.base=c.slice(1,b)):(f.name=c.slice(p,h),f.base=c.slice(p,b)),f.ext=c.slice(h,b)),p>0?f.dir=c.slice(0,p-1):v&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};l.posix=l,s.exports=l},25632:(s,Q,R)=>{Q.pbkdf2=R(88638),Q.pbkdf2Sync=R(91257)},88638:(s,Q,R)=>{var S=R(89509).Buffer,M=R(77357),E=R(12368),_=R(91257),l=R(57777),u,c=R.g.crypto&&R.g.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},w=[];function v(y){if(R.g.process&&!R.g.process.browser||!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(w[y]!==void 0)return w[y];u=u||S.alloc(8);var D=p(u,u,10,128,y).then(function(){return!0}).catch(function(){return!1});return w[y]=D,D}var d;function h(){return d||(R.g.process&&R.g.process.nextTick?d=R.g.process.nextTick:R.g.queueMicrotask?d=R.g.queueMicrotask:R.g.setImmediate?d=R.g.setImmediate:d=R.g.setTimeout,d)}function p(y,D,P,L,H){return c.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(j){return c.deriveBits({name:"PBKDF2",salt:D,iterations:P,hash:{name:H}},j,L<<3)}).then(function(j){return S.from(j)})}function b(y,D){y.then(function(P){h()(function(){D(null,P)})},function(P){h()(function(){D(P)})})}s.exports=function(y,D,P,L,H,j){typeof H=="function"&&(j=H,H=void 0),H=H||"sha1";var V=f[H.toLowerCase()];if(!V||typeof R.g.Promise!="function"){h()(function(){var Y;try{Y=_(y,D,P,L,H)}catch(K){return j(K)}j(null,Y)});return}if(M(P,L),y=l(y,E,"Password"),D=l(D,E,"Salt"),typeof j!="function")throw new Error("No callback provided to pbkdf2");b(v(V).then(function(Y){return Y?p(y,D,P,L,V):_(y,D,P,L,H)}),j)}},12368:(s,Q,R)=>{var S=R(34155),M;if(R.g.process&&R.g.process.browser)M="utf-8";else if(R.g.process&&R.g.process.version){var E=parseInt(S.version.split(".")[0].slice(1),10);M=E>=6?"utf-8":"binary"}else M="utf-8";s.exports=M},77357:s=>{var Q=Math.pow(2,30)-1;s.exports=function(R,S){if(typeof R!="number")throw new TypeError("Iterations not a number");if(R<0)throw new TypeError("Bad iterations");if(typeof S!="number")throw new TypeError("Key length not a number");if(S<0||S>Q||S!==S)throw new TypeError("Bad key length")}},91257:(s,Q,R)=>{var S=R(78028),M=R(79785),E=R(89072),_=R(89509).Buffer,l=R(77357),u=R(12368),c=R(57777),f=_.alloc(128),w={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function v(p,b,y){var D=d(p),P=p==="sha512"||p==="sha384"?128:64;b.length>P?b=D(b):b.length<P&&(b=_.concat([b,f],P));for(var L=_.allocUnsafe(P+w[p]),H=_.allocUnsafe(P+w[p]),j=0;j<P;j++)L[j]=b[j]^54,H[j]=b[j]^92;var V=_.allocUnsafe(P+y+4);L.copy(V,0,0,P),this.ipad1=V,this.ipad2=L,this.opad=H,this.alg=p,this.blocksize=P,this.hash=D,this.size=w[p]}v.prototype.run=function(p,b){p.copy(b,this.blocksize);var y=this.hash(b);return y.copy(this.opad,this.blocksize),this.hash(this.opad)};function d(p){function b(D){return E(p).update(D).digest()}function y(D){return new M().update(D).digest()}return p==="rmd160"||p==="ripemd160"?y:p==="md5"?S:b}function h(p,b,y,D,P){l(y,D),p=c(p,u,"Password"),b=c(b,u,"Salt"),P=P||"sha1";var L=new v(P,p,b.length),H=_.allocUnsafe(D),j=_.allocUnsafe(b.length+4);b.copy(j,0,0,b.length);for(var V=0,Y=w[P],K=Math.ceil(D/Y),ae=1;ae<=K;ae++){j.writeUInt32BE(ae,b.length);for(var ne=L.run(j,L.ipad1),ce=ne,re=1;re<y;re++){ce=L.run(ce,L.ipad2);for(var I=0;I<Y;I++)ne[I]^=ce[I]}ne.copy(H,V),V+=Y}return H}s.exports=h},57777:(s,Q,R)=>{var S=R(89509).Buffer;s.exports=function(M,E,_){if(S.isBuffer(M))return M;if(typeof M=="string")return S.from(M,E);if(ArrayBuffer.isView(M))return S.from(M.buffer);throw new TypeError(_+" must be a string, a Buffer, a typed array or a DataView")}},34155:s=>{var Q=s.exports={},R,S;function M(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?R=setTimeout:R=M}catch(b){R=M}try{typeof clearTimeout=="function"?S=clearTimeout:S=E}catch(b){S=E}})();function _(b){if(R===setTimeout)return setTimeout(b,0);if((R===M||!R)&&setTimeout)return R=setTimeout,setTimeout(b,0);try{return R(b,0)}catch(y){try{return R.call(null,b,0)}catch(D){return R.call(this,b,0)}}}function l(b){if(S===clearTimeout)return clearTimeout(b);if((S===E||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(b);try{return S(b)}catch(y){try{return S.call(null,b)}catch(D){return S.call(this,b)}}}var u=[],c=!1,f,w=-1;function v(){!c||!f||(c=!1,f.length?u=f.concat(u):w=-1,u.length&&d())}function d(){if(!c){var b=_(v);c=!0;for(var y=u.length;y;){for(f=u,u=[];++w<y;)f&&f[w].run();w=-1,y=u.length}f=null,c=!1,l(b)}}Q.nextTick=function(b){var y=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)y[D-1]=arguments[D];u.push(new h(b,y)),u.length===1&&!c&&_(d)};function h(b,y){this.fun=b,this.array=y}h.prototype.run=function(){this.fun.apply(null,this.array)},Q.title="browser",Q.browser=!0,Q.env={},Q.argv=[],Q.version="",Q.versions={};function p(){}Q.on=p,Q.addListener=p,Q.once=p,Q.off=p,Q.removeListener=p,Q.removeAllListeners=p,Q.emit=p,Q.prependListener=p,Q.prependOnceListener=p,Q.listeners=function(b){return[]},Q.binding=function(b){throw new Error("process.binding is not supported")},Q.cwd=function(){return"/"},Q.chdir=function(b){throw new Error("process.chdir is not supported")},Q.umask=function(){return 0}},7900:(s,Q,R)=>{Q.publicEncrypt=R(16559),Q.privateDecrypt=R(26138),Q.privateEncrypt=function(M,E){return Q.publicEncrypt(M,E,!0)},Q.publicDecrypt=function(M,E){return Q.privateDecrypt(M,E,!0)}},99199:(s,Q,R)=>{var S=R(23482),M=R(89509).Buffer;s.exports=function(_,l){for(var u=M.alloc(0),c=0,f;u.length<l;)f=E(c++),u=M.concat([u,S("sha1").update(_).update(f).digest()]);return u.slice(0,l)};function E(_){var l=M.allocUnsafe(4);return l.writeUInt32BE(_,0),l}},26138:(s,Q,R)=>{var S=R(70980),M=R(99199),E=R(57859),_=R(13550),l=R(23663),u=R(23482),c=R(84818),f=R(89509).Buffer;s.exports=function(p,b,y){var D;p.padding?D=p.padding:y?D=1:D=4;var P=S(p),L=P.modulus.byteLength();if(b.length>L||new _(b).cmp(P.modulus)>=0)throw new Error("decryption error");var H;y?H=c(new _(b),P):H=l(b,P);var j=f.alloc(L-H.length);if(H=f.concat([j,H],L),D===4)return w(P,H);if(D===1)return v(P,H,y);if(D===3)return H;throw new Error("unknown padding")};function w(h,p){var b=h.modulus.byteLength(),y=u("sha1").update(f.alloc(0)).digest(),D=y.length;if(p[0]!==0)throw new Error("decryption error");var P=p.slice(1,D+1),L=p.slice(D+1),H=E(P,M(L,D)),j=E(L,M(H,b-D-1));if(d(y,j.slice(0,D)))throw new Error("decryption error");for(var V=D;j[V]===0;)V++;if(j[V++]!==1)throw new Error("decryption error");return j.slice(V)}function v(h,p,b){for(var y=p.slice(0,2),D=2,P=0;p[D++]!==0;)if(D>=p.length){P++;break}var L=p.slice(2,D-1);if((y.toString("hex")!=="0002"&&!b||y.toString("hex")!=="0001"&&b)&&P++,L.length<8&&P++,P)throw new Error("decryption error");return p.slice(D)}function d(h,p){h=f.from(h),p=f.from(p);var b=0,y=h.length;h.length!==p.length&&(b++,y=Math.min(h.length,p.length));for(var D=-1;++D<y;)b+=h[D]^p[D];return b}},16559:(s,Q,R)=>{var S=R(70980),M=R(61798),E=R(23482),_=R(99199),l=R(57859),u=R(13550),c=R(84818),f=R(23663),w=R(89509).Buffer;s.exports=function(b,y,D){var P;b.padding?P=b.padding:D?P=1:P=4;var L=S(b),H;if(P===4)H=v(L,y);else if(P===1)H=d(L,y,D);else if(P===3){if(H=new u(y),H.cmp(L.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return D?f(H,L):c(H,L)};function v(p,b){var y=p.modulus.byteLength(),D=b.length,P=E("sha1").update(w.alloc(0)).digest(),L=P.length,H=2*L;if(D>y-H-2)throw new Error("message too long");var j=w.alloc(y-D-H-2),V=y-L-1,Y=M(L),K=l(w.concat([P,j,w.alloc(1,1),b],V),_(Y,V)),ae=l(Y,_(K,L));return new u(w.concat([w.alloc(1),ae,K],y))}function d(p,b,y){var D=b.length,P=p.modulus.byteLength();if(D>P-11)throw new Error("message too long");var L;return y?L=w.alloc(P-D-3,255):L=h(P-D-3),new u(w.concat([w.from([0,y?1:2]),L,w.alloc(1),b],P))}function h(p){for(var b=w.allocUnsafe(p),y=0,D=M(p*2),P=0,L;y<p;)P===D.length&&(D=M(p*2),P=0),L=D[P++],L&&(b[y++]=L);return b}},84818:(s,Q,R)=>{var S=R(13550),M=R(89509).Buffer;function E(_,l){return M.from(_.toRed(S.mont(l.modulus)).redPow(new S(l.publicExponent)).fromRed().toArray())}s.exports=E},57859:s=>{s.exports=function(R,S){for(var M=R.length,E=-1;++E<M;)R[E]^=S[E];return R}},61798:(s,Q,R)=>{"use strict";var S=R(34155),M=65536,E=4294967295;function _(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var l=R(89509).Buffer,u=R.g.crypto||R.g.msCrypto;u&&u.getRandomValues?s.exports=c:s.exports=_;function c(f,w){if(f>E)throw new RangeError("requested too many random bytes");var v=l.allocUnsafe(f);if(f>0)if(f>M)for(var d=0;d<f;d+=M)u.getRandomValues(v.slice(d,d+M));else u.getRandomValues(v);return typeof w=="function"?S.nextTick(function(){w(null,v)}):v}},77963:(s,Q,R)=>{"use strict";var S=R(34155);function M(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var E=R(89509),_=R(61798),l=E.Buffer,u=E.kMaxLength,c=R.g.crypto||R.g.msCrypto,f=Math.pow(2,32)-1;function w(b,y){if(typeof b!="number"||b!==b)throw new TypeError("offset must be a number");if(b>f||b<0)throw new TypeError("offset must be a uint32");if(b>u||b>y)throw new RangeError("offset out of range")}function v(b,y,D){if(typeof b!="number"||b!==b)throw new TypeError("size must be a number");if(b>f||b<0)throw new TypeError("size must be a uint32");if(b+y>D||b>u)throw new RangeError("buffer too small")}c&&c.getRandomValues||!S.browser?(Q.randomFill=d,Q.randomFillSync=p):(Q.randomFill=M,Q.randomFillSync=M);function d(b,y,D,P){if(!l.isBuffer(b)&&!(b instanceof R.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")P=y,y=0,D=b.length;else if(typeof D=="function")P=D,D=b.length-y;else if(typeof P!="function")throw new TypeError('"cb" argument must be a function');return w(y,b.length),v(D,y,b.length),h(b,y,D,P)}function h(b,y,D,P){if(S.browser){var L=b.buffer,H=new Uint8Array(L,y,D);if(c.getRandomValues(H),P){S.nextTick(function(){P(null,b)});return}return b}if(P){_(D,function(V,Y){if(V)return P(V);Y.copy(b,y),P(null,b)});return}var j=_(D);return j.copy(b,y),b}function p(b,y,D){if(typeof y=="undefined"&&(y=0),!l.isBuffer(b)&&!(b instanceof R.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return w(y,b.length),D===void 0&&(D=b.length-y),v(D,y,b.length),h(b,y,D)}},79785:(s,Q,R)=>{"use strict";var S=R(48764).Buffer,M=R(35717),E=R(3349),_=new Array(16),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],w=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];function d(){E.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}M(d,E),d.prototype._update=function(){for(var L=_,H=0;H<16;++H)L[H]=this._block.readInt32LE(H*4);for(var j=this._a|0,V=this._b|0,Y=this._c|0,K=this._d|0,ae=this._e|0,ne=this._a|0,ce=this._b|0,re=this._c|0,I=this._d|0,U=this._e|0,C=0;C<80;C+=1){var o,g;C<16?(o=p(j,V,Y,K,ae,L[l[C]],w[0],c[C]),g=P(ne,ce,re,I,U,L[u[C]],v[0],f[C])):C<32?(o=b(j,V,Y,K,ae,L[l[C]],w[1],c[C]),g=D(ne,ce,re,I,U,L[u[C]],v[1],f[C])):C<48?(o=y(j,V,Y,K,ae,L[l[C]],w[2],c[C]),g=y(ne,ce,re,I,U,L[u[C]],v[2],f[C])):C<64?(o=D(j,V,Y,K,ae,L[l[C]],w[3],c[C]),g=b(ne,ce,re,I,U,L[u[C]],v[3],f[C])):(o=P(j,V,Y,K,ae,L[l[C]],w[4],c[C]),g=p(ne,ce,re,I,U,L[u[C]],v[4],f[C])),j=ae,ae=K,K=h(Y,10),Y=V,V=o,ne=U,U=I,I=h(re,10),re=ce,ce=g}var N=this._b+Y+I|0;this._b=this._c+K+U|0,this._c=this._d+ae+ne|0,this._d=this._e+j+ce|0,this._e=this._a+V+re|0,this._a=N},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var L=S.alloc?S.alloc(20):new S(20);return L.writeInt32LE(this._a,0),L.writeInt32LE(this._b,4),L.writeInt32LE(this._c,8),L.writeInt32LE(this._d,12),L.writeInt32LE(this._e,16),L};function h(L,H){return L<<H|L>>>32-H}function p(L,H,j,V,Y,K,ae,ne){return h(L+(H^j^V)+K+ae|0,ne)+Y|0}function b(L,H,j,V,Y,K,ae,ne){return h(L+(H&j|~H&V)+K+ae|0,ne)+Y|0}function y(L,H,j,V,Y,K,ae,ne){return h(L+((H|~j)^V)+K+ae|0,ne)+Y|0}function D(L,H,j,V,Y,K,ae,ne){return h(L+(H&V|j&~V)+K+ae|0,ne)+Y|0}function P(L,H,j,V,Y,K,ae,ne){return h(L+(H^(j|~V))+K+ae|0,ne)+Y|0}s.exports=d},89509:(s,Q,R)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var S=R(48764),M=S.Buffer;function E(l,u){for(var c in l)u[c]=l[c]}M.from&&M.alloc&&M.allocUnsafe&&M.allocUnsafeSlow?s.exports=S:(E(S,Q),Q.Buffer=_);function _(l,u,c){return M(l,u,c)}_.prototype=Object.create(M.prototype),E(M,_),_.from=function(l,u,c){if(typeof l=="number")throw new TypeError("Argument must not be a number");return M(l,u,c)},_.alloc=function(l,u,c){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=M(l);return u!==void 0?typeof c=="string"?f.fill(u,c):f.fill(u):f.fill(0),f},_.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return M(l)},_.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return S.SlowBuffer(l)}},2399:(s,Q,R)=>{"use strict";var S=R(34155),M=R(48764),E=M.Buffer,_={},l;for(l in M)!M.hasOwnProperty(l)||l==="SlowBuffer"||l==="Buffer"||(_[l]=M[l]);var u=_.Buffer={};for(l in E)!E.hasOwnProperty(l)||l==="allocUnsafe"||l==="allocUnsafeSlow"||(u[l]=E[l]);if(_.Buffer.prototype=E.prototype,(!u.from||u.from===Uint8Array.from)&&(u.from=function(c,f,w){if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof c);if(c&&typeof c.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);return E(c,f,w)}),u.alloc||(u.alloc=function(c,f,w){if(typeof c!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof c);if(c<0||c>=2*(1<<30))throw new RangeError('The value "'+c+'" is invalid for option "size"');var v=E(c);return!f||f.length===0?v.fill(0):typeof w=="string"?v.fill(f,w):v.fill(f),v}),!_.kStringMaxLength)try{_.kStringMaxLength=S.binding("buffer").kStringMaxLength}catch(c){}_.constants||(_.constants={MAX_LENGTH:_.kMaxLength},_.kStringMaxLength&&(_.constants.MAX_STRING_LENGTH=_.kStringMaxLength)),s.exports=_},24189:(s,Q,R)=>{var S=R(89509).Buffer;function M(E,_){this._block=S.alloc(E),this._finalSize=_,this._blockSize=E,this._len=0}M.prototype.update=function(E,_){typeof E=="string"&&(_=_||"utf8",E=S.from(E,_));for(var l=this._block,u=this._blockSize,c=E.length,f=this._len,w=0;w<c;){for(var v=f%u,d=Math.min(c-w,u-v),h=0;h<d;h++)l[v+h]=E[w+h];f+=d,w+=d,f%u==0&&this._update(l)}return this._len+=c,this},M.prototype.digest=function(E){var _=this._len%this._blockSize;this._block[_]=128,this._block.fill(0,_+1),_>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=this._len*8;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var u=(l&4294967295)>>>0,c=(l-u)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var f=this._hash();return E?f.toString(E):f},M.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=M},89072:(s,Q,R)=>{var S=s.exports=function(E){E=E.toLowerCase();var _=S[E];if(!_)throw new Error(E+" is not supported (we accept pull requests)");return new _};S.sha=R(74448),S.sha1=R(18336),S.sha224=R(48432),S.sha256=R(67499),S.sha384=R(51686),S.sha512=R(87816)},74448:(s,Q,R)=>{var S=R(35717),M=R(24189),E=R(89509).Buffer,_=[1518500249,1859775393,2400959708|0,3395469782|0],l=new Array(80);function u(){this.init(),this._w=l,M.call(this,64,56)}S(u,M),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function c(v){return v<<5|v>>>27}function f(v){return v<<30|v>>>2}function w(v,d,h,p){return v===0?d&h|~d&p:v===2?d&h|d&p|h&p:d^h^p}u.prototype._update=function(v){for(var d=this._w,h=this._a|0,p=this._b|0,b=this._c|0,y=this._d|0,D=this._e|0,P=0;P<16;++P)d[P]=v.readInt32BE(P*4);for(;P<80;++P)d[P]=d[P-3]^d[P-8]^d[P-14]^d[P-16];for(var L=0;L<80;++L){var H=~~(L/20),j=c(h)+w(H,p,b,y)+D+d[L]+_[H]|0;D=y,y=b,b=f(p),p=h,h=j}this._a=h+this._a|0,this._b=p+this._b|0,this._c=b+this._c|0,this._d=y+this._d|0,this._e=D+this._e|0},u.prototype._hash=function(){var v=E.allocUnsafe(20);return v.writeInt32BE(this._a|0,0),v.writeInt32BE(this._b|0,4),v.writeInt32BE(this._c|0,8),v.writeInt32BE(this._d|0,12),v.writeInt32BE(this._e|0,16),v},s.exports=u},18336:(s,Q,R)=>{var S=R(35717),M=R(24189),E=R(89509).Buffer,_=[1518500249,1859775393,2400959708|0,3395469782|0],l=new Array(80);function u(){this.init(),this._w=l,M.call(this,64,56)}S(u,M),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function c(d){return d<<1|d>>>31}function f(d){return d<<5|d>>>27}function w(d){return d<<30|d>>>2}function v(d,h,p,b){return d===0?h&p|~h&b:d===2?h&p|h&b|p&b:h^p^b}u.prototype._update=function(d){for(var h=this._w,p=this._a|0,b=this._b|0,y=this._c|0,D=this._d|0,P=this._e|0,L=0;L<16;++L)h[L]=d.readInt32BE(L*4);for(;L<80;++L)h[L]=c(h[L-3]^h[L-8]^h[L-14]^h[L-16]);for(var H=0;H<80;++H){var j=~~(H/20),V=f(p)+v(j,b,y,D)+P+h[H]+_[j]|0;P=D,D=y,y=w(b),b=p,p=V}this._a=p+this._a|0,this._b=b+this._b|0,this._c=y+this._c|0,this._d=D+this._d|0,this._e=P+this._e|0},u.prototype._hash=function(){var d=E.allocUnsafe(20);return d.writeInt32BE(this._a|0,0),d.writeInt32BE(this._b|0,4),d.writeInt32BE(this._c|0,8),d.writeInt32BE(this._d|0,12),d.writeInt32BE(this._e|0,16),d},s.exports=u},48432:(s,Q,R)=>{var S=R(35717),M=R(67499),E=R(24189),_=R(89509).Buffer,l=new Array(64);function u(){this.init(),this._w=l,E.call(this,64,56)}S(u,M),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var c=_.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},s.exports=u},67499:(s,Q,R)=>{var S=R(35717),M=R(24189),E=R(89509).Buffer,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=new Array(64);function u(){this.init(),this._w=l,M.call(this,64,56)}S(u,M),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function c(p,b,y){return y^p&(b^y)}function f(p,b,y){return p&b|y&(p|b)}function w(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function v(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function d(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}function h(p){return(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10}u.prototype._update=function(p){for(var b=this._w,y=this._a|0,D=this._b|0,P=this._c|0,L=this._d|0,H=this._e|0,j=this._f|0,V=this._g|0,Y=this._h|0,K=0;K<16;++K)b[K]=p.readInt32BE(K*4);for(;K<64;++K)b[K]=h(b[K-2])+b[K-7]+d(b[K-15])+b[K-16]|0;for(var ae=0;ae<64;++ae){var ne=Y+v(H)+c(H,j,V)+_[ae]+b[ae]|0,ce=w(y)+f(y,D,P)|0;Y=V,V=j,j=H,H=L+ne|0,L=P,P=D,D=y,y=ne+ce|0}this._a=y+this._a|0,this._b=D+this._b|0,this._c=P+this._c|0,this._d=L+this._d|0,this._e=H+this._e|0,this._f=j+this._f|0,this._g=V+this._g|0,this._h=Y+this._h|0},u.prototype._hash=function(){var p=E.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},s.exports=u},51686:(s,Q,R)=>{var S=R(35717),M=R(87816),E=R(24189),_=R(89509).Buffer,l=new Array(160);function u(){this.init(),this._w=l,E.call(this,128,112)}S(u,M),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var c=_.allocUnsafe(48);function f(w,v,d){c.writeInt32BE(w,d),c.writeInt32BE(v,d+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),c},s.exports=u},87816:(s,Q,R)=>{var S=R(35717),M=R(24189),E=R(89509).Buffer,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);function u(){this.init(),this._w=l,M.call(this,128,112)}S(u,M),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function c(D,P,L){return L^D&(P^L)}function f(D,P,L){return D&P|L&(D|P)}function w(D,P){return(D>>>28|P<<4)^(P>>>2|D<<30)^(P>>>7|D<<25)}function v(D,P){return(D>>>14|P<<18)^(D>>>18|P<<14)^(P>>>9|D<<23)}function d(D,P){return(D>>>1|P<<31)^(D>>>8|P<<24)^D>>>7}function h(D,P){return(D>>>1|P<<31)^(D>>>8|P<<24)^(D>>>7|P<<25)}function p(D,P){return(D>>>19|P<<13)^(P>>>29|D<<3)^D>>>6}function b(D,P){return(D>>>19|P<<13)^(P>>>29|D<<3)^(D>>>6|P<<26)}function y(D,P){return D>>>0<P>>>0?1:0}u.prototype._update=function(D){for(var P=this._w,L=this._ah|0,H=this._bh|0,j=this._ch|0,V=this._dh|0,Y=this._eh|0,K=this._fh|0,ae=this._gh|0,ne=this._hh|0,ce=this._al|0,re=this._bl|0,I=this._cl|0,U=this._dl|0,C=this._el|0,o=this._fl|0,g=this._gl|0,N=this._hl|0,x=0;x<32;x+=2)P[x]=D.readInt32BE(x*4),P[x+1]=D.readInt32BE(x*4+4);for(;x<160;x+=2){var F=P[x-15*2],A=P[x-15*2+1],$=d(F,A),z=h(A,F);F=P[x-2*2],A=P[x-2*2+1];var T=p(F,A),ee=b(A,F),xe=P[x-7*2],ye=P[x-7*2+1],Re=P[x-16*2],Ee=P[x-16*2+1],J=z+ye|0,te=$+xe+y(J,z)|0;J=J+ee|0,te=te+T+y(J,ee)|0,J=J+Ee|0,te=te+Re+y(J,Ee)|0,P[x]=te,P[x+1]=J}for(var me=0;me<160;me+=2){te=P[me],J=P[me+1];var fe=f(L,H,j),_e=f(ce,re,I),q=w(L,ce),B=w(ce,L),se=v(Y,C),we=v(C,Y),ge=_[me],pe=_[me+1],Pe=c(Y,K,ae),Oe=c(C,o,g),Ue=N+we|0,pt=ne+se+y(Ue,N)|0;Ue=Ue+Oe|0,pt=pt+Pe+y(Ue,Oe)|0,Ue=Ue+pe|0,pt=pt+ge+y(Ue,pe)|0,Ue=Ue+J|0,pt=pt+te+y(Ue,J)|0;var je=B+_e|0,Je=q+fe+y(je,B)|0;ne=ae,N=g,ae=K,g=o,K=Y,o=C,C=U+Ue|0,Y=V+pt+y(C,U)|0,V=j,U=I,j=H,I=re,H=L,re=ce,ce=Ue+je|0,L=pt+Je+y(ce,Ue)|0}this._al=this._al+ce|0,this._bl=this._bl+re|0,this._cl=this._cl+I|0,this._dl=this._dl+U|0,this._el=this._el+C|0,this._fl=this._fl+o|0,this._gl=this._gl+g|0,this._hl=this._hl+N|0,this._ah=this._ah+L+y(this._al,ce)|0,this._bh=this._bh+H+y(this._bl,re)|0,this._ch=this._ch+j+y(this._cl,I)|0,this._dh=this._dh+V+y(this._dl,U)|0,this._eh=this._eh+Y+y(this._el,C)|0,this._fh=this._fh+K+y(this._fl,o)|0,this._gh=this._gh+ae+y(this._gl,g)|0,this._hh=this._hh+ne+y(this._hl,N)|0},u.prototype._hash=function(){var D=E.allocUnsafe(64);function P(L,H,j){D.writeInt32BE(L,j),D.writeInt32BE(H,j+4)}return P(this._ah,this._al,0),P(this._bh,this._bl,8),P(this._ch,this._cl,16),P(this._dh,this._dl,24),P(this._eh,this._el,32),P(this._fh,this._fl,40),P(this._gh,this._gl,48),P(this._hh,this._hl,56),D},s.exports=u},6200:(s,Q,R)=>{"use strict";const S=R(91003),M=/\s/,E=/\r|\n/,_=/^(Host|Match)$/i,l=/^(GlobalKnownHostsFile|Host|IPQoS|SendEnv|UserKnownHostsFile|ProxyCommand)$/i,u=/^(?:CertificateFile|IdentityFile|User)$/i,c=/^(Include|IdentityFile)$/i,f=1,w=2,v=["IdentityFile","LocalForward","RemoteForward","DynamicForward","CertificateFile"];function d(b,y){return y.hasOwnProperty(b.param)&&y[b.param]===b.value}function h(b){for(const y of b)if(_.test(y.param)){for(const D of y.config)if(D.before)return D.before}return"  "}class p extends Array{compute(y){const D={},P=(L,H)=>{v.includes(L)?(D[L]||(D[L]=[])).push(H):D[L]==null&&(D[L]=H)};for(const L of this)L.type===f&&(L.param==="Host"?S(L.value,y)&&(P(L.param,L.value),L.config.filter(H=>H.type===f).forEach(H=>P(H.param,H.value))):L.param==="Match"||P(L.param,L.value));return D}find(y={}){if(typeof y=="function")return super.find(y);if(!(y&&("Host"in y||"Match"in y)))throw new Error("Can only find by Host or Match");return super.find(D=>d(D,y))}remove(y={}){if(!(y&&("Host"in y||"Match"in y)))throw new Error("Can only remove by Host or Match");const D=typeof y=="function"?super.findIndex(y):super.findIndex(P=>d(P,y));if(D>=0)return this.splice(D,1)}toString(){return this.constructor.stringify(this)}append(y){const D=h(this),P=this.length>0?this[this.length-1]:null;let L=P&&P.config||this,H=this,j=L.length>0?L[L.length-1]:P;j&&!j.after&&(j.after=`
`);for(const V in y){const Y={type:f,param:V,separator:" ",value:y[V],before:"",after:`
`};_.test(V)?(L=H,j&&j.after===`
`&&(j.after+=`
`),L.push(Y),L=Y.config=new p):(Y.before=L===H?"":D,L.push(Y)),j=Y}return H}prepend(y,D=!1){const P=h(this);let L=this,H=0;if(D){for(;H<this.length&&!_.test(this[H].param);)H+=1;if(H>=this.length)return this.append(y)}let j=!1,V=0;for(const Y in y){V+=1;const K={type:f,param:Y,separator:" ",value:y[Y],before:"",after:`
`};if(_.test(Y)){L.splice(H,0,K),L=K.config=new p,j=!0;continue}if(V===Object.keys(y).length&&(K.after+=`
`),!j){L.splice(H,0,K),H+=1,c.test(Y)&&(K.after+=`
`);continue}K.before=P,L.push(K)}return L}static stringify(y){let D="";function P(j,V){return Array.isArray(j)?j.map(Y=>P(Y,M.test(Y))).join(" "):V?`"${j}"`:j}function L(j){const V=j.quoted||u.test(j.param)&&M.test(j.value),Y=P(j.value,V);return`${j.param}${j.separator}${Y}`}const H=j=>{D+=j.before,j.type===w?D+=j.content:j.type===f&&v.includes(j.param)?[].concat(j.value).forEach(function(V,Y,K){D+=L({...j,value:V}),Y<K.length-1&&(D+=`
${j.before}`)}):j.type===f&&(D+=L(j)),D+=j.after,j.config&&j.config.forEach(H)};return y.forEach(H),D}static get DIRECTIVE(){return f}static get COMMENT(){return w}static parse(y){let D=0,P=j(),L=new p,H=L;function j(){return y[D++]}function V(){let C="";for(;M.test(P);)C+=P,P=j();return C}function Y(){let C="";for(;E.test(P);)C+=P,P=j();return C}function K(){let C="";for(;P&&/[^ \t=]/.test(P);)C+=P,P=j();return C}function ae(){let C=V();return P==="="&&(C+=P,P=j()),C+V()}function ne(){let C="",o=!1,g=!1;for(;P&&!E.test(P);)g?(C+=P==='"'?P:`\\${P}`,g=!1):P==='"'&&(!C||o)?o=!o:P==="\\"?g=!0:C+=P,P=j();if(o||g)throw new Error(`Unexpected line break at ${C}`);return C.trim()}function ce(){const C=w;let o="";for(;P&&!E.test(P);)o+=P,P=j();return{type:C,content:o}}function re(){const C=[];let o="",g=!1,N=!1;for(;P&&!E.test(P);)N?(o+=P==='"'?P:`\\${P}`,N=!1):P==='"'?g=!g:P==="\\"?N=!0:g?o+=P:/[ \t]/.test(P)?o&&(C.push(o),o=""):o+=P,P=j();if(g||N)throw new Error(`Unexpected line break at ${C.concat(o).join(" ")}`);return o&&C.push(o),C.length>1?C:C[0]}function I(){const C=f,o=K(),g=l.test(o),N={type:C,param:o,separator:ae(),quoted:!g&&P==='"',value:g?re():ne()};return N.quoted||delete N.quoted,N}function U(){const C=V(),o=P==="#"?ce():I(),g=Y();return o.before=C,o.after=g,o}for(;P;){let C=U();C.type===f&&_.test(C.param)?(L=H,L.push(C),L=C.config=new p):L.push(C)}return H}}s.exports=p},91003:s=>{"use strict";function Q(M,E){for(let _ of E)M=M.replace(new RegExp("\\"+_,"g"),"\\"+_);return M}function R(M,E){return M=Q(M,"\\()[]{}.+^$|"),M=M.replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+M+")$").test(E)}function S(M,E){const _=Array.isArray(M)?M:M.split(/,/);let l=!1;for(const u of _){if(u[0]=="!"&&R(u.slice(1),E))return!1;R(u,E)&&(l=!0)}return l}s.exports=S},42830:(s,Q,R)=>{s.exports=E;var S=R(17187).EventEmitter,M=R(35717);M(E,S),E.Readable=R(56577),E.Writable=R(20323),E.Duplex=R(68656),E.Transform=R(94473),E.PassThrough=R(2366),E.finished=R(81086),E.pipeline=R(56472),E.Stream=E;function E(){S.call(this)}E.prototype.pipe=function(_,l){var u=this;function c(b){_.writable&&_.write(b)===!1&&u.pause&&u.pause()}u.on("data",c);function f(){u.readable&&u.resume&&u.resume()}_.on("drain",f),!_._isStdio&&(!l||l.end!==!1)&&(u.on("end",v),u.on("close",d));var w=!1;function v(){w||(w=!0,_.end())}function d(){w||(w=!0,typeof _.destroy=="function"&&_.destroy())}function h(b){if(p(),S.listenerCount(this,"error")===0)throw b}u.on("error",h),_.on("error",h);function p(){u.removeListener("data",c),_.removeListener("drain",f),u.removeListener("end",v),u.removeListener("close",d),u.removeListener("error",h),_.removeListener("error",h),u.removeListener("end",p),u.removeListener("close",p),_.removeListener("close",p)}return u.on("end",p),u.on("close",p),_.on("close",p),_.emit("pipe",u),_}},58106:s=>{"use strict";function Q(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,u.__proto__=c}var R={};function S(u,c,f){f||(f=Error);function w(d,h,p){return typeof c=="string"?c:c(d,h,p)}var v=function(d){Q(h,d);function h(p,b,y){return d.call(this,w(p,b,y))||this}return h}(f);v.prototype.name=f.name,v.prototype.code=u,R[u]=v}function M(u,c){if(Array.isArray(u)){var f=u.length;return u=u.map(function(w){return String(w)}),f>2?"one of ".concat(c," ").concat(u.slice(0,f-1).join(", "),", or ")+u[f-1]:f===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}else return"of ".concat(c," ").concat(String(u))}function E(u,c,f){return u.substr(!f||f<0?0:+f,c.length)===c}function _(u,c,f){return(f===void 0||f>u.length)&&(f=u.length),u.substring(f-c.length,f)===c}function l(u,c,f){return typeof f!="number"&&(f=0),f+c.length>u.length?!1:u.indexOf(c,f)!==-1}S("ERR_INVALID_OPT_VALUE",function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'},TypeError),S("ERR_INVALID_ARG_TYPE",function(u,c,f){var w;typeof c=="string"&&E(c,"not ")?(w="must not be",c=c.replace(/^not /,"")):w="must be";var v;if(_(u," argument"))v="The ".concat(u," ").concat(w," ").concat(M(c,"type"));else{var d=l(u,".")?"property":"argument";v='The "'.concat(u,'" ').concat(d," ").concat(w," ").concat(M(c,"type"))}return v+=". Received type ".concat(typeof f),v},TypeError),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),S("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),S("ERR_STREAM_PREMATURE_CLOSE","Premature close"),S("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),S("ERR_STREAM_WRITE_AFTER_END","write after end"),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.q=R},68656:(s,Q,R)=>{"use strict";var S=R(34155),M=Object.keys||function(d){var h=[];for(var p in d)h.push(p);return h};s.exports=f;var E=R(56577),_=R(20323);R(35717)(f,E);for(var l=M(_.prototype),u=0;u<l.length;u++){var c=l[u];f.prototype[c]||(f.prototype[c]=_.prototype[c])}function f(d){if(!(this instanceof f))return new f(d);E.call(this,d),_.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",w)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(){this._writableState.ended||S.nextTick(v,this)}function v(d){d.end()}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}})},2366:(s,Q,R)=>{"use strict";s.exports=M;var S=R(94473);R(35717)(M,S);function M(E){if(!(this instanceof M))return new M(E);S.call(this,E)}M.prototype._transform=function(E,_,l){l(null,E)}},56577:(s,Q,R)=>{"use strict";var S=R(34155);s.exports=I;var M;I.ReadableState=re;var E=R(17187).EventEmitter,_=function(B,se){return B.listeners(se).length},l=R(83194),u=R(48764).Buffer,c=R.g.Uint8Array||function(){};function f(q){return u.from(q)}function w(q){return u.isBuffer(q)||q instanceof c}var v=R(40964),d;v&&v.debuglog?d=v.debuglog("stream"):d=function(){};var h=R(39686),p=R(71029),b=R(30094),y=b.getHighWaterMark,D=R(58106).q,P=D.ERR_INVALID_ARG_TYPE,L=D.ERR_STREAM_PUSH_AFTER_EOF,H=D.ERR_METHOD_NOT_IMPLEMENTED,j=D.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,V,Y,K;R(35717)(I,l);var ae=p.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ce(q,B,se){if(typeof q.prependListener=="function")return q.prependListener(B,se);!q._events||!q._events[B]?q.on(B,se):Array.isArray(q._events[B])?q._events[B].unshift(se):q._events[B]=[se,q._events[B]]}function re(q,B,se){M=M||R(68656),q=q||{},typeof se!="boolean"&&(se=B instanceof M),this.objectMode=!!q.objectMode,se&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=y(this,q,"readableHighWaterMark",se),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(V||(V=R(32553).s),this.decoder=new V(q.encoding),this.encoding=q.encoding)}function I(q){if(M=M||R(68656),!(this instanceof I))return new I(q);var B=this instanceof M;this._readableState=new re(q,this,B),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),l.call(this)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(B){!this._readableState||(this._readableState.destroyed=B)}}),I.prototype.destroy=p.destroy,I.prototype._undestroy=p.undestroy,I.prototype._destroy=function(q,B){B(q)},I.prototype.push=function(q,B){var se=this._readableState,we;return se.objectMode?we=!0:typeof q=="string"&&(B=B||se.defaultEncoding,B!==se.encoding&&(q=u.from(q,B),B=""),we=!0),U(this,q,B,!1,we)},I.prototype.unshift=function(q){return U(this,q,null,!0,!1)};function U(q,B,se,we,ge){d("readableAddChunk",B);var pe=q._readableState;if(B===null)pe.reading=!1,F(q,pe);else{var Pe;if(ge||(Pe=o(pe,B)),Pe)ae(q,Pe);else if(pe.objectMode||B&&B.length>0)if(typeof B!="string"&&!pe.objectMode&&Object.getPrototypeOf(B)!==u.prototype&&(B=f(B)),we)pe.endEmitted?ae(q,new j):C(q,pe,B,!0);else if(pe.ended)ae(q,new L);else{if(pe.destroyed)return!1;pe.reading=!1,pe.decoder&&!se?(B=pe.decoder.write(B),pe.objectMode||B.length!==0?C(q,pe,B,!1):z(q,pe)):C(q,pe,B,!1)}else we||(pe.reading=!1,z(q,pe))}return!pe.ended&&(pe.length<pe.highWaterMark||pe.length===0)}function C(q,B,se,we){B.flowing&&B.length===0&&!B.sync?(B.awaitDrain=0,q.emit("data",se)):(B.length+=B.objectMode?1:se.length,we?B.buffer.unshift(se):B.buffer.push(se),B.needReadable&&A(q)),z(q,B)}function o(q,B){var se;return!w(B)&&typeof B!="string"&&B!==void 0&&!q.objectMode&&(se=new P("chunk",["string","Buffer","Uint8Array"],B)),se}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(q){V||(V=R(32553).s);var B=new V(q);this._readableState.decoder=B,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,we="";se!==null;)we+=B.write(se.data),se=se.next;return this._readableState.buffer.clear(),we!==""&&this._readableState.buffer.push(we),this._readableState.length=we.length,this};var g=1073741824;function N(q){return q>=g?q=g:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function x(q,B){return q<=0||B.length===0&&B.ended?0:B.objectMode?1:q!==q?B.flowing&&B.length?B.buffer.head.data.length:B.length:(q>B.highWaterMark&&(B.highWaterMark=N(q)),q<=B.length?q:B.ended?B.length:(B.needReadable=!0,0))}I.prototype.read=function(q){d("read",q),q=parseInt(q,10);var B=this._readableState,se=q;if(q!==0&&(B.emittedReadable=!1),q===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return d("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?me(this):A(this),null;if(q=x(q,B),q===0&&B.ended)return B.length===0&&me(this),null;var we=B.needReadable;d("need readable",we),(B.length===0||B.length-q<B.highWaterMark)&&(we=!0,d("length less than watermark",we)),B.ended||B.reading?(we=!1,d("reading or ended",we)):we&&(d("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(q=x(se,B)));var ge;return q>0?ge=te(q,B):ge=null,ge===null?(B.needReadable=B.length<=B.highWaterMark,q=0):(B.length-=q,B.awaitDrain=0),B.length===0&&(B.ended||(B.needReadable=!0),se!==q&&B.ended&&me(this)),ge!==null&&this.emit("data",ge),ge};function F(q,B){if(d("onEofChunk"),!B.ended){if(B.decoder){var se=B.decoder.end();se&&se.length&&(B.buffer.push(se),B.length+=B.objectMode?1:se.length)}B.ended=!0,B.sync?A(q):(B.needReadable=!1,B.emittedReadable||(B.emittedReadable=!0,$(q)))}}function A(q){var B=q._readableState;d("emitReadable",B.needReadable,B.emittedReadable),B.needReadable=!1,B.emittedReadable||(d("emitReadable",B.flowing),B.emittedReadable=!0,S.nextTick($,q))}function $(q){var B=q._readableState;d("emitReadable_",B.destroyed,B.length,B.ended),!B.destroyed&&(B.length||B.ended)&&(q.emit("readable"),B.emittedReadable=!1),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,J(q)}function z(q,B){B.readingMore||(B.readingMore=!0,S.nextTick(T,q,B))}function T(q,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){var se=B.length;if(d("maybeReadMore read 0"),q.read(0),se===B.length)break}B.readingMore=!1}I.prototype._read=function(q){ae(this,new H("_read()"))},I.prototype.pipe=function(q,B){var se=this,we=this._readableState;switch(we.pipesCount){case 0:we.pipes=q;break;case 1:we.pipes=[we.pipes,q];break;default:we.pipes.push(q);break}we.pipesCount+=1,d("pipe count=%d opts=%j",we.pipesCount,B);var ge=(!B||B.end!==!1)&&q!==S.stdout&&q!==S.stderr,pe=ge?Oe:ie;we.endEmitted?S.nextTick(pe):se.once("end",pe),q.on("unpipe",Pe);function Pe(he,Ce){d("onunpipe"),he===se&&Ce&&Ce.hasUnpiped===!1&&(Ce.hasUnpiped=!0,je())}function Oe(){d("onend"),q.end()}var Ue=ee(se);q.on("drain",Ue);var pt=!1;function je(){d("cleanup"),q.removeListener("close",le),q.removeListener("finish",W),q.removeListener("drain",Ue),q.removeListener("error",lt),q.removeListener("unpipe",Pe),se.removeListener("end",Oe),se.removeListener("end",ie),se.removeListener("data",Je),pt=!0,we.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&Ue()}se.on("data",Je);function Je(he){d("ondata");var Ce=q.write(he);d("dest.write",Ce),Ce===!1&&((we.pipesCount===1&&we.pipes===q||we.pipesCount>1&&_e(we.pipes,q)!==-1)&&!pt&&(d("false write response, pause",we.awaitDrain),we.awaitDrain++),se.pause())}function lt(he){d("onerror",he),ie(),q.removeListener("error",lt),_(q,"error")===0&&ae(q,he)}ce(q,"error",lt);function le(){q.removeListener("finish",W),ie()}q.once("close",le);function W(){d("onfinish"),q.removeListener("close",le),ie()}q.once("finish",W);function ie(){d("unpipe"),se.unpipe(q)}return q.emit("pipe",se),we.flowing||(d("pipe resume"),se.resume()),q};function ee(q){return function(){var se=q._readableState;d("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&_(q,"data")&&(se.flowing=!0,J(q))}}I.prototype.unpipe=function(q){var B=this._readableState,se={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return q&&q!==B.pipes?this:(q||(q=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,q&&q.emit("unpipe",this,se),this);if(!q){var we=B.pipes,ge=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var pe=0;pe<ge;pe++)we[pe].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=_e(B.pipes,q);return Pe===-1?this:(B.pipes.splice(Pe,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),q.emit("unpipe",this,se),this)},I.prototype.on=function(q,B){var se=l.prototype.on.call(this,q,B),we=this._readableState;return q==="data"?(we.readableListening=this.listenerCount("readable")>0,we.flowing!==!1&&this.resume()):q==="readable"&&!we.endEmitted&&!we.readableListening&&(we.readableListening=we.needReadable=!0,we.flowing=!1,we.emittedReadable=!1,d("on readable",we.length,we.reading),we.length?A(this):we.reading||S.nextTick(ye,this)),se},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(q,B){var se=l.prototype.removeListener.call(this,q,B);return q==="readable"&&S.nextTick(xe,this),se},I.prototype.removeAllListeners=function(q){var B=l.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&S.nextTick(xe,this),B};function xe(q){var B=q._readableState;B.readableListening=q.listenerCount("readable")>0,B.resumeScheduled&&!B.paused?B.flowing=!0:q.listenerCount("data")>0&&q.resume()}function ye(q){d("readable nexttick read 0"),q.read(0)}I.prototype.resume=function(){var q=this._readableState;return q.flowing||(d("resume"),q.flowing=!q.readableListening,Re(this,q)),q.paused=!1,this};function Re(q,B){B.resumeScheduled||(B.resumeScheduled=!0,S.nextTick(Ee,q,B))}function Ee(q,B){d("resume",B.reading),B.reading||q.read(0),B.resumeScheduled=!1,q.emit("resume"),J(q),B.flowing&&!B.reading&&q.read(0)}I.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(q){var B=q._readableState;for(d("flow",B.flowing);B.flowing&&q.read()!==null;);}I.prototype.wrap=function(q){var B=this,se=this._readableState,we=!1;q.on("end",function(){if(d("wrapped end"),se.decoder&&!se.ended){var Pe=se.decoder.end();Pe&&Pe.length&&B.push(Pe)}B.push(null)}),q.on("data",function(Pe){if(d("wrapped data"),se.decoder&&(Pe=se.decoder.write(Pe)),!(se.objectMode&&Pe==null)&&!(!se.objectMode&&(!Pe||!Pe.length))){var Oe=B.push(Pe);Oe||(we=!0,q.pause())}});for(var ge in q)this[ge]===void 0&&typeof q[ge]=="function"&&(this[ge]=function(Oe){return function(){return q[Oe].apply(q,arguments)}}(ge));for(var pe=0;pe<ne.length;pe++)q.on(ne[pe],this.emit.bind(this,ne[pe]));return this._read=function(Pe){d("wrapped _read",Pe),we&&(we=!1,q.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return Y===void 0&&(Y=R(20828)),Y(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}}),I._fromList=te,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(q,B){if(B.length===0)return null;var se;return B.objectMode?se=B.buffer.shift():!q||q>=B.length?(B.decoder?se=B.buffer.join(""):B.buffer.length===1?se=B.buffer.first():se=B.buffer.concat(B.length),B.buffer.clear()):se=B.buffer.consume(q,B.decoder),se}function me(q){var B=q._readableState;d("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,S.nextTick(fe,B,q))}function fe(q,B){if(d("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,B.readable=!1,B.emit("end"),q.autoDestroy)){var se=B._writableState;(!se||se.autoDestroy&&se.finished)&&B.destroy()}}typeof Symbol=="function"&&(I.from=function(q,B){return K===void 0&&(K=R(31265)),K(I,q,B)});function _e(q,B){for(var se=0,we=q.length;se<we;se++)if(q[se]===B)return se;return-1}},94473:(s,Q,R)=>{"use strict";s.exports=f;var S=R(58106).q,M=S.ERR_METHOD_NOT_IMPLEMENTED,E=S.ERR_MULTIPLE_CALLBACK,_=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=S.ERR_TRANSFORM_WITH_LENGTH_0,u=R(68656);R(35717)(f,u);function c(d,h){var p=this._transformState;p.transforming=!1;var b=p.writecb;if(b===null)return this.emit("error",new E);p.writechunk=null,p.writecb=null,h!=null&&this.push(h),b(d);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function f(d){if(!(this instanceof f))return new f(d);u.call(this,d),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",w)}function w(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,p){v(d,h,p)}):v(this,null,null)}f.prototype.push=function(d,h){return this._transformState.needTransform=!1,u.prototype.push.call(this,d,h)},f.prototype._transform=function(d,h,p){p(new M("_transform()"))},f.prototype._write=function(d,h,p){var b=this._transformState;if(b.writecb=p,b.writechunk=d,b.writeencoding=h,!b.transforming){var y=this._readableState;(b.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},f.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},f.prototype._destroy=function(d,h){u.prototype._destroy.call(this,d,function(p){h(p)})};function v(d,h,p){if(h)return d.emit("error",h);if(p!=null&&d.push(p),d._writableState.length)throw new l;if(d._transformState.transforming)throw new _;return d.push(null)}},20323:(s,Q,R)=>{"use strict";var S=R(34155);s.exports=re;function M(J,te,me){this.chunk=J,this.encoding=te,this.callback=me,this.next=null}function E(J){var te=this;this.next=null,this.entry=null,this.finish=function(){Ee(te,J)}}var _;re.WritableState=ne;var l={deprecate:R(94927)},u=R(83194),c=R(48764).Buffer,f=R.g.Uint8Array||function(){};function w(J){return c.from(J)}function v(J){return c.isBuffer(J)||J instanceof f}var d=R(71029),h=R(30094),p=h.getHighWaterMark,b=R(58106).q,y=b.ERR_INVALID_ARG_TYPE,D=b.ERR_METHOD_NOT_IMPLEMENTED,P=b.ERR_MULTIPLE_CALLBACK,L=b.ERR_STREAM_CANNOT_PIPE,H=b.ERR_STREAM_DESTROYED,j=b.ERR_STREAM_NULL_VALUES,V=b.ERR_STREAM_WRITE_AFTER_END,Y=b.ERR_UNKNOWN_ENCODING,K=d.errorOrDestroy;R(35717)(re,u);function ae(){}function ne(J,te,me){_=_||R(68656),J=J||{},typeof me!="boolean"&&(me=te instanceof _),this.objectMode=!!J.objectMode,me&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=p(this,J,"writableHighWaterMark",me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var fe=J.decodeStrings===!1;this.decodeStrings=!fe,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){F(te,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this)}ne.prototype.getBuffer=function(){for(var te=this.bufferedRequest,me=[];te;)me.push(te),te=te.next;return me},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(J){}}();var ce;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ce=Function.prototype[Symbol.hasInstance],Object.defineProperty(re,Symbol.hasInstance,{value:function(te){return ce.call(this,te)?!0:this!==re?!1:te&&te._writableState instanceof ne}})):ce=function(te){return te instanceof this};function re(J){_=_||R(68656);var te=this instanceof _;if(!te&&!ce.call(re,this))return new re(J);this._writableState=new ne(J,this,te),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),u.call(this)}re.prototype.pipe=function(){K(this,new L)};function I(J,te){var me=new V;K(J,me),S.nextTick(te,me)}function U(J,te,me,fe){var _e;return me===null?_e=new j:typeof me!="string"&&!te.objectMode&&(_e=new y("chunk",["string","Buffer"],me)),_e?(K(J,_e),S.nextTick(fe,_e),!1):!0}re.prototype.write=function(J,te,me){var fe=this._writableState,_e=!1,q=!fe.objectMode&&v(J);return q&&!c.isBuffer(J)&&(J=w(J)),typeof te=="function"&&(me=te,te=null),q?te="buffer":te||(te=fe.defaultEncoding),typeof me!="function"&&(me=ae),fe.ending?I(this,me):(q||U(this,fe,J,me))&&(fe.pendingcb++,_e=o(this,fe,q,J,te,me)),_e},re.prototype.cork=function(){this._writableState.corked++},re.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&z(this,J))},re.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new Y(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(re.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(J,te,me){return!J.objectMode&&J.decodeStrings!==!1&&typeof te=="string"&&(te=c.from(te,me)),te}Object.defineProperty(re.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(J,te,me,fe,_e,q){if(!me){var B=C(te,fe,_e);fe!==B&&(me=!0,_e="buffer",fe=B)}var se=te.objectMode?1:fe.length;te.length+=se;var we=te.length<te.highWaterMark;if(we||(te.needDrain=!0),te.writing||te.corked){var ge=te.lastBufferedRequest;te.lastBufferedRequest={chunk:fe,encoding:_e,isBuf:me,callback:q,next:null},ge?ge.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else g(J,te,!1,se,fe,_e,q);return we}function g(J,te,me,fe,_e,q,B){te.writelen=fe,te.writecb=B,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new H("write")):me?J._writev(_e,te.onwrite):J._write(_e,q,te.onwrite),te.sync=!1}function N(J,te,me,fe,_e){--te.pendingcb,me?(S.nextTick(_e,fe),S.nextTick(ye,J,te),J._writableState.errorEmitted=!0,K(J,fe)):(_e(fe),J._writableState.errorEmitted=!0,K(J,fe),ye(J,te))}function x(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function F(J,te){var me=J._writableState,fe=me.sync,_e=me.writecb;if(typeof _e!="function")throw new P;if(x(me),te)N(J,me,fe,te,_e);else{var q=T(me)||J.destroyed;!q&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&z(J,me),fe?S.nextTick(A,J,me,q,_e):A(J,me,q,_e)}}function A(J,te,me,fe){me||$(J,te),te.pendingcb--,fe(),ye(J,te)}function $(J,te){te.length===0&&te.needDrain&&(te.needDrain=!1,J.emit("drain"))}function z(J,te){te.bufferProcessing=!0;var me=te.bufferedRequest;if(J._writev&&me&&me.next){var fe=te.bufferedRequestCount,_e=new Array(fe),q=te.corkedRequestsFree;q.entry=me;for(var B=0,se=!0;me;)_e[B]=me,me.isBuf||(se=!1),me=me.next,B+=1;_e.allBuffers=se,g(J,te,!0,te.length,_e,"",q.finish),te.pendingcb++,te.lastBufferedRequest=null,q.next?(te.corkedRequestsFree=q.next,q.next=null):te.corkedRequestsFree=new E(te),te.bufferedRequestCount=0}else{for(;me;){var we=me.chunk,ge=me.encoding,pe=me.callback,Pe=te.objectMode?1:we.length;if(g(J,te,!1,Pe,we,ge,pe),me=me.next,te.bufferedRequestCount--,te.writing)break}me===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=me,te.bufferProcessing=!1}re.prototype._write=function(J,te,me){me(new D("_write()"))},re.prototype._writev=null,re.prototype.end=function(J,te,me){var fe=this._writableState;return typeof J=="function"?(me=J,J=null,te=null):typeof te=="function"&&(me=te,te=null),J!=null&&this.write(J,te),fe.corked&&(fe.corked=1,this.uncork()),fe.ending||Re(this,fe,me),this},Object.defineProperty(re.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function T(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function ee(J,te){J._final(function(me){te.pendingcb--,me&&K(J,me),te.prefinished=!0,J.emit("prefinish"),ye(J,te)})}function xe(J,te){!te.prefinished&&!te.finalCalled&&(typeof J._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,S.nextTick(ee,J,te)):(te.prefinished=!0,J.emit("prefinish")))}function ye(J,te){var me=T(te);if(me&&(xe(J,te),te.pendingcb===0&&(te.finished=!0,J.emit("finish"),te.autoDestroy))){var fe=J._readableState;(!fe||fe.autoDestroy&&fe.endEmitted)&&J.destroy()}return me}function Re(J,te,me){te.ending=!0,ye(J,te),me&&(te.finished?S.nextTick(me):J.once("finish",me)),te.ended=!0,J.writable=!1}function Ee(J,te,me){var fe=J.entry;for(J.entry=null;fe;){var _e=fe.callback;te.pendingcb--,_e(me),fe=fe.next}te.corkedRequestsFree.next=J}Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){!this._writableState||(this._writableState.destroyed=te)}}),re.prototype.destroy=d.destroy,re.prototype._undestroy=d.undestroy,re.prototype._destroy=function(J,te){te(J)}},20828:(s,Q,R)=>{"use strict";var S=R(34155),M;function E(H,j,V){return j in H?Object.defineProperty(H,j,{value:V,enumerable:!0,configurable:!0,writable:!0}):H[j]=V,H}var _=R(81086),l=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),f=Symbol("ended"),w=Symbol("lastPromise"),v=Symbol("handlePromise"),d=Symbol("stream");function h(H,j){return{value:H,done:j}}function p(H){var j=H[l];if(j!==null){var V=H[d].read();V!==null&&(H[w]=null,H[l]=null,H[u]=null,j(h(V,!1)))}}function b(H){S.nextTick(p,H)}function y(H,j){return function(V,Y){H.then(function(){if(j[f]){V(h(void 0,!0));return}j[v](V,Y)},Y)}}var D=Object.getPrototypeOf(function(){}),P=Object.setPrototypeOf((M={get stream(){return this[d]},next:function(){var j=this,V=this[c];if(V!==null)return Promise.reject(V);if(this[f])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise(function(ne,ce){S.nextTick(function(){j[c]?ce(j[c]):ne(h(void 0,!0))})});var Y=this[w],K;if(Y)K=new Promise(y(Y,this));else{var ae=this[d].read();if(ae!==null)return Promise.resolve(h(ae,!1));K=new Promise(this[v])}return this[w]=K,K}},E(M,Symbol.asyncIterator,function(){return this}),E(M,"return",function(){var j=this;return new Promise(function(V,Y){j[d].destroy(null,function(K){if(K){Y(K);return}V(h(void 0,!0))})})}),M),D),L=function(j){var V,Y=Object.create(P,(V={},E(V,d,{value:j,writable:!0}),E(V,l,{value:null,writable:!0}),E(V,u,{value:null,writable:!0}),E(V,c,{value:null,writable:!0}),E(V,f,{value:j._readableState.endEmitted,writable:!0}),E(V,v,{value:function(ae,ne){var ce=Y[d].read();ce?(Y[w]=null,Y[l]=null,Y[u]=null,ae(h(ce,!1))):(Y[l]=ae,Y[u]=ne)},writable:!0}),V));return Y[w]=null,_(j,function(K){if(K&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ae=Y[u];ae!==null&&(Y[w]=null,Y[l]=null,Y[u]=null,ae(K)),Y[c]=K;return}var ne=Y[l];ne!==null&&(Y[w]=null,Y[l]=null,Y[u]=null,ne(h(void 0,!0))),Y[f]=!0}),j.on("readable",b.bind(null,Y)),Y};s.exports=L},39686:(s,Q,R)=>{"use strict";function S(p,b){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(p);b&&(D=D.filter(function(P){return Object.getOwnPropertyDescriptor(p,P).enumerable})),y.push.apply(y,D)}return y}function M(p){for(var b=1;b<arguments.length;b++){var y=arguments[b]!=null?arguments[b]:{};b%2?S(Object(y),!0).forEach(function(D){E(p,D,y[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):S(Object(y)).forEach(function(D){Object.defineProperty(p,D,Object.getOwnPropertyDescriptor(y,D))})}return p}function E(p,b,y){return b in p?Object.defineProperty(p,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[b]=y,p}function _(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function l(p,b){for(var y=0;y<b.length;y++){var D=b[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,D.key,D)}}function u(p,b,y){return b&&l(p.prototype,b),y&&l(p,y),p}var c=R(48764),f=c.Buffer,w=R(69862),v=w.inspect,d=v&&v.custom||"inspect";function h(p,b,y){f.prototype.copy.call(p,b,y)}s.exports=function(){function p(){_(this,p),this.head=null,this.tail=null,this.length=0}return u(p,[{key:"push",value:function(y){var D={data:y,next:null};this.length>0?this.tail.next=D:this.head=D,this.tail=D,++this.length}},{key:"unshift",value:function(y){var D={data:y,next:this.head};this.length===0&&(this.tail=D),this.head=D,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var D=this.head,P=""+D.data;D=D.next;)P+=y+D.data;return P}},{key:"concat",value:function(y){if(this.length===0)return f.alloc(0);for(var D=f.allocUnsafe(y>>>0),P=this.head,L=0;P;)h(P.data,D,L),L+=P.data.length,P=P.next;return D}},{key:"consume",value:function(y,D){var P;return y<this.head.data.length?(P=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?P=this.shift():P=D?this._getString(y):this._getBuffer(y),P}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var D=this.head,P=1,L=D.data;for(y-=L.length;D=D.next;){var H=D.data,j=y>H.length?H.length:y;if(j===H.length?L+=H:L+=H.slice(0,y),y-=j,y===0){j===H.length?(++P,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=H.slice(j));break}++P}return this.length-=P,L}},{key:"_getBuffer",value:function(y){var D=f.allocUnsafe(y),P=this.head,L=1;for(P.data.copy(D),y-=P.data.length;P=P.next;){var H=P.data,j=y>H.length?H.length:y;if(H.copy(D,D.length-y,0,j),y-=j,y===0){j===H.length?(++L,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=H.slice(j));break}++L}return this.length-=L,D}},{key:d,value:function(y,D){return v(this,M({},D,{depth:0,customInspect:!1}))}}]),p}()},71029:(s,Q,R)=>{"use strict";var S=R(34155);function M(f,w){var v=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(w?w(f):f&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,S.nextTick(u,this,f)):S.nextTick(u,this,f)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(p){!w&&p?v._writableState?v._writableState.errorEmitted?S.nextTick(_,v):(v._writableState.errorEmitted=!0,S.nextTick(E,v,p)):S.nextTick(E,v,p):w?(S.nextTick(_,v),w(p)):S.nextTick(_,v)}),this)}function E(f,w){u(f,w),_(f)}function _(f){f._writableState&&!f._writableState.emitClose||f._readableState&&!f._readableState.emitClose||f.emit("close")}function l(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(f,w){f.emit("error",w)}function c(f,w){var v=f._readableState,d=f._writableState;v&&v.autoDestroy||d&&d.autoDestroy?f.destroy(w):f.emit("error",w)}s.exports={destroy:M,undestroy:l,errorOrDestroy:c}},81086:(s,Q,R)=>{"use strict";var S=R(58106).q.ERR_STREAM_PREMATURE_CLOSE;function M(u){var c=!1;return function(){if(!c){c=!0;for(var f=arguments.length,w=new Array(f),v=0;v<f;v++)w[v]=arguments[v];u.apply(this,w)}}}function E(){}function _(u){return u.setHeader&&typeof u.abort=="function"}function l(u,c,f){if(typeof c=="function")return l(u,null,c);c||(c={}),f=M(f||E);var w=c.readable||c.readable!==!1&&u.readable,v=c.writable||c.writable!==!1&&u.writable,d=function(){u.writable||p()},h=u._writableState&&u._writableState.finished,p=function(){v=!1,h=!0,w||f.call(u)},b=u._readableState&&u._readableState.endEmitted,y=function(){w=!1,b=!0,v||f.call(u)},D=function(j){f.call(u,j)},P=function(){var j;if(w&&!b)return(!u._readableState||!u._readableState.ended)&&(j=new S),f.call(u,j);if(v&&!h)return(!u._writableState||!u._writableState.ended)&&(j=new S),f.call(u,j)},L=function(){u.req.on("finish",p)};return _(u)?(u.on("complete",p),u.on("abort",P),u.req?L():u.on("request",L)):v&&!u._writableState&&(u.on("end",d),u.on("close",d)),u.on("end",y),u.on("finish",p),c.error!==!1&&u.on("error",D),u.on("close",P),function(){u.removeListener("complete",p),u.removeListener("abort",P),u.removeListener("request",L),u.req&&u.req.removeListener("finish",p),u.removeListener("end",d),u.removeListener("close",d),u.removeListener("finish",p),u.removeListener("end",y),u.removeListener("error",D),u.removeListener("close",P)}}s.exports=l},31265:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},56472:(s,Q,R)=>{"use strict";var S;function M(p){var b=!1;return function(){b||(b=!0,p.apply(void 0,arguments))}}var E=R(58106).q,_=E.ERR_MISSING_ARGS,l=E.ERR_STREAM_DESTROYED;function u(p){if(p)throw p}function c(p){return p.setHeader&&typeof p.abort=="function"}function f(p,b,y,D){D=M(D);var P=!1;p.on("close",function(){P=!0}),S===void 0&&(S=R(81086)),S(p,{readable:b,writable:y},function(H){if(H)return D(H);P=!0,D()});var L=!1;return function(H){if(!P&&!L){if(L=!0,c(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();D(H||new l("pipe"))}}}function w(p){p()}function v(p,b){return p.pipe(b)}function d(p){return!p.length||typeof p[p.length-1]!="function"?u:p.pop()}function h(){for(var p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];var D=d(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new _("streams");var P,L=b.map(function(H,j){var V=j<b.length-1,Y=j>0;return f(H,V,Y,function(K){P||(P=K),K&&L.forEach(w),!V&&(L.forEach(w),D(P))})});return b.reduce(v)}s.exports=h},30094:(s,Q,R)=>{"use strict";var S=R(58106).q.ERR_INVALID_OPT_VALUE;function M(_,l,u){return _.highWaterMark!=null?_.highWaterMark:l?_[u]:null}function E(_,l,u,c){var f=M(l,c,u);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var w=c?u:"highWaterMark";throw new S(w,f)}return Math.floor(f)}return _.objectMode?16:16*1024}s.exports={getHighWaterMark:E}},83194:(s,Q,R)=>{s.exports=R(17187).EventEmitter},32553:(s,Q,R)=>{"use strict";var S=R(89509).Buffer,M=S.isEncoding||function(L){switch(L=""+L,L&&L.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function E(L){if(!L)return"utf8";for(var H;;)switch(L){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return L;default:if(H)return;L=(""+L).toLowerCase(),H=!0}}function _(L){var H=E(L);if(typeof H!="string"&&(S.isEncoding===M||!M(L)))throw new Error("Unknown encoding: "+L);return H||L}Q.s=l;function l(L){this.encoding=_(L);var H;switch(this.encoding){case"utf16le":this.text=h,this.end=p,H=4;break;case"utf8":this.fillLast=w,H=4;break;case"base64":this.text=b,this.end=y,H=3;break;default:this.write=D,this.end=P;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=S.allocUnsafe(H)}l.prototype.write=function(L){if(L.length===0)return"";var H,j;if(this.lastNeed){if(H=this.fillLast(L),H===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<L.length?H?H+this.text(L,j):this.text(L,j):H||""},l.prototype.end=d,l.prototype.text=v,l.prototype.fillLast=function(L){if(this.lastNeed<=L.length)return L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,L.length),this.lastNeed-=L.length};function u(L){return L<=127?0:L>>5==6?2:L>>4==14?3:L>>3==30?4:L>>6==2?-1:-2}function c(L,H,j){var V=H.length-1;if(V<j)return 0;var Y=u(H[V]);return Y>=0?(Y>0&&(L.lastNeed=Y-1),Y):--V<j||Y===-2?0:(Y=u(H[V]),Y>=0?(Y>0&&(L.lastNeed=Y-2),Y):--V<j||Y===-2?0:(Y=u(H[V]),Y>=0?(Y>0&&(Y===2?Y=0:L.lastNeed=Y-3),Y):0))}function f(L,H,j){if((H[0]&192)!=128)return L.lastNeed=0,"\uFFFD";if(L.lastNeed>1&&H.length>1){if((H[1]&192)!=128)return L.lastNeed=1,"\uFFFD";if(L.lastNeed>2&&H.length>2&&(H[2]&192)!=128)return L.lastNeed=2,"\uFFFD"}}function w(L){var H=this.lastTotal-this.lastNeed,j=f(this,L,H);if(j!==void 0)return j;if(this.lastNeed<=L.length)return L.copy(this.lastChar,H,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,H,0,L.length),this.lastNeed-=L.length}function v(L,H){var j=c(this,L,H);if(!this.lastNeed)return L.toString("utf8",H);this.lastTotal=j;var V=L.length-(j-this.lastNeed);return L.copy(this.lastChar,0,V),L.toString("utf8",H,V)}function d(L){var H=L&&L.length?this.write(L):"";return this.lastNeed?H+"\uFFFD":H}function h(L,H){if((L.length-H)%2==0){var j=L.toString("utf16le",H);if(j){var V=j.charCodeAt(j.length-1);if(V>=55296&&V<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=L[L.length-1],L.toString("utf16le",H,L.length-1)}function p(L){var H=L&&L.length?this.write(L):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return H+this.lastChar.toString("utf16le",0,j)}return H}function b(L,H){var j=(L.length-H)%3;return j===0?L.toString("base64",H):(this.lastNeed=3-j,this.lastTotal=3,j===1?this.lastChar[0]=L[L.length-1]:(this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1]),L.toString("base64",H,L.length-j))}function y(L){var H=L&&L.length?this.write(L):"";return this.lastNeed?H+this.lastChar.toString("base64",0,3-this.lastNeed):H}function D(L){return L.toString(this.encoding)}function P(L){return L&&L.length?this.write(L):""}},67121:(s,Q,R)=>{"use strict";R.d(Q,{Z:()=>_});function S(l){var u,c=l.Symbol;return typeof c=="function"?c.observable?u=c.observable:(u=c("observable"),c.observable=u):u="@@observable",u}s=R.hmd(s);var M;typeof self!="undefined"?M=self:typeof window!="undefined"?M=window:typeof R.g!="undefined"?M=R.g:M=s;var E=S(M);const _=E},14802:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var S=R(26363);Q.ExperimentationService=S.ExperimentationService},26363:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});const S=R(34067),M=R(44234),E=R(15975);class _ extends E.ExperimentationServiceAutoPolling{constructor(u){super(u.telemetry,u.filterProviders||[],u.refetchInterval!=null?u.refetchInterval:0,u.featuresTelemetryPropertyName,u.assignmentContextTelemetryPropertyName,u.telemetryEventName,u.storageKey,u.keyValueStorage);this.options=u,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new S.TasApiFeatureProvider(new M.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}Q.ExperimentationService=_,_.REFRESH_RATE_IN_MINUTES=30},15975:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});const S=R(77987),M=R(73334);class E extends S.ExperimentationServiceBase{constructor(l,u,c,f,w,v,d,h){super(l,f,w,v,d,h);if(this.telemetry=l,this.filterProviders=u,this.refreshRateMs=c,this.featuresTelemetryPropertyName=f,this.assignmentContextTelemetryPropertyName=w,this.telemetryEventName=v,this.storageKey=d,this.storage=h,c<1e3&&c!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");c>0&&(this.pollingService=new M.PollingService(c),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(l=!1){if(this.pollingService){this.pollingService.StopPolling();let u=await super.getFeaturesAsync(l);return this.pollingService.StartPolling(),u}else return await super.getFeaturesAsync(l)}}Q.ExperimentationServiceAutoPolling=E},77987:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});const S=R(17002);class M{constructor(_,l,u,c,f,w){this.telemetry=_,this.featuresTelemetryPropertyName=l,this.assignmentContextTelemetryPropertyName=u,this.telemetryEventName=c,this.storageKey=f,this.storage=w,this.featuresConsumed=!1,this.initializePromise=this.loadCachePromise,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(w=new S.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData()}get features(){return this._features}set features(_){this._features=_,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(_=!1){if(this.fetchPromise!=null)return await this.fetchPromise,this.features;if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async u=>await u.getFeatures()));let l=await this.fetchPromise;return this.fetchPromise=void 0,this.updateFeatures(l,_),this.features}updateFeatures(_,l=!1){let u={features:[],assignmentContext:"",configs:[]};for(let c of _){for(let f of c.features)u.features.includes(f)||u.features.push(f);for(let f of c.configs){const w=u.configs.find(v=>v.Id===f.Id);w?w.Parameters=Object.assign(Object.assign({},w.Parameters),f.Parameters):u.configs.push(f)}u.assignmentContext+=c.assignmentContext}(l||!this.featuresConsumed)&&(this.features=u),this.storage&&this.storage.setValue(this.storageKey,u)}async loadCachedFeatureData(){let _;this.storage&&(_=await this.storage.getValue(this.storageKey),_!==void 0&&_.configs===void 0&&(_.configs=[])),this.features.features.length===0&&(this.features=_||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(_){return this.featuresConsumed=!0,this.PostEventToTelemetry(_),this.features.features.includes(_)}async isCachedFlightEnabled(_){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(_),this.features.features.includes(_)}async isFlightEnabledAsync(_){const l=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(_),l.features.includes(_)}getTreatmentVariable(_,l){var u;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${_}.${l}`),(u=this.features.configs.find(f=>f.Id===_))===null||u===void 0?void 0:u.Parameters[l]}async getTreatmentVariableAsync(_,l){return await this.getFeaturesAsync(!0),this.getTreatmentVariable(_,l)}PostEventToTelemetry(_){this.cachedTelemetryEvents.includes(_)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",_]])),this.cachedTelemetryEvents.push(_))}invokeInit(){this.init()}addFeatureProvider(..._){if(!(_==null||this.featureProviders==null))for(let l of _)this.featureProviders.push(l)}}Q.ExperimentationServiceBase=M},60069:(s,Q)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});class R{constructor(M){this.telemetry=M,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let M=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,M}}Q.BaseFeatureProvider=R},94e3:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});const S=R(60069);class M extends S.BaseFeatureProvider{constructor(_,l){super(_);this.telemetry=_,this.filterProviders=l,this.cachedTelemetryEvents=[]}getFilters(){let _=new Map;for(let l of this.filterProviders){let u=l.getFilters();for(let c of u.keys()){let f=u.get(c);_.set(c,f)}}return _}PostEventToTelemetry(_){if(this.cachedTelemetryEvents.includes(_))return;const l=JSON.stringify(_);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",l]])),this.cachedTelemetryEvents.push(_)}}Q.FilteredFeatureProvider=M},34067:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});const S=R(94e3);class M extends S.FilteredFeatureProvider{constructor(_,l,u){super(l,u);this.httpClient=_,this.telemetry=l,this.filterProviders=u}async fetch(){let _=this.getFilters(),l={};for(let v of _.keys()){const d=_.get(v);l[v]=d}let u=await this.httpClient.get({headers:l});_.keys.length>0&&this.PostEventToTelemetry(l);let c=u.data,f=c.Configs,w=[];for(let v of f)if(!!v.Parameters)for(let d of Object.keys(v.Parameters)){const h=d+(v.Parameters[d]?"":"cf");w.includes(h)||w.push(h)}return{features:w,assignmentContext:c.AssignmentContext,configs:f}}}Q.TasApiFeatureProvider=M},44234:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});const S=R(9669);class M{constructor(_){this.endpoint=_}get(_){return S.default.get(this.endpoint,Object.assign(Object.assign({},_),{proxy:!1}))}}Q.AxiosHttpClient=M},17002:(s,Q)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});class R{constructor(){this.storage=new Map}async getValue(M,E){return this.storage.has(M)?await Promise.resolve(this.storage.get(M)):await Promise.resolve(E||void 0)}setValue(M,E){this.storage.set(M,E)}}Q.MemoryKeyValueStorage=R},73334:(s,Q)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});class R{constructor(M){this.fetchInterval=M}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(M){this.onTick=M}StartPolling(M=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(M&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}Q.PollingService=R},35449:function(s,Q,R){(function(S){"use strict";var M=function(){try{if(S.URLSearchParams&&new S.URLSearchParams("foo=bar").get("foo")==="bar")return S.URLSearchParams}catch(V){}return null}(),E=M&&new M({a:1}).toString()==="a=1",_=M&&new M("s=%2B").get("s")==="+",l="__URLSearchParams__",u=M?function(){var V=new M;return V.append("s"," &"),V.toString()==="s=+%26"}():!0,c=w.prototype,f=!!(S.Symbol&&S.Symbol.iterator);if(M&&E&&_&&u)return;function w(V){V=V||"",(V instanceof URLSearchParams||V instanceof w)&&(V=V.toString()),this[l]=P(V)}c.append=function(V,Y){L(this[l],V,Y)},c.delete=function(V){delete this[l][V]},c.get=function(V){var Y=this[l];return this.has(V)?Y[V][0]:null},c.getAll=function(V){var Y=this[l];return this.has(V)?Y[V].slice(0):[]},c.has=function(V){return j(this[l],V)},c.set=function(Y,K){this[l][Y]=[""+K]},c.toString=function(){var V=this[l],Y=[],K,ae,ne,ce;for(ae in V)for(ne=b(ae),K=0,ce=V[ae];K<ce.length;K++)Y.push(ne+"="+b(ce[K]));return Y.join("&")};var v=!_,d=!v&&M&&!E&&S.Proxy,h;d?(h=new Proxy(M,{construct:function(V,Y){return new V(new w(Y[0]).toString())}}),h.toString=Function.prototype.toString.bind(w)):h=w,Object.defineProperty(S,"URLSearchParams",{value:h});var p=S.URLSearchParams.prototype;p.polyfill=!0,p.forEach=p.forEach||function(V,Y){var K=P(this.toString());Object.getOwnPropertyNames(K).forEach(function(ae){K[ae].forEach(function(ne){V.call(Y,ne,ae,this)},this)},this)},p.sort=p.sort||function(){var V=P(this.toString()),Y=[],K,ae,ne;for(K in V)Y.push(K);for(Y.sort(),ae=0;ae<Y.length;ae++)this.delete(Y[ae]);for(ae=0;ae<Y.length;ae++){var ce=Y[ae],re=V[ce];for(ne=0;ne<re.length;ne++)this.append(ce,re[ne])}},p.keys=p.keys||function(){var V=[];return this.forEach(function(Y,K){V.push(K)}),D(V)},p.values=p.values||function(){var V=[];return this.forEach(function(Y){V.push(Y)}),D(V)},p.entries=p.entries||function(){var V=[];return this.forEach(function(Y,K){V.push([K,Y])}),D(V)},f&&(p[S.Symbol.iterator]=p[S.Symbol.iterator]||p.entries);function b(V){var Y={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(V).replace(/[!'\(\)~]|%20|%00/g,function(K){return Y[K]})}function y(V){return V.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/ig,function(Y){return decodeURIComponent(Y)})}function D(V){var Y={next:function(){var K=V.shift();return{done:K===void 0,value:K}}};return f&&(Y[S.Symbol.iterator]=function(){return Y}),Y}function P(V){var Y={};if(typeof V=="object")if(H(V))for(var K=0;K<V.length;K++){var ae=V[K];if(H(ae)&&ae.length===2)L(Y,ae[0],ae[1]);else throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}else for(var ne in V)V.hasOwnProperty(ne)&&L(Y,ne,V[ne]);else{V.indexOf("?")===0&&(V=V.slice(1));for(var ce=V.split("&"),re=0;re<ce.length;re++){var I=ce[re],U=I.indexOf("=");-1<U?L(Y,y(I.slice(0,U)),y(I.slice(U+1))):I&&L(Y,y(I),"")}}return Y}function L(V,Y,K){var ae=typeof K=="string"?K:K!=null&&typeof K.toString=="function"?K.toString():JSON.stringify(K);j(V,Y)?V[Y].push(ae):V[Y]=[ae]}function H(V){return!!V&&Object.prototype.toString.call(V)==="[object Array]"}function j(V,Y){return Object.prototype.hasOwnProperty.call(V,Y)}})(typeof R.g!="undefined"?R.g:typeof window!="undefined"?window:this)},94927:(s,Q,R)=>{s.exports=S;function S(E,_){if(M("noDeprecation"))return E;var l=!1;function u(){if(!l){if(M("throwDeprecation"))throw new Error(_);M("traceDeprecation")?console.trace(_):console.warn(_),l=!0}return E.apply(this,arguments)}return u}function M(E){try{if(!R.g.localStorage)return!1}catch(l){return!1}var _=R.g.localStorage[E];return _==null?!1:String(_).toLowerCase()==="true"}},59035:(s,Q,R)=>{"use strict";var S;S={value:!0};var M=R(15654);Q.X7=M.getExperimentationService,S=M.getExperimentationServiceAsync;var E=R(22560);Q.aU=E.TargetPopulation},55708:(s,Q)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});class R{constructor(M){this.mementoGlobalStorage=M}async getValue(M,E){return await this.mementoGlobalStorage.get(M)||E}setValue(M,E){this.mementoGlobalStorage.update(M,E)}}Q.MementoKeyValueStorage=R},22560:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});const S=R(89496);class M{constructor(u,c,f){this.extensionName=u,this.extensionVersion=c,this.targetPopulation=f}static trimVersionSuffix(u){const c=/\-[a-zA-Z0-9]+$/;return u.split(c)[0]}getFilterValue(u){switch(u){case E.ApplicationVersion:return M.trimVersionSuffix(S.version);case E.Build:return S.env.appName;case E.ClientId:return S.env.machineId;case E.ExtensionName:return this.extensionName;case E.ExtensionVersion:return M.trimVersionSuffix(this.extensionVersion);case E.Language:return S.env.language;case E.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let u=new Map,c=Object.values(E);for(let f of c)u.set(f,this.getFilterValue(f));return u}}Q.VSCodeFilterProvider=M;var E;(function(l){l.Market="X-MSEdge-Market",l.CorpNet="X-FD-Corpnet",l.ApplicationVersion="X-VSCode-AppVersion",l.Build="X-VSCode-Build",l.ClientId="X-MSEdge-ClientId",l.ExtensionName="X-VSCode-ExtensionName",l.ExtensionVersion="X-VSCode-ExtensionVersion",l.Language="X-VSCode-Language",l.TargetPopulation="X-VSCode-TargetPopulation"})(E=Q.Filters||(Q.Filters={}));var _;(function(l){l.Team="team",l.Internal="internal",l.Insiders="insider",l.Public="public"})(_=Q.TargetPopulation||(Q.TargetPopulation={}))},15654:(s,Q,R)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});const S=R(22560),M=R(14802),E=R(55708),_="https://default.exp-tas.com/vscode/ab",l="query-expfeature",u="VSCode.ABExp.Features",c="abexp.assignmentcontext",f="VSCode.ABExp.FeatureData",w=1e3*60*30;function v(h,p,b,y,D,...P){if(!D)throw new Error("Memento storage was not provided.");const H=[new S.VSCodeFilterProvider(h,p,b),...P],j=new E.MementoKeyValueStorage(D);return new M.ExperimentationService({filterProviders:H,telemetry:y,storageKey:f,keyValueStorage:j,featuresTelemetryPropertyName:u,assignmentContextTelemetryPropertyName:c,telemetryEventName:l,endpoint:_,refetchInterval:w})}Q.getExperimentationService=v;async function d(h,p,b,y,D,...P){const L=v(h,p,b,y,D,...P);return await L.initializePromise,L}Q.getExperimentationServiceAsync=d},52479:s=>{s.exports=Q;function Q(R,S){if(R&&S)return Q(R)(S);if(typeof R!="function")throw new TypeError("need wrapper function");return Object.keys(R).forEach(function(E){M[E]=R[E]}),M;function M(){for(var E=new Array(arguments.length),_=0;_<E.length;_++)E[_]=arguments[_];var l=R.apply(this,E),u=E[E.length-1];return typeof l=="function"&&l!==u&&Object.keys(u).forEach(function(c){l[c]=u[c]}),l}}},49602:s=>{"use strict";s.exports=function(Q){Q.prototype[Symbol.iterator]=function*(){for(let R=this.head;R;R=R.next)yield R.value}}},34411:(s,Q,R)=>{"use strict";s.exports=S,S.Node=l,S.create=S;function S(u){var c=this;if(c instanceof S||(c=new S),c.tail=null,c.head=null,c.length=0,u&&typeof u.forEach=="function")u.forEach(function(v){c.push(v)});else if(arguments.length>0)for(var f=0,w=arguments.length;f<w;f++)c.push(arguments[f]);return c}S.prototype.removeNode=function(u){if(u.list!==this)throw new Error("removing node which does not belong to this list");var c=u.next,f=u.prev;return c&&(c.prev=f),f&&(f.next=c),u===this.head&&(this.head=c),u===this.tail&&(this.tail=f),u.list.length--,u.next=null,u.prev=null,u.list=null,c},S.prototype.unshiftNode=function(u){if(u!==this.head){u.list&&u.list.removeNode(u);var c=this.head;u.list=this,u.next=c,c&&(c.prev=u),this.head=u,this.tail||(this.tail=u),this.length++}},S.prototype.pushNode=function(u){if(u!==this.tail){u.list&&u.list.removeNode(u);var c=this.tail;u.list=this,u.prev=c,c&&(c.next=u),this.tail=u,this.head||(this.head=u),this.length++}},S.prototype.push=function(){for(var u=0,c=arguments.length;u<c;u++)E(this,arguments[u]);return this.length},S.prototype.unshift=function(){for(var u=0,c=arguments.length;u<c;u++)_(this,arguments[u]);return this.length},S.prototype.pop=function(){if(!!this.tail){var u=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,u}},S.prototype.shift=function(){if(!!this.head){var u=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,u}},S.prototype.forEach=function(u,c){c=c||this;for(var f=this.head,w=0;f!==null;w++)u.call(c,f.value,w,this),f=f.next},S.prototype.forEachReverse=function(u,c){c=c||this;for(var f=this.tail,w=this.length-1;f!==null;w--)u.call(c,f.value,w,this),f=f.prev},S.prototype.get=function(u){for(var c=0,f=this.head;f!==null&&c<u;c++)f=f.next;if(c===u&&f!==null)return f.value},S.prototype.getReverse=function(u){for(var c=0,f=this.tail;f!==null&&c<u;c++)f=f.prev;if(c===u&&f!==null)return f.value},S.prototype.map=function(u,c){c=c||this;for(var f=new S,w=this.head;w!==null;)f.push(u.call(c,w.value,this)),w=w.next;return f},S.prototype.mapReverse=function(u,c){c=c||this;for(var f=new S,w=this.tail;w!==null;)f.push(u.call(c,w.value,this)),w=w.prev;return f},S.prototype.reduce=function(u,c){var f,w=this.head;if(arguments.length>1)f=c;else if(this.head)w=this.head.next,f=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var v=0;w!==null;v++)f=u(f,w.value,v),w=w.next;return f},S.prototype.reduceReverse=function(u,c){var f,w=this.tail;if(arguments.length>1)f=c;else if(this.tail)w=this.tail.prev,f=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var v=this.length-1;w!==null;v--)f=u(f,w.value,v),w=w.prev;return f},S.prototype.toArray=function(){for(var u=new Array(this.length),c=0,f=this.head;f!==null;c++)u[c]=f.value,f=f.next;return u},S.prototype.toArrayReverse=function(){for(var u=new Array(this.length),c=0,f=this.tail;f!==null;c++)u[c]=f.value,f=f.prev;return u},S.prototype.slice=function(u,c){c=c||this.length,c<0&&(c+=this.length),u=u||0,u<0&&(u+=this.length);var f=new S;if(c<u||c<0)return f;u<0&&(u=0),c>this.length&&(c=this.length);for(var w=0,v=this.head;v!==null&&w<u;w++)v=v.next;for(;v!==null&&w<c;w++,v=v.next)f.push(v.value);return f},S.prototype.sliceReverse=function(u,c){c=c||this.length,c<0&&(c+=this.length),u=u||0,u<0&&(u+=this.length);var f=new S;if(c<u||c<0)return f;u<0&&(u=0),c>this.length&&(c=this.length);for(var w=this.length,v=this.tail;v!==null&&w>c;w--)v=v.prev;for(;v!==null&&w>u;w--,v=v.prev)f.push(v.value);return f},S.prototype.splice=function(u,c,...f){u>this.length&&(u=this.length-1),u<0&&(u=this.length+u);for(var w=0,v=this.head;v!==null&&w<u;w++)v=v.next;for(var d=[],w=0;v&&w<c;w++)d.push(v.value),v=this.removeNode(v);v===null&&(v=this.tail),v!==this.head&&v!==this.tail&&(v=v.prev);for(var w=0;w<f.length;w++)v=M(this,v,f[w]);return d},S.prototype.reverse=function(){for(var u=this.head,c=this.tail,f=u;f!==null;f=f.prev){var w=f.prev;f.prev=f.next,f.next=w}return this.head=c,this.tail=u,this};function M(u,c,f){var w=c===u.head?new l(f,null,c,u):new l(f,c,c.next,u);return w.next===null&&(u.tail=w),w.prev===null&&(u.head=w),u.length++,w}function E(u,c){u.tail=new l(c,u.tail,null,u),u.head||(u.head=u.tail),u.length++}function _(u,c){u.head=new l(c,null,u.head,u),u.tail||(u.tail=u.head),u.length++}function l(u,c,f,w){if(!(this instanceof l))return new l(u,c,f,w);this.list=w,this.value=u,c?(c.next=this,this.prev=c):this.prev=null,f?(f.prev=this,this.next=f):this.next=null}try{R(49602)(S)}catch(u){}},49329:(s,Q,R)=>{s.exports=R(60516).Observable},60516:(s,Q)=>{"use strict";var R;R={value:!0},Q.Observable=void 0;function S(K,ae){if(!(K instanceof ae))throw new TypeError("Cannot call a class as a function")}function M(K,ae){for(var ne=0;ne<ae.length;ne++){var ce=ae[ne];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(K,ce.key,ce)}}function E(K,ae,ne){return ae&&M(K.prototype,ae),ne&&M(K,ne),K}var _=function(){return typeof Symbol=="function"},l=function(K){return _()&&Boolean(Symbol[K])},u=function(K){return l(K)?Symbol[K]:"@@"+K};_()&&!l("observable")&&(Symbol.observable=Symbol("observable"));var c=u("iterator"),f=u("observable"),w=u("species");function v(K,ae){var ne=K[ae];if(ne!=null){if(typeof ne!="function")throw new TypeError(ne+" is not a function");return ne}}function d(K){var ae=K.constructor;return ae!==void 0&&(ae=ae[w],ae===null&&(ae=void 0)),ae!==void 0?ae:Y}function h(K){return K instanceof Y}function p(K){p.log?p.log(K):setTimeout(function(){throw K})}function b(K){Promise.resolve().then(function(){try{K()}catch(ae){p(ae)}})}function y(K){var ae=K._cleanup;if(ae!==void 0&&(K._cleanup=void 0,!!ae))try{if(typeof ae=="function")ae();else{var ne=v(ae,"unsubscribe");ne&&ne.call(ae)}}catch(ce){p(ce)}}function D(K){K._observer=void 0,K._queue=void 0,K._state="closed"}function P(K){var ae=K._queue;if(!!ae){K._queue=void 0,K._state="ready";for(var ne=0;ne<ae.length&&(L(K,ae[ne].type,ae[ne].value),K._state!=="closed");++ne);}}function L(K,ae,ne){K._state="running";var ce=K._observer;try{var re=v(ce,ae);switch(ae){case"next":re&&re.call(ce,ne);break;case"error":if(D(K),re)re.call(ce,ne);else throw ne;break;case"complete":D(K),re&&re.call(ce);break}}catch(I){p(I)}K._state==="closed"?y(K):K._state==="running"&&(K._state="ready")}function H(K,ae,ne){if(K._state!=="closed"){if(K._state==="buffering"){K._queue.push({type:ae,value:ne});return}if(K._state!=="ready"){K._state="buffering",K._queue=[{type:ae,value:ne}],b(function(){return P(K)});return}L(K,ae,ne)}}var j=function(){function K(ae,ne){S(this,K),this._cleanup=void 0,this._observer=ae,this._queue=void 0,this._state="initializing";var ce=new V(this);try{this._cleanup=ne.call(void 0,ce)}catch(re){ce.error(re)}this._state==="initializing"&&(this._state="ready")}return E(K,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(D(this),y(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),K}(),V=function(){function K(ae){S(this,K),this._subscription=ae}return E(K,[{key:"next",value:function(ne){H(this._subscription,"next",ne)}},{key:"error",value:function(ne){H(this._subscription,"error",ne)}},{key:"complete",value:function(){H(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),K}(),Y=function(){function K(ae){if(S(this,K),!(this instanceof K))throw new TypeError("Observable cannot be called as a function");if(typeof ae!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=ae}return E(K,[{key:"subscribe",value:function(ne){return(typeof ne!="object"||ne===null)&&(ne={next:ne,error:arguments[1],complete:arguments[2]}),new j(ne,this._subscriber)}},{key:"forEach",value:function(ne){var ce=this;return new Promise(function(re,I){if(typeof ne!="function"){I(new TypeError(ne+" is not a function"));return}function U(){C.unsubscribe(),re()}var C=ce.subscribe({next:function(o){try{ne(o,U)}catch(g){I(g),C.unsubscribe()}},error:I,complete:re})})}},{key:"map",value:function(ne){var ce=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var re=d(this);return new re(function(I){return ce.subscribe({next:function(U){try{U=ne(U)}catch(C){return I.error(C)}I.next(U)},error:function(U){I.error(U)},complete:function(){I.complete()}})})}},{key:"filter",value:function(ne){var ce=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var re=d(this);return new re(function(I){return ce.subscribe({next:function(U){try{if(!ne(U))return}catch(C){return I.error(C)}I.next(U)},error:function(U){I.error(U)},complete:function(){I.complete()}})})}},{key:"reduce",value:function(ne){var ce=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var re=d(this),I=arguments.length>1,U=!1,C=arguments[1],o=C;return new re(function(g){return ce.subscribe({next:function(N){var x=!U;if(U=!0,!x||I)try{o=ne(o,N)}catch(F){return g.error(F)}else o=N},error:function(N){g.error(N)},complete:function(){if(!U&&!I)return g.error(new TypeError("Cannot reduce an empty sequence"));g.next(o),g.complete()}})})}},{key:"concat",value:function(){for(var ne=this,ce=arguments.length,re=new Array(ce),I=0;I<ce;I++)re[I]=arguments[I];var U=d(this);return new U(function(C){var o,g=0;function N(x){o=x.subscribe({next:function(F){C.next(F)},error:function(F){C.error(F)},complete:function(){g===re.length?(o=void 0,C.complete()):N(U.from(re[g++]))}})}return N(ne),function(){o&&(o.unsubscribe(),o=void 0)}})}},{key:"flatMap",value:function(ne){var ce=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var re=d(this);return new re(function(I){var U=[],C=ce.subscribe({next:function(g){if(ne)try{g=ne(g)}catch(x){return I.error(x)}var N=re.from(g).subscribe({next:function(x){I.next(x)},error:function(x){I.error(x)},complete:function(){var x=U.indexOf(N);x>=0&&U.splice(x,1),o()}});U.push(N)},error:function(g){I.error(g)},complete:function(){o()}});function o(){C.closed&&U.length===0&&I.complete()}return function(){U.forEach(function(g){return g.unsubscribe()}),C.unsubscribe()}})}},{key:f,value:function(){return this}}],[{key:"from",value:function(ne){var ce=typeof this=="function"?this:K;if(ne==null)throw new TypeError(ne+" is not an object");var re=v(ne,f);if(re){var I=re.call(ne);if(Object(I)!==I)throw new TypeError(I+" is not an object");return h(I)&&I.constructor===ce?I:new ce(function(U){return I.subscribe(U)})}if(l("iterator")&&(re=v(ne,c),re))return new ce(function(U){b(function(){if(!U.closed){var C=!0,o=!1,g=void 0;try{for(var N=re.call(ne)[Symbol.iterator](),x;!(C=(x=N.next()).done);C=!0){var F=x.value;if(U.next(F),U.closed)return}}catch(A){o=!0,g=A}finally{try{!C&&N.return!=null&&N.return()}finally{if(o)throw g}}U.complete()}})});if(Array.isArray(ne))return new ce(function(U){b(function(){if(!U.closed){for(var C=0;C<ne.length;++C)if(U.next(ne[C]),U.closed)return;U.complete()}})});throw new TypeError(ne+" is not observable")}},{key:"of",value:function(){for(var ne=arguments.length,ce=new Array(ne),re=0;re<ne;re++)ce[re]=arguments[re];var I=typeof this=="function"?this:K;return new I(function(U){b(function(){if(!U.closed){for(var C=0;C<ce.length;++C)if(U.next(ce[C]),U.closed)return;U.complete()}})})}},{key:w,get:function(){return this}}]),K}();Q.Observable=Y,_()&&Object.defineProperty(Y,Symbol("extensions"),{value:{symbol:f,hostReportError:p},configurable:!0})},89496:s=>{"use strict";s.exports=require("vscode")},46601:()=>{},89214:()=>{},71922:()=>{},2363:()=>{},96419:()=>{},56353:()=>{},69386:()=>{},31616:()=>{},69862:()=>{},40964:()=>{},61336:()=>{},88593:s=>{"use strict";s.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},44946:s=>{"use strict";s.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},75207:s=>{"use strict";s.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:s=>{"use strict";s.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},29799:s=>{"use strict";s.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},18597:s=>{"use strict";s.exports={i8:"6.5.4"}},22562:s=>{"use strict";s.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Vd={};function Yt(s){var Q=Vd[s];if(Q!==void 0)return Q.exports;var R=Vd[s]={id:s,loaded:!1,exports:{}};return km[s].call(R.exports,R,R.exports,Yt),R.loaded=!0,R.exports}(()=>{Yt.n=s=>{var Q=s&&s.__esModule?()=>s.default:()=>s;return Yt.d(Q,{a:Q}),Q}})(),(()=>{Yt.d=(s,Q)=>{for(var R in Q)Yt.o(Q,R)&&!Yt.o(s,R)&&Object.defineProperty(s,R,{enumerable:!0,get:Q[R]})}})(),(()=>{Yt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(s){if(typeof window=="object")return window}}()})(),(()=>{Yt.hmd=s=>(s=Object.create(s),s.children||(s.children=[]),Object.defineProperty(s,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+s.id)}}),s)})(),(()=>{Yt.o=(s,Q)=>Object.prototype.hasOwnProperty.call(s,Q)})(),(()=>{Yt.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}})(),(()=>{Yt.nmd=s=>(s.paths=[],s.children||(s.children=[]),s)})();var Zl={};(()=>{"use strict";Yt.r(Zl),Yt.d(Zl,{activate:()=>Wy,deactivate:()=>Jy});var s=Yt(89496);const Q=async(i,e,t)=>{const r=await Promise.resolve().then(Yt.bind(Yt,20739)),n=await Promise.resolve().then(Yt.bind(Yt,71488)),a=new r.AppInsightsCore,m=new n.PostChannel,k={instrumentationKey:i,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[m]]};if(t){k.extensionConfig={};const Z={alwaysUseXhrOverride:!0,httpXHROverride:t};k.extensionConfig[m.identifier]=Z}const G=e.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(k,[]),a.addTelemetryInitializer(Z=>{var oe,X;!G||(Z.ext=(oe=Z.ext)!=null?oe:{},Z.ext.utc=(X=Z.ext.utc)!=null?X:{},Z.ext.utc.flags=8462029)}),a},R=async(i,e,t)=>{const r=await Q(i,e,t);return{logEvent:(a,m)=>{try{r==null||r.track({name:a,baseData:{name:a,properties:m==null?void 0:m.properties,measurements:m==null?void 0:m.measurements}})}catch(k){throw new Error(`Failed to log event to app insights!
`+k.message)}},flush:async()=>{try{r==null||r.unload()}catch(a){throw new Error(`Failed to flush app insights!
`+a.message)}}}};var S;(function(i){i[i.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",i[i.INSTANTIATING=1]="INSTANTIATING",i[i.INSTANTIATED=2]="INSTANTIATED"})(S||(S={}));class M{constructor(e,t){this._instantiationStatus=S.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==S.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==S.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===S.NOT_INSTANTIATED&&(this._instantiationStatus=S.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=S.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=S.INSTANTIATED}))}}class E{constructor(e,t,r){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,r,n){n?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logUsage(e,{properties:t,measurements:r})}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1)}sendDangerousTelemetryEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,r,!0)}internalSendTelemetryErrorEvent(e,t,r,n){n?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!1)}sendDangerousTelemetryErrorEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,r,!0)}internalSendTelemetryException(e,t,r,n){n?this.telemetrySender.sendErrorData(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryException(e,t,r){this.internalSendTelemetryException(e,t,r,!1)}sendDangerousTelemetryException(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,r,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}class _{static applyReplacements(e,t){for(const r of Object.keys(e))for(const n of t)n.lookup.test(r)&&(n.replacementString!==void 0?e[r]=n.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.5"}}static getInstance(){return _._instance||(_._instance=new _),_._instance}}const l=async(i,e)=>{let t;try{const n=await Promise.resolve().then(Yt.bind(Yt,39065));t=new n.ApplicationInsights({instrumentationKey:i,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t.initialize()}catch(n){return Promise.reject(n)}return{logEvent:(n,a)=>{const m={...a==null?void 0:a.properties,...a==null?void 0:a.measurements};(e==null?void 0:e.length)&&_.applyReplacements(m,e),t==null||t.track({name:n,data:m})},flush:async()=>{t==null||t.flush()}}};class u extends E{constructor(e,t){let r=m=>l(m,t);_.shouldUseOneDataSystemSDK(e)&&(r=m=>R(m,s));const n={release:navigator.appVersion,platform:"web",architecture:"web"},a=new M(e,r);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(a,s,{additionalCommonProperties:_.getAdditionalCommonProperties(n)})}}var c=Object.defineProperty,f=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?c(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const w="PullRequestTree";class v{constructor(){f(this,"_outputChannel"),f(this,"_disposable"),f(this,"_activePerfMarkers",new Map),this._outputChannel=s.window.createOutputChannel("GitHub Pull Request",{log:!0})}startPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`PERF_MARKER> Start ${e}`),this._activePerfMarkers.set(e,t)}endPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`PERF_MARKER> End ${e}: ${t-this._activePerfMarkers.get(e)} ms`),this._activePerfMarkers.delete(e)}logString(e,t){return t?`${t}> ${e}`:e}trace(e,t){this._outputChannel.trace(this.logString(e,t))}debug(e,t){this._outputChannel.debug(this.logString(e,t))}appendLine(e,t){this._outputChannel.info(this.logString(e,t))}warn(e,t){this._outputChannel.warn(this.logString(e,t))}error(e,t){this._outputChannel.error(this.logString(e,t))}dispose(){this._disposable&&this._disposable.dispose()}}const h=new v;var p=Yt(26470),b=Yt(27484),y=Yt.n(b),D=Yt(84110),P=Yt.n(D),L=Yt(70660),H=Yt.n(L),j=Object.defineProperty,V=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?j(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);y().extend(P(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),y().extend(H()),y().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function Y(i,e){const t=Object.create(null);return i.filter(r=>{const n=e(r);return t[n]?!1:(t[n]=!0,!0)})}function K(i){return i.forEach(e=>e.dispose()),[]}function ae(i){return{dispose:i}}function ne(i){return ae(()=>K(i))}function ce(...i){return(e,t=null,r)=>{const n=ne(i.map(a=>a(m=>e.call(t,m))));return r&&r.push(n),n}}function re(i,e){return(t,r=null,n)=>i(a=>e(a)&&t.call(r,a),null,n)}function I(i){return(e,t=null,r)=>{const n=i(a=>(n.dispose(),e.call(t,a)),null,r);return n}}function U(i){return/^[a-zA-Z]:\\/.test(i)}function C(i,e){return i===e?!0:(i.charAt(i.length-1)!==sep&&(i+=sep),U(i)&&(i=i.toLowerCase(),e=e.toLowerCase()),e.startsWith(i))}function o(i,e){return i.reduce((t,r)=>{const n=e(r);return t[n]=[...t[n]||[],r],t},Object.create(null))}class g extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function N(i){return!!i.errors}function x(i){let e=!0;if(!!i.errors&&Array.isArray(i.errors)){for(const t of i.errors)if(!t.field||!t.value||!t.code){e=!1;break}}else e=!1;return e}function F(i){if(!(i instanceof Error))return typeof i=="string"?i:i.gitErrorCode?`${i.message}. Please check git output for more details`:i.stderr?`${i.stderr}. Please check git output for more details`:"Error";let e=i.message,t;if(i.message==="Validation Failed"&&x(i))t=i.errors.map(r=>`Value "${r.value}" cannot be set for field ${r.field} (code: ${r.code})`).join(", ");else{if(i.message.startsWith("Validation Failed:"))return i.message;if(N(i)&&i.errors)return i.errors.map(r=>typeof r=="string"?r:r.message).join(", ")}return t&&(e=`${e}: ${t}`),e}async function A(i){return new Promise(e=>{const t=i(r=>{t.dispose(),e(r)})})}async function $(i,e){return Promise.race([i,new Promise(t=>{setTimeout(()=>t(void 0),e)})])}function z(i){const e=y()(i),t=Date.now();return e.diff(t,"month"),e.diff(t,"month")<1?e.fromNow():e.diff(t,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}function T(i,e,t=!1){i.startsWith("#")&&(i=i.substring(1));const r=xe(i);if(e){const n=ye(r.r,r.g,r.b),a=.6,m=.18,k=.3,O=(r.r*.2126+r.g*.7152+r.b*.0722)/255,G=Math.max(0,Math.min((O-a)*-1e3,1)),Z=(a-O)*100*G,oe=xe(Re(n.h,n.s,n.l+Z)),X=`#${Re(n.h,n.s,n.l+Z)}`,de=t?`#${ee({...r,a:m})}`:`rgba(${r.r},${r.g},${r.b},${m})`,ke=t?`#${ee({...oe,a:k})}`:`rgba(${oe.r},${oe.g},${oe.b},${k})`;return{textColor:X,backgroundColor:de,borderColor:ke}}else return{textColor:`#${Ee(r)}`,backgroundColor:`#${i}`,borderColor:`#${i}`}}const ee=i=>{const e=[i.r,i.g,i.b];return i.a&&e.push(Math.floor(i.a*255)),e.map(t=>t.toString(16).padStart(2,"0")).join("")};function xe(i){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}}function ye(i,e,t){i/=255,e/=255,t/=255;let r=Math.min(i,e,t),n=Math.max(i,e,t),a=n-r,m=0,k=0,O=0;return a==0?m=0:n==i?m=(e-t)/a%6:n==e?m=(t-i)/a+2:m=(i-e)/a+4,m=Math.round(m*60),m<0&&(m+=360),O=(n+r)/2,k=a==0?0:a/(1-Math.abs(2*O-1)),k=+(k*100).toFixed(1),O=+(O*100).toFixed(1),{h:m,s:k,l:O}}function Re(i,e,t){const r=t/100,n=e*Math.min(r,1-r)/100,a=m=>{const k=(m+i/30)%12,O=r-n*Math.max(Math.min(k-3,9-k,1),-1);return Math.round(255*O).toString(16).padStart(2,"0")};return`${a(0)}${a(8)}${a(4)}`}function Ee(i){return(.299*i.r+.587*i.g+.114*i.b)/255>.5?"000000":"ffffff"}var J;(function(i){i[i.Period=46]="Period",i[i.Slash=47]="Slash",i[i.A=65]="A",i[i.Z=90]="Z",i[i.Backslash=92]="Backslash",i[i.a=97]="a",i[i.z=122]="z"})(J||(J={}));function te(i,e){return i<e?-1:i>e?1:0}function me(i,e,t=0,r=i.length,n=0,a=e.length){for(;t<r&&n<a;t++,n++){const O=i.charCodeAt(t),G=e.charCodeAt(n);if(O<G)return-1;if(O>G)return 1}const m=r-t,k=a-n;return m<k?-1:m>k?1:0}function fe(i,e){return _e(i,e,0,i.length,0,e.length)}function _e(i,e,t=0,r=i.length,n=0,a=e.length){for(;t<r&&n<a;t++,n++){let O=i.charCodeAt(t),G=e.charCodeAt(n);if(O===G)continue;const Z=O-G;if(!(Z===32&&B(G))&&!(Z===-32&&B(O)))return q(O)&&q(G)?Z:me(i.toLowerCase(),e.toLowerCase(),t,r,n,a)}const m=r-t,k=a-n;return m<k?-1:m>k?1:0}function q(i){return i>=97&&i<=122}function B(i){return i>=65&&i<=90}class se{constructor(){V(this,"_value",""),V(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),r=this._value.charCodeAt(this._pos);return t-r}value(){return this._value[this._pos]}}class we{constructor(e=!0){this._caseSensitive=e,V(this,"_value"),V(this,"_from"),V(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?me(e,this._value,0,e.length,this._from,this._to):_e(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class ge{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t,V(this,"_value"),V(this,"_from"),V(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?me(e,this._value,0,e.length,this._from,this._to):_e(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var pe;(function(i){i[i.Scheme=1]="Scheme",i[i.Authority=2]="Authority",i[i.Path=3]="Path",i[i.Query=4]="Query",i[i.Fragment=5]="Fragment"})(pe||(pe={}));class Pe{constructor(e){this._ignorePathCasing=e,V(this,"_pathIterator"),V(this,"_value"),V(this,"_states",[]),V(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new ge(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return fe(e,this._value.scheme);if(this._states[this._stateIdx]===2)return fe(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return te(e,this._value.query);if(this._states[this._stateIdx]===5)return te(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}function Oe(i){const t=i.extensionUri.path,r=t.lastIndexOf(".");return r===-1?!1:t.substr(r+1).length>1}class Ue{constructor(){V(this,"segment"),V(this,"value"),V(this,"key"),V(this,"left"),V(this,"mid"),V(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class pt{constructor(e){V(this,"_iter"),V(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new pt(new Pe(e))}static forPaths(){return new pt(new ge)}static forStrings(){return new pt(new se)}static forConfigKeys(){return new pt(new we)}clear(){this._root=void 0}set(e,t){const r=this._iter.reset(e);let n;for(this._root||(this._root=new Ue,this._root.segment=r.value()),n=this._root;;){const m=r.cmp(n.segment);if(m>0)n.left||(n.left=new Ue,n.left.segment=r.value()),n=n.left;else if(m<0)n.right||(n.right=new Ue,n.right.segment=r.value()),n=n.right;else if(r.hasNext())r.next(),n.mid||(n.mid=new Ue,n.mid.segment=r.value()),n=n.mid;else break}const a=n.value;return n.value=t,n.key=e,a}get(e){var t;return(t=this._getNode(e))==null?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let r=this._root;for(;r;){const n=t.cmp(r.segment);if(n>0)r=r.left;else if(n<0)r=r.right;else if(t.hasNext())t.next(),r=r.mid;else break}return r}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const r=this._iter.reset(e),n=[];let a=this._root;for(;a;){const m=r.cmp(a.segment);if(m>0)n.push([1,a]),a=a.left;else if(m<0)n.push([-1,a]),a=a.right;else if(r.hasNext())r.next(),n.push([0,a]),a=a.mid;else{for(t?(a.left=void 0,a.mid=void 0,a.right=void 0):a.value=void 0;n.length>0&&a.isEmpty();){let[k,O]=n.pop();switch(k){case 1:O.left=void 0;break;case 0:O.mid=void 0;break;case-1:O.right=void 0;break}a=O}break}}}findSubstr(e){const t=this._iter.reset(e);let r=this._root,n;for(;r;){const a=t.cmp(r.segment);if(a>0)r=r.left;else if(a<0)r=r.right;else if(t.hasNext())t.next(),n=r.value||n,r=r.mid;else break}return r&&r.value||n}findSuperstr(e){const t=this._iter.reset(e);let r=this._root;for(;r;){const n=t.cmp(r.segment);if(n>0)r=r.left;else if(n<0)r=r.right;else if(t.hasNext())t.next(),r=r.mid;else return r.mid?this._entries(r.mid):void 0}}forEach(e){for(const[t,r]of this)e(r,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}async function je(i,e,t){const r=[];i.replace(e,(m,...k)=>{const O=t(m,...k);return r.push(O),""});const n=await Promise.all(r);let a=0;return i.replace(e,()=>n[a++])}var Je=Object.defineProperty,lt=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Je(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t),le;(function(i){i[i.Head=0]="Head",i[i.RemoteHead=1]="RemoteHead",i[i.Tag=2]="Tag"})(le||(le={}));var W;(function(i){i.BadConfigFile="BadConfigFile",i.AuthenticationFailed="AuthenticationFailed",i.NoUserNameConfigured="NoUserNameConfigured",i.NoUserEmailConfigured="NoUserEmailConfigured",i.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",i.NotAGitRepository="NotAGitRepository",i.NotAtRepositoryRoot="NotAtRepositoryRoot",i.Conflict="Conflict",i.StashConflict="StashConflict",i.UnmergedChanges="UnmergedChanges",i.PushRejected="PushRejected",i.RemoteConnectionError="RemoteConnectionError",i.DirtyWorkTree="DirtyWorkTree",i.CantOpenResource="CantOpenResource",i.GitNotFound="GitNotFound",i.CantCreatePipe="CantCreatePipe",i.CantAccessRemote="CantAccessRemote",i.RepositoryNotFound="RepositoryNotFound",i.RepositoryIsLocked="RepositoryIsLocked",i.BranchNotFullyMerged="BranchNotFullyMerged",i.NoRemoteReference="NoRemoteReference",i.InvalidBranchName="InvalidBranchName",i.BranchAlreadyExists="BranchAlreadyExists",i.NoLocalChanges="NoLocalChanges",i.NoStashFound="NoStashFound",i.LocalChangesOverwritten="LocalChangesOverwritten",i.NoUpstreamBranch="NoUpstreamBranch",i.IsInSubmodule="IsInSubmodule",i.WrongCase="WrongCase",i.CantLockRef="CantLockRef",i.CantRebaseMultipleBranches="CantRebaseMultipleBranches",i.PatchDoesNotApply="PatchDoesNotApply"})(W||(W={}));var ie;(function(i){i[i.INDEX_MODIFIED=0]="INDEX_MODIFIED",i[i.INDEX_ADDED=1]="INDEX_ADDED",i[i.INDEX_DELETED=2]="INDEX_DELETED",i[i.INDEX_RENAMED=3]="INDEX_RENAMED",i[i.INDEX_COPIED=4]="INDEX_COPIED",i[i.MODIFIED=5]="MODIFIED",i[i.DELETED=6]="DELETED",i[i.UNTRACKED=7]="UNTRACKED",i[i.IGNORED=8]="IGNORED",i[i.INTENT_TO_ADD=9]="INTENT_TO_ADD",i[i.ADDED_BY_US=10]="ADDED_BY_US",i[i.ADDED_BY_THEM=11]="ADDED_BY_THEM",i[i.DELETED_BY_US=12]="DELETED_BY_US",i[i.DELETED_BY_THEM=13]="DELETED_BY_THEM",i[i.BOTH_ADDED=14]="BOTH_ADDED",i[i.BOTH_DELETED=15]="BOTH_DELETED",i[i.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(ie||(ie={}));const he=class{constructor(){lt(this,"_providers",new Map),lt(this,"_onDidOpenRepository",new s.EventEmitter),lt(this,"onDidOpenRepository",this._onDidOpenRepository.event),lt(this,"_onDidCloseRepository",new s.EventEmitter),lt(this,"onDidCloseRepository",this._onDidCloseRepository.event),lt(this,"_onDidChangeState",new s.EventEmitter),lt(this,"onDidChangeState",this._onDidChangeState.event),lt(this,"_onDidPublish",new s.EventEmitter),lt(this,"onDidPublish",this._onDidPublish.event),lt(this,"_disposables"),lt(this,"_titleAndDescriptionProviders",new Set),this._disposables=[]}get repositories(){const i=[];return this._providers.forEach(({repositories:e})=>{e&&i.push(...e)}),i}get state(){if(this._providers.size!==0){for(const[,{state:i}]of this._providers)if(i!=="initialized")return"uninitialized";return"initialized"}}_updateReposContext(){const i=Array.from(this._providers.values()).reduce((e,t)=>e+t.repositories.length,0);s.commands.executeCommand("setContext","gitHubOpenRepositoryCount",i)}registerGitProvider(i){h.appendLine("Registering git provider");const e=this._nextHandle();return this._providers.set(e,i),this._disposables.push(i.onDidCloseRepository(t=>this._onDidCloseRepository.fire(t))),this._disposables.push(i.onDidOpenRepository(t=>{h.appendLine(`Repository ${t.rootUri} has been opened`),this._updateReposContext(),this._onDidOpenRepository.fire(t)})),i.onDidChangeState&&this._disposables.push(i.onDidChangeState(t=>this._onDidChangeState.fire(t))),i.onDidPublish&&this._disposables.push(i.onDidPublish(t=>this._onDidPublish.fire(t))),this._updateReposContext(),i.repositories.forEach(t=>{this._onDidOpenRepository.fire(t)}),{dispose:()=>{const t=i==null?void 0:i.repositories;t&&t.length>0&&t.forEach(r=>this._onDidCloseRepository.fire(r)),this._providers.delete(e)}}}getGitProvider(i){const e=pt.forUris();return this._providers.forEach(t=>{const r=t.repositories;if(r&&r.length>0)for(const n of r)e.set(n.rootUri,t)}),e.findSubstr(i)}registerPostCommitCommandsProvider(i){const e=Array.from(this._providers.values()).map(t=>t.registerPostCommitCommandsProvider?t.registerPostCommitCommandsProvider(i):{dispose:()=>{}});return{dispose:()=>e.forEach(t=>t.dispose())}}_nextHandle(){return he._handlePool++}dispose(){this._disposables.forEach(i=>i.dispose())}registerTitleAndDescriptionProvider(i,e){const t={title:i,provider:e};this._titleAndDescriptionProviders.add(t);const r={dispose:()=>this._titleAndDescriptionProviders.delete(t)};return this._disposables.push(r),r}getTitleAndDescriptionProvider(i){if(i){for(const e of this._titleAndDescriptionProviders)if(e.title.toLowerCase().includes(i.toLowerCase()))return e}else return this._titleAndDescriptionProviders.size>0?this._titleAndDescriptionProviders.values().next().value:void 0}};let Ce=he;lt(Ce,"_handlePool",0);var He;(function(i){function e(t){return t&&t.thread&&t.text!==void 0}i.is=e})(He||(He={}));const Me=new Map;function $e(i,e){Me.set(i,e)}function xt(i){Me.delete(i)}function We(i){for(const e of Me.values())if(e.hasCommentThread(i))return e;h.warn(`Unable to find handler for comment thread ${i.gitHubThreadId}`)}const Be="githubPullRequests",st="terminalLinksHandler",ut="createOnPublishBranch",ct="useReviewMode",zt="fileListLayout",ft="assignCreated",wt="pushBranch",Si="ignoredPullRequestBranches",kt="neverIgnoreDefaultBranch",Ot="overrideDefaultBranch",dr="pullBranch",Bt="pullRequestDescription",qt="notifications",Mr="postCreate",_t="queries",Vt="focusedMode",Hr="createDraft",Te="quickDiff",Ve="setAutoMerge",vt="showPullRequestNumberInTree",Xe="defaultMergeMethod",rt="defaultDeletionMethod",Wt="selectLocalBranch",yt="selectRemote",Et="remotes",Ct="pullPullRequestBranchBeforeCheckout",nt="upstreamRemote",mt="defaultCreateOption",at="githubIssues",ei="assignWhenWorking",Kt="issueCompletions",Mt="userCompletions",fi="enabled",ti="ignoreUserCompletionTrigger",yi="createInsertFormat",gi="issueBranchTitle",Li="useBranchForIssues",Ii="workingIssueFormatScm",Mi="ignoreCompletionTrigger",Ni="issueCompletionFormatScm",Lt="createIssueTriggers",Qt="default",ci="ignoreMilestones",Ti="allowFetch",Zt="git",bi="pullBeforeCheckout",Pi="openDiffOnClick",Wi="autoStash",Ei="github-enterprise",Xi="uri",_r="editor",Gi="wordWrap",cr="comments",nr="openView",Ji="explorer",mi="autoReveal";var Xt=Yt(48764),gr=Yt(54098),Wr=Yt.n(gr),_i;(function(i){i[i.Query=0]="Query",i[i.All=1]="All",i[i.LocalPullRequest=2]="LocalPullRequest"})(_i||(_i={}));var fr;(function(i){i.Approve="APPROVE",i.RequestChanges="REQUEST_CHANGES",i.Comment="COMMENT"})(fr||(fr={}));var wi;(function(i){i[i.Open=0]="Open",i[i.Merged=1]="Merged",i[i.Closed=2]="Closed"})(wi||(wi={}));var br;(function(i){i[i.Mergeable=0]="Mergeable",i[i.NotMergeable=1]="NotMergeable",i[i.Conflict=2]="Conflict",i[i.Unknown=3]="Unknown",i[i.Behind=4]="Behind"})(br||(br={}));function Pr(i){return kr(i)?i.id:i.login}function ar(i){var e;return kr(i)?(e=i.name)!=null?e:i.slug:i.login}function kr(i){return"org"in i}function en(i){return"isAuthor"in i&&"isCommenter"in i}var Hi;(function(i){i.Success="success",i.Failure="failure",i.Neutral="neutral",i.Pending="pending",i.Unknown="unknown"})(Hi||(Hi={}));var Hn=Yt(64063),Nn=Yt.n(Hn),$i;(function(i){i.LEFT="LEFT",i.RIGHT="RIGHT"})($i||($i={}));var sr;(function(i){i.DISMISSED="DISMISSED",i.VIEWED="VIEWED",i.UNVIEWED="UNVIEWED"})(sr||(sr={}));var yr;(function(i){i.LINE="LINE",i.FILE="FILE"})(yr||(yr={}));var Ht;(function(i){i[i.ADD=0]="ADD",i[i.COPY=1]="COPY",i[i.DELETE=2]="DELETE",i[i.MODIFY=3]="MODIFY",i[i.RENAME=4]="RENAME",i[i.TYPE=5]="TYPE",i[i.UNKNOWN=6]="UNKNOWN",i[i.UNMERGED=7]="UNMERGED"})(Ht||(Ht={}));class Vn{constructor(e,t,r,n,a,m,k){this.baseCommit=e,this.status=t,this.fileName=r,this.previousFileName=n,this.patch=a,this.diffHunks=m,this.blobUrl=k}}class Kr{constructor(e,t,r,n,a){this.baseCommit=e,this.blobUrl=t,this.status=r,this.fileName=n,this.previousFileName=a}}var Ba=Object.defineProperty,aa=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Ba(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t),hr;(function(i){i[i.Context=0]="Context",i[i.Add=1]="Add",i[i.Delete=2]="Delete",i[i.Control=3]="Control"})(hr||(hr={}));class Gn{constructor(e,t,r,n,a,m=!0){this.type=e,this.oldLineNumber=t,this.newLineNumber=r,this.positionInHunk=n,this._raw=a,this.endwithLineBreak=m}get raw(){return this._raw}get text(){return this._raw.substr(1)}}function sa(i){switch(i[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class or{constructor(e,t,r,n,a){this.oldLineNumber=e,this.oldLength=t,this.newLineNumber=r,this.newLength=n,this.positionInHunk=a,aa(this,"diffLines",[])}}const nn=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function Le(i){let e=0,t=0;for(;(t=i.indexOf("\r",t))!==-1;)t++,e++;return e}function*dt(i){let e=0;for(;e!==-1&&e<i.length;){const t=e;e=i.indexOf(`
`,e);let n=(e!==-1?e:i.length)-t;e!==-1&&(e>0&&i[e-1]==="\r"&&n--,e++),yield i.substr(t,n)}}function*ot(i){const e=dt(i);let t=e.next(),r,n=-1,a=-1,m=-1;for(;!t.done;){const k=t.value;if(nn.test(k)){r&&(yield r,r=void 0),n===-1&&(n=0);const O=nn.exec(k),G=a=Number(O[1]),Z=Number(O[3])||1,oe=m=Number(O[5]),X=Number(O[7])||1;r=new or(G,Z,oe,X,n),r.diffLines.push(new Gn(3,-1,-1,n,k))}else if(r){const O=sa(k);if(O===3)r.diffLines&&r.diffLines.length&&(r.diffLines[r.diffLines.length-1].endwithLineBreak=!1);else{r.diffLines.push(new Gn(O,O!==1?a:-1,O!==2?m:-1,n,k));const G=1+Le(k);switch(O){case 0:a+=G,m+=G;break;case 2:a+=G;break;case 1:m+=G;break}}}n!==-1&&++n,t=e.next()}r&&(yield r)}function bt(i){const e=ot(i);let t=e.next();const r=[],n=[];for(;!t.done;){const a=t.value;r.push(a);for(let m=0;m<a.diffLines.length;m++){const k=a.diffLines[m];if(!(k.type===2||k.type===3))if(k.type===1)n.push(k.text);else{const O=k.text;n.push(O)}}t=e.next()}return r}function It(i,e){const t=i.split(/\r?\n/),r=ot(e);let n=r.next();const a=[],m=[];let k=0;for(;!n.done;){const O=n.value;a.push(O);const G=O.oldLineNumber;for(let Z=k+1;Z<G;Z++)m.push(t[Z-1]);k=G+O.oldLength-1;for(let Z=0;Z<O.diffLines.length;Z++){const oe=O.diffLines[Z];if(!(oe.type===2||oe.type===3))if(oe.type===1)m.push(oe.text);else{const X=oe.text;m.push(X)}}n=r.next()}if(k<t.length)for(let O=k+1;O<=t.length;O++)m.push(t[O-1]);return m.join(`
`)}function ni(i){switch(i){case"removed":return Ht.DELETE;case"added":return Ht.ADD;case"renamed":return Ht.RENAME;case"modified":return Ht.MODIFY;default:return Ht.UNKNOWN}}async function ai(i,e){const t=[];for(let r=0;r<i.length;r++){const n=i[r],a=ni(n.status);if(!n.patch&&!(a===Ht.ADD&&n.additions===0)){t.push(new Kr(e,n.blob_url,a,n.filename,n.previous_filename));continue}const m=n.patch?bt(n.patch):[];t.push(new Vn(e,a,n.filename,n.previous_filename,n.patch,m,n.blob_url))}return t}var Ge=Yt(6200),et=Object.defineProperty,Ke=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?et(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const St=/^(?:([^@:]+)@)?([^:/]+):?(.+)$/,Ut=/^([a-z-+]+):\/\//,Jt=i=>{const e=Ut.exec(i);if(e){const[m,k]=e;if(k.includes("ssh"))i=i.slice(m.length);else return}const t=St.exec(i);if(!t)return;const[,r,n,a]=t;return{User:r,Host:n,path:a}},si=(i,e=pi.current)=>{const t=Jt(i);return t&&e(t)};function xi(i){return{...i,Hostname:i.Host}}function Ri(...i){const e=i.filter(t=>!!t);return t=>e.reduce((r,n)=>{try{return{...r,...n(r)}}catch(a){return h.warn(`Failed to parse config for '${t.Host}, this can occur when the extension configurations is invalid or system ssh config files are malformed. Skipping erroneous resolver for now.'`),r}},t)}function Vr(i){const e=(0,Ge.parse)(i);return t=>e.compute(t.Host)}const fn=class{static fromConfig(i){return Ri(xi,Vr(i))}};let pi=fn;Ke(pi,"default",xi),Ke(pi,"current",fn.default);var Or=Object.defineProperty,Gr=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Or(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t),Qr;(function(i){i[i.Local=0]="Local",i[i.HTTP=1]="HTTP",i[i.SSH=2]="SSH",i[i.GIT=3]="GIT",i[i.OTHER=4]="OTHER"})(Qr||(Qr={}));class xr{constructor(e){if(Gr(this,"type",4),Gr(this,"host",""),Gr(this,"owner",""),Gr(this,"repositoryName",""),Gr(this,"url"),!this.parseSshProtocol(e))try{this.url=s.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch(t){h.error(`Failed to parse '${e}'`),s.window.showWarningMessage(s.l10n.t("Unable to parse remote '{0}'. Please check that it is correctly formatted.",e))}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const t=si(e);if(!t)return!1;const{Hostname:r,HostName:n,path:a}=t;return this.host=n||r,this.owner=this.getOwnerName(a)||"",this.repositoryName=this.getRepositoryName(a)||"",this.type=2,!0}getHostName(e){const t=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return t&&t.length>=2?t[1].toLocaleLowerCase()==="www.github.com"?"github.com":t[1]:""}getRepositoryName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const r=t.lastIndexOf("/"),n=t.substr(r+1);if(!(n===""||n==="/"))return n.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const r=t.split("/");if(r.length>1)return r[r.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return s.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch(t){return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const t=this.normalizeUri();if(!t)return!1;const r=e.normalizeUri();return r?t.toString().toLocaleLowerCase()===r.toString().toLocaleLowerCase():!1}}var oa=Object.defineProperty,os=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?oa(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Sa{constructor(e,t,r,n,a,m,k){this.ref=e,this.label=t,this.sha=r,this.owner=a,this.name=m,this.isInOrganization=k,os(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new xr(n)}}var Ui;(function(i){i[i.Committed=0]="Committed",i[i.Mentioned=1]="Mentioned",i[i.Subscribed=2]="Subscribed",i[i.Commented=3]="Commented",i[i.Reviewed=4]="Reviewed",i[i.NewCommitsSinceReview=5]="NewCommitsSinceReview",i[i.Labeled=6]="Labeled",i[i.Milestoned=7]="Milestoned",i[i.Assigned=8]="Assigned",i[i.HeadRefDeleted=9]="HeadRefDeleted",i[i.Merged=10]="Merged",i[i.Other=11]="Other"})(Ui||(Ui={}));var Ra=Yt(55835),Ks=Object.defineProperty,la=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Ks(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t),ji;(function(i){i[i.None=0]="None",i[i.GitHubDotCom=1]="GitHubDotCom",i[i.Enterprise=2]="Enterprise"})(ji||(ji={}));var ki;(function(i){i.github="github",i.githubEnterprise="github-enterprise"})(ki||(ki={}));class ua extends Error{constructor(e){super(e);this.message=e,la(this,"name"),la(this,"stack")}}function qa(i){var e;return!!((e=i.message)==null?void 0:e.startsWith("Resource protected by organization SAML enforcement."))}var da=Object.defineProperty,Ha=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?da(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const $n=class{static initialize(i){$n.icons={reactions:{THUMBS_UP:i.asAbsolutePath(p.join("resources","icons","reactions","thumbs_up.png")),THUMBS_DOWN:i.asAbsolutePath(p.join("resources","icons","reactions","thumbs_down.png")),CONFUSED:i.asAbsolutePath(p.join("resources","icons","reactions","confused.png")),EYES:i.asAbsolutePath(p.join("resources","icons","reactions","eyes.png")),HEART:i.asAbsolutePath(p.join("resources","icons","reactions","heart.png")),HOORAY:i.asAbsolutePath(p.join("resources","icons","reactions","hooray.png")),LAUGH:i.asAbsolutePath(p.join("resources","icons","reactions","laugh.png")),ROCKET:i.asAbsolutePath(p.join("resources","icons","reactions","rocket.png"))}}}};let an=$n;Ha(an,"icons");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jn=function(i,e){return jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},jn(i,e)};function er(i,e){jn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gt=function(){return gt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},gt.apply(this,arguments)};function ls(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t}function us(i,e,t,r){var n=arguments.length,a=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,r);else for(var k=i.length-1;k>=0;k--)(m=i[k])&&(a=(n<3?m(a):n>3?m(e,t,a):m(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a}function Zi(i,e){return function(t,r){e(t,r,i)}}function Va(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function Tn(i,e,t,r){function n(a){return a instanceof t?a:new t(function(m){m(a)})}return new(t||(t=Promise))(function(a,m){function k(Z){try{G(r.next(Z))}catch(oe){m(oe)}}function O(Z){try{G(r.throw(Z))}catch(oe){m(oe)}}function G(Z){Z.done?a(Z.value):n(Z.value).then(k,O)}G((r=r.apply(i,e||[])).next())})}function Mn(i,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,n,a,m;return m={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function k(G){return function(Z){return O([G,Z])}}function O(G){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(a=G[0]&2?n.return:G[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,G[1])).done)return a;switch(n=0,a&&(G=[G[0]&2,a.value]),G[0]){case 0:case 1:a=G;break;case 4:return t.label++,{value:G[1],done:!1};case 5:t.label++,n=G[1],G=[0];continue;case 7:G=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(G[0]===6||G[0]===2)){t=0;continue}if(G[0]===3&&(!a||G[1]>a[0]&&G[1]<a[3])){t.label=G[1];break}if(G[0]===6&&t.label<a[1]){t.label=a[1],a=G;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(G);break}a[2]&&t.ops.pop(),t.trys.pop();continue}G=e.call(i,t)}catch(Z){G=[6,Z],n=0}finally{r=a=0}if(G[0]&5)throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}}function Qs(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}function Ea(i,e){for(var t in i)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function Ys(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ga(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var r=t.call(i),n,a=[],m;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(k){m={error:k}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(m)throw m.error}}return a}function Xl(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(Ga(arguments[e]));return i}function $a(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var r=Array(i),n=0,e=0;e<t;e++)for(var a=arguments[e],m=0,k=a.length;m<k;m++,n++)r[n]=a[m];return r}function Ca(i){return this instanceof Ca?(this.v=i,this):new Ca(i)}function Js(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(i,e||[]),n,a=[];return n={},m("next"),m("throw"),m("return"),n[Symbol.asyncIterator]=function(){return this},n;function m(X){r[X]&&(n[X]=function(de){return new Promise(function(ke,Ne){a.push([X,de,ke,Ne])>1||k(X,de)})})}function k(X,de){try{O(r[X](de))}catch(ke){oe(a[0][3],ke)}}function O(X){X.value instanceof Ca?Promise.resolve(X.value.v).then(G,Z):oe(a[0][2],X)}function G(X){k("next",X)}function Z(X){k("throw",X)}function oe(X,de){X(de),a.shift(),a.length&&k(a[0][0],a[0][1])}}function eu(i){var e,t;return e={},r("next"),r("throw",function(n){throw n}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(n,a){e[n]=i[n]?function(m){return(t=!t)?{value:Ca(i[n](m)),done:n==="return"}:a?a(m):m}:a}}function Gd(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof Ys=="function"?Ys(i):i[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=i[a]&&function(m){return new Promise(function(k,O){m=i[a](m),n(k,O,m.done,m.value)})}}function n(a,m,k,O){Promise.resolve(O).then(function(G){a({value:G,done:k})},m)}}function gn(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}function Bo(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(e[t]=i[t]);return e.default=i,e}function Zs(i){return i&&i.__esModule?i:{default:i}}function Xs(i,e){if(!e.has(i))throw new TypeError("attempted to get private field on non-instance");return e.get(i)}function $d(i,e,t){if(!e.has(i))throw new TypeError("attempted to set private field on non-instance");return e.set(i,t),t}var tn=Yt(80285),ds=Yt(34155),cs="Invariant Violation",eo=Object.setPrototypeOf,qo=eo===void 0?function(i,e){return i.__proto__=e,i}:eo,Sr=function(i){er(e,i);function e(t){t===void 0&&(t=cs);var r=i.call(this,typeof t=="number"?cs+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return r.framesToPop=1,r.name=cs,qo(r,e.prototype),r}return e}(Error);function Fi(i,e){if(!i)throw new Sr(e)}function fs(i){return function(){return console[i].apply(console,arguments)}}(function(i){i.warn=fs("warn"),i.error=fs("error")})(Fi||(Fi={}));var Ki={env:{}};if(typeof ds=="object")Ki=ds;else try{Function("stub","process = stub")(Ki)}catch(i){}var Dr=null;const tu=null;var mr=Yt(35035),iu=Yt.n(mr),Pn=Object.prototype,zn=Pn.toString,ca=Pn.hasOwnProperty,xn=new Map;function hn(i,e){try{return to(i,e)}finally{xn.clear()}}function to(i,e){if(i===e)return!0;var t=zn.call(i),r=zn.call(e);if(t!==r)return!1;switch(t){case"[object Array]":if(i.length!==e.length)return!1;case"[object Object]":{if(io(i,e))return!0;var n=Object.keys(i),a=Object.keys(e),m=n.length;if(m!==a.length)return!1;for(var k=0;k<m;++k)if(!ca.call(e,n[k]))return!1;for(var k=0;k<m;++k){var O=n[k];if(!to(i[O],e[O]))return!1}return!0}case"[object Error]":return i.name===e.name&&i.message===e.message;case"[object Number]":if(i!==i)return e!==e;case"[object Boolean]":case"[object Date]":return+i==+e;case"[object RegExp]":case"[object String]":return i==""+e;case"[object Map]":case"[object Set]":{if(i.size!==e.size)return!1;if(io(i,e))return!0;for(var G=i.entries(),Z=t==="[object Map]";;){var oe=G.next();if(oe.done)break;var X=oe.value,de=X[0],ke=X[1];if(!e.has(de)||Z&&!to(ke,e.get(de)))return!1}return!0}}return!1}function io(i,e){var t=xn.get(i);if(t){if(t.has(e))return!0}else xn.set(i,t=new Set);return t.add(e),!1}const jd=null;var ru=Yt(34155);function zd(i){return["StringValue","BooleanValue","EnumValue"].indexOf(i.kind)>-1}function Wd(i){return["IntValue","FloatValue"].indexOf(i.kind)>-1}function nu(i){return i.kind==="StringValue"}function Ho(i){return i.kind==="BooleanValue"}function au(i){return i.kind==="IntValue"}function Vo(i){return i.kind==="FloatValue"}function su(i){return i.kind==="Variable"}function ou(i){return i.kind==="ObjectValue"}function lu(i){return i.kind==="ListValue"}function uu(i){return i.kind==="EnumValue"}function du(i){return i.kind==="NullValue"}function Na(i,e,t,r){if(au(t)||Vo(t))i[e.value]=Number(t.value);else if(Ho(t)||nu(t))i[e.value]=t.value;else if(ou(t)){var n={};t.fields.map(function(m){return Na(n,m.name,m.value,r)}),i[e.value]=n}else if(su(t)){var a=(r||{})[t.name.value];i[e.value]=a}else if(lu(t))i[e.value]=t.values.map(function(m){var k={};return Na(k,e,m,r),k[e.value]});else if(uu(t))i[e.value]=t.value;else if(du(t))i[e.value]=null;else throw new Sr(17)}function cu(i,e){var t=null;i.directives&&(t={},i.directives.forEach(function(n){t[n.name.value]={},n.arguments&&n.arguments.forEach(function(a){var m=a.name,k=a.value;return Na(t[n.name.value],m,k,e)})}));var r=null;return i.arguments&&i.arguments.length&&(r={},i.arguments.forEach(function(n){var a=n.name,m=n.value;return Na(r,a,m,e)})),Go(i.name.value,r,t)}var Dn=["connection","include","skip","client","rest","export"];function Go(i,e,t){if(t&&t.connection&&t.connection.key)if(t.connection.filter&&t.connection.filter.length>0){var r=t.connection.filter?t.connection.filter:[];r.sort();var n=e,a={};return r.forEach(function(O){a[O]=n[O]}),t.connection.key+"("+JSON.stringify(a)+")"}else return t.connection.key;var m=i;if(e){var k=iu()(e);m+="("+k+")"}return t&&Object.keys(t).forEach(function(O){Dn.indexOf(O)===-1&&(t[O]&&Object.keys(t[O]).length?m+="@"+O+"("+JSON.stringify(t[O])+")":m+="@"+O)}),m}function Ta(i,e){if(i.arguments&&i.arguments.length){var t={};return i.arguments.forEach(function(r){var n=r.name,a=r.value;return Na(t,n,a,e)}),t}return null}function Ma(i){return i.alias?i.alias.value:i.name.value}function Wn(i){return i.kind==="Field"}function ja(i){return i.kind==="InlineFragment"}function hs(i){return i&&i.type==="id"&&typeof i.generated=="boolean"}function ms(i,e){return e===void 0&&(e=!1),gt({type:"id",generated:e},typeof i=="string"?{id:i,typename:void 0}:i)}function $o(i){return i!=null&&typeof i=="object"&&i.type==="json"}function Kd(i){throw new InvariantError(18)}function ro(i,e){switch(e===void 0&&(e=Kd),i.kind){case"Variable":return e(i);case"NullValue":return null;case"IntValue":return parseInt(i.value,10);case"FloatValue":return parseFloat(i.value);case"ListValue":return i.values.map(function(m){return ro(m,e)});case"ObjectValue":{for(var t={},r=0,n=i.fields;r<n.length;r++){var a=n[r];t[a.name.value]=ro(a.value,e)}return t}default:return i.value}}function no(i,e){if(i.directives&&i.directives.length){var t={};return i.directives.forEach(function(r){t[r.name.value]=Ta(r,e)}),t}return null}function za(i,e){return e===void 0&&(e={}),ve(i.directives).every(function(t){var r=t.directive,n=t.ifArgument,a=!1;return n.value.kind==="Variable"?(a=e[n.value.name.value],Fi(a!==void 0,13)):a=n.value.value,r.name.value==="skip"?!a:a})}function ps(i){var e=[];return(0,tn.visit)(i,{Directive:function(t){e.push(t.name.value)}}),e}function vs(i,e){return ps(e).some(function(t){return i.indexOf(t)>-1})}function fu(i){return i&&vs(["client"],i)&&vs(["export"],i)}function hu(i){var e=i.name.value;return e==="skip"||e==="include"}function ve(i){return i?i.filter(hu).map(function(e){var t=e.arguments,r=e.name.value;Fi(t&&t.length===1,14);var n=t[0];Fi(n.name&&n.name.value==="if",15);var a=n.value;return Fi(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),16),{directive:e,ifArgument:n}}):[]}function ue(i,e){var t=e,r=[];i.definitions.forEach(function(a){if(a.kind==="OperationDefinition")throw new Sr(11);a.kind==="FragmentDefinition"&&r.push(a)}),typeof t=="undefined"&&(Fi(r.length===1,12),t=r[0].name.value);var n=gt(gt({},i),{definitions:$a([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],i.definitions)});return n}function be(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(r){typeof r=="undefined"||r===null||Object.keys(r).forEach(function(n){i[n]=r[n]})}),i}function Se(i){Ae(i);var e=i.definitions.filter(function(t){return t.kind==="OperationDefinition"&&t.operation==="mutation"})[0];return invariant(e,1),e}function Ae(i){Fi(i&&i.kind==="Document",2);var e=i.definitions.filter(function(t){return t.kind!=="FragmentDefinition"}).map(function(t){if(t.kind!=="OperationDefinition")throw new Sr(3);return t});return Fi(e.length<=1,4),i}function qe(i){return Ae(i),i.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Qe(i){var e=qe(i);return invariant(e,5),e}function tt(i){return i.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function Tt(i){return i.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function Ft(i){var e=qe(i);return Fi(e&&e.operation==="query",6),e}function Gt(i){Fi(i.kind==="Document",7),Fi(i.definitions.length<=1,8);var e=i.definitions[0];return Fi(e.kind==="FragmentDefinition",9),e}function oi(i){Ae(i);for(var e,t=0,r=i.definitions;t<r.length;t++){var n=r[t];if(n.kind==="OperationDefinition"){var a=n.operation;if(a==="query"||a==="mutation"||a==="subscription")return n}n.kind==="FragmentDefinition"&&!e&&(e=n)}if(e)return e;throw new Sr(10)}function vi(i){i===void 0&&(i=[]);var e={};return i.forEach(function(t){e[t.name.value]=t}),e}function di(i){if(i&&i.variableDefinitions&&i.variableDefinitions.length){var e=i.variableDefinitions.filter(function(t){var r=t.defaultValue;return r}).map(function(t){var r=t.variable,n=t.defaultValue,a={};return Na(a,r.name,n),a});return be.apply(void 0,$a([{}],e))}return{}}function Di(i){var e=new Set;if(i.variableDefinitions)for(var t=0,r=i.variableDefinitions;t<r.length;t++){var n=r[t];e.add(n.variable.name.value)}return e}function Ci(i,e,t){var r=0;return i.forEach(function(n,a){e.call(this,n,a,i)&&(i[r++]=n)},t),i.length=r,i}var Ye={kind:"Field",name:{kind:"Name",value:"__typename"}};function tr(i,e){return i.selectionSet.selections.every(function(t){return t.kind==="FragmentSpread"&&tr(e[t.name.value],e)})}function Yr(i){return tr(qe(i)||Gt(i),vi(Tt(i)))?null:i}function Kn(i){return function(t){return i.some(function(r){return r.name&&r.name===t.name.value||r.test&&r.test(t)})}}function fa(i,e){var t=Object.create(null),r=[],n=Object.create(null),a=[],m=Yr((0,tn.visit)(e,{Variable:{enter:function(k,O,G){G.kind!=="VariableDefinition"&&(t[k.name.value]=!0)}},Field:{enter:function(k){if(i&&k.directives){var O=i.some(function(G){return G.remove});if(O&&k.directives&&k.directives.some(Kn(i)))return k.arguments&&k.arguments.forEach(function(G){G.value.kind==="Variable"&&r.push({name:G.value.name.value})}),k.selectionSet&&Ko(k.selectionSet).forEach(function(G){a.push({name:G.name.value})}),null}}},FragmentSpread:{enter:function(k){n[k.name.value]=!0}},Directive:{enter:function(k){if(Kn(i)(k))return null}}}));return m&&Ci(r,function(k){return!t[k.name]}).length&&(m=ao(r,m)),m&&Ci(a,function(k){return!n[k.name]}).length&&(m=so(a,m)),m}function mu(i){return(0,tn.visit)(Ae(i),{SelectionSet:{enter:function(e,t,r){if(!(r&&r.kind==="OperationDefinition")){var n=e.selections;if(!!n){var a=n.some(function(k){return Wn(k)&&(k.name.value==="__typename"||k.name.value.lastIndexOf("__",0)===0)});if(!a){var m=r;if(!(Wn(m)&&m.directives&&m.directives.some(function(k){return k.name.value==="export"})))return gt(gt({},e),{selections:$a(n,[Ye])})}}}}}})}var jo={test:function(i){var e=i.name.value==="connection";return e&&(!i.arguments||!i.arguments.some(function(t){return t.name.value==="key"})),e}};function gs(i){return fa([jo],Ae(i))}function Wa(i,e,t){return t===void 0&&(t=!0),e&&e.selections&&e.selections.some(function(r){return zo(i,r,t)})}function zo(i,e,t){return t===void 0&&(t=!0),Wn(e)?e.directives?e.directives.some(Kn(i))||t&&Wa(i,e.selectionSet,t):!1:!0}function Qd(i,e){Ae(e);var t;return Yr(visit(e,{SelectionSet:{enter:function(r,n,a,m){var k=m.join("-");if(!t||k===t||!k.startsWith(t))if(r.selections){var O=r.selections.filter(function(G){return zo(i,G)});return Wa(i,r,!1)&&(t=k),__assign(__assign({},r),{selections:O})}else return null}}}))}function Wo(i){return function(t){return i.some(function(r){return t.value&&t.value.kind==="Variable"&&t.value.name&&(r.name===t.value.name.value||r.test&&r.test(t))})}}function ao(i,e){var t=Wo(i);return Yr((0,tn.visit)(e,{OperationDefinition:{enter:function(r){return gt(gt({},r),{variableDefinitions:r.variableDefinitions.filter(function(n){return!i.some(function(a){return a.name===n.variable.name.value})})})}},Field:{enter:function(r){var n=i.some(function(m){return m.remove});if(n){var a=0;if(r.arguments.forEach(function(m){t(m)&&(a+=1)}),a===1)return null}}},Argument:{enter:function(r){if(t(r))return null}}}))}function so(i,e){function t(r){if(i.some(function(n){return n.name===r.name.value}))return null}return Yr((0,tn.visit)(e,{FragmentSpread:{enter:t},FragmentDefinition:{enter:t}}))}function Ko(i){var e=[];return i.selections.forEach(function(t){(Wn(t)||ja(t))&&t.selectionSet?Ko(t.selectionSet).forEach(function(r){return e.push(r)}):t.kind==="FragmentSpread"&&e.push(t)}),e}function oo(i){var e=oi(i),t=e.operation;if(t==="query")return i;var r=(0,tn.visit)(i,{OperationDefinition:{enter:function(n){return gt(gt({},n),{operation:"query"})}}});return r}function lo(i){Ae(i);var e=fa([{test:function(t){return t.name.value==="client"},remove:!0}],i);return e&&(e=(0,tn.visit)(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet){var r=t.selectionSet.selections.every(function(n){return Wn(n)&&n.name.value==="__typename"});if(r)return null}}}})),e}var bs=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),uo=Object.prototype.toString;function Qo(i){return ys(i,new Map)}function ys(i,e){switch(uo.call(i)){case"[object Array]":{if(e.has(i))return e.get(i);var t=i.slice(0);return e.set(i,t),t.forEach(function(n,a){t[a]=ys(n,e)}),t}case"[object Object]":{if(e.has(i))return e.get(i);var r=Object.create(Object.getPrototypeOf(i));return e.set(i,r),Object.keys(i).forEach(function(n){r[n]=ys(i[n],e)}),r}default:return i}}function pu(){return typeof ru!="undefined"?"production":"development"}function co(i){return pu()===i}function Yo(){return co("production")===!0}function Jo(){return co("development")===!0}function ze(){return co("test")===!0}function Rt(i){try{return i()}catch(e){console.error&&console.error(e)}}function Dt(i){return i.errors&&i.errors.length}function ii(i){return Object.freeze(i),Object.getOwnPropertyNames(i).forEach(function(e){i[e]!==null&&(typeof i[e]=="object"||typeof i[e]=="function")&&!Object.isFrozen(i[e])&&ii(i[e])}),i}function Ai(i){if(Jo()||ze()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return ii(i)}return i}var qi=Object.prototype.hasOwnProperty;function Bi(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return wr(i)}function wr(i){var e=i[0]||{},t=i.length;if(t>1){var r=[];e=Ar(e,r);for(var n=1;n<t;++n)e=Er(e,i[n],r)}return e}function Rr(i){return i!==null&&typeof i=="object"}function Er(i,e,t){return Rr(e)&&Rr(i)?(Object.isExtensible&&!Object.isExtensible(i)&&(i=Ar(i,t)),Object.keys(e).forEach(function(r){var n=e[r];if(qi.call(i,r)){var a=i[r];n!==a&&(i[r]=Er(Ar(a,t),n,t))}else i[r]=n}),i):e}function Ar(i,e){return i!==null&&typeof i=="object"&&e.indexOf(i)<0&&(Array.isArray(i)?i=i.slice(0):i=gt({__proto__:Object.getPrototypeOf(i)},i),e.push(i)),i}var An=Object.create({});function Ir(i,e){e===void 0&&(e="warn"),!Yo()&&!An[i]&&(ze()||(An[i]=!0),e==="error"?console.error(i):console.warn(i))}function Yd(i){return JSON.parse(JSON.stringify(i))}var Sm=Yt(49329),Rm=Yt.n(Sm),Em=Rm();const rn=Em;function Cm(i){for(var e=["query","operationName","variables","extensions","context"],t=0,r=Object.keys(i);t<r.length;t++){var n=r[t];if(e.indexOf(n)<0)throw new Sr(2)}return i}var Zy=function(i){er(e,i);function e(t,r){var n=i.call(this,t)||this;return n.link=r,n}return e}(Error);function Zo(i){return i.request.length<=1}function Xy(i){var e=!1;return new Promise(function(t,r){i.subscribe({next:function(n){e||(e=!0,t(n))},error:r})})}var ew=null;function tw(i){return new Observable(function(e){i.then(function(t){e.next(t),e.complete()}).catch(e.error.bind(e))})}function Jd(i){return new rn(function(e){e.error(i)})}function Nm(i){var e={variables:i.variables||{},extensions:i.extensions||{},operationName:i.operationName,query:i.query};return e.operationName||(e.operationName=typeof e.query!="string"?tt(e.query):""),e}function Tm(i,e){var t=gt({},i),r=function(a){typeof a=="function"?t=gt({},t,a(t)):t=gt({},t,a)},n=function(){return gt({},t)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:n}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return Mm(e)}}),e}function Mm(i){var e=i.query,t=i.variables,r=i.operationName;return JSON.stringify([r,e,t])}function Zd(i,e){return e?e(i):rn.of()}function fo(i){return typeof i=="function"?new In(i):i}function Xd(){return new In(function(){return rn.of()})}function Pm(i){return i.length===0?Xd():i.map(fo).reduce(function(e,t){return e.concat(t)})}function ec(i,e,t){var r=fo(e),n=fo(t||new In(Zd));return Zo(r)&&Zo(n)?new In(function(a){return i(a)?r.request(a)||rn.of():n.request(a)||rn.of()}):new In(function(a,m){return i(a)?r.request(a,m)||rn.of():n.request(a,m)||rn.of()})}var xm=function(i,e){var t=fo(i);if(Zo(t))return t;var r=fo(e);return Zo(r)?new In(function(n){return t.request(n,function(a){return r.request(a)||rn.of()})||rn.of()}):new In(function(n,a){return t.request(n,function(m){return r.request(m,a)||rn.of()})||rn.of()})},In=function(){function i(e){e&&(this.request=e)}return i.prototype.split=function(e,t,r){return this.concat(ec(e,t,r||new i(Zd)))},i.prototype.concat=function(e){return xm(this,e)},i.prototype.request=function(e,t){throw new Sr(1)},i.empty=Xd,i.from=Pm,i.split=ec,i.execute=Xo,i}();function Xo(i,e){return i.request(Tm(e.context,Nm(Cm(e))))||rn.of()}var Dm=Yt(67121),pr;(function(i){i[i.loading=1]="loading",i[i.setVariables=2]="setVariables",i[i.fetchMore=3]="fetchMore",i[i.refetch=4]="refetch",i[i.poll=6]="poll",i[i.ready=7]="ready",i[i.error=8]="error"})(pr||(pr={}));function tc(i){return i<7}var ho=function(i){er(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype[Dm.Z]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(rn);function ws(i){return Array.isArray(i)&&i.length>0}function Am(i){return i.hasOwnProperty("graphQLErrors")}var Im=function(i){var e="";return ws(i.graphQLErrors)&&i.graphQLErrors.forEach(function(t){var r=t?t.message:"Error message not found.";e+="GraphQL error: "+r+`
`}),i.networkError&&(e+="Network error: "+i.networkError.message+`
`),e=e.replace(/\n$/,""),e},Pa=function(i){er(e,i);function e(t){var r=t.graphQLErrors,n=t.networkError,a=t.errorMessage,m=t.extraInfo,k=i.call(this,a)||this;return k.graphQLErrors=r||[],k.networkError=n||null,a?k.message=a:k.message=Im(k),k.extraInfo=m,k.__proto__=e.prototype,k}return e}(Error),Ka;(function(i){i[i.normal=1]="normal",i[i.refetch=2]="refetch",i[i.poll=3]="poll"})(Ka||(Ka={}));var Fm=function(i,e){return e===void 0&&(e="none"),i&&(i.networkError||e==="none"&&ws(i.graphQLErrors))},Om=function(i){er(e,i);function e(t){var r=t.queryManager,n=t.options,a=t.shouldSubscribe,m=a===void 0?!0:a,k=i.call(this,function(G){return k.onSubscribe(G)})||this;k.observers=new Set,k.subscriptions=new Set,k.isTornDown=!1,k.options=n,k.variables=n.variables||{},k.queryId=r.generateQueryId(),k.shouldSubscribe=m;var O=qe(n.query);return k.queryName=O&&O.name&&O.name.value,k.queryManager=r,k}return e.prototype.result=function(){var t=this;return new Promise(function(r,n){var a={next:function(k){r(k),t.observers.delete(a),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){m.unsubscribe()},0)},error:n},m=t.subscribe(a)})},e.prototype.currentResult=function(){var t=this.getCurrentResult();return t.data===void 0&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:pr.error}}var r=this.queryManager.getCurrentQueryResult(this),n=r.data,a=r.partial,m=this.queryManager.queryStore.get(this.queryId),k,O=this.options.fetchPolicy,G=O==="network-only"||O==="no-cache";if(m){var Z=m.networkStatus;if(Fm(m,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:Z,error:new Pa({graphQLErrors:m.graphQLErrors,networkError:m.networkError})};m.variables&&(this.options.variables=gt(gt({},this.options.variables),m.variables),this.variables=this.options.variables),k={data:n,loading:tc(Z),networkStatus:Z},m.graphQLErrors&&this.options.errorPolicy==="all"&&(k.errors=m.graphQLErrors)}else{var oe=G||a&&O!=="cache-only";k={data:n,loading:oe,networkStatus:oe?pr.loading:pr.ready}}return a||this.updateLastResult(gt(gt({},k),{stale:!1})),gt(gt({},k),{partial:a})},e.prototype.isDifferentFromLastResult=function(t){var r=this.lastResultSnapshot;return!(r&&t&&r.networkStatus===t.networkStatus&&r.stale===t.stale&&hn(r.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var r=this.options.fetchPolicy;return r==="cache-only"?Promise.reject(new Sr(1)):(r!=="no-cache"&&r!=="cache-and-network"&&(r="network-only"),hn(this.variables,t)||(this.variables=gt(gt({},this.variables),t)),hn(this.options.variables,this.variables)||(this.options.variables=gt(gt({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,gt(gt({},this.options),{fetchPolicy:r}),Ka.refetch))},e.prototype.fetchMore=function(t){var r=this;Fi(t.updateQuery,2);var n=gt(gt({},t.query?t:gt(gt(gt({},this.options),t),{variables:gt(gt({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),a=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(a,n,Ka.normal,this.queryId).then(function(m){return r.updateQuery(function(k){return t.updateQuery(k,{fetchMoreResult:m.data,variables:n.variables})}),r.queryManager.stopQuery(a),m},function(m){throw r.queryManager.stopQuery(a),m})},e.prototype.subscribeToMore=function(t){var r=this,n=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(a){var m=t.updateQuery;m&&r.updateQuery(function(k,O){var G=O.variables;return m(k,{subscriptionData:a,variables:G})})},error:function(a){if(t.onError){t.onError(a);return}}});return this.subscriptions.add(n),function(){r.subscriptions.delete(n)&&n.unsubscribe()}},e.prototype.setOptions=function(t){var r=this.options.fetchPolicy;this.options=gt(gt({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):t.pollInterval===0&&this.stopPolling();var n=t.fetchPolicy;return this.setVariables(this.options.variables,r!==n&&(r==="cache-only"||r==="standby"||n==="network-only"),t.fetchResults)},e.prototype.setVariables=function(t,r,n){return r===void 0&&(r=!1),n===void 0&&(n=!0),this.isTornDown=!1,t=t||this.variables,!r&&hn(t,this.variables)?this.observers.size&&n?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var r=this.queryManager,n=r.getQueryWithPreviousResult(this.queryId),a=n.previousResult,m=n.variables,k=n.document,O=Rt(function(){return t(a,{variables:m})});O&&(r.dataStore.markUpdateQueryResult(k,m,O),r.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){ic(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var r=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:Qo(t),r},e.prototype.onSubscribe=function(t){var r=this;try{var n=t._subscription._observer;n&&!n.error&&(n.error=Lm)}catch(m){}var a=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),a&&this.setUpQuery(),function(){r.observers.delete(t)&&!r.observers.size&&r.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,r=this,n=r.queryManager,a=r.queryId;this.shouldSubscribe&&n.addObservableQuery(a,this),this.options.pollInterval&&(ic(this),n.startPollingQuery(this.options,a));var m=function(k){t.updateLastResult(gt(gt({},t.lastResult),{errors:k.graphQLErrors,networkStatus:pr.error,loading:!1})),vu(t.observers,"error",t.lastError=k)};n.observeQuery(a,this.options,{next:function(k){if(t.lastError||t.isDifferentFromLastResult(k)){var O=t.updateLastResult(k),G=t.options,Z=G.query,oe=G.variables,X=G.fetchPolicy;n.transform(Z).hasClientExports?n.getLocalState().addExportedVariables(Z,oe).then(function(de){var ke=t.variables;t.variables=t.options.variables=de,!k.loading&&O&&X!=="cache-only"&&n.transform(Z).serverQuery&&!hn(ke,de)?t.refetch():vu(t.observers,"next",k)}):vu(t.observers,"next",k)}},error:m}).catch(m)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(r){return r.unsubscribe()}),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(ho);function Lm(i){}function vu(i,e,t){var r=[];i.forEach(function(n){return n[e]&&r.push(n)}),r.forEach(function(n){return n[e](t)})}function ic(i){var e=i.options.fetchPolicy;Fi(e!=="cache-first"&&e!=="cache-only",3)}var Um=function(){function i(){this.store={}}return i.prototype.getStore=function(){return this.store},i.prototype.get=function(e){return this.store[e]},i.prototype.initMutation=function(e,t,r){this.store[e]={mutation:t,variables:r||{},loading:!0,error:null}},i.prototype.markMutationError=function(e,t){var r=this.store[e];r&&(r.loading=!1,r.error=t)},i.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},i.prototype.reset=function(){this.store={}},i}(),Bm=function(){function i(){this.store={}}return i.prototype.getStore=function(){return this.store},i.prototype.get=function(e){return this.store[e]},i.prototype.initQuery=function(e){var t=this.store[e.queryId];Fi(!t||t.document===e.document||hn(t.document,e.document),19);var r=!1,n=null;e.storePreviousVariables&&t&&t.networkStatus!==pr.loading&&(hn(t.variables,e.variables)||(r=!0,n=t.variables));var a;r?a=pr.setVariables:e.isPoll?a=pr.poll:e.isRefetch?a=pr.refetch:a=pr.loading;var m=[];t&&t.graphQLErrors&&(m=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:n,networkError:null,graphQLErrors:m,networkStatus:a,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=pr.fetchMore)},i.prototype.markQueryResult=function(e,t,r){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=ws(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=pr.ready,typeof r=="string"&&this.store[r]&&(this.store[r].networkStatus=pr.ready))},i.prototype.markQueryError=function(e,t,r){!this.store||!this.store[e]||(this.store[e].networkError=t,this.store[e].networkStatus=pr.error,typeof r=="string"&&this.markQueryResultClient(r,!0))},i.prototype.markQueryResultClient=function(e,t){var r=this.store&&this.store[e];r&&(r.networkError=null,r.previousVariables=null,t&&(r.networkStatus=pr.ready))},i.prototype.stopQuery=function(e){delete this.store[e]},i.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach(function(r){e.indexOf(r)<0?t.stopQuery(r):t.store[r].networkStatus=pr.loading})},i}();function qm(i){return i.charAt(0).toUpperCase()+i.slice(1)}var rc=function(){function i(e){var t=e.cache,r=e.client,n=e.resolvers,a=e.fragmentMatcher;this.cache=t,r&&(this.client=r),n&&this.addResolvers(n),a&&this.setFragmentMatcher(a)}return i.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){t.resolvers=Bi(t.resolvers,r)}):this.resolvers=Bi(this.resolvers,e)},i.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},i.prototype.getResolvers=function(){return this.resolvers||{}},i.prototype.runResolvers=function(e){var t=e.document,r=e.remoteResult,n=e.context,a=e.variables,m=e.onlyRunForcedResolvers,k=m===void 0?!1:m;return Tn(this,void 0,void 0,function(){return Mn(this,function(O){return t?[2,this.resolveDocument(t,r.data,n,a,this.fragmentMatcher,k).then(function(G){return gt(gt({},r),{data:G.result})})]:[2,r]})})},i.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},i.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},i.prototype.clientQuery=function(e){return vs(["client"],e)&&this.resolvers?e:null},i.prototype.serverQuery=function(e){return this.resolvers?lo(e):e},i.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.cache,r=gt(gt({},e),{cache:t,getCacheKey:function(n){if(t.config)return t.config.dataIdFromObject(n);Fi(!1,6)}});return r},i.prototype.addExportedVariables=function(e,t,r){return t===void 0&&(t={}),r===void 0&&(r={}),Tn(this,void 0,void 0,function(){return Mn(this,function(n){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then(function(a){return gt(gt({},t),a.exportedVariables)})]:[2,gt({},t)]})})},i.prototype.shouldForceResolvers=function(e){var t=!1;return(0,tn.visit)(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(t=r.arguments.some(function(n){return n.name.value==="always"&&n.value.kind==="BooleanValue"&&n.value.value===!0}),t))return tn.BREAK}}}),t},i.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:oo(e),variables:t,returnPartialData:!0,optimistic:!1}).result},i.prototype.resolveDocument=function(e,t,r,n,a,m){return r===void 0&&(r={}),n===void 0&&(n={}),a===void 0&&(a=function(){return!0}),m===void 0&&(m=!1),Tn(this,void 0,void 0,function(){var k,O,G,Z,oe,X,de,ke,Ne;return Mn(this,function(Ie){return k=oi(e),O=Tt(e),G=vi(O),Z=k.operation,oe=Z?qm(Z):"Query",X=this,de=X.cache,ke=X.client,Ne={fragmentMap:G,context:gt(gt({},r),{cache:de,client:ke}),variables:n,fragmentMatcher:a,defaultOperationType:oe,exportedVariables:{},onlyRunForcedResolvers:m},[2,this.resolveSelectionSet(k.selectionSet,t,Ne).then(function(De){return{result:De,exportedVariables:Ne.exportedVariables}})]})})},i.prototype.resolveSelectionSet=function(e,t,r){return Tn(this,void 0,void 0,function(){var n,a,m,k,O,G=this;return Mn(this,function(Z){return n=r.fragmentMap,a=r.context,m=r.variables,k=[t],O=function(oe){return Tn(G,void 0,void 0,function(){var X,de;return Mn(this,function(ke){return za(oe,m)?Wn(oe)?[2,this.resolveField(oe,t,r).then(function(Ne){var Ie;typeof Ne!="undefined"&&k.push((Ie={},Ie[Ma(oe)]=Ne,Ie))})]:(ja(oe)?X=oe:(X=n[oe.name.value],Fi(X,7)),X&&X.typeCondition&&(de=X.typeCondition.name.value,r.fragmentMatcher(t,de,a))?[2,this.resolveSelectionSet(X.selectionSet,t,r).then(function(Ne){k.push(Ne)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(O)).then(function(){return wr(k)})]})})},i.prototype.resolveField=function(e,t,r){return Tn(this,void 0,void 0,function(){var n,a,m,k,O,G,Z,oe,X,de=this;return Mn(this,function(ke){return n=r.variables,a=e.name.value,m=Ma(e),k=a!==m,O=t[m]||t[a],G=Promise.resolve(O),(!r.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(Z=t.__typename||r.defaultOperationType,oe=this.resolvers&&this.resolvers[Z],oe&&(X=oe[k?a:m],X&&(G=Promise.resolve(X(t,Ta(e,n),r.context,{field:e,fragmentMap:r.fragmentMap}))))),[2,G.then(function(Ne){if(Ne===void 0&&(Ne=O),e.directives&&e.directives.forEach(function(Ie){Ie.name.value==="export"&&Ie.arguments&&Ie.arguments.forEach(function(De){De.name.value==="as"&&De.value.kind==="StringValue"&&(r.exportedVariables[De.value.value]=Ne)})}),!e.selectionSet||Ne==null)return Ne;if(Array.isArray(Ne))return de.resolveSubSelectedArray(e,Ne,r);if(e.selectionSet)return de.resolveSelectionSet(e.selectionSet,Ne,r)})]})})},i.prototype.resolveSubSelectedArray=function(e,t,r){var n=this;return Promise.all(t.map(function(a){if(a===null)return null;if(Array.isArray(a))return n.resolveSubSelectedArray(e,a,r);if(e.selectionSet)return n.resolveSelectionSet(e.selectionSet,a,r)}))},i}();function nc(i){var e=new Set,t=null;return new ho(function(r){return e.add(r),t=t||i.subscribe({next:function(n){e.forEach(function(a){return a.next&&a.next(n)})},error:function(n){e.forEach(function(a){return a.error&&a.error(n)})},complete:function(){e.forEach(function(n){return n.complete&&n.complete()})}}),function(){e.delete(r)&&!e.size&&t&&(t.unsubscribe(),t=null)}})}function Hm(i,e){return new ho(function(t){var r=t.next,n=t.error,a=t.complete,m=0,k=!1,O={next:function(Z){++m,new Promise(function(oe){oe(e(Z))}).then(function(oe){--m,r&&r.call(t,oe),k&&O.complete()},function(oe){--m,n&&n.call(t,oe)})},error:function(Z){n&&n.call(t,Z)},complete:function(){k=!0,m||a&&a.call(t)}},G=i.subscribe(O);return function(){return G.unsubscribe()}})}var Vm=Object.prototype.hasOwnProperty,Gm=function(){function i(e){var t=e.link,r=e.queryDeduplication,n=r===void 0?!1:r,a=e.store,m=e.onBroadcast,k=m===void 0?function(){}:m,O=e.ssrMode,G=O===void 0?!1:O,Z=e.clientAwareness,oe=Z===void 0?{}:Z,X=e.localState,de=e.assumeImmutableResults;this.mutationStore=new Um,this.queryStore=new Bm,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(bs?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=n,this.dataStore=a,this.onBroadcast=k,this.clientAwareness=oe,this.localState=X||new rc({cache:a.getCache()}),this.ssrMode=G,this.assumeImmutableResults=!!de}return i.prototype.stop=function(){var e=this;this.queries.forEach(function(t,r){e.stopQueryNoBroadcast(r)}),this.fetchQueryRejectFns.forEach(function(t){t(new Sr(8))})},i.prototype.mutate=function(e){var t=e.mutation,r=e.variables,n=e.optimisticResponse,a=e.updateQueries,m=e.refetchQueries,k=m===void 0?[]:m,O=e.awaitRefetchQueries,G=O===void 0?!1:O,Z=e.update,oe=e.errorPolicy,X=oe===void 0?"none":oe,de=e.fetchPolicy,ke=e.context,Ne=ke===void 0?{}:ke;return Tn(this,void 0,void 0,function(){var Ie,De,Fe,Ze=this;return Mn(this,function(it){switch(it.label){case 0:return Fi(t,9),Fi(!de||de==="no-cache",10),Ie=this.generateQueryId(),t=this.transform(t).document,this.setQuery(Ie,function(){return{document:t}}),r=this.getVariables(t,r),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,r,Ne)]:[3,2];case 1:r=it.sent(),it.label=2;case 2:return De=function(){var ht={};return a&&Ze.queries.forEach(function(Pt,At){var $t=Pt.observableQuery;if($t){var ri=$t.queryName;ri&&Vm.call(a,ri)&&(ht[At]={updater:a[ri],query:Ze.queryStore.get(At)})}}),ht},this.mutationStore.initMutation(Ie,t,r),this.dataStore.markMutationInit({mutationId:Ie,document:t,variables:r,updateQueries:De(),update:Z,optimisticResponse:n}),this.broadcastQueries(),Fe=this,[2,new Promise(function(ht,Pt){var At,$t;Fe.getObservableFromLink(t,gt(gt({},Ne),{optimisticResponse:n}),r,!1).subscribe({next:function(ri){if(Dt(ri)&&X==="none"){$t=new Pa({graphQLErrors:ri.errors});return}Fe.mutationStore.markMutationResult(Ie),de!=="no-cache"&&Fe.dataStore.markMutationResult({mutationId:Ie,result:ri,document:t,variables:r,updateQueries:De(),update:Z}),At=ri},error:function(ri){Fe.mutationStore.markMutationError(Ie,ri),Fe.dataStore.markMutationComplete({mutationId:Ie,optimisticResponse:n}),Fe.broadcastQueries(),Fe.setQuery(Ie,function(){return{document:null}}),Pt(new Pa({networkError:ri}))},complete:function(){if($t&&Fe.mutationStore.markMutationError(Ie,$t),Fe.dataStore.markMutationComplete({mutationId:Ie,optimisticResponse:n}),Fe.broadcastQueries(),$t){Pt($t);return}typeof k=="function"&&(k=k(At));var ri=[];ws(k)&&k.forEach(function(Tr){if(typeof Tr=="string")Fe.queries.forEach(function(vr){var Yi=vr.observableQuery;Yi&&Yi.queryName===Tr&&ri.push(Yi.refetch())});else{var na={query:Tr.query,variables:Tr.variables,fetchPolicy:"network-only"};Tr.context&&(na.context=Tr.context),ri.push(Fe.query(na))}}),Promise.all(G?ri:[]).then(function(){Fe.setQuery(Ie,function(){return{document:null}}),X==="ignore"&&At&&Dt(At)&&delete At.errors,ht(At)})}})})]}})})},i.prototype.fetchQuery=function(e,t,r,n){return Tn(this,void 0,void 0,function(){var a,m,k,O,G,Z,oe,X,de,ke,Ne,Ie,De,Fe,Ze,it,ht,Pt,At=this;return Mn(this,function($t){switch($t.label){case 0:return a=t.metadata,m=a===void 0?null:a,k=t.fetchPolicy,O=k===void 0?"cache-first":k,G=t.context,Z=G===void 0?{}:G,oe=this.transform(t.query).document,X=this.getVariables(oe,t.variables),this.transform(oe).hasClientExports?[4,this.localState.addExportedVariables(oe,X,Z)]:[3,2];case 1:X=$t.sent(),$t.label=2;case 2:if(t=gt(gt({},t),{variables:X}),ke=O==="network-only"||O==="no-cache",Ne=ke,ke||(Ie=this.dataStore.getCache().diff({query:oe,variables:X,returnPartialData:!0,optimistic:!1}),De=Ie.complete,Fe=Ie.result,Ne=!De||O==="cache-and-network",de=Fe),Ze=Ne&&O!=="cache-only"&&O!=="standby",vs(["live"],oe)&&(Ze=!0),it=this.idCounter++,ht=O!=="no-cache"?this.updateQueryWatch(e,oe,t):void 0,this.setQuery(e,function(){return{document:oe,lastRequestId:it,invalidated:!0,cancel:ht}}),this.invalidate(n),this.queryStore.initQuery({queryId:e,document:oe,storePreviousVariables:Ze,variables:X,isPoll:r===Ka.poll,isRefetch:r===Ka.refetch,metadata:m,fetchMoreForQueryId:n}),this.broadcastQueries(),Ze){if(Pt=this.fetchRequest({requestId:it,queryId:e,document:oe,options:t,fetchMoreForQueryId:n}).catch(function(ri){throw Am(ri)?ri:(it>=At.getQuery(e).lastRequestId&&(At.queryStore.markQueryError(e,ri,n),At.invalidate(e),At.invalidate(n),At.broadcastQueries()),new Pa({networkError:ri}))}),O!=="cache-and-network")return[2,Pt];Pt.catch(function(){})}return this.queryStore.markQueryResultClient(e,!Ze),this.invalidate(e),this.invalidate(n),this.transform(oe).hasForcedResolvers?[2,this.localState.runResolvers({document:oe,remoteResult:{data:de},context:Z,variables:X,onlyRunForcedResolvers:!0}).then(function(ri){return At.markQueryResult(e,ri,t,n),At.broadcastQueries(),ri})]:(this.broadcastQueries(),[2,{data:de}])}})})},i.prototype.markQueryResult=function(e,t,r,n){var a=r.fetchPolicy,m=r.variables,k=r.errorPolicy;a==="no-cache"?this.setQuery(e,function(){return{newData:{result:t.data,complete:!0}}}):this.dataStore.markQueryResult(t,this.getQuery(e).document,m,n,k==="ignore"||k==="all")},i.prototype.queryListenerForObserver=function(e,t,r){var n=this;function a(m,k){if(r[m])try{r[m](k)}catch(O){}}return function(m,k){if(n.invalidate(e,!1),!!m){var O=n.getQuery(e),G=O.observableQuery,Z=O.document,oe=G?G.options.fetchPolicy:t.fetchPolicy;if(oe!=="standby"){var X=tc(m.networkStatus),de=G&&G.getLastResult(),ke=!!(de&&de.networkStatus!==m.networkStatus),Ne=t.returnPartialData||!k&&m.previousVariables||ke&&t.notifyOnNetworkStatusChange||oe==="cache-only"||oe==="cache-and-network";if(!(X&&!Ne)){var Ie=ws(m.graphQLErrors),De=G&&G.options.errorPolicy||t.errorPolicy||"none";if(De==="none"&&Ie||m.networkError)return a("error",new Pa({graphQLErrors:m.graphQLErrors,networkError:m.networkError}));try{var Fe=void 0,Ze=void 0;if(k)oe!=="no-cache"&&oe!=="network-only"&&n.setQuery(e,function(){return{newData:null}}),Fe=k.result,Ze=!k.complete;else{var it=G&&G.getLastError(),ht=De!=="none"&&(it&&it.graphQLErrors)!==m.graphQLErrors;if(de&&de.data&&!ht)Fe=de.data,Ze=!1;else{var Pt=n.dataStore.getCache().diff({query:Z,variables:m.previousVariables||m.variables,returnPartialData:!0,optimistic:!0});Fe=Pt.result,Ze=!Pt.complete}}var At=Ze&&!(t.returnPartialData||oe==="cache-only"),$t={data:At?de&&de.data:Fe,loading:X,networkStatus:m.networkStatus,stale:At};De==="all"&&Ie&&($t.errors=m.graphQLErrors),a("next",$t)}catch(ri){a("error",new Pa({networkError:ri}))}}}}}},i.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var r=this.dataStore.getCache(),n=r.transformDocument(e),a=gs(r.transformForLink(n)),m=this.localState.clientQuery(n),k=this.localState.serverQuery(a),O={document:n,hasClientExports:fu(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:m,serverQuery:k,defaultVars:di(qe(n))},G=function(Z){Z&&!t.has(Z)&&t.set(Z,O)};G(e),G(n),G(m),G(k)}return t.get(e)},i.prototype.getVariables=function(e,t){return gt(gt({},this.transform(e).defaultVars),t)},i.prototype.watchQuery=function(e,t){t===void 0&&(t=!0),Fi(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var r=gt({},e);return new Om({queryManager:this,options:r,shouldSubscribe:t})},i.prototype.query=function(e){var t=this;return Fi(e.query,12),Fi(e.query.kind==="Document",13),Fi(!e.returnPartialData,14),Fi(!e.pollInterval,15),new Promise(function(r,n){var a=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+a.queryId,n),a.result().then(r,n).then(function(){return t.fetchQueryRejectFns.delete("query:"+a.queryId)})})},i.prototype.generateQueryId=function(){return String(this.idCounter++)},i.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},i.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},i.prototype.addQueryListener=function(e,t){this.setQuery(e,function(r){var n=r.listeners;return n.add(t),{invalidated:!1}})},i.prototype.updateQueryWatch=function(e,t,r){var n=this,a=this.getQuery(e).cancel;a&&a();var m=function(){var k=null,O=n.getQuery(e).observableQuery;if(O){var G=O.getLastResult();G&&(k=G.data)}return k};return this.dataStore.getCache().watch({query:t,variables:r.variables,optimistic:!0,previousResult:m,callback:function(k){n.setQuery(e,function(){return{invalidated:!0,newData:k}})}})},i.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})},i.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),t&&t()},i.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(t){t(new Sr(16))});var e=[];return this.queries.forEach(function(t,r){var n=t.observableQuery;n&&e.push(r)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},i.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},i.prototype.reFetchObservableQueries=function(e){var t=this;e===void 0&&(e=!1);var r=[];return this.queries.forEach(function(n,a){var m=n.observableQuery;if(m){var k=m.options.fetchPolicy;m.resetLastResults(),k!=="cache-only"&&(e||k!=="standby")&&r.push(m.refetch()),t.setQuery(a,function(){return{newData:null}}),t.invalidate(a)}}),this.broadcastQueries(),Promise.all(r)},i.prototype.observeQuery=function(e,t,r){return this.addQueryListener(e,this.queryListenerForObserver(e,t,r)),this.fetchQuery(e,t)},i.prototype.startQuery=function(e,t,r){return this.addQueryListener(e,r),this.fetchQuery(e,t).catch(function(){}),e},i.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,n=e.fetchPolicy,a=e.variables;r=this.transform(r).document,a=this.getVariables(r,a);var m=function(O){return t.getObservableFromLink(r,{},O,!1).map(function(G){if((!n||n!=="no-cache")&&(t.dataStore.markSubscriptionResult(G,r,O),t.broadcastQueries()),Dt(G))throw new Pa({graphQLErrors:G.errors});return G})};if(this.transform(r).hasClientExports){var k=this.localState.addExportedVariables(r,a).then(m);return new ho(function(O){var G=null;return k.then(function(Z){return G=Z.subscribe(O)},O.error),function(){return G&&G.unsubscribe()}})}return m(a)},i.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},i.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},i.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(t){return t.unsubscribe()}),this.queries.delete(e)},i.prototype.getCurrentQueryResult=function(e,t){t===void 0&&(t=!0);var r=e.options,n=r.variables,a=r.query,m=r.fetchPolicy,k=r.returnPartialData,O=e.getLastResult(),G=this.getQuery(e.queryId).newData;if(G&&G.complete)return{data:G.result,partial:!1};if(m==="no-cache"||m==="network-only")return{data:void 0,partial:!1};var Z=this.dataStore.getCache().diff({query:a,variables:n,previousResult:O?O.data:void 0,returnPartialData:!0,optimistic:t}),oe=Z.result,X=Z.complete;return{data:X||k?oe:void 0,partial:!X}},i.prototype.getQueryWithPreviousResult=function(e){var t;if(typeof e=="string"){var r=this.getQuery(e).observableQuery;Fi(r,17),t=r}else t=e;var n=t.options,a=n.variables,m=n.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:a,document:m}},i.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,r){t.invalidated&&t.listeners.forEach(function(n){n&&n(e.queryStore.get(r),t.newData)})})},i.prototype.getLocalState=function(){return this.localState},i.prototype.getObservableFromLink=function(e,t,r,n){var a=this;n===void 0&&(n=this.queryDeduplication);var m,k=this.transform(e).serverQuery;if(k){var O=this,G=O.inFlightLinkObservables,Z=O.link,oe={query:k,variables:r,operationName:tt(k)||void 0,context:this.prepareContext(gt(gt({},t),{forceFetch:!n}))};if(t=oe.context,n){var X=G.get(k)||new Map;G.set(k,X);var de=JSON.stringify(r);if(m=X.get(de),!m){X.set(de,m=nc(Xo(Z,oe)));var ke=function(){X.delete(de),X.size||G.delete(k),Ne.unsubscribe()},Ne=m.subscribe({next:ke,error:ke,complete:ke})}}else m=nc(Xo(Z,oe))}else m=ho.of({data:{}}),t=this.prepareContext(t);var Ie=this.transform(e).clientQuery;return Ie&&(m=Hm(m,function(De){return a.localState.runResolvers({document:Ie,remoteResult:De,context:t,variables:r})})),m},i.prototype.fetchRequest=function(e){var t=this,r=e.requestId,n=e.queryId,a=e.document,m=e.options,k=e.fetchMoreForQueryId,O=m.variables,G=m.errorPolicy,Z=G===void 0?"none":G,oe=m.fetchPolicy,X,de;return new Promise(function(ke,Ne){var Ie=t.getObservableFromLink(a,m.context,O),De="fetchRequest:"+n;t.fetchQueryRejectFns.set(De,Ne);var Fe=function(){t.fetchQueryRejectFns.delete(De),t.setQuery(n,function(it){var ht=it.subscriptions;ht.delete(Ze)})},Ze=Ie.map(function(it){if(r>=t.getQuery(n).lastRequestId&&(t.markQueryResult(n,it,m,k),t.queryStore.markQueryResult(n,it,k),t.invalidate(n),t.invalidate(k),t.broadcastQueries()),Z==="none"&&ws(it.errors))return Ne(new Pa({graphQLErrors:it.errors}));if(Z==="all"&&(de=it.errors),k||oe==="no-cache")X=it.data;else{var ht=t.dataStore.getCache().diff({variables:O,query:a,optimistic:!1,returnPartialData:!0}),Pt=ht.result,At=ht.complete;(At||m.returnPartialData)&&(X=Pt)}}).subscribe({error:function(it){Fe(),Ne(it)},complete:function(){Fe(),ke({data:X,errors:de,loading:!1,networkStatus:pr.ready,stale:!1})}});t.setQuery(n,function(it){var ht=it.subscriptions;ht.add(Ze)})})},i.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},i.prototype.setQuery=function(e,t){var r=this.getQuery(e),n=gt(gt({},r),t(r));this.queries.set(e,n)},i.prototype.invalidate=function(e,t){t===void 0&&(t=!0),e&&this.setQuery(e,function(){return{invalidated:t}})},i.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.localState.prepareContext(e);return gt(gt({},t),{clientAwareness:this.clientAwareness})},i.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==pr.ready&&t.networkStatus!==pr.error},i.prototype.startPollingQuery=function(e,t,r){var n=this,a=e.pollInterval;if(Fi(a,18),!this.ssrMode){var m=this.pollingInfoByQueryId.get(t);m||this.pollingInfoByQueryId.set(t,m={}),m.interval=a,m.options=gt(gt({},e),{fetchPolicy:"network-only"});var k=function(){var G=n.pollingInfoByQueryId.get(t);G&&(n.checkInFlight(t)?O():n.fetchQuery(t,G.options,Ka.poll).then(O,O))},O=function(){var G=n.pollingInfoByQueryId.get(t);G&&(clearTimeout(G.timeout),G.timeout=setTimeout(k,G.interval))};r&&this.addQueryListener(t,r),O()}return t},i.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},i}(),$m=function(){function i(e){this.cache=e}return i.prototype.getCache=function(){return this.cache},i.prototype.markQueryResult=function(e,t,r,n,a){a===void 0&&(a=!1);var m=!Dt(e);a&&Dt(e)&&e.data&&(m=!0),!n&&m&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:r})},i.prototype.markSubscriptionResult=function(e,t,r){Dt(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:r})},i.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var r;typeof e.optimisticResponse=="function"?r=e.optimisticResponse(e.variables):r=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(n){var a=t.cache;t.cache=n;try{t.markMutationResult({mutationId:e.mutationId,result:{data:r},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{t.cache=a}},e.mutationId)}},i.prototype.markMutationResult=function(e){var t=this;if(!Dt(e.result)){var r=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],n=e.updateQueries;n&&Object.keys(n).forEach(function(a){var m=n[a],k=m.query,O=m.updater,G=t.cache.diff({query:k.document,variables:k.variables,returnPartialData:!0,optimistic:!1}),Z=G.result,oe=G.complete;if(oe){var X=Rt(function(){return O(Z,{mutationResult:e.result,queryName:tt(k.document)||void 0,queryVariables:k.variables})});X&&r.push({result:X,dataId:"ROOT_QUERY",query:k.document,variables:k.variables})}}),this.cache.performTransaction(function(a){r.forEach(function(k){return a.write(k)});var m=e.update;m&&Rt(function(){return m(a,e.result)})})}},i.prototype.markMutationComplete=function(e){var t=e.mutationId,r=e.optimisticResponse;r&&this.cache.removeOptimistic(t)},i.prototype.markUpdateQueryResult=function(e,t,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:t,query:e})},i.prototype.reset=function(){return this.cache.reset()},i}(),jm="2.6.10",zm=!1,Wm=function(){function i(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.cache,n=e.ssrMode,a=n===void 0?!1:n,m=e.ssrForceFetchDelay,k=m===void 0?0:m,O=e.connectToDevTools,G=e.queryDeduplication,Z=G===void 0?!0:G,oe=e.defaultOptions,X=e.assumeImmutableResults,de=X===void 0?!1:X,ke=e.resolvers,Ne=e.typeDefs,Ie=e.fragmentMatcher,De=e.name,Fe=e.version,Ze=e.link;if(!Ze&&ke&&(Ze=In.empty()),!Ze||!r)throw new Sr(4);this.link=Ze,this.cache=r,this.store=new $m(r),this.disableNetworkFetches=a||k>0,this.queryDeduplication=Z,this.defaultOptions=oe||{},this.typeDefs=Ne,k&&setTimeout(function(){return t.disableNetworkFetches=!1},k),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var it=!1;(typeof O=="undefined"?it:O&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=jm,this.localState=new rc({cache:r,client:this,resolvers:ke,fragmentMatcher:Ie}),this.queryManager=new Gm({link:this.link,store:this.store,queryDeduplication:Z,ssrMode:a,clientAwareness:{name:De,version:Fe},localState:this.localState,assumeImmutableResults:de,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return i.prototype.stop=function(){this.queryManager.stop()},i.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=gt(gt({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=gt(gt({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},i.prototype.query=function(e){return this.defaultOptions.query&&(e=gt(gt({},this.defaultOptions.query),e)),Fi(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=gt(gt({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},i.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=gt(gt({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},i.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},i.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.cache.readQuery(e,t)},i.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.cache.readFragment(e,t)},i.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},i.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},i.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},i.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},i.prototype.__requestRaw=function(e){return Xo(this.link,e)},i.prototype.initQueryManager=function(){return this.queryManager},i.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},i.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},i.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(r){return r!==e})}},i.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(r){return r!==e})}},i.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},i.prototype.extract=function(e){return this.cache.extract(e)},i.prototype.restore=function(e){return this.cache.restore(e)},i.prototype.addResolvers=function(e){this.localState.addResolvers(e)},i.prototype.setResolvers=function(e){this.localState.setResolvers(e)},i.prototype.getResolvers=function(){return this.localState.getResolvers()},i.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},i}();const iw=null;class el{constructor(e,t,r){this.remoteName=e,this.url=t,this.gitProtocol=r}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}get authProviderId(){var e;return this.host===((e=Es())==null?void 0:e.authority)?ki.githubEnterprise:ki.github}get isEnterprise(){return ln(this.authProviderId)}equals(e){return!(this.remoteName!==e.remoteName||this.host!==e.host||this.owner.toLocaleLowerCase()!==e.owner.toLocaleLowerCase()||this.repositoryName.toLocaleLowerCase()!==e.repositoryName.toLocaleLowerCase())}}function gu(i,e,t){if(!e)return null;const r=new xr(e);return t&&r.update({type:t.type}),r.host?new el(i,e,r):null}function ha(i){const e=[];for(const t of i.state.remotes){const r=[];t.fetchUrl&&r.push(t.fetchUrl),t.pushUrl&&t.pushUrl!==t.fetchUrl&&r.push(t.pushUrl),r.forEach(n=>{const a=gu(t.name,n);a&&e.push(a)})}return e}class Qa extends el{constructor(e,t,r,n){super(e,t,r);this.githubServerType=n}static remoteAsGitHub(e,t){return new Qa(e.remoteName,e.url,e.gitProtocol,t)}}var tl,Km=new Uint8Array(16);function Qm(){if(!tl&&(tl=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!tl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tl(Km)}const Ym=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Jm(i){return typeof i=="string"&&Ym.test(i)}const Zm=Jm;for(var $r=[],bu=0;bu<256;++bu)$r.push((bu+256).toString(16).substr(1));function Xm(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=($r[i[e+0]]+$r[i[e+1]]+$r[i[e+2]]+$r[i[e+3]]+"-"+$r[i[e+4]]+$r[i[e+5]]+"-"+$r[i[e+6]]+$r[i[e+7]]+"-"+$r[i[e+8]]+$r[i[e+9]]+"-"+$r[i[e+10]]+$r[i[e+11]]+$r[i[e+12]]+$r[i[e+13]]+$r[i[e+14]]+$r[i[e+15]]).toLowerCase();if(!Zm(t))throw TypeError("Stringified UUID is invalid");return t}const ep=Xm;function tp(i,e,t){i=i||{};var r=i.random||(i.rng||Qm)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var n=0;n<16;++n)e[t+n]=r[n];return e}return ep(r)}const ac=tp,sc=["abstract","virtual","access","alias","async","augments","extends","author","borrows","callback","class","constructor","classdesc","constant","const","constructs","copyright","default","defaultvalue","deprecated","description","desc","enum","event","example","exports","external","host","file","fileoverview","overview","fires","emits","function","func","method","generator","global","hideconstructor","ignore","implements","inheritdoc","inner","instance","interface","kind","lends","license","listens","member","var","memberof","mixes","mixin","module","name","namespace","override","package","param","arg","argument","private","property","prop","protected","public","readonly","requires","returns","return","see","since","static","summary","this","throws","exception","todo","tutorial","type","typedef","variation","version","yields","yield","link"],oc=["api","author","copyright","deprecated","generated","internal","link","method","package","param","property","return","see","since","throws","todo","uses","var","version"];var ip=Object.defineProperty,Jr=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?ip(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t),yu;(function(i){function e(t){return t&&typeof t.gitHubThreadId=="string"}i.is=e})(yu||(yu={}));class mo{constructor(e){Jr(this,"commentId"),Jr(this,"parent"),Jr(this,"mode"),Jr(this,"author"),Jr(this,"label"),Jr(this,"reactions"),Jr(this,"contextValue"),this.parent=e}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof mo&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof mo&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Preview,e.body=this.getCancelEditBody()),e))}}const lc=class extends mo{constructor(i,e,t,r,n){super(i);this.input=e,Jr(this,"commentId"),Jr(this,"id"),Jr(this,"originalBody"),this.mode=s.CommentMode.Preview,this.author={name:r.login,iconPath:r.avatarUrl?s.Uri.parse(`${r.avatarUrl}&s=64`):void 0},this.label=t?s.l10n.t("Pending"):void 0,this.contextValue="temporary,canEdit,canDelete",this.originalBody=n?n.rawComment.body:void 0,this.reactions=n?n.reactions:void 0,this.id=lc.idPool++}set body(i){typeof i=="string"&&(this.input=i)}get body(){return new s.MarkdownString(this.input)}commentEditId(){return this.id}getCancelEditBody(){return this.originalBody||this.body}};let mn=lc;Jr(mn,"idPool",0);const uc=/```suggestion(\r\n|\n)((?<suggestion>[\s\S]*?)(\r\n|\n))?```/;class Cr extends mo{constructor(e,t,r,n){super(r);this.githubRepository=n,Jr(this,"commentId"),Jr(this,"timestamp"),Jr(this,"rawComment"),Jr(this,"_rawBody"),Jr(this,"replacedBody"),this.rawComment=t,this.body=t.body,this.commentId=t.id.toString(),this.author={name:t.user.login,iconPath:t.user&&t.user.avatarUrl?s.Uri.parse(t.user.avatarUrl):void 0},t.user&&Ia.avatarCirclesAsImageDataUris(e,[t.user],28,28).then(m=>{this.author.iconPath=m[0],this.refresh()}),Rc(this,t.reactions),this.label=t.isDraft?s.l10n.t("Pending"):void 0;const a=[];t.canEdit&&a.push("canEdit"),t.canDelete&&a.push("canDelete"),this.suggestion!==void 0&&a.push("hasSuggestion"),this.contextValue=a.join(","),this.timestamp=new Date(t.createdAt)}update(e){const t=this.rawComment;this.rawComment=e;let r=!1;Rc(this,e.reactions)&&(r=!0);const n=this.label;this.label=e.isDraft?s.l10n.t("Pending"):void 0,this.label!==n&&(r=!0);const a=[];e.canEdit&&a.push("canEdit"),e.canDelete&&a.push("canDelete"),this.suggestion!==void 0&&a.push("hasSuggestion");const m=this.contextValue;this.contextValue=a.join(","),m!==this.contextValue&&(r=!0),t.body!==e.body&&(this.body=e.body,r=!1),r&&this.refresh()}refresh(){this.parent.comments=this.parent.comments}get suggestion(){var e;const t=this.rawComment.body.match(uc),r=(e=t==null?void 0:t.groups)==null?void 0:e.suggestion;if((t==null?void 0:t.length)===5)return r?`${r}
`:""}commentEditId(){return this.commentId}replaceSuggestion(e){return e.replace(new RegExp(uc,"g"),(t,...r)=>{var n;return`***
Suggested change:
\`\`\`
${(n=r[2])!=null?n:""}
\`\`\`
***`})}async replacePermalink(e){if(!this.githubRepository)return e;const t=new RegExp(`https://github.com/${this.githubRepository.remote.owner}/${this.githubRepository.remote.repositoryName}/blob/([0-9a-f]{40})/(.*)#L([0-9]+)(-L([0-9]+))?`,"g");return je(e,t,async(r,n,a,m,k,O,G)=>{if(G&&G>0&&e.charAt(G-1)==="(")return r;const Z=parseInt(m),oe=O?parseInt(O):Z+1,X=await this.githubRepository.getLines(n,a,Z,oe);if(!X)return r;const de=O?`Lines ${Z} to ${oe} in \`${n.substring(0,7)}\``:`Line ${Z} in \`${n.substring(0,7)}\``;return`
***
[${a}](${r})

${de}
\`\`\`
${X}
\`\`\`
***`})}replaceNewlines(e){return e.replace(/(?<!\s)(\r\n|\n)/g,`  
`)}async replaceBody(e){if(e instanceof s.MarkdownString){const m=await this.replacePermalink(e.value);return this.replaceSuggestion(m)}const t=this.replaceNewlines(e),r=(await s.workspace.openTextDocument(this.parent.uri)).languageId,n=t.replace(/([^\[`]|^)\@([^\s`]+)/g,(m,k,O,G)=>{var Z,oe;if(((oe=(Z=t.substring(0,G).match(/```/g))==null?void 0:Z.length)!=null?oe:0)%2==1)return m;const X=m.substring(m.startsWith("@")?1:2);return(r==="javascript"||r==="typescript")&&sc.includes(X)||r==="php"&&oc.includes(X)?m:`${m.startsWith("@")?"":m.charAt(0)}[@${X}](${p.dirname(this.rawComment.user.url)}/${X})`}),a=await this.replacePermalink(n);return this.replaceSuggestion(a)}set body(e){this._rawBody=e,this.replaceBody(e).then(t=>{t!==this.replacedBody&&(this.replacedBody=t,this.refresh())})}get body(){return this.mode===s.CommentMode.Editing?this._rawBody:new s.MarkdownString(this.replacedBody)}getCancelEditBody(){return new s.MarkdownString(this.rawComment.body)}}var sn;(function(i){i.VIEWED_FILES="github:viewedFiles",i.UNVIEWED_FILES="github:unviewedFiles",i.IN_REVIEW_MODE="github:inReviewMode",i.REPOS_NOT_IN_REVIEW_MODE="github:reposNotInReviewMode",i.REPOS_IN_REVIEW_MODE="github:reposInReviewMode",i.ACTIVE_PR_COUNT="github:activePRCount",i.LOADING_PRS_TREE="github:loadingPrsTree",i.LOADING_ISSUES_TREE="github:loadingIssuesTree",i.CREATE_PR_PERMISSIONS="github:createPrPermissions"})(sn||(sn={}));var Lr;(function(i){function e(n,a,m){return s.commands.executeCommand(n,a,m)}i.executeCommand=e;function t(n){return e(`${n}.focus`)}i.focusView=t;function r(n,a){return e("setContext",n,a)}i.setContext=r})(Lr||(Lr={}));var rp=Object.defineProperty,Ya=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?rp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const dc="PullRequestOverview";function wu(){let i="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<32;t++)i+=e.charAt(Math.floor(Math.random()*e.length));return i}class cc{constructor(){Ya(this,"_webview"),Ya(this,"_disposables",[]),Ya(this,"_waitForReady"),Ya(this,"_onIsReady",new s.EventEmitter),Ya(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const t=this._onIsReady.event(()=>{t.dispose(),e()})})}initialize(){var e;const t=(e=this._webview)==null?void 0:e.onDidReceiveMessage(async r=>{await this._onDidReceiveMessage(r)},null,this._disposables);t&&this._disposables.push(t)}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var t;await this._waitForReady,(t=this._webview)==null||t.postMessage({res:e})}async _replyMessage(e,t){var r;const n={seq:e.req,res:t};(r=this._webview)==null||r.postMessage(n)}async _throwError(e,t){var r;const n={seq:e==null?void 0:e.req,err:t};(r=this._webview)==null||r.postMessage(n)}dispose(){this._disposables.forEach(e=>e.dispose())}}class fc extends cc{constructor(e){super();this._extensionUri=e,Ya(this,"viewType"),Ya(this,"_view")}resolveWebviewView(e,t,r){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},this._disposables.push(this._view.onDidDispose(()=>{this._webview=void 0,this._view=void 0}))}show(){this._view?this._view.show():Lr.focusView(this.viewType)}}async function Ja(i,e,t,r,n=!1){var a;const m=[],k=[];for(const G of t){const Z=Pr(G);e.has(Z)||(k.push(G),e.add(Z))}const O=await Ia.avatarCirclesAsImageDataUris(i,k,16,16,n);for(let G=0;G<k.length;G++){const Z=k[G];let oe;en(Z)&&(oe=Z.isAuthor&&Z.isCommenter?s.l10n.t("Recently edited and reviewed changes to these files"):Z.isAuthor?s.l10n.t("Recently edited these files"):Z.isCommenter?s.l10n.t("Recently reviewed changes to these files"):s.l10n.t("Suggested reviewer")),m.push({label:kr(Z)?`${Z.org}/${Z.slug}`:Z.login,description:Z.name,user:Z,picked:r,detail:oe,iconPath:(a=O[G])!=null?a:np(Z)})}return m}async function hc(i,e,t,r){var n;const[a,m]=await Promise.all([i.getAssignableUsers(),r?i.getPullRequestParticipants(r.githubRepository,r.number):void 0]),k=m==null?void 0:m.viewer,O=(n=m==null?void 0:m.participants)!=null?n:[];let G=a[e];G=G!=null?G:[];const Z=new Set,oe=[];if(t.length&&oe.push(Ja(i.context,Z,t!=null?t:[],!0)),k&&!Z.has(k.login)&&G.findIndex(de=>de.login===k.login)!==-1&&oe.push(Ja(i.context,Z,[k],!1)),O.length&&oe.push(Ja(i.context,Z,O,!1)),oe.length!==0&&oe.unshift(Promise.resolve([{kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Suggestions")}])),G.length){const de=G.length>80;oe.push(Ja(i.context,Z,G,!1,de))}const X=(await Promise.all(oe)).flat();return X.length===0&&X.push({label:s.l10n.t("No assignees available for this repository")}),X}function np(i){return kr(i)?new s.ThemeIcon("organization"):new s.ThemeIcon("account")}async function ap(i,e,t,r,n,a,m){var k;if(!a)return[];const O=await i.getAssignableUsers(),oe=[...(k=(t?await i.getTeamReviewers(m):[])[e])!=null?k:[]];O[e]&&oe.push(...O[e]);const X=new Set([r.login]),de=[];n.length&&de.push(Ja(i.context,X,n.map(Ie=>Ie.reviewer),!0)),de.push(Ja(i.context,X,a,!1));const ke=oe.length>60;de.push(Ja(i.context,X,oe,!1,ke));const Ne=(await Promise.all(de)).flat();return Ne.length===0&&Ne.push({label:s.l10n.t("No reviewers available for this repository")}),Ne}async function mc(i,e,t,r,n,a,m){const k=s.window.createQuickPick(),O=100,G=s.l10n.t("Add reviewers");k.busy=!0,k.canSelectMany=!0,k.matchOnDescription=!0,k.placeholder=G,t&&(k.buttons=[{iconPath:new s.ThemeIcon("organization"),tooltip:s.l10n.t("Show or refresh team reviewers")}]),k.show();const Z=async oe=>{const X=setTimeout(()=>{k.placeholder=s.l10n.t("Getting team reviewers can take several minutes. Results will be cached.")},3e3),de=performance.now();k.items=await ap(i,e,t,n,a,m,oe),h.appendLine(`Setting quick pick reviewers took ${performance.now()-de}ms`,"QuickPicks"),clearTimeout(X),k.selectedItems=k.items.filter(ke=>ke.picked),k.placeholder=G};return await Z(r!==0&&r<=O?es.Try:es.None),k.onDidTriggerButton(()=>{k.busy=!0,k.ignoreFocusOut=!0,Z(es.Force).then(()=>{k.ignoreFocusOut=!1,k.busy=!1})}),k}function sp(i){return!!i.id&&!!i.project}async function op(i,e,t,r,n,a){try{let m=[];async function k(){const[G,Z]=await Promise.all([e.getProjects(),r?i.getOrgProjects():void 0]),oe=[...G!=null?G:[],...Z?Z[t]:[]];return!oe||!oe.length?[{label:s.l10n.t("No projects created for this repository.")}]:oe.map(de=>{const ke={iconPath:new s.ThemeIcon("project"),label:de.title,id:de.id,project:de};return n&&n.find(Ne=>Ne.project.id===de.id)&&m.push(ke),ke})}const O=s.window.createQuickPick();O.busy=!0,O.canSelectMany=!0,O.title=s.l10n.t("Set Project"),O.show(),O.items=await k(),O.selectedItems=m,O.busy=!1,i.getOrgProjects(!0),O.onDidAccept(async()=>{O.hide();const G=O.selectedItems.map(Z=>sp(Z)?Z.project:void 0).filter(Z=>Z!==void 0);G&&await a(G)})}catch(m){s.window.showErrorMessage(`Failed to add project: ${F(m)}`)}}function lp(i){return!!i.id&&!!i.milestone}async function pc(i,e,t,r){try{const n={label:s.l10n.t("Remove Milestone")};let a;async function m(){const O=await e.getMilestones();if(!O||!O.length)return[{label:s.l10n.t("No milestones created for this repository.")}];const G=O.map(Z=>{const oe={iconPath:new s.ThemeIcon("milestone"),label:Z.title,id:Z.id,milestone:Z};return t&&t.id===Z.id&&(a=oe),oe});return t&&(G.unshift({label:"Milestones",kind:s.QuickPickItemKind.Separator}),G.unshift(n)),G}const k=s.window.createQuickPick();k.busy=!0,k.canSelectMany=!1,k.title=s.l10n.t("Set milestone"),k.buttons=[{iconPath:new s.ThemeIcon("add"),tooltip:"Create"}],k.onDidTriggerButton(O=>{k.hide();const G=s.window.createInputBox();G.title=s.l10n.t("Create new milestone"),G.placeholder=s.l10n.t("New milestone title"),k.value!==""&&(G.value=k.value),G.show(),G.onDidAccept(async()=>{if(G.hide(),G.value!==""){if(G.value.length>255){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The title can contain a maximum of 255 characters"));return}for(const Z of k.items)if(Z.label===G.value){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The milestone '{0}' already exists",G.value));return}try{const Z=await i.createMilestone(e,G.value);Z!==void 0&&await r(Z)}catch(Z){Z.errors&&Array.isArray(Z.errors)&&Z.errors.find(oe=>oe.code==="already_exists")!==void 0?s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The milestone already exists and might be closed")):s.window.showErrorMessage(`Failed to create milestone: ${F(Z)}`)}}})}),k.show(),k.items=await m(),k.activeItems=a?[a]:t?[k.items[1]]:[k.items[0]],k.busy=!1,k.onDidAccept(async()=>{k.hide();const O=k.selectedItems[0];O&&lp(O)?await r(O.milestone):O&&O===n&&await r(void 0)})}catch(n){s.window.showErrorMessage(`Failed to add milestone: ${F(n)}`)}}async function vc(i,e,t){const r=await i.getLabels(void 0,{owner:t.owner,repo:t.repositoryName}),n=r.map(a=>({label:a.name,description:a.description,picked:e.some(m=>m.name===a.name),iconPath:Ia.asImageDataURI(Xt.Buffer.from(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect x="2" y="2" width="12" height="12" rx="6" fill="#${a.color}"/>
				</svg>`,"utf8"))}));return{newLabels:r,labelPicks:n}}var up=Yt(34155),dp=Object.defineProperty,ma=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?dp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const Qn=class extends cc{constructor(i,e,t,r,n=Qn._viewType){super();this._extensionUri=i,ma(this,"_panel"),ma(this,"_disposables",[]),ma(this,"_descriptionNode"),ma(this,"_item"),ma(this,"_folderRepositoryManager"),ma(this,"_scrollPosition",{x:0,y:0}),this._folderRepositoryManager=r,this._panel=s.window.createWebviewPanel(n,t,e,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[s.Uri.joinPath(i,"dist")]}),this._webview=this._panel.webview,super.initialize(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._folderRepositoryManager.onDidChangeActiveIssue(a=>{if(this._folderRepositoryManager&&this._item){const m=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:m})}},null,this._disposables)}static async createOrShow(i,e,t,r=!1){const n=r?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(Qn.currentPanel)Qn.currentPanel._panel.reveal(n,!0);else{const a=`Issue #${t.number.toString()}`;Qn.currentPanel=new Qn(i,n||s.ViewColumn.Active,a,e)}await Qn.currentPanel.update(e,t)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}setPanelTitle(i){try{this._panel.title=i}catch(e){}}async refreshPanel(){this._panel&&this._panel.visible&&this.update(this._folderRepositoryManager,this._item)}async updateIssue(i){return Promise.all([this._folderRepositoryManager.resolveIssue(i.remote.owner,i.remote.repositoryName,i.number),i.getIssueTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(i)]).then(e=>{const[t,r,n]=e;if(!t)throw new Error(`Fail to resolve issue #${i.number} in ${i.remote.owner}/${i.remote.repositoryName}`);this._item=t,this.setPanelTitle(`Pull Request #${i.number.toString()}`),h.debug("pr.initialize",Qn.ID),this._postMessage({command:"pr.initialize",pullrequest:{number:this._item.number,title:this._item.title,url:this._item.html_url,createdAt:this._item.createdAt,body:this._item.body,bodyHTML:this._item.bodyHTML,labels:this._item.item.labels,author:{login:this._item.author.login,name:this._item.author.name,avatarUrl:this._item.userAvatar,url:this._item.author.url},state:this._item.state,events:r,repositoryDefaultBranch:n,canEdit:!0,status:{statuses:[]},isIssue:!0,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark}})}).catch(e=>{s.window.showErrorMessage(F(e))})}async update(i,e){return this._folderRepositoryManager=i,this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(e.number.toString()),this.updateIssue(e)}async _onDidReceiveMessage(i){if(await super._onDidReceiveMessage(i)===this.MESSAGE_UNHANDLED)switch(i.command){case"alert":s.window.showErrorMessage(i.args);return;case"pr.close":return this.close(i);case"pr.comment":return this.createComment(i);case"scroll":this._scrollPosition=i.args;return;case"pr.edit-comment":return this.editComment(i);case"pr.delete-comment":return this.deleteComment(i);case"pr.edit-description":return this.editDescription(i);case"pr.edit-title":return this.editTitle(i);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(i);case"pr.remove-label":return this.removeLabel(i);case"pr.debug":return this.webviewDebug(i);default:return this.MESSAGE_UNHANDLED}}async addLabels(i){const e=s.window.createQuickPick();try{let t=[];e.busy=!0,e.canSelectMany=!0,e.show(),e.items=await vc(this._folderRepositoryManager,this._item.item.labels,this._item.remote).then(m=>(t=m.newLabels,m.labelPicks)),e.selectedItems=e.items.filter(m=>m.picked),e.busy=!1;const r=A(e.onDidAccept).then(()=>e.selectedItems),n=A(e.onDidHide),a=await Promise.race([r,n]);if(e.busy=!0,a){await this._item.setLabels(a.map(k=>k.label));const m=a.map(k=>t.find(O=>O.name===k.label));this._item.item.labels=m,await this._replyMessage(i,{added:m})}}catch(t){s.window.showErrorMessage(F(t))}finally{e.hide(),e.dispose()}}async removeLabel(i){try{await this._item.removeLabel(i.args);const e=this._item.item.labels.findIndex(t=>t.name===i.args);this._item.item.labels.splice(e,1),this._replyMessage(i,{})}catch(e){s.window.showErrorMessage(F(e))}}webviewDebug(i){h.debug(i.args,Qn.ID)}editDescription(i){this._item.edit({body:i.args.text}).then(e=>{this._replyMessage(i,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(i,e),s.window.showErrorMessage(`Editing description failed: ${F(e)}`)})}editTitle(i){return this._item.edit({title:i.args.text}).then(e=>this._replyMessage(i,{titleHTML:e.titleHTML})).catch(e=>{this._throwError(i,e),s.window.showErrorMessage(`Editing title failed: ${F(e)}`)})}editCommentPromise(i,e){return this._item.editIssueComment(i,e)}editComment(i){this.editCommentPromise(i.args.comment,i.args.text).then(e=>{this._replyMessage(i,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(i,e),s.window.showErrorMessage(F(e))})}deleteCommentPromise(i){return this._item.deleteIssueComment(i.id.toString())}deleteComment(i){s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},"Delete").then(e=>{e==="Delete"&&this.deleteCommentPromise(i.args).then(t=>{this._replyMessage(i,{})}).catch(t=>{this._throwError(i,t),s.window.showErrorMessage(F(t))})})}close(i){s.commands.executeCommand("pr.close",this._item,i.args).then(e=>{e?this._replyMessage(i,{value:e}):this._throwError(i,"Close cancelled")})}createComment(i){this._item.createIssueComment(i.args).then(e=>{this._replyMessage(i,{value:e})})}set _currentPanel(i){Qn.currentPanel=i}dispose(){for(this._currentPanel=void 0,this._panel.dispose(),this._webview=void 0;this._disposables.length;){const i=this._disposables.pop();i&&i.dispose()}}getHtmlForWebview(i){const e=wu(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Pull Request #${i}</title>
	</head>
	<body class="${up.platform}">
		<div id=app></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"></script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}};let il=Qn;ma(il,"ID","PullRequestOverviewPanel"),ma(il,"currentPanel"),ma(il,"_viewType","IssueOverview");var rl;(function(i){async function e(t,r){const n=await t.getBranchNameForPullRequest(r),a=[],m=await t.getPullRequestRepositoryDefaultBranch(r);if(r.isResolved()){const G=r.head.ref;!(m===r.head.ref)&&!r.isRemoteHeadDeleted&&a.push({label:s.l10n.t("Delete remote branch {0}",`${r.remote.remoteName}/${G}`),description:`${r.remote.normalizedHost}/${r.remote.owner}/${r.remote.repositoryName}`,type:"upstream",picked:!0})}if(n){const G=s.workspace.getConfiguration(Be).get(`${rt}.${Wt}`);a.push({label:s.l10n.t("Delete local branch {0}",n.branch),type:"local",picked:!!G});const Z=s.workspace.getConfiguration(Be).get(`${rt}.${yt}`);n.remote&&n.createdForPullRequest&&!n.remoteInUse&&a.push({label:s.l10n.t("Delete remote {0}, which is no longer used by any other branch",n.remote),type:"remote",picked:!!Z})}if(s.env.remoteName==="codespaces"&&a.push({label:s.l10n.t("Suspend Codespace"),type:"suspend"}),!a.length)return s.window.showWarningMessage(s.l10n.t("There is no longer an upstream or local branch for Pull Request #{0}",r.number)),{isReply:!0,message:{cancelled:!0}};const k=await s.window.showQuickPick(a,{canPickMany:!0,ignoreFocusOut:!0}),O=[];if(k){const G=r.equals(t.activePullRequest),Z=k.map(async oe=>{switch(oe.type){case"upstream":await t.deleteBranch(r),O.push(oe.type),await t.repository.fetch({prune:!0}),t.repository.rootUri.scheme===li.VscodeVfs&&await t.repository.checkout(m);return;case"local":if(G){if(t.repository.state.workingTreeChanges.length){const X=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t("Your local changes will be lost, do you want to continue?"),{modal:!0},X)===X)await s.commands.executeCommand("git.cleanAll");else return}await t.repository.checkout(m)}return await t.repository.deleteBranch(n.branch,!0),O.push(oe.type);case"remote":return O.push(oe.type),t.repository.removeRemote(n.remote);case"suspend":return O.push(oe.type),s.commands.executeCommand("github.codespaces.disconnectSuspend")}});return await Promise.all(Z),s.commands.executeCommand("pr.refreshList"),{isReply:!1,message:{command:"pr.deleteBranch",branchTypes:O}}}else return{isReply:!0,message:{cancelled:!0}}}i.deleteBranch=e})(rl||(rl={}));var xa;(function(i){i.Comment="comment",i.Approve="approve",i.RequestChanges="requestChanges"})(xa||(xa={}));var cp=Object.defineProperty,Za=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?cp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const Yn=class extends il{constructor(i,e,t,r){super(i,e,t,r,dc);Za(this,"_repositoryDefaultBranch"),Za(this,"_existingReviewers",[]),Za(this,"_teamsCount",0),Za(this,"_prListeners",[]),Za(this,"_isUpdating",!1),this.registerPrListeners(),Tf(n=>{n&&this._item.update(n),this._postMessage({command:"update-state",state:this._item.state})},null,this._disposables),this._disposables.push(r.onDidMergePullRequest(n=>{this._postMessage({command:"update-state",state:wi.Merged})})),this._disposables.push(r.credentialStore.onDidUpgradeSession(()=>{this.updatePullRequest(this._item)})),this._disposables.push(s.commands.registerCommand("review.approveDescription",n=>this.approvePullRequestCommand(n))),this._disposables.push(s.commands.registerCommand("review.commentDescription",n=>this.submitReviewCommand(n))),this._disposables.push(s.commands.registerCommand("review.requestChangesDescription",n=>this.requestChangesCommand(n))),this._disposables.push(s.commands.registerCommand("review.approveOnDotComDescription",()=>ba(this._item,this._item._telemetry))),this._disposables.push(s.commands.registerCommand("review.requestChangesOnDotComDescription",()=>ba(this._item,this._item._telemetry)))}static async createOrShow(i,e,t,r=!1,n=!0){const a=r?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(Yn.currentPanel)Yn.currentPanel._panel.reveal(a,n);else{const m=`Pull Request #${t.number.toString()}`;Yn.currentPanel=new Yn(i,a||s.ViewColumn.Active,m,e)}await Yn.currentPanel.update(e,t)}set _currentPanel(i){Yn.currentPanel=i}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}registerPrListeners(){K(this._prListeners),this._prListeners=[],this._prListeners.push(this._folderRepositoryManager.onDidChangeActivePullRequest(i=>{if(this._folderRepositoryManager&&this._item){const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:e})}})),this._item&&this._prListeners.push(this._item.onDidChangeComments(()=>{this._isUpdating||this.refreshPanel()}))}getCurrentUserReviewState(i,e){const t=i.find(r=>Pr(r.reviewer)===e.login);return t==null?void 0:t.state}async updatePullRequest(i){return Promise.all([this._folderRepositoryManager.resolvePullRequest(i.remote.owner,i.remote.repositoryName,i.number),i.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(i),i.getStatusChecks(),i.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(i),this._folderRepositoryManager.getBranchNameForPullRequest(i),this._folderRepositoryManager.getCurrentUser(i.githubRepository),i.canEdit(),this._folderRepositoryManager.getOrgTeamsCount(i.githubRepository)]).then(e=>{var t,r;const[n,a,m,k,O,G,Z,oe,X,de]=e;if(!n)throw new Error(`Fail to resolve Pull Request #${i.number} in ${i.remote.owner}/${i.remote.repositoryName}`);this._item=n,this.registerPrListeners(),this._repositoryDefaultBranch=m,this._teamsCount=de,this.setPanelTitle(`Pull Request #${i.number.toString()}`);const ke=i.equals(this._folderRepositoryManager.activePullRequest),Ne=G.hasWritePermission,Ie=G.mergeMethodsAvailability,De=Ne||X,Fe=nl(Ie);this._existingReviewers=Lc(O,a,n.author);const it=n.base&&!!n.head&&!n.base.repositoryCloneUrl.equals(n.head.repositoryCloneUrl)&&hl(),ht=this.getCurrentUserReviewState(this._existingReviewers,oe);h.debug("pr.initialize",Yn.ID);const Pt={number:n.number,title:n.title,titleHTML:n.titleHTML,url:n.html_url,createdAt:n.createdAt,body:n.body,bodyHTML:n.bodyHTML,labels:n.item.labels,author:{id:n.author.id,login:n.author.login,name:n.author.name,avatarUrl:n.userAvatar,url:n.author.url},state:n.state,events:a,isCurrentlyCheckedOut:ke,isRemoteBaseDeleted:n.isRemoteBaseDeleted,base:n.base.label,isRemoteHeadDeleted:n.isRemoteHeadDeleted,isLocalHeadDeleted:!Z,head:(r=(t=n.head)==null?void 0:t.label)!=null?r:"",repositoryDefaultBranch:m,canEdit:De,hasWritePermission:Ne,status:k[0],reviewRequirement:k[1],mergeable:n.item.mergeable,reviewers:this._existingReviewers,isDraft:n.isDraft,mergeMethodsAvailability:Ie,defaultMergeMethod:Fe,autoMerge:n.autoMerge,allowAutoMerge:n.allowAutoMerge,autoMergeMethod:n.autoMergeMethod,mergeCommitMeta:n.mergeCommitMeta,squashCommitMeta:n.squashCommitMeta,isIssue:!1,projectItems:n.item.projectItems,milestone:n.milestone,assignees:n.assignees,continueOnGitHub:it,isAuthor:oe.login===n.author.login,currentUserReviewState:ht,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,isEnterprise:n.githubRepository.remote.isEnterprise};this._postMessage({command:"pr.initialize",pullrequest:Pt}),n.isResolved()&&this._folderRepositoryManager.checkBranchUpToDate(n,!0)}).catch(e=>{s.window.showErrorMessage(F(e))})}async update(i,e){return this._folderRepositoryManager!==i&&(this._folderRepositoryManager=i,this.registerPrListeners()),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),(!this._item||this._item.number!==e.number||!this._panel.webview.html)&&(this._panel.webview.html=this.getHtmlForWebview(e.number.toString())),this.updatePullRequest(e)}async _onDidReceiveMessage(i){if(await super._onDidReceiveMessage(i)===this.MESSAGE_UNHANDLED)switch(i.command){case"pr.checkout":return this.checkoutPullRequest(i);case"pr.merge":return this.mergePullRequest(i);case"pr.deleteBranch":return this.deleteBranch(i);case"pr.readyForReview":return this.setReadyForReview(i);case"pr.approve":return this.approvePullRequestMessage(i);case"pr.request-changes":return this.requestChangesMessage(i);case"pr.submit":return this.submitReviewMessage(i);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(i);case"pr.apply-patch":return this.applyPatch(i);case"pr.open-diff":return this.openDiff(i);case"pr.resolve-comment-thread":return this.resolveCommentThread(i);case"pr.checkMergeability":return this._replyMessage(i,await this._item.getMergeability());case"pr.change-reviewers":return this.changeReviewers(i);case"pr.remove-milestone":return this.removeMilestone(i);case"pr.add-milestone":return this.addMilestone(i);case"pr.change-projects":return this.changeProjects(i);case"pr.remove-project":return this.removeProject(i);case"pr.change-assignees":return this.changeAssignees(i);case"pr.add-assignee-yourself":return this.addAssigneeYourself(i);case"pr.copy-prlink":return this.copyPrLink();case"pr.copy-vscodedevlink":return this.copyVscodeDevLink();case"pr.openOnGitHub":return ba(this._item,this._item._telemetry);case"pr.update-automerge":return this.updateAutoMerge(i);case"pr.gotoChangesSinceReview":this.gotoChangesSinceReview();break;case"pr.re-request-review":this.reRequestReview(i);break}}gotoChangesSinceReview(){this._item.showChangesSinceReview=!0}async changeReviewers(i){let e;try{e=await mc(this._folderRepositoryManager,this._item.remote.remoteName,this._item.base.isInOrganization,this._teamsCount,this._item.author,this._existingReviewers,this._item.suggestedReviewers),e.busy=!1;const t=A(e.onDidAccept).then(()=>e.selectedItems.filter(a=>a.user)),r=A(e.onDidHide),n=await Promise.race([t,r]);if(e.busy=!0,n){const a=[],m=[];n.forEach(Z=>{(kr(Z.user)?m:a).push(Z.user.id)});const k=[],O=[];this._existingReviewers.forEach(Z=>{let oe=kr(Z.reviewer)?m:a,X=kr(Z.reviewer)?O:k;oe.find(de=>de===Z.reviewer.id)||X.push(Z.reviewer.id)}),await this._item.requestReview(a,m),await this._item.deleteReviewRequest(k,O);const G=n.map(Z=>({reviewer:Z.user,state:"REQUESTED"}));this._existingReviewers=G,await this._replyMessage(i,{reviewers:G})}}catch(t){h.error(F(t)),s.window.showErrorMessage(F(t))}finally{e==null||e.hide(),e==null||e.dispose()}}async addMilestone(i){return pc(this._folderRepositoryManager,this._item.githubRepository,this._item.milestone,e=>this.updateMilestone(e,i))}async updateMilestone(i,e){if(!i)return this.removeMilestone(e);await this._item.updateMilestone(i.id),this._replyMessage(e,{added:i})}async removeMilestone(i){try{await this._item.updateMilestone("null"),this._replyMessage(i,{})}catch(e){s.window.showErrorMessage(F(e))}}async changeProjects(i){return op(this._folderRepositoryManager,this._item.githubRepository,this._item.remote.remoteName,this._item.base.isInOrganization,this._item.item.projectItems,e=>this.updateProjects(e,i))}async updateProjects(i,e){if(i){const r={projectItems:await this._item.updateProjects(i)};return this._replyMessage(e,r)}}async removeProject(i){return await this._item.removeProjects([i.args]),this._replyMessage(i,{})}async changeAssignees(i){var e,t,r;const n=s.window.createQuickPick();try{n.busy=!0,n.canSelectMany=!0,n.matchOnDescription=!0,n.show(),n.items=await hc(this._folderRepositoryManager,this._item.remote.remoteName,(e=this._item.assignees)!=null?e:[],this._item),n.selectedItems=n.items.filter(O=>O.picked),n.busy=!1;const a=A(n.onDidAccept).then(()=>n.selectedItems.filter(O=>O.user)),m=A(n.onDidHide),k=await Promise.race([a,m]);if(n.busy=!0,k){const O=k.map(Z=>Z.user),G=(r=(t=this._item.assignees)==null?void 0:t.filter(Z=>!O.find(oe=>oe.login===Z.login)))!=null?r:[];this._item.assignees=O,await this._item.addAssignees(O.map(Z=>Z.login)),await this._item.deleteAssignees(G.map(Z=>Z.login)),await this._replyMessage(i,{assignees:O})}}catch(a){s.window.showErrorMessage(F(a))}finally{n.hide(),n.dispose()}}async addAssigneeYourself(i){var e,t;try{const r=await this._folderRepositoryManager.getCurrentUser();((e=this._item.assignees)==null?void 0:e.find(a=>a.login===r.login))||(this._item.assignees=(t=this._item.assignees)==null?void 0:t.concat(r),await this._item.addAssignees([r.login])),this._replyMessage(i,{assignees:this._item.assignees})}catch(r){s.window.showErrorMessage(F(r))}}async applyPatch(i){try{const e=i.args.comment,r=/```diff\n([\s\S]*)\n```/g.exec(e.body),n=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,".git",`${e.id}.diff`),a=new TextEncoder;await s.workspace.fs.writeFile(n,a.encode(r[1])),await this._folderRepositoryManager.repository.apply(n.fsPath),await s.workspace.fs.delete(n),s.window.showInformationMessage("Patch applied!")}catch(e){h.error(`Applying patch failed: ${e}`,Yn.ID),s.window.showErrorMessage(`Applying patch failed: ${F(e)}`)}}async openDiff(i){try{const e=i.args.comment;return wn.openDiffFromComment(this._folderRepositoryManager,this._item,e)}catch(e){h.error(`Open diff view failed: ${F(e)}`,Yn.ID)}}async resolveCommentThread(i){try{i.args.toResolve?await this._item.resolveReviewThread(i.args.threadId):await this._item.unresolveReviewThread(i.args.threadId);const e=await this._item.getTimelineEvents();this._replyMessage(i,e)}catch(e){s.window.showErrorMessage(e),this._replyMessage(i,void 0)}}checkoutPullRequest(i){s.commands.executeCommand("pr.pick",this._item).then(()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(i,{isCurrentlyCheckedOut:e})},()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(i,{isCurrentlyCheckedOut:e})})}mergePullRequest(i){const{title:e,description:t,method:r}=i.args;this._folderRepositoryManager.mergePullRequest(this._item,e,t,r).then(n=>{s.commands.executeCommand("pr.refreshList"),n.merged||s.window.showErrorMessage(`Merging PR failed: ${n.message}`),this._replyMessage(i,{state:n.merged?wi.Merged:wi.Open})}).catch(n=>{s.window.showErrorMessage(`Unable to merge pull request. ${F(n)}`),this._throwError(i,{})})}async deleteBranch(i){const e=await rl.deleteBranch(this._folderRepositoryManager,this._item);e.isReply?this._replyMessage(i,e.message):(this.refreshPanel(),this._postMessage(e.message))}setReadyForReview(i){this._item.setReadyForReview().then(e=>{s.commands.executeCommand("pr.refreshList"),this._replyMessage(i,{isDraft:e})}).catch(e=>{s.window.showErrorMessage(`Unable to set PR ready for review. ${F(e)}`),this._throwError(i,{})})}async checkoutDefaultBranch(i){var e;try{const t=(e=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:e.name;await this._folderRepositoryManager.checkoutDefaultBranch(i.args),t&&await this._folderRepositoryManager.cleanupAfterPullRequest(t,this._item)}finally{this._replyMessage(i,{})}}updateReviewers(i){if(i){const e=this._existingReviewers.find(t=>i.user.login===t.reviewer.login);e?e.state=i.state:this._existingReviewers.push({reviewer:i.user,state:i.state})}}async doReviewCommand(i,e,t){const r={command:"pr.submitting-review",lastReviewType:e};this._postMessage(r);try{const n=await t(i.body);this.updateReviewers(n);const a={command:"pr.append-review",review:n,reviewers:this._existingReviewers};await this._postMessage(a)}catch(n){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",F(n))),this._throwError(void 0,`${F(n)}`)}finally{this._postMessage({command:"pr.append-review"})}}async doReviewMessage(i,e){try{const t=await e(i.args);this.updateReviewers(t),this._replyMessage(i,{review:t,reviewers:this._existingReviewers})}catch(t){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",F(t))),this._throwError(i,`${F(t)}`)}}approvePullRequest(i){return this._item.approve(this._folderRepositoryManager.repository,i)}approvePullRequestMessage(i){return this.doReviewMessage(i,e=>this.approvePullRequest(e))}approvePullRequestCommand(i){return this.doReviewCommand(i,xa.Approve,e=>this.approvePullRequest(e))}requestChanges(i){return this._item.requestChanges(i)}requestChangesCommand(i){return this.doReviewCommand(i,xa.RequestChanges,e=>this.requestChanges(e))}requestChangesMessage(i){return this.doReviewMessage(i,e=>this.requestChanges(e))}submitReview(i){return this._item.submitReview(fr.Comment,i)}submitReviewCommand(i){return this.doReviewCommand(i,xa.Comment,e=>this.submitReview(e))}submitReviewMessage(i){return this.doReviewMessage(i,e=>this.submitReview(e))}reRequestReview(i){let e;const t=[],r=[];for(const n of this._existingReviewers){let a,m;n&&kr(n.reviewer)?(a=n.reviewer.id,m=r):n&&!kr(n.reviewer)&&(a=n.reviewer.id,m=t),m&&a&&(n.state==="REQUESTED"||a===i.args)&&(m.push(a),a===i.args&&(e=n))}this._item.requestReview(t,r).then(()=>{e&&(e.state="REQUESTED"),this._replyMessage(i,{reviewers:this._existingReviewers})})}async copyPrLink(){return s.env.clipboard.writeText(this._item.html_url)}async copyVscodeDevLink(){return s.env.clipboard.writeText(Nu(this._item))}async updateAutoMerge(i){let e;!i.args.autoMerge&&!this._item.autoMerge?e={autoMerge:!1}:i.args.autoMerge===!1&&this._item.autoMerge?(await this._item.disableAutoMerge(),e={autoMerge:this._item.autoMerge}):(this._item.autoMerge&&i.args.autoMergeMethod!==this._item.autoMergeMethod&&await this._item.disableAutoMerge(),await this._item.enableAutoMerge(i.args.autoMergeMethod),e={autoMerge:this._item.autoMerge,autoMergeMethod:this._item.autoMergeMethod}),this._replyMessage(i,e)}editCommentPromise(i,e){return this._item.editReviewComment(i,e)}deleteCommentPromise(i){return this._item.deleteReviewComment(i.id.toString())}dispose(){super.dispose(),K(this._prListeners)}};let Fn=Yn;Za(Fn,"ID","PullRequestOverviewPanel"),Za(Fn,"currentPanel");function nl(i){const e=s.workspace.getConfiguration(Be).get(Xe);return e&&i.hasOwnProperty(e)&&i[e]?e:["merge","squash","rebase"].find(r=>i[r])}var fp=Object.defineProperty,Xa=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?fp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class hp{constructor(e,t,r){if(this.pullRequestModel=e,this._folderReposManager=t,this._commentController=r,Xa(this,"_pendingCommentThreadAdds",[]),Xa(this,"_commentHandlerId"),Xa(this,"_commentThreadCache",{}),Xa(this,"_openPREditors",[]),Xa(this,"_closedEditorCachedThreads",new Set),Xa(this,"_disposables",[]),Xa(this,"_context"),this._context=t.context,this._commentHandlerId=ac(),$e(this._commentHandlerId,this),this.pullRequestModel.reviewThreadsCacheReady)this.initializeThreadsInOpenEditors().then(()=>{this.registerListeners()});else{const n=this.pullRequestModel.onDidChangeReviewThreads(async()=>{n.dispose(),await this.initializeThreadsInOpenEditors(),this.registerListeners()})}}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangeReviewThreads(e=>this.onDidChangeReviewThreads(e))),this._disposables.push(s.window.onDidChangeVisibleTextEditors(async e=>this.onDidChangeOpenEditors(e))),this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(e=>{for(const t in this._commentThreadCache)this._commentThreadCache[t].forEach(r=>{Ec(r,e)})})),this._disposables.push(s.window.onDidChangeActiveTextEditor(e=>{this.refreshContextKey(e)}))}refreshContextKey(e){if(!e)return;const t=e.document.uri;if(t.scheme!==li.Pr)return;const r=lr(t);!r||r.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}getPREditors(e){return e.filter(t=>{if(t.document.uri.scheme!==li.Pr)return!1;const r=lr(t.document.uri);return!(!r||r.prNumber!==this.pullRequestModel.number)})}getCommentThreadCacheKey(e,t){return`${e}-${t?"original":"modified"}`}tryUsedCachedEditor(e){const t=[];return e.forEach(r=>{const{fileName:n,isBase:a}=lr(r.document.uri),m=this.getCommentThreadCacheKey(n,a);this._closedEditorCachedThreads.has(m)?(this._closedEditorCachedThreads.delete(m),this._closedEditorCachedThreads.add(m)):t.push(r)}),t}async addThreadsForEditors(e){const t=this.tryUsedCachedEditor(e),r=this.pullRequestModel.reviewThreadsCache,n=o(r,m=>m.path),a=await this._folderReposManager.getCurrentUser();t.forEach(m=>{const{fileName:k,isBase:O}=lr(m.document.uri);n[k]&&(this._commentThreadCache[this.getCommentThreadCacheKey(k,O)]=n[k].filter(G=>(G.diffSide===$i.LEFT&&O||G.diffSide===$i.RIGHT&&!O)&&G.endLine!==null).map(G=>{const Z=G.endLine-1,oe=G.subjectType===yr.FILE?void 0:bo(G.startLine-1,Z,m.document.lineAt(Z).range.end.character);return yo(this._context,m.document.uri,oe,G,this._commentController,a.login,this.pullRequestModel.githubRepository)}))})}async initializeThreadsInOpenEditors(){const e=this.getPREditors(s.window.visibleTextEditors);return this._openPREditors=e,this.addThreadsForEditors(e)}cleanCachedEditors(){if(this._closedEditorCachedThreads.size>8){const e=Array.from(this._closedEditorCachedThreads.keys());for(let t=0;t<this._closedEditorCachedThreads.size-4;t++){const r=e[t];this.cleanCachedEditor(r),this._closedEditorCachedThreads.delete(r)}}}cleanCachedEditor(e){(this._commentThreadCache[e]||[]).forEach(r=>r.dispose()),delete this._commentThreadCache[e]}addCachedEditors(e){e.forEach(t=>{const{fileName:r,isBase:n}=lr(t.document.uri),a=this.getCommentThreadCacheKey(r,n);this._closedEditorCachedThreads.has(a)&&this._closedEditorCachedThreads.delete(a),this._closedEditorCachedThreads.add(a)})}async onDidChangeOpenEditors(e){const t=this.getPREditors(e),r=this._openPREditors.filter(a=>!t.includes(a));this.addCachedEditors(r),this.cleanCachedEditors();const n=t.filter(a=>!this._openPREditors.includes(a));this._openPREditors=t,n.length&&await this.addThreadsForEditors(n)}onDidChangeReviewThreads(e){e.added.forEach(async t=>{const r=t.path,n=this._pendingCommentThreadAdds.findIndex(k=>{const O=this.gitRelativeRootPath(k.uri.path)===t.path,G=k.range===void 0&&t.subjectType===yr.FILE||k.range&&k.range.end.line+1===t.endLine;return O&&G});let a;if(n>-1)a=this._pendingCommentThreadAdds[n],a.gitHubThreadId=t.id,a.comments=t.comments.map(k=>new Cr(this._context,k,a,this.pullRequestModel.githubRepository)),Sc(this._context,a,t,this.pullRequestModel.githubRepository),this._pendingCommentThreadAdds.splice(n,1);else{const O=this.getPREditors(s.window.visibleTextEditors).find(G=>{const Z=lr(G.document.uri),oe=t.diffSide===$i.RIGHT&&!(Z==null?void 0:Z.isBase)||t.diffSide===$i.LEFT&&(Z==null?void 0:Z.isBase);return(Z==null?void 0:Z.fileName)===r&&oe});if(O){const G=t.endLine-1,Z=t.subjectType===yr.FILE?void 0:bo(t.startLine-1,G,O.document.lineAt(G).range.end.character);a=yo(this._context,O.document.uri,Z,t,this._commentController,(await this._folderReposManager.getCurrentUser()).login,this.pullRequestModel.githubRepository)}}if(!a)return;const m=this.getCommentThreadCacheKey(t.path,t.diffSide===$i.LEFT);this._commentThreadCache[m]?this._commentThreadCache[m].push(a):this._commentThreadCache[m]=[a]}),e.changed.forEach(t=>{const r=this.getCommentThreadCacheKey(t.path,t.diffSide===$i.LEFT),n=this._commentThreadCache[r]?this._commentThreadCache[r].findIndex(a=>a.gitHubThreadId===t.id):-1;if(n>-1){const a=this._commentThreadCache[r][n];ol(this._context,a,t,this.pullRequestModel.githubRepository)}}),e.removed.forEach(async t=>{const r=this.getCommentThreadCacheKey(t.path,t.diffSide===$i.LEFT),n=this._commentThreadCache[r].findIndex(a=>a.gitHubThreadId===t.id);if(n>-1){const a=this._commentThreadCache[r][n];this._commentThreadCache[r].splice(n,1),a.dispose()}})}hasCommentThread(e){if(e.uri.scheme!==li.Pr)return!1;const t=lr(e.uri);return!(!t||t.prNumber!==this.pullRequestModel.number)}getCommentSide(e){const t=lr(e.uri);return(t==null?void 0:t.isBase)?$i.LEFT:$i.RIGHT}async createOrReplyComment(e,t,r,n){var a;const m=e.comments.length,k=r?!1:n!==void 0?n:this.pullRequestModel.hasPendingReview,O=await this.optimisticallyAddComment(e,t,k);try{if(m)await this.reply(e,t,r);else{const G=this.gitRelativeRootPath(e.uri.path),Z=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(t,G,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,Z,r)}r&&await this.pullRequestModel.submitReview()}catch(G){((a=G.graphQLErrors)==null?void 0:a.length)&&G.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(Z=>{Z==="Refresh"&&this.pullRequestModel.invalidate()}):s.window.showErrorMessage(`Creating comment failed: ${G}`),e.comments=e.comments.map(Z=>(Z instanceof mn&&Z.id===O&&(Z.mode=s.CommentMode.Editing),Z))}}reply(e,t,r){const n=e.comments[0];if(n instanceof Cr)return this.pullRequestModel.createCommentReply(t,n.rawComment.graphNodeId,r);throw new Error("Cannot respond to temporary comment")}async optimisticallyEditComment(e,t){const r=await this._folderReposManager.getCurrentUser(this.pullRequestModel.githubRepository),n=new mn(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,r,t);return e.comments=e.comments.map(a=>a instanceof Cr&&a.commentId===t.commentId?n:a),n.id}async editComment(e,t){if(t instanceof Cr){const r=await this.optimisticallyEditComment(e,t);try{await this.pullRequestModel.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(n){s.window.showErrorMessage(`Editing comment failed ${n}`),e.comments=e.comments.map(a=>a instanceof mn&&a.id===r?new Cr(this._context,t.rawComment,e):a)}}else this.createOrReplyComment(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!1)}async deleteComment(e,t){t instanceof Cr?await this.pullRequestModel.deleteReviewComment(t.commentId):e.comments=e.comments.filter(r=>!(r instanceof mn&&r.id===t.id)),await this.pullRequestModel.validateDraftMode()}gitRelativeRootPath(e){return p.relative(this._folderReposManager.repository.rootUri.path,e).replace(/\\/g,"/")}async startReview(e,t){const r=e.comments.length,n=await this.optimisticallyAddComment(e,t,!0);try{if(r)await this.reply(e,t,!1);else{const a=this.gitRelativeRootPath(e.uri.path),m=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(t,a,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,m)}this.setContextKey(!0)}catch(a){s.window.showErrorMessage(`Starting a review failed: ${a}`),e.comments=e.comments.map(m=>(m instanceof mn&&m.id===n&&(m.mode=s.CommentMode.Editing),m))}}async openReview(){await Fn.createOrShow(this._folderReposManager.context.extensionUri,this._folderReposManager,this.pullRequestModel),Fn.scrollToReview(),this._folderReposManager.telemetry.sendTelemetryEvent("pr.openDescription")}async optimisticallyAddComment(e,t,r){const n=await this._folderReposManager.getCurrentUser(this.pullRequestModel.githubRepository),a=new mn(e,t,r,n);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,ks(e)}async createCommentOnResolve(e,t){const r=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(e,t,!r)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.resolveReviewThread(e.gitHubThreadId)}catch(r){s.window.showErrorMessage(`Resolving conversation failed: ${r}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.unresolveReviewThread(e.gitHubThreadId)}catch(r){s.window.showErrorMessage(`Unresolving conversation failed: ${r}`)}}async toggleReaction(e,t){e.parent.uri.scheme===li.Pr&&(e.reactions&&!e.reactions.find(r=>r.label===t.label&&!!r.authorHasReacted)?await this.pullRequestModel.addCommentReaction(e.rawComment.graphNodeId,t):await this.pullRequestModel.deleteCommentReaction(e.rawComment.graphNodeId,t))}setContextKey(e){s.commands.executeCommand("setContext","prInDraft",e)}dispose(){Object.keys(this._commentThreadCache).forEach(e=>{this._commentThreadCache[e].forEach(t=>t.dispose())}),xt(this._commentHandlerId),this._disposables.forEach(e=>e.dispose())}}var mp=Object.defineProperty,_u=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?mp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class pp{constructor(e){this.commentsController=e,_u(this,"_prCommentHandlers",{}),_u(this,"_prCommentingRangeProviders",{}),_u(this,"_activeChangeListeners",new Map),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,t){const r=e.uri,n=lr(r);return!n||!this._prCommentingRangeProviders[n.prNumber]?void 0:this._prCommentingRangeProviders[n.prNumber].provideCommentingRanges.bind(this._prCommentingRangeProviders[n.prNumber])(e,t)}async toggleReaction(e,t){const r=e.parent.uri,n=lr(r);return!n||!this._prCommentHandlers[n.prNumber]||!this._prCommentHandlers[n.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[n.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[n.prNumber].handler)(e,t)}unregisterCommentController(e){this._prCommentHandlers[e]&&(this._prCommentHandlers[e].dispose(),delete this._prCommentHandlers[e])}registerCommentController(e,t,r){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];this._activeChangeListeners.has(r)||this._activeChangeListeners.set(r,r.onDidChangeActivePullRequest(a=>{var m;a.old&&((m=this._prCommentHandlers[a.old])==null||m.dispose())}));const n=new hp(t,r,this.commentsController);return this._prCommentHandlers[e]={handler:n,refCount:1,dispose:()=>{!this._prCommentHandlers[e]||(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,t){return this._prCommentingRangeProviders[e]=t,{dispose:()=>{delete this._prCommentingRangeProviders[e]}}}dispose(){Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}function al(i,e){const t=i.definitions,n=e.definitions.concat(t);return{...e,...i,definitions:n}}var po;(function(i){i.prTitle="PR_TITLE",i.commitOrPrTitle="COMMIT_OR_PR_TITLE",i.mergeMessage="MERGE_MESSAGE"})(po||(po={}));var vo;(function(i){i.prBody="PR_BODY",i.commitMessages="COMMIT_MESSAGES",i.blank="BLANK",i.prTitle="PR_TITLE"})(vo||(vo={}));function vp(i){return i.__typename==="CheckRun"}var gp=Yt(89967),gc=Yt.n(gp),bp=Yt(31651),bc=Yt.n(bp),yp=Yt(14978),sl=Yt.n(yp),wp=Object.defineProperty,Zr=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?wp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const yc=20,wc="GraphQL";var on;(function(i){i.Unknown="unknown",i.Admin="ADMIN",i.Maintain="MAINTAIN",i.Read="READ",i.Triage="TRIAGE",i.Write="WRITE"})(on||(on={}));var es;(function(i){i[i.None=0]="None",i[i.Try=1]="Try",i[i.Force=2]="Force"})(es||(es={}));const Nt=class{constructor(i,e,t,r,n=!1){this.remote=i,this.rootUri=e,this._credentialStore=t,this._telemetry=r,Zr(this,"_initialized",!1),Zr(this,"_hub"),Zr(this,"_metadata"),Zr(this,"_toDispose",[]),Zr(this,"commentsController"),Zr(this,"commentsHandler"),Zr(this,"_pullRequestModels",new Map),Zr(this,"_queriesSchema"),Zr(this,"_areQueriesLimited",!1),Zr(this,"_onDidAddPullRequest",new s.EventEmitter),Zr(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),Zr(this,"query",async(a,m=!1,k)=>{var O,G;const Z=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!Z)return h.debug(`Not available for query: ${a}`,wc),{data:null,loading:!1,networkStatus:pr.error,stale:!1};let oe;try{oe=await Z.query(a)}catch(X){if(k)return a.query=k.query,this.query(a,m);if(X.graphQLErrors&&X.graphQLErrors.length&&X.graphQLErrors[0].extensions&&X.graphQLErrors[0].extensions.code==="undefinedField"&&!this._areQueriesLimited)this._areQueriesLimited=!0,this._queriesSchema=al(sl(),bc()),a.query=this.schema[a.query.definitions[0].name.value],oe=await Z.query(a);else if(!m&&((O=X.message)==null?void 0:O.startsWith("GraphQL error: Resource protected by organization SAML enforcement.")))await this._credentialStore.recreate(),oe=await Z.query(a);else if((G=X.message)==null?void 0:G.includes("401 Unauthorized"))await this._credentialStore.recreate(s.l10n.t("Your authentication session has lost authorization. You need to sign in again to regain authorization.")),oe=await Z.query(a);else throw X.graphQLErrors&&X.graphQLErrors.length&&X.graphQLErrors[0].message==="Resource not accessible by integration"&&this.codespacesTokenError(a),X}return oe}),Zr(this,"mutate",async(a,m)=>{var k;const O=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!O)return h.debug(`Not available for query: ${a}`,wc),{data:null,loading:!1,networkStatus:pr.error,stale:!1};let G;try{G=await O.mutate(a)}catch(Z){if(m){if(a.mutation=m.mutation,(k=a.variables)==null?void 0:k.input)for(const oe of m.deleteProps)delete a.variables.input[oe];return this.mutate(a)}else Z.graphQLErrors&&Z.graphQLErrors.length&&Z.graphQLErrors[0].message==="Resource not accessible by integration"&&this.codespacesTokenError(a);throw Z}return G}),Zr(this,"_repoAccessAndMergeMethods"),Zr(this,"_useFallbackChecks",!1),this._queriesSchema=al(sl(),gc()),n||this.ensureCommentsController()}get hub(){if(!this._hub)throw this._initialized?new ua("Not authenticated."):new Error("Call ensure() before accessing this property.");return this._hub}equals(i){return this.remote.equals(i.remote)}get pullRequestModels(){return this._pullRequestModels}async ensureCommentsController(){try{if(this.commentsController)return;await this.ensure(),this.commentsController=s.comments.createCommentController(`github-browse-${this.remote.normalizedHost}-${this.remote.owner}-${this.remote.repositoryName}`,`GitHub Pull Request for ${this.remote.normalizedHost} (${this.remote.owner}/${this.remote.repositoryName})`),this.commentsHandler=new pp(this.commentsController),this._toDispose.push(this.commentsHandler),this._toDispose.push(this.commentsController)}catch(i){console.log(i)}}dispose(){this._toDispose.forEach(i=>i.dispose()),this._toDispose=[],this.commentsController=void 0,this.commentsHandler=void 0}get octokit(){return this.hub&&this.hub.octokit}get authMatchesServer(){return this.remote.githubServerType===ji.GitHubDotCom&&this._credentialStore.isAuthenticated(ki.github)?!0:!!(this.remote.githubServerType===ji.Enterprise&&this._credentialStore.isAuthenticated(ki.githubEnterprise))}codespacesTokenError(i){var e;if(hl()&&((e=this._metadata)==null?void 0:e.fork))throw this._telemetry.sendTelemetryErrorEvent("pr.codespacesTokenError",{action:i.context}),new Error(s.l10n.t("This action cannot be completed in a GitHub Codespace on a fork."))}get schema(){return this._queriesSchema}async getMetadata(){var i;if(h.debug("Fetch metadata - enter",Nt.ID),this._metadata)return h.debug(`Fetch metadata ${(i=this._metadata.owner)==null?void 0:i.login}/${this._metadata.name} - done`,Nt.ID),this._metadata;const{octokit:e,remote:t}=await this.ensure(),r=await e.call(e.api.repos.get,{owner:t.owner,repo:t.repositoryName});return h.debug(`Fetch metadata ${t.owner}/${t.repositoryName} - done`,Nt.ID),this._metadata={...r.data,currentUser:e.currentUser},this._metadata}async resolveRemote(){try{const{clone_url:i}=await this.getMetadata();this.remote=Qa.remoteAsGitHub(gu(this.remote.remoteName,i,this.remote.gitProtocol),this.remote.githubServerType)}catch(i){if(h.warn(`Unable to resolve remote: ${i}`),qa(i))return!1}return!0}async ensure(i=!1){this._initialized=!0;const e=this._hub;return this._credentialStore.isAuthenticated(this.remote.authProviderId)?i?this._hub=await this._credentialStore.getHubEnsureAdditionalScopes(this.remote.authProviderId):this._hub=this._credentialStore.getHub(this.remote.authProviderId):(await this._credentialStore.create(void 0,i),this._credentialStore.isAuthenticated(this.remote.authProviderId)||(this._hub=await this._credentialStore.showSignInNotification(this.remote.authProviderId))),e!==this._hub&&(this._credentialStore.areScopesOld(this.remote.authProviderId)?(this._areQueriesLimited=!0,this._queriesSchema=al(sl(),bc())):this._queriesSchema=al(sl(),gc())),this}async ensureAdditionalScopes(){return this.ensure(!0)}async getDefaultBranch(){const i=qc();if(i)return i;try{h.debug("Fetch default branch - enter",Nt.ID);const e=await this.getMetadata();return h.debug("Fetch default branch - done",Nt.ID),e.default_branch}catch(e){h.warn(`Fetching default branch failed: ${e}`,Nt.ID)}return"master"}async getRepoAccessAndMergeMethods(i=!1){var e,t,r,n,a,m;try{if(!this._repoAccessAndMergeMethods||i){h.debug("Fetch repo permissions and available merge methods - enter",Nt.ID);const k=await this.getMetadata();h.debug("Fetch repo permissions and available merge methods - done",Nt.ID);const O=(t=(e=k.permissions)==null?void 0:e.push)!=null?t:!1;this._repoAccessAndMergeMethods={hasWritePermission:O,mergeMethodsAvailability:{merge:(r=k.allow_merge_commit)!=null?r:!1,squash:(n=k.allow_squash_merge)!=null?n:!1,rebase:(a=k.allow_rebase_merge)!=null?a:!1},viewerCanAutoMerge:(m=k.allow_auto_merge&&O)!=null?m:!1}}return this._repoAccessAndMergeMethods}catch(k){h.warn(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${k}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0},viewerCanAutoMerge:!1}}async getAllPullRequests(i){try{h.debug("Fetch all pull requests - enter",Nt.ID);const{octokit:e,remote:t}=await this.ensure(),r=await e.call(e.api.pulls.list,{owner:t.owner,repo:t.repositoryName,per_page:yc,page:i||1}),n=!!r.headers.link&&r.headers.link.indexOf('rel="next"')>-1;if(!r.data)return h.warn(`No result data for ${t.owner}/${t.repositoryName} Status: ${r.status}`),{items:[],hasMorePages:!1};const a=r.data.map(m=>m.head.repo?this.createOrUpdatePullRequestModel(ll(m,this)):(h.appendLine("The remote branch for this PR was already deleted.",Nt.ID),null)).filter(m=>m!==null);return h.debug("Fetch all pull requests - done",Nt.ID),{items:a,hasMorePages:n}}catch(e){if(h.error(`Fetching all pull requests failed: ${e}`,Nt.ID),e.code===404)s.window.showWarningMessage(`Fetching pull requests for remote '${this.remote.remoteName}' failed, please check if the url ${this.remote.url} is valid.`);else throw e}}async getPullRequestForBranch(i,e){var t;try{h.debug("Fetch pull requests for branch - enter",Nt.ID);const{query:r,remote:n,schema:a}=await this.ensure(),{data:m}=await r({query:a.PullRequestForHead,variables:{owner:n.owner,name:n.repositoryName,headRefName:i}});if(h.debug("Fetch pull requests for branch - done",Nt.ID),(m==null?void 0:m.repository)&&m.repository.pullRequests.nodes.length>0){const k=m.repository.pullRequests.nodes.map(G=>dl(G,this)).filter(G=>{var Z;return((Z=G.head)==null?void 0:Z.repo.owner)===e});if(k.length===0)return;const O=(t=k.find(G=>G.state.toLowerCase()==="open"))!=null?t:k[0];return this.createOrUpdatePullRequestModel(O)}}catch(r){if(h.error(`Fetching pull requests for branch failed: ${r}`,Nt.ID),r.code===404)s.window.showWarningMessage(`Fetching pull requests for remote '${this.remote.remoteName}' failed, please check if the url ${this.remote.url} is valid.`);else throw r}}async getOrgProjects(){h.debug("Fetch org projects - enter",Nt.ID);let{query:i,remote:e,schema:t}=await this.ensure();const r=[];try{const{data:n}=await i({query:t.GetOrgProjects,variables:{owner:e.owner,after:null}});n&&n.organization.projectsV2&&n.organization.projectsV2.nodes&&n.organization.projectsV2.nodes.forEach(a=>{r.push(a)})}catch(n){return h.error(`Unable to fetch org projects: ${n}`,Nt.ID),r}return h.debug("Fetch org projects - done",Nt.ID),r}async getProjects(){var i;try{h.debug("Fetch projects - enter",Nt.ID);let{query:e,remote:t,schema:r}=await this.ensure();if(!r.GetRepoProjects){const m=await this.ensureAdditionalScopes();e=m.query,t=m.remote,r=m.schema}const{data:n}=await e({query:r.GetRepoProjects,variables:{owner:t.owner,name:t.repositoryName}});h.debug("Fetch projects - done",Nt.ID);const a=[];return n&&((i=n.repository)==null?void 0:i.projectsV2)&&n.repository.projectsV2.nodes&&n.repository.projectsV2.nodes.forEach(m=>{a.push(m)}),a}catch(e){h.error(`Unable to fetch projects: ${e}`,Nt.ID);return}}async getMilestones(i=!1){var e;try{h.debug("Fetch milestones - enter",Nt.ID);const{query:t,remote:r,schema:n}=await this.ensure(),a=["OPEN"];i&&a.push("CLOSED");const{data:m}=await t({query:n.GetMilestones,variables:{owner:r.owner,name:r.repositoryName,states:a}});h.debug("Fetch milestones - done",Nt.ID);const k=[];return m&&((e=m.repository)==null?void 0:e.milestones)&&m.repository.milestones.nodes&&m.repository.milestones.nodes.forEach(O=>{const G=Su(O);G&&k.push(G)}),k}catch(t){h.error(`Unable to fetch milestones: ${t}`,Nt.ID);return}}async getLines(i,e,t,r){var n;h.debug("Fetch milestones - enter",Nt.ID);const{query:a,remote:m,schema:k}=await this.ensure(),{data:O}=await a({query:k.GetFileContent,variables:{owner:m.owner,name:m.repositoryName,expression:`${i}:${e}`}});if(!!((n=O.repository)==null?void 0:n.object.text))return O.repository.object.text.split(`
`).slice(t-1,r).join(`
`)}async getIssuesForUserByMilestone(i){var e,t,r;try{h.debug("Fetch all issues - enter",Nt.ID);const{query:n,remote:a,schema:m}=await this.ensure(),{data:k}=await n({query:m.GetMilestonesWithIssues,variables:{owner:a.owner,name:a.repositoryName,assignee:(e=await this._credentialStore.getCurrentUser(a.authProviderId))==null?void 0:e.login}});h.debug("Fetch all issues - done",Nt.ID);const O=[];return k&&((t=k.repository)==null?void 0:t.milestones)&&k.repository.milestones.nodes&&k.repository.milestones.nodes.forEach(G=>{const Z=Su(G);if(Z){const oe=[];G.issues.edges.forEach(X=>{oe.push(new Nr(this,this.remote,cl(X.node,this)))}),O.push({milestone:Z,issues:oe})}}),{items:O,hasMorePages:!!((r=k.repository)==null?void 0:r.milestones.pageInfo.hasNextPage)}}catch(n){h.error(`Unable to fetch issues: ${n}`,Nt.ID);return}}async getIssuesWithoutMilestone(i){var e,t,r;try{h.debug("Fetch issues without milestone- enter",Nt.ID);const{query:n,remote:a,schema:m}=await this.ensure(),{data:k}=await n({query:m.IssuesWithoutMilestone,variables:{owner:a.owner,name:a.repositoryName,assignee:(e=await this._credentialStore.getCurrentUser(a.authProviderId))==null?void 0:e.login}});h.debug("Fetch issues without milestone - done",Nt.ID);const O=[];return k&&((t=k.repository)==null?void 0:t.issues.edges)&&k.repository.issues.edges.forEach(G=>{G.node.id&&O.push(cl(G.node,this))}),{items:O,hasMorePages:!!((r=k.repository)==null?void 0:r.issues.pageInfo.hasNextPage)}}catch(n){h.error(`Unable to fetch issues without milestone: ${n}`,Nt.ID);return}}async getIssues(i,e){try{h.debug("Fetch issues with query - enter",Nt.ID);const{query:t,schema:r}=await this.ensure(),{data:n}=await t({query:r.Issues,variables:{query:`${e} type:issue`}});h.debug("Fetch issues with query - done",Nt.ID);const a=[];return n&&n.search.edges&&n.search.edges.forEach(m=>{m.node.id&&a.push(cl(m.node,this))}),{items:a,hasMorePages:n.search.pageInfo.hasNextPage}}catch(t){h.error(`Unable to fetch issues with query: ${t}`,Nt.ID);return}}async getMaxIssue(){try{h.debug("Fetch max issue - enter",Nt.ID);const{query:i,remote:e,schema:t}=await this.ensure(),{data:r}=await i({query:t.MaxIssue,variables:{owner:e.owner,name:e.repositoryName}});return h.debug("Fetch max issue - done",Nt.ID),(r==null?void 0:r.repository)&&r.repository.issues.edges.length===1?r.repository.issues.edges[0].node.number:void 0}catch(i){h.error(`Unable to fetch issues with query: ${i}`,Nt.ID);return}}async getViewerPermission(){try{h.debug("Fetch viewer permission - enter",Nt.ID);const{query:i,remote:e,schema:t}=await this.ensure(),{data:r}=await i({query:t.GetViewerPermission,variables:{owner:e.owner,name:e.repositoryName}});return h.debug("Fetch viewer permission - done",Nt.ID),Lp(r)}catch(i){return h.error(`Unable to fetch viewer permission: ${i}`,Nt.ID),on.Unknown}}async fork(){try{h.debug("Fork repository",Nt.ID);const{octokit:i,remote:e}=await this.ensure();return(await i.call(i.api.repos.createFork,{owner:e.owner,repo:e.repositoryName})).data.clone_url}catch(i){h.error(`GitHubRepository> Forking repository failed: ${i}`,Nt.ID);return}}async getRepositoryForkDetails(){try{h.debug("Fetch repository fork details - enter",Nt.ID);const{query:i,remote:e,schema:t}=await this.ensure(),{data:r}=await i({query:t.GetRepositoryForkDetails,variables:{owner:e.owner,name:e.repositoryName}});return h.debug("Fetch repository fork details - done",Nt.ID),r.repository}catch(i){h.error(`Unable to fetch repository fork details: ${i}`,Nt.ID);return}}async getAuthenticatedUser(){return(await this._credentialStore.getCurrentUser(this.remote.authProviderId)).login}async getPullRequestsForCategory(i,e){try{h.debug(`Fetch pull request category ${i} - enter`,Nt.ID);const{octokit:t,query:r,schema:n}=await this.ensure(),a=await this.getAuthenticatedUser(),m=await this.getMetadata(),{data:k,headers:O}=await t.call(t.api.search.issuesAndPullRequests,{q:Bp(m.full_name,a,i),per_page:yc,page:e||1}),G=k.items.map(async de=>{const ke=new xr(de.repository_url),{data:Ne}=await r({query:n.PullRequest,variables:{owner:ke.owner,name:ke.repositoryName,number:de.number}});return Ne}),Z=!!O.link&&O.link.indexOf('rel="next"')>-1,X=(await Promise.all(G)).map(de=>{var ke;return((ke=de.repository)==null?void 0:ke.pullRequest.headRef)?this.createOrUpdatePullRequestModel(dl(de.repository.pullRequest,this)):(h.appendLine("The remote branch for this PR was already deleted.",Nt.ID),null)}).filter(de=>de!==null);return h.debug(`Fetch pull request category ${i} - done`,Nt.ID),{items:X,hasMorePages:Z}}catch(t){if(h.error(`Fetching all pull requests failed: ${t}`,Nt.ID),t.code===404)s.window.showWarningMessage(`Fetching pull requests for remote ${this.remote.remoteName}, please check if the url ${this.remote.url} is valid.`);else throw t}}createOrUpdatePullRequestModel(i){let e=this._pullRequestModels.get(i.number);return e?e.update(i):(e=new wn(this._credentialStore,this._telemetry,this,this.remote,i),e.onDidInvalidate(()=>this.getPullRequest(i.number)),this._pullRequestModels.set(i.number,e),this._onDidAddPullRequest.fire(e)),e}async createPullRequest(i){try{h.debug("Create pull request - enter",Nt.ID);const e=await this.getMetadata(),{mutate:t,schema:r}=await this.ensure(),{data:n}=await t({mutation:r.CreatePullRequest,variables:{input:{repositoryId:e.node_id,baseRefName:i.base,headRefName:i.head,title:i.title,body:i.body,draft:i.draft}}});if(h.debug("Create pull request - done",Nt.ID),!n)throw new Error("Failed to create pull request.");return this.createOrUpdatePullRequestModel(dl(n.createPullRequest.pullRequest,this))}catch(e){throw h.error(`Unable to create PR: ${e}`,Nt.ID),e}}async getPullRequest(i){try{h.debug(`Fetch pull request ${i} - enter`,Nt.ID);const{query:e,remote:t,schema:r}=await this.ensure(),{data:n}=await e({query:r.PullRequest,variables:{owner:t.owner,name:t.repositoryName,number:i}},!0);if(n.repository===null){h.error("Unexpected null repository when getting PR",Nt.ID);return}return h.debug(`Fetch pull request ${i} - done`,Nt.ID),this.createOrUpdatePullRequestModel(dl(n.repository.pullRequest,this))}catch(e){h.error(`Unable to fetch PR: ${e}`,Nt.ID);return}}async getIssue(i,e=!1){try{h.debug(`Fetch issue ${i} - enter`,Nt.ID);const{query:t,remote:r,schema:n}=await this.ensure(),{data:a}=await t({query:e?n.IssueWithComments:n.Issue,variables:{owner:r.owner,name:r.repositoryName,number:i}},!0);if(a.repository===null){h.error("Unexpected null repository when getting issue",Nt.ID);return}return h.debug(`Fetch issue ${i} - done`,Nt.ID),new Nr(this,r,cl(a.repository.pullRequest,this))}catch(t){h.error(`Unable to fetch PR: ${t}`,Nt.ID);return}}async hasBranch(i){var e;const{query:t,remote:r,schema:n}=await this.ensure(),{data:a}=await t({query:n.GetBranch,variables:{owner:r.owner,name:r.repositoryName,qualifiedName:`refs/heads/${i}`}});return((e=a.repository)==null?void 0:e.ref)!==null}async listBranches(i,e){const{query:t,remote:r,schema:n}=await this.ensure();h.debug(`List branches for ${i}/${e} - enter`,Nt.ID);let a=null,m=!1;const k=[],O=new Date().getTime();do try{const{data:G}=await t({query:n.ListBranches,variables:{owner:r.owner,name:r.repositoryName,first:100,after:a}});if(k.push(...G.repository.refs.nodes.map(Z=>Z.name)),new Date().getTime()-O>5e3){h.warn("List branches timeout hit.",Nt.ID);break}m=G.repository.refs.pageInfo.hasNextPage,a=G.repository.refs.pageInfo.endCursor}catch(G){throw h.debug(`List branches for ${i}/${e} failed`,Nt.ID),G}while(m);return h.debug(`List branches for ${i}/${e} - done`,Nt.ID),k}async deleteBranch(i){const{octokit:e}=await this.ensure();if(!!i.validatePullRequestModel("Unable to delete branch"))try{await e.call(e.api.git.deleteRef,{owner:i.head.repositoryCloneUrl.owner,repo:i.head.repositoryCloneUrl.repositoryName,ref:`heads/${i.head.ref}`})}catch(t){h.error(`Unable to delete branch: ${t}`,Nt.ID);return}}async getMentionableUsers(){h.debug("Fetch mentionable users - enter",Nt.ID);const{query:i,remote:e,schema:t}=await this.ensure();let r=null,n=!1;const a=[];do try{const m=await i({query:t.GetMentionableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:r}});if(m.data.repository===null)return h.error("Unexpected null repository when getting mentionable users",Nt.ID),[];a.push(...m.data.repository.mentionableUsers.nodes.map(k=>({login:k.login,avatarUrl:yn(k.avatarUrl,void 0,this.remote.isEnterprise),name:k.name,url:k.url,email:k.email,id:k.id}))),n=m.data.repository.mentionableUsers.pageInfo.hasNextPage,r=m.data.repository.mentionableUsers.pageInfo.endCursor}catch(m){return h.debug(`Unable to fetch mentionable users: ${m}`,Nt.ID),a}while(n);return a}async getAssignableUsers(){h.debug("Fetch assignable users - enter",Nt.ID);const{query:i,remote:e,schema:t}=await this.ensure();let r=null,n=!1;const a=[];do try{const m=await i({query:t.GetAssignableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:r}},!0);if(m.data.repository===null)return h.error("Unexpected null repository when getting assignable users",Nt.ID),[];a.push(...m.data.repository.assignableUsers.nodes.map(k=>({login:k.login,avatarUrl:yn(k.avatarUrl,void 0,this.remote.isEnterprise),name:k.name,url:k.url,email:k.email,id:k.id}))),n=m.data.repository.assignableUsers.pageInfo.hasNextPage,r=m.data.repository.assignableUsers.pageInfo.endCursor}catch(m){return h.debug(`Unable to fetch assignable users: ${m}`,Nt.ID),m.graphQLErrors&&m.graphQLErrors.length>0&&m.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${m.graphQLErrors[0].message}`),a}while(n);return a}async getOrgTeamsCount(){if(h.debug("Fetch Teams Count - enter",Nt.ID),!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return 0;const{query:i,remote:e,schema:t}=await this.ensureAdditionalScopes();try{return(await i({query:t.GetOrganizationTeamsCount,variables:{login:e.owner}})).data.organization.teams.totalCount}catch(r){return h.debug(`Unable to fetch teams Count: ${r}`,Nt.ID),r.graphQLErrors&&r.graphQLErrors.length>0&&r.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${r.graphQLErrors[0].message}`),0}}async getOrgTeams(i){if(h.debug("Fetch Teams - enter",Nt.ID),i===0||i===1&&!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return h.debug("Fetch Teams - exit without fetching teams",Nt.ID),[];const{query:e,remote:t,schema:r}=await this.ensureAdditionalScopes();let n=null,a=!1;const m=[];do try{const k=await e({query:r.GetOrganizationTeams,variables:{login:t.owner,after:n,repoName:t.repositoryName}});k.data.organization.teams.nodes.forEach(O=>{const G={avatarUrl:yn(O.avatarUrl,void 0,this.remote.isEnterprise),name:O.name,url:O.url,slug:O.slug,id:O.id,org:t.owner};m.push({...G,repositoryNames:O.repositories.nodes.map(Z=>Z.name)})}),a=k.data.organization.teams.pageInfo.hasNextPage,n=k.data.organization.teams.pageInfo.endCursor}catch(k){return h.debug(`Unable to fetch teams: ${k}`,Nt.ID),k.graphQLErrors&&k.graphQLErrors.length>0&&k.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${k.graphQLErrors[0].message}`),m}while(a);return h.debug("Fetch Teams - exit",Nt.ID),m}async getPullRequestParticipants(i){h.debug("Fetch participants from a Pull Request",Nt.ID);const{query:e,remote:t,schema:r}=await this.ensure(),n=[];try{const a=await e({query:r.GetParticipants,variables:{owner:t.owner,name:t.repositoryName,number:i,first:18}});if(a.data.repository===null)return h.error("Unexpected null repository when fetching participants",Nt.ID),[];n.push(...a.data.repository.pullRequest.participants.nodes.map(m=>({login:m.login,avatarUrl:yn(m.avatarUrl,void 0,this.remote.isEnterprise),name:m.name,url:m.url,email:m.email,id:m.id})))}catch(a){h.debug(`Unable to fetch participants from a PullRequest: ${a}`,Nt.ID),a.graphQLErrors&&a.graphQLErrors.length>0&&a.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${a.graphQLErrors[0].message}`)}return n}async compareCommits(i,e){h.debug("Compare commits - enter",Nt.ID);try{const{remote:t,octokit:r}=await this.ensure(),{data:n}=await r.call(r.api.repos.compareCommits,{repo:t.repositoryName,owner:t.owner,base:i,head:e});return h.debug("Compare commits - done",Nt.ID),n}catch(t){h.error(`Unable to compare commits between ${i} and ${e}: ${t}`,Nt.ID)}}isCurrentUser(i){return this._credentialStore.isCurrentUser(i)}async getStatusChecks(i){var e,t,r;const{query:n,remote:a,schema:m}=await this.ensure(),k=this._useFallbackChecks;let O;try{O=await n({query:k?m.GetChecksWithoutSuite:m.GetChecks,variables:{owner:a.owner,name:a.repositoryName,number:i}},!0)}catch(de){if(((e=de.message)==null?void 0:e.startsWith("GraphQL error: Resource protected by organization SAML enforcement."))&&!k)return this._useFallbackChecks=!0,this.getStatusChecks(i);throw de}if(O.data.repository===null||O.data.repository.pullRequest.commits.nodes===void 0||O.data.repository.pullRequest.commits.nodes.length===0)return h.error(`Unable to fetch PR checks: ${(t=O.errors)==null?void 0:t.map(de=>de.message).join(", ")}`,Nt.ID),[null,null];const G=O.data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup,Z=G?{state:this.mapStateAsCheckState(G.state),statuses:G.contexts.nodes.map(de=>{var ke,Ne,Ie,De,Fe;return vp(de)?{id:de.id,url:(Ne=(ke=de.checkSuite)==null?void 0:ke.app)==null?void 0:Ne.url,avatarUrl:((De=(Ie=de.checkSuite)==null?void 0:Ie.app)==null?void 0:De.logoUrl)&&yn(de.checkSuite.app.logoUrl,void 0,this.remote.isEnterprise),state:this.mapStateAsCheckState(de.conclusion),description:de.title,context:de.name,targetUrl:de.detailsUrl,isRequired:de.isRequired}:{id:de.id,url:(Fe=de.targetUrl)!=null?Fe:void 0,avatarUrl:de.avatarUrl?yn(de.avatarUrl,void 0,this.remote.isEnterprise):void 0,state:this.mapStateAsCheckState(de.state),description:de.description,context:de.context,targetUrl:de.targetUrl,isRequired:de.isRequired}})}:{state:Hi.Success,statuses:[]};let oe=null;const X=O.data.repository.pullRequest.baseRef.refUpdateRule;if(X){const de=O.data.repository.pullRequest.url;for(const Fe of X.requiredStatusCheckContexts||[])Z.statuses.some(Ze=>Ze.context===Fe)||(Z.state=Hi.Pending,Z.statuses.push({id:"",url:void 0,avatarUrl:void 0,state:Hi.Pending,description:s.l10n.t("Waiting for status to be reported"),context:Fe,targetUrl:de,isRequired:!0}));const ke=(r=X.requiredApprovingReviewCount)!=null?r:0,Ne=O.data.repository.pullRequest.latestReviews.nodes.filter(Fe=>Fe.authorCanPushToRepository&&Fe.state==="APPROVED"),Ie=O.data.repository.pullRequest.reviewsRequestingChanges.nodes.filter(Fe=>Fe.authorCanPushToRepository);let De=Hi.Success;Ne.length<ke&&(De=Hi.Failure,Ie.length&&(De=Hi.Pending)),ke>0&&(oe={count:ke,approvals:Ne.map(Fe=>Fe.author.login),requestedChanges:Ie.map(Fe=>Fe.author.login),state:De})}return[Z.statuses.length?Z:null,oe]}mapStateAsCheckState(i){switch(i){case"EXPECTED":case"PENDING":case"ACTION_REQUIRED":case"STALE":return Hi.Pending;case"ERROR":case"FAILURE":case"TIMED_OUT":case"STARTUP_FAILURE":return Hi.Failure;case"SUCCESS":return Hi.Success;case"NEUTRAL":case"SKIPPED":return Hi.Neutral}return Hi.Unknown}};let ku=Nt;Zr(ku,"ID","GitHubRepository");const _p=/(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/,_s=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/;function go(i){if(!i)return;const e={owner:void 0,name:void 0,issueNumber:0};return i.length===7?(e.owner=i[2],e.name=i[3],e.issueNumber=parseInt(i[5]),e):i.length===16?(e.owner=i[3]||i[11],e.name=i[4]||i[12],e.issueNumber=parseInt(i[7]||i[14]),e.commentNumber=i[9]!==void 0?parseInt(i[9]):void 0,e):void 0}function bo(i,e,t){return i!==e&&t===void 0?t=300:t||(t=0),new s.Range(i,0,e,t)}function yo(i,e,t,r,n,a,m){const k=n.createCommentThread(e,t,[]);return k.gitHubThreadId=r.id,k.comments=r.comments.map(O=>new Cr(i,O,k,m)),k.state=_c(r.isResolved),r.viewerCanResolve&&!r.isResolved?k.contextValue="canResolve":r.viewerCanUnresolve&&r.isResolved&&(k.contextValue="canUnresolve"),ks(k),k.collapsibleState=kc(r,void 0,a),k}function _c(i){return i?s.CommentThreadState.Resolved:s.CommentThreadState.Unresolved}const kp="commentExpandState",rw="collapseAll",Sp="expandUnresolved";function kc(i,e,t){var r,n;return i.isResolved||t&&((r=i.comments[i.comments.length-1].user)==null?void 0:r.login)===t&&i.subjectType===yr.LINE?s.CommentThreadCollapsibleState.Collapsed:(e===void 0&&(e=((n=s.workspace.getConfiguration(Be))==null?void 0:n.get(kp))===Sp),e?s.CommentThreadCollapsibleState.Expanded:s.CommentThreadCollapsibleState.Collapsed)}function Sc(i,e,t,r,n){if(!e.range)return;const a=s.window.visibleTextEditors;for(let m of a)if(m.document.uri.toString()===e.uri.toString()){const k=m.document.lineAt(e.range.end.line),O=new s.Range(e.range.start.line,0,e.range.end.line,k.text.length);ol(i,e,t,r,n,O);break}}function ol(i,e,t,r,n,a){t.viewerCanResolve&&!t.isResolved?e.contextValue="canResolve":t.viewerCanUnresolve&&t.isResolved&&(e.contextValue="canUnresolve");const m=_c(t.isResolved);if(e.state!==m&&(e.state=m),e.collapsibleState=kc(t,n),a&&(e.range=a),e.comments.length===t.comments.length&&e.comments.every((k,O)=>k.commentId===`${t.comments[O].id}`)){let k=0;for(const O of e.comments)O instanceof Cr&&O.update(t.comments[k]),k++}else e.comments=t.comments.map(k=>new Cr(i,k,e,r));ks(e)}function ks(i){if(i.state===s.CommentThreadState.Resolved){i.label=s.l10n.t("Marked as resolved");return}if(i.comments.length){const e=Y(i.comments,t=>t.author.name).map(t=>`@${t.author.name}`).join(", ");i.label=s.l10n.t("Participants: {0}",e)}else i.label=s.l10n.t("Start discussion")}function Rc(i,e){let t=!1;const r=i.reactions,n=fl().map((a,m)=>{if(!e)return{label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""};const k=e.find(G=>G.label===a.label);let O;return k?O={label:k.label,authorHasReacted:k.viewerHasReacted,count:k.count,iconPath:a.icon||""}:O={label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""},!t&&(!r||r[m].authorHasReacted!==O.authorHasReacted||r[m].count!==O.count)&&(t=!0),O});return i.reactions=n,t}function Ec(i,e){e||(i.comments=i.comments.map(t=>(t instanceof Cr&&(t.rawComment.isDraft=!1),t.label=void 0,t)))}function ln(i){return i===ki.githubEnterprise}function Ss(i,e){var t;return{login:i.login,url:i.html_url,avatarUrl:e?yn(i.avatar_url,(t=i.gravatar_id)!=null?t:void 0,e.remote.isEnterprise):i.avatar_url,id:i.node_id}}function Cc(i){return{label:i.label,ref:i.ref,sha:i.sha,repo:{cloneUrl:i.repo.clone_url,isInOrganization:!!i.repo.organization,owner:i.repo.owner.login,name:i.repo.name}}}function ll(i,e){const{number:t,body:r,title:n,html_url:a,user:m,state:k,assignees:O,created_at:G,updated_at:Z,head:oe,base:X,labels:de,node_id:ke,id:Ne,draft:Ie}=i,De={id:Ne,graphNodeId:ke,number:t,body:r!=null?r:"",title:n,titleHTML:n,url:a,user:Ss(m,e),state:k,merged:i.merged||!1,assignees:O?O.map(Fe=>Ss(Fe,e)):void 0,createdAt:G,updatedAt:Z,head:oe.repo?Cc(oe):void 0,base:Cc(X),labels:de.map(Fe=>({name:"",color:"",...Fe})),isDraft:Ie,suggestedReviewers:[],projectItems:[],commits:[]};return"mergeable"in i&&(De.mergeable=i.mergeable?br.Mergeable:br.NotMergeable),De}function Rp(i,e){const{number:t,body:r,title:n,html_url:a,user:m,state:k,assignees:O,created_at:G,updated_at:Z,labels:oe,node_id:X,id:de}=i;return{id:de,graphNodeId:X,number:t,body:r!=null?r:"",title:n,titleHTML:n,url:a,user:Ss(m,e),state:k,assignees:O?O.map(Ne=>Ss(Ne,e)):void 0,createdAt:G,updatedAt:Z,labels:oe.map(Ne=>{var Ie,De,Fe;return typeof Ne=="string"?{name:Ne,color:""}:{name:(Ie=Ne.name)!=null?Ie:"",color:(De=Ne.color)!=null?De:"",description:(Fe=Ne.description)!=null?Fe:void 0}}),suggestedReviewers:[],projectItems:[],commits:[]}}function Ep(i,e){return{event:Ui.Reviewed,comments:[],submittedAt:i.submitted_at,body:i.body,bodyHTML:i.body,htmlUrl:i.html_url,user:Ss(i.user,e),authorAssociation:i.user.type,state:i.state,id:i.id}}function Cp(i){const e=[],t=ot(i.diffHunk);let r=t.next();for(;!r.done;){const n=r.value;e.push(n),r=t.next()}return e}function Np(i){switch(i){case"PullRequestCommit":return Ui.Committed;case"LabeledEvent":return Ui.Labeled;case"MilestonedEvent":return Ui.Milestoned;case"AssignedEvent":return Ui.Assigned;case"HeadRefDeletedEvent":return Ui.HeadRefDeleted;case"IssueComment":return Ui.Commented;case"PullRequestReview":return Ui.Reviewed;case"MergedEvent":return Ui.Merged;default:return Ui.Other}}function ul(i,e){var t,r,n;return{id:i.id,prReviewDatabaseId:i.comments.edges&&i.comments.edges.length?i.comments.edges[0].node.pullRequestReview.databaseId:void 0,isResolved:i.isResolved,viewerCanResolve:i.viewerCanResolve,viewerCanUnresolve:i.viewerCanUnresolve,path:i.path,startLine:(t=i.startLine)!=null?t:i.line,endLine:i.line,originalStartLine:(r=i.originalStartLine)!=null?r:i.originalLine,originalEndLine:i.originalLine,diffSide:i.diffSide,isOutdated:i.isOutdated,comments:i.comments.nodes.map(a=>Rs(a,i.isResolved,e)),subjectType:(n=i.subjectType)!=null?n:yr.LINE}}function Rs(i,e,t){const r={id:i.databaseId,url:i.url,body:i.body,bodyHTML:i.bodyHTML,path:i.path,canEdit:i.viewerCanDelete,canDelete:i.viewerCanDelete,pullRequestReviewId:i.pullRequestReview&&i.pullRequestReview.databaseId,diffHunk:i.diffHunk,position:i.position,commitId:i.commit.oid,originalPosition:i.originalPosition,originalCommitId:i.originalCommit&&i.originalCommit.oid,user:i.author?bn(i.author,t):void 0,createdAt:i.createdAt,htmlUrl:i.url,graphNodeId:i.id,isDraft:i.state==="PENDING",inReplyToId:i.replyTo&&i.replyTo.databaseId,reactions:Tc(i.reactionGroups),isResolved:e},n=Cp(r);return r.diffHunks=n,r}function Nc(i,e){return{id:i.databaseId,url:i.url,body:i.body,bodyHTML:i.bodyHTML,canEdit:i.viewerCanDelete,canDelete:i.viewerCanDelete,user:bn(i.author,e),createdAt:i.createdAt,htmlUrl:i.url,graphNodeId:i.id,diffHunk:""}}function Tc(i){const e=fl().reduce((r,n)=>(r[n.title]=n,r),{});return i.filter(r=>r.users.totalCount>0).map(r=>({label:e[r.content].label,count:r.users.totalCount,icon:e[r.content].icon,viewerHasReacted:r.viewerHasReacted}))}function Mc(i,e,t){if(!!t)return{label:`${t.owner.login}:${i}`,ref:i,sha:e,repo:{cloneUrl:t.url,isInOrganization:t.isInOrganization,owner:t.owner.login,name:i}}}function bn(i,e){return i?{login:i.login,url:i.url,avatarUrl:yn(i.avatarUrl,void 0,e.remote.isEnterprise),email:i.email,id:i.id}:{login:"",url:"",id:""}}function Pc(i,e){return i?{login:i.login,url:i.url,avatarUrl:yn(i.avatarUrl,void 0,e.remote.isEnterprise)}:{login:"",url:""}}function xc(i){if(!!i)return i.map(e=>({id:e.id,project:e.project}))}function Su(i){if(!!i)return{title:i.title,dueOn:i.dueOn,createdAt:i.createdAt,id:i.id,number:i.number}}function Tp(i){switch(i){case"MERGE":return"merge";case"REBASE":return"rebase";case"SQUASH":return"squash"}}function Dc(i,e){let t;switch(i){case void 0:case"UNKNOWN":t=br.Unknown;break;case"MERGEABLE":t=br.Mergeable;break;case"CONFLICTING":t=br.Conflict;break}return t!==br.Conflict&&(e==="BLOCKED"?t=br.NotMergeable:e==="BEHIND"&&(t=br.Behind)),t}function dl(i,e){var t,r,n,a,m,k,O,G;const Z={id:i.databaseId,graphNodeId:i.id,url:i.url,number:i.number,state:i.state,body:i.body,bodyHTML:i.bodyHTML,title:i.title,titleHTML:i.titleHTML,createdAt:i.createdAt,updatedAt:i.updatedAt,isRemoteHeadDeleted:!i.headRef,head:Mc((r=(t=i.headRef)==null?void 0:t.name)!=null?r:i.headRefName,i.headRefOid,i.headRepository),isRemoteBaseDeleted:!i.baseRef,base:Mc((a=(n=i.baseRef)==null?void 0:n.name)!=null?a:i.baseRefName,i.baseRefOid,i.baseRepository),user:bn(i.author,e),merged:i.merged,mergeable:Dc(i.mergeable,i.mergeStateStatus),autoMerge:!!i.autoMergeRequest,autoMergeMethod:Tp((m=i.autoMergeRequest)==null?void 0:m.mergeMethod),allowAutoMerge:i.viewerCanEnableAutoMerge||i.viewerCanDisableAutoMerge,labels:i.labels.nodes,isDraft:i.isDraft,suggestedReviewers:xp(i.suggestedReviewers),comments:Pp((k=i.comments)==null?void 0:k.nodes,e),projectItems:xc((O=i.projectItems)==null?void 0:O.nodes),milestone:Su(i.milestone),assignees:(G=i.assignees)==null?void 0:G.nodes.map(oe=>bn(oe,e)),commits:Mp(i.commits.nodes)};return Z.mergeCommitMeta=Ac(i.baseRepository.mergeCommitTitle,i.baseRepository.mergeCommitMessage,Z),Z.squashCommitMeta=Ac(i.baseRepository.squashMergeCommitTitle,i.baseRepository.squashMergeCommitMessage,Z),Z}function Ac(i,e,t){var r,n;if(i===void 0||e===void 0)return;let a="",m="";switch(i){case po.prTitle:{a=`${t.title} (#${t.number})`;break}case po.mergeMessage:{a=`Merge pull request #${t.number} from ${(n=(r=t.head)==null?void 0:r.label)!=null?n:""}`;break}case po.commitOrPrTitle:{t.commits.length===1?a=t.commits[0].message:a=t.title;break}}switch(e){case vo.prBody:{m=t.body;break}case vo.commitMessages:{m=t.commits.map(k=>`* ${k.message}`).join(`

`);break}case vo.prTitle:{m=t.title;break}}return{title:a,description:m}}function Mp(i){return i.map(e=>({message:e.commit.message}))}function Pp(i,e){if(!i)return;const t=[];for(const r of i)t.push({author:bn(r.author,e),body:r.body,databaseId:r.databaseId});return t}function cl(i,e){var t,r,n,a,m,k,O,G;return{id:i.databaseId,graphNodeId:i.id,url:i.url,number:i.number,state:i.state,body:i.body,bodyHTML:i.bodyHTML,title:i.title,titleHTML:i.titleHTML,createdAt:i.createdAt,updatedAt:i.updatedAt,assignees:(t=i.assignees)==null?void 0:t.nodes.map(Z=>bn(Z,e)),user:bn(i.author,e),labels:i.labels.nodes,repositoryName:(n=(r=i.repository)==null?void 0:r.name)!=null?n:e.remote.repositoryName,repositoryOwner:(m=(a=i.repository)==null?void 0:a.owner.login)!=null?m:e.remote.owner,repositoryUrl:(O=(k=i.repository)==null?void 0:k.url)!=null?O:e.remote.url,projectItems:xc((G=i.projectItems)==null?void 0:G.nodes)}}function xp(i){return i?i.map(t=>({login:t.reviewer.login,avatarUrl:t.reviewer.avatarUrl,name:t.reviewer.name,url:t.reviewer.url,isAuthor:t.isAuthor,isCommenter:t.isCommenter,id:t.reviewer.id})).sort(Ic):[]}function Ic(i,e){return i.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function Dp(i,e){var t,r;const n=(t=i.name)!=null?t:i.slug,a=(r=e.name)!=null?r:e.slug;return n.localeCompare(a,"en",{sensitivity:"accent"})}function Ap(i,e){return{event:Ui.Reviewed,comments:i.comments.nodes.map(t=>Rs(t,!1,e)).filter(t=>!t.inReplyToId),submittedAt:i.submittedAt,body:i.body,bodyHTML:i.bodyHTML,htmlUrl:i.url,user:bn(i.author,e),authorAssociation:i.authorAssociation,state:i.state,id:i.databaseId}}function Fc(i,e){const t=[];return i.forEach(r=>{const n=Np(r.__typename);switch(n){case Ui.Commented:const a=r;t.push({htmlUrl:a.url,body:a.body,bodyHTML:a.bodyHTML,user:bn(a.author,e),event:n,canEdit:a.viewerCanUpdate,canDelete:a.viewerCanDelete,id:a.databaseId,graphNodeId:a.id,createdAt:a.createdAt});return;case Ui.Reviewed:const m=r;t.push({event:n,comments:[],submittedAt:m.submittedAt,body:m.body,bodyHTML:m.bodyHTML,htmlUrl:m.url,user:bn(m.author,e),authorAssociation:m.authorAssociation,state:m.state,id:m.databaseId});return;case Ui.Committed:const k=r;t.push({id:k.id,event:n,sha:k.commit.oid,author:k.commit.author.user?bn(k.commit.author.user,e):{login:k.commit.committer.name},htmlUrl:k.url,message:k.commit.message,authoredDate:new Date(k.commit.authoredDate)});return;case Ui.Merged:const O=r;t.push({id:O.id,event:n,user:Pc(O.actor,e),createdAt:O.createdAt,mergeRef:O.mergeRef.name,sha:O.commit.oid,commitUrl:O.commit.commitUrl,url:O.url,graphNodeId:O.id});return;case Ui.Assigned:const G=r;t.push({id:G.id,event:n,user:bn(G.user,e),actor:G.actor});return;case Ui.HeadRefDeleted:const Z=r;t.push({id:Z.id,event:n,actor:Pc(Z.actor,e),createdAt:Z.createdAt,headRef:Z.headRefName});return;default:break}}),t}function Ip(i,e){var t;return{login:i.user.login,name:i.user.name,avatarUrl:yn((t=i.user.avatarUrl)!=null?t:"",void 0,e.remote.isEnterprise),url:i.user.url,bio:i.user.bio,company:i.user.company,location:i.user.location,commitContributions:Fp(i.user.contributionsCollection),id:i.user.id}}function Fp(i){const e=[];return i.commitContributionsByRepository.forEach(t=>{t.contributions.nodes.forEach(r=>{e.push({createdAt:new Date(r.occurredAt),repoNameWithOwner:t.repository.nameWithOwner})})}),e}function fl(){return[{title:"THUMBS_UP",label:"\u{1F44D}",icon:an.icons.reactions.THUMBS_UP},{title:"THUMBS_DOWN",label:"\u{1F44E}",icon:an.icons.reactions.THUMBS_DOWN},{title:"LAUGH",label:"\u{1F604}",icon:an.icons.reactions.LAUGH},{title:"HOORAY",label:"\u{1F389}",icon:an.icons.reactions.HOORAY},{title:"CONFUSED",label:"\u{1F615}",icon:an.icons.reactions.CONFUSED},{title:"HEART",label:"\u2764\uFE0F",icon:an.icons.reactions.HEART},{title:"ROCKET",label:"\u{1F680}",icon:an.icons.reactions.ROCKET},{title:"EYES",label:"\u{1F440}",icon:an.icons.reactions.EYES}]}async function Oc(i,e){let t=1,r=[],n=!1;do{const a=await i({...e,per_page:100,page:t});r=r.concat(a.data),n=!!a.headers.link&&a.headers.link.indexOf('rel="next"')>-1,t+=1}while(n);return r}function Op(i){const e=[];return i.forEach(t=>{var r,n;t.event===Ui.Committed&&e.push({login:t.author.login,name:t.author.name||""}),t.event===Ui.Reviewed&&e.push({login:t.user.login,name:(r=t.user.name)!=null?r:t.user.login}),t.event===Ui.Commented&&e.push({login:t.user.login,name:(n=t.user.name)!=null?n:t.user.login})}),e}function Lp(i){var e;return i&&((e=i.repository)==null?void 0:e.viewerPermission)&&Object.values(on).includes(i.repository.viewerPermission)?i.repository.viewerPermission:on.Unknown}function Ru(i,e){return e.path.toLowerCase()===i.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(i.rootUri.path.toLowerCase())&&e.path.substring(i.rootUri.path.length).startsWith("/")}function Eu(i,e){for(const t of i.repositories)if(Ru(t,e))return t}function Lc(i,e,t){const r=e.filter(m=>m.event===Ui.Reviewed).filter(m=>m.state!=="PENDING");let n=[];const a=new Map;a.set(t.login,!0);for(let m=r.length-1;m>=0;m--){const k=r[m].user;a.get(k.login)||(a.set(k.login,!0),n.push({reviewer:k,state:r[m].state}))}return i.forEach(m=>{if(!a.get(Pr(m)))n.push({reviewer:m,state:"REQUESTED"});else{const k=n.find(O=>Pr(O.reviewer)===Pr(m));k.state="REQUESTED"}}),n=n.sort((m,k)=>m.state==="REQUESTED"&&k.state!=="REQUESTED"?1:k.state==="REQUESTED"&&m.state!=="REQUESTED"||ar(m.reviewer).toLowerCase()<ar(k.reviewer).toLowerCase()?-1:1),n}function Up(i,e,t,r){if(e&&r&&r.sha!==e){let n=i.length-1,a=!1,m=[];for(let k=i.length-1;k>0;k--)if(i[k].event===Ui.Committed&&i[k].sha===e){m.unshift({id:e,event:Ui.NewCommitsSinceReview}),i.splice(n+1,0,...m);break}else a&&i[k].event===Ui.Committed?(m.unshift(i[k]),i.splice(k,1)):!a&&i[k].event===Ui.Reviewed&&i[k].user.login===t&&(n=k,a=!0)}}function Bp(i,e,t){return`is:pull-request ${t.replace(/\$\{user\}/g,e)} type:pr repo:${i}`}function hl(){return s.env.remoteName==="codespaces"&&s.env.uiKind===s.UIKind.Web}async function Cu(i){return s.workspace.getConfiguration(Ei).update(Xi,i,s.ConfigurationTarget.Workspace)}function Es(){const i=s.workspace.getConfiguration(Ei).get(Xi,"");if(i){let e=s.Uri.parse(i,!0);return e.scheme==="http"&&(e=e.with({scheme:"https"})),e}}function Da(){return!!Es()}function qp(i,e=200){return i?`https://www.gravatar.com/avatar/${i}?s=${e}&d=retro`:void 0}function yn(i,e,t){var r;return t?e?qp(Ra.js("md5").update((r=e==null?void 0:e.trim())==null?void 0:r.toLowerCase()).digest("hex")):void 0:i}function Hp(i){return s.Uri.parse(`https://${i.remote.host}/${i.remote.owner}/${i.remote.repositoryName}/pulls`)}function Vp(i){return s.Uri.parse(`https://${i.remote.host}/${i.remote.owner}/${i.remote.repositoryName}/issues`)}function Uc(i){const e=/[~^:;'".,~#?%*&[\]@\\{}()/]|\/\//g;return i.replace(e,"").trim().substring(0,150).replace(/\s+/g,"-")}const Gp=/\$\{(.*?)\}/g;async function Cs(i,e,t,r){return i.replace(Gp,(n,a)=>{switch(a){case"user":return r||n;case"issueNumber":return e?`${e.number}`:n;case"issueNumberLabel":return e?`${Ns(e,t)}`:n;case"issueTitle":return e?e.title:n;case"repository":return t?t.repo:n;case"owner":return t?t.owner:n;case"sanitizedIssueTitle":return e?Uc(e.title):n;case"sanitizedLowercaseIssueTitle":return e?Uc(e.title).toLowerCase():n;default:return n}})}function Ns(i,e){const t={issueNumber:i.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==i.remote.owner.toLowerCase()||e.repo.toLowerCase()!==i.remote.repositoryName.toLowerCase())&&(t.owner=i.remote.owner,t.name=i.remote.repositoryName),Bc(t)}function Bc(i){return!i.owner||!i.name?`#${i.issueNumber}`:`${i.owner}/${i.name}#${i.issueNumber}`}function qc(){const i=s.workspace.getConfiguration(Be).get(Ot);if(i)return h.debug("Using override setting for default branch",ku.ID),i}async function Hc(i){const e=[],t=[],r=[];for(const n of i){for(const a of await n.computeAllGitHubRemotes())a.githubServerType===ji.GitHubDotCom?e.push(a):a.githubServerType===ji.Enterprise&&t.push(a);r.push(...await n.computeAllUnknownRemotes())}return{dotComRemotes:e,enterpriseRemotes:t,unknownRemotes:r}}function Nu(i){const e=s.Uri.parse(i.html_url);return`https://${s.env.appName.toLowerCase().includes("insider")?"insiders.":""}vscode.dev/github${e.path}`}var $p=Object.defineProperty,Fr=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?$p(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const Aa=class{constructor(i,e,t,r=!1){Fr(this,"id"),Fr(this,"graphNodeId"),Fr(this,"number"),Fr(this,"title"),Fr(this,"titleHTML"),Fr(this,"html_url"),Fr(this,"state",wi.Open),Fr(this,"author"),Fr(this,"assignees"),Fr(this,"createdAt"),Fr(this,"updatedAt"),Fr(this,"milestone"),Fr(this,"githubRepository"),Fr(this,"remote"),Fr(this,"item"),Fr(this,"bodyHTML"),Fr(this,"_onDidInvalidate",new s.EventEmitter),Fr(this,"onDidInvalidate",this._onDidInvalidate.event),this.githubRepository=i,this.remote=e,this.item=t,r||this.update(t)}invalidate(){this._onDidInvalidate.fire()}get isOpen(){return this.state===wi.Open}get isClosed(){return this.state===wi.Closed}get isMerged(){return this.state===wi.Merged}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const i=this.userAvatar;if(i){const e=s.Uri.parse(`${i}&s=${64}`),t=e.toString;return e.toString=function(r){return t.call(e,!0)},e}}}get body(){return this.item?this.item.body:""}updateState(i){i.toLowerCase()==="open"?this.state=wi.Open:this.state=wi.Closed}update(i){this.id=i.id,this.graphNodeId=i.graphNodeId,this.number=i.number,this.title=i.title,i.titleHTML&&(this.titleHTML=i.titleHTML),(!this.bodyHTML||i.body!==this.body)&&(this.bodyHTML=i.bodyHTML),this.html_url=i.url,this.author=i.user,this.milestone=i.milestone,this.createdAt=i.createdAt,this.updatedAt=i.updatedAt,this.updateState(i.state),i.assignees&&(this.assignees=i.assignees),this.item=i}equals(i){return!(!i||this.number!==i.number||this.html_url!==i.html_url)}async edit(i){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:r}=await e({mutation:t.UpdatePullRequest,variables:{input:{pullRequestId:this.graphNodeId,body:i.body,title:i.title}}});return(r==null?void 0:r.updatePullRequest.pullRequest)&&(this.item.body=r.updatePullRequest.pullRequest.body,this.bodyHTML=r.updatePullRequest.pullRequest.bodyHTML,this.title=r.updatePullRequest.pullRequest.title,this.titleHTML=r.updatePullRequest.pullRequest.titleHTML,this.invalidate()),r.updatePullRequest.pullRequest}catch(e){throw new Error(F(e))}}canEdit(){const i=this.author&&this.author.login;return this.githubRepository.isCurrentUser(i)}async getIssueComments(){h.debug(`Fetch issue comments of PR #${this.number} - enter`,Aa.ID);const{octokit:i,remote:e}=await this.githubRepository.ensure(),t=await i.call(i.api.issues.listComments,{owner:e.owner,repo:e.repositoryName,issue_number:this.number,per_page:100});return h.debug(`Fetch issue comments of PR #${this.number} - done`,Aa.ID),t.data}async createIssueComment(i){const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:r}=await e({mutation:t.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:i}}});return Nc(r.addComment.commentEdge.node,this.githubRepository)}async editIssueComment(i,e){try{const{mutate:t,schema:r}=await this.githubRepository.ensure(),{data:n}=await t({mutation:r.EditIssueComment,variables:{input:{id:i.graphNodeId,body:e}}});return Nc(n.updateIssueComment.issueComment,this.githubRepository)}catch(t){throw new Error(F(t))}}async deleteIssueComment(i){try{const{octokit:e,remote:t}=await this.githubRepository.ensure();await e.call(e.api.issues.deleteComment,{owner:t.owner,repo:t.repositoryName,comment_id:Number(i)})}catch(e){throw new Error(F(e))}}async setLabels(i){const{octokit:e,remote:t}=await this.githubRepository.ensure();try{await e.call(e.api.issues.setLabels,{owner:t.owner,repo:t.repositoryName,issue_number:this.number,labels:i})}catch(r){h.error(`Failed to add labels to PR #${this.number}`,Aa.ID),s.window.showWarningMessage(s.l10n.t("Some, or all, labels could not be added to the pull request."))}}async removeLabel(i){const{octokit:e,remote:t}=await this.githubRepository.ensure();await e.call(e.api.issues.removeLabel,{owner:t.owner,repo:t.repositoryName,issue_number:this.number,name:i})}async removeProjects(i){var e;const{mutate:t,schema:r}=await this.githubRepository.ensure();try{await Promise.all(i.map(n=>t({mutation:r.RemovePullRequestFromProject,variables:{input:{itemId:n.id,projectId:n.project.id}}}))),this.item.projectItems=(e=this.item.projectItems)==null?void 0:e.filter(n=>!i.find(a=>a.project.id===n.project.id))}catch(n){h.error(n,Aa.ID)}}async addProjects(i){const{mutate:e,schema:t}=await this.githubRepository.ensure();try{const r=await Promise.all(i.map(n=>e({mutation:t.AddPullRequestToProject,variables:{input:{contentId:this.item.graphNodeId,projectId:n.id}}})));this.item.projectItems||(this.item.projectItems=[]),this.item.projectItems.push(...i.map((n,a)=>({project:n,id:r[a].data.addProjectV2ItemById.item.id})))}catch(r){h.error(r,Aa.ID)}}async updateProjects(i){var e,t;const r=i.filter(a=>{var m;return!((m=this.item.projectItems)==null?void 0:m.find(k=>k.project.id===a.id))}),n=(t=(e=this.item.projectItems)==null?void 0:e.filter(a=>!i.find(m=>m.id===a.project.id)))!=null?t:[];return await this.removeProjects(n),await this.addProjects(r),this.item.projectItems}async getIssueTimelineEvents(){h.debug(`Fetch timeline events of issue #${this.number} - enter`,Aa.ID);const i=this.githubRepository,{query:e,remote:t,schema:r}=await i.ensure();try{const{data:n}=await e({query:r.IssueTimelineEvents,variables:{owner:t.owner,name:t.repositoryName,number:this.number}});if(n.repository===null)return h.error("Unexpected null repository when getting issue timeline events",Aa.ID),[];const a=n.repository.pullRequest.timelineItems.nodes;return Fc(a,i)}catch(n){return console.log(n),[]}}};let Nr=Aa;Fr(Nr,"ID","IssueModel");var jp=Object.defineProperty,Vi=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?jp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const ir=class extends Nr{constructor(i,e,t,r,n,a){super(t,r,n,!0);this.credentialStore=i,Vi(this,"isDraft"),Vi(this,"localBranchName"),Vi(this,"mergeBase"),Vi(this,"suggestedReviewers"),Vi(this,"hasChangesSinceLastReview"),Vi(this,"_showChangesSinceReview"),Vi(this,"_hasPendingReview",!1),Vi(this,"_onDidChangePendingReviewState",new s.EventEmitter),Vi(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),Vi(this,"_reviewThreadsCache",[]),Vi(this,"_reviewThreadsCacheInitialized",!1),Vi(this,"_onDidChangeReviewThreads",new s.EventEmitter),Vi(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),Vi(this,"_fileChangeViewedState",{}),Vi(this,"_viewedFiles",new Set),Vi(this,"_unviewedFiles",new Set),Vi(this,"_onDidChangeFileViewedState",new s.EventEmitter),Vi(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),Vi(this,"_onDidChangeChangesSinceReview",new s.EventEmitter),Vi(this,"onDidChangeChangesSinceReview",this._onDidChangeChangesSinceReview.event),Vi(this,"_comments"),Vi(this,"_onDidChangeComments",new s.EventEmitter),Vi(this,"onDidChangeComments",this._onDidChangeComments.event),Vi(this,"_isActive"),Vi(this,"_telemetry"),Vi(this,"isRemoteHeadDeleted"),Vi(this,"head"),Vi(this,"isRemoteBaseDeleted"),Vi(this,"base"),Vi(this,"_fileChanges",new Map),this._telemetry=e,this.isActive=!!a,this._showChangesSinceReview=!1,this.update(n)}get isActive(){return this._isActive}set isActive(i){this._isActive=i}clear(){this.comments=[],this._reviewThreadsCacheInitialized=!1,this._reviewThreadsCache=[]}async initializeReviewThreadCache(){await this.getReviewThreads(),this._reviewThreadsCacheInitialized=!0}get reviewThreadsCache(){return this._reviewThreadsCache}get reviewThreadsCacheReady(){return this._reviewThreadsCacheInitialized}get isMerged(){return this.state===wi.Merged}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(i){this._hasPendingReview!==i&&(this._hasPendingReview=i,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}get showChangesSinceReview(){return this._showChangesSinceReview}set showChangesSinceReview(i){this._showChangesSinceReview!==i&&(this._showChangesSinceReview=i,this._fileChanges.clear(),this._onDidChangeChangesSinceReview.fire())}get comments(){var i;return(i=this._comments)!=null?i:[]}set comments(i){this._comments=i,this._onDidChangeComments.fire()}get fileChangeViewedState(){return this._fileChangeViewedState}updateState(i){i.toLowerCase()==="open"?this.state=wi.Open:i.toLowerCase()==="merged"||this.item.merged?this.state=wi.Merged:this.state=wi.Closed}update(i){super.update(i),this.isDraft=i.isDraft,this.suggestedReviewers=i.suggestedReviewers,i.isRemoteHeadDeleted!=null&&(this.isRemoteHeadDeleted=i.isRemoteHeadDeleted),i.head&&(this.head=new Sa(i.head.ref,i.head.label,i.head.sha,i.head.repo.cloneUrl,i.head.repo.owner,i.head.repo.name,i.head.repo.isInOrganization)),i.isRemoteBaseDeleted!=null&&(this.isRemoteBaseDeleted=i.isRemoteBaseDeleted),i.base&&(this.base=new Sa(i.base.ref,i.base.label,i.base.sha,i.base.repo.cloneUrl,i.base.repo.owner,i.base.repo.name,i.base.repo.isInOrganization))}isResolved(){return!!this.head}validatePullRequestModel(i){if(this.head)return!0;const e=s.l10n.t("There is no upstream branch for Pull Request #{0}. View it on GitHub for more details",this.number);i?i+=`: ${e}`:i=e;const t=s.l10n.t("Open on GitHub");return s.window.showWarningMessage(i,t).then(r=>{r&&r===t&&s.commands.executeCommand("vscode.open",s.Uri.parse(this.html_url))}),!1}async approve(i,e){var t,r,n,a,m,k;let O,G,Z;return this.isActive?(G=(t=i.state.HEAD)==null?void 0:t.commit,O=(n=(r=await this.githubRepository.getPullRequest(this.number))==null?void 0:r.head)==null?void 0:n.sha,Z=s.l10n.t("The remote head of the PR branch has changed. Please pull the latest changes from the remote branch before approving.")):(G=(a=this.head)==null?void 0:a.sha,O=(k=(m=await this.githubRepository.getPullRequest(this.number))==null?void 0:m.head)==null?void 0:k.sha,Z=s.l10n.t("The remote head of the PR branch has changed. Please refresh the pull request before approving.")),!O||O!==G?Promise.reject(Z):(await this.getPendingReviewId()?this.submitReview(fr.Approve,e):this.createReview(fr.Approve,e)).then(X=>(this._telemetry.sendTelemetryEvent("pr.approve"),this._onDidChangeComments.fire(),X))}async requestChanges(i){return(await this.getPendingReviewId()?this.submitReview(fr.RequestChanges,i):this.createReview(fr.RequestChanges,i)).then(t=>(this._telemetry.sendTelemetryEvent("pr.requestChanges"),this._onDidChangeComments.fire(),t))}async close(){const{octokit:i,remote:e}=await this.githubRepository.ensure(),t=await i.call(i.api.pulls.update,{owner:e.owner,repo:e.repositoryName,pull_number:this.number,state:"closed"});return this._telemetry.sendTelemetryEvent("pr.close"),ll(t.data,this.githubRepository)}async createReview(i,e){const{octokit:t,remote:r}=await this.githubRepository.ensure(),{data:n}=await t.call(t.api.pulls.createReview,{owner:r.owner,repo:r.repositoryName,pull_number:this.number,event:i,body:e});return Ep(n,this.githubRepository)}async submitReview(i,e){let t=await this.getPendingReviewId();const{mutate:r,schema:n}=await this.githubRepository.ensure();if(!t&&i===fr.Comment&&(t=await this.startReview()),t){const{data:a}=await r({mutation:n.SubmitReview,variables:{id:t,event:i||fr.Comment,body:e}});this.hasPendingReview=!1,await this.updateDraftModeContext();const m=Ap(a.submitPullRequestReview.pullRequestReview,this.githubRepository),k=this._reviewThreadsCache.find(O=>O.comments.length?O.comments[0].pullRequestReviewId===m.id:void 0);return k&&(k.comments=m.comments,k.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[k],removed:[]})),m}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async updateMilestone(i){const{mutate:e,schema:t}=await this.githubRepository.ensure(),r=i==="null"?null:i;try{await e({mutation:t.UpdatePullRequest,variables:{input:{pullRequestId:this.item.graphNodeId,milestoneId:r}}})}catch(n){h.error(n,ir.ID)}}async addAssignees(i){const{octokit:e,remote:t}=await this.githubRepository.ensure();await e.call(e.api.issues.addAssignees,{owner:t.owner,repo:t.repositoryName,issue_number:this.number,assignees:i})}async getPendingReviewId(){const{query:i,schema:e}=await this.githubRepository.ensure(),t=await this.githubRepository.getAuthenticatedUser();try{const{data:r}=await i({query:e.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:t}});return r.node.reviews.nodes.length>0?r.node.reviews.nodes[0].id:void 0}catch(r){return}}async getViewerLatestReviewCommit(){var i,e;h.debug("Fetch viewers latest review commit",Nr.ID);const{query:t,remote:r,schema:n}=await this.githubRepository.ensure();try{const{data:a}=await t({query:n.LatestReviewCommit,variables:{owner:r.owner,name:r.repositoryName,number:this.number}});return a.repository===null&&h.error("Unexpected null repository while getting last review commit",ir.ID),((i=a.repository)==null?void 0:i.pullRequest.viewerLatestReview)?{sha:(e=a.repository)==null?void 0:e.pullRequest.viewerLatestReview.commit.oid}:void 0}catch(a){return}}async deleteReview(){const i=await this.getPendingReviewId(),{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:r}=await e({mutation:t.DeleteReview,variables:{input:{pullRequestReviewId:i}}}),{comments:n,databaseId:a}=r.deletePullRequestReview.pullRequestReview;return this.hasPendingReview=!1,await this.updateDraftModeContext(),this.getReviewThreads(),{deletedReviewId:a,deletedReviewComments:n.nodes.map(m=>Rs(m,!1,this.githubRepository))}}async startReview(i){var e;const{mutate:t,schema:r}=await this.githubRepository.ensure(),{data:n}=await t({mutation:r.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:i||((e=this.head)==null?void 0:e.sha)}}});if(!n)throw new Error("Failed to start review");return this.hasPendingReview=!0,this._onDidChangeComments.fire(),n.addPullRequestReview.pullRequestReview.id}async createReviewThread(i,e,t,r,n,a){if(!this.validatePullRequestModel("Creating comment failed"))return;const m=await this.getPendingReviewId(),{mutate:k,schema:O}=await this.githubRepository.ensure(),{data:G}=await k({mutation:O.AddReviewThread,variables:{input:{path:e,body:i,pullRequestId:this.graphNodeId,pullRequestReviewId:m,startLine:t===r?void 0:t,line:r===void 0?0:r,side:n,subjectType:t===void 0||r===void 0?yr.FILE:yr.LINE}}},{mutation:O.LegacyAddReviewThread,deleteProps:["subjectType"]});if(!G)throw new Error("Creating review thread failed.");if(!G.addPullRequestReviewThread.thread)throw new Error("File has been deleted.");a||(this.hasPendingReview=!0,await this.updateDraftModeContext());const Z=G.addPullRequestReviewThread.thread,oe=ul(Z,this.githubRepository);return this._reviewThreadsCache.push(oe),this._onDidChangeReviewThreads.fire({added:[oe],changed:[],removed:[]}),oe}async createCommentReply(i,e,t,r){var n;if(!this.validatePullRequestModel("Creating comment failed"))return;let a=await this.getPendingReviewId();a||(a=await this.startReview(r));const{mutate:m,schema:k}=await this.githubRepository.ensure(),{data:O}=await m({mutation:k.AddComment,variables:{input:{pullRequestReviewId:a,body:i,inReplyTo:e,commitOID:r||((n=this.head)==null?void 0:n.sha)}}});if(!O)throw new Error("Creating comment reply failed.");const{comment:G}=O.addPullRequestReviewComment,Z=Rs(G,!1,this.githubRepository);t&&(Z.isDraft=!1);const oe=this._reviewThreadsCache.find(X=>X.comments.some(de=>de.graphNodeId===e));return oe&&(oe.comments.push(Z),this._onDidChangeReviewThreads.fire({added:[],changed:[oe],removed:[]})),Z}async validateDraftMode(){const i=!!await this.getPendingReviewId();return i!==this.hasPendingReview&&(this.hasPendingReview=i),await this.updateDraftModeContext(),i}async updateDraftModeContext(){this.isActive&&await s.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async editReviewComment(i,e){const{mutate:t,schema:r}=await this.githubRepository.ensure();let n=this._reviewThreadsCache.find(k=>k.comments.some(O=>O.graphNodeId===i.graphNodeId));if(!n)return this.editIssueComment(i,e);const{data:a}=await t({mutation:r.EditComment,variables:{input:{pullRequestReviewCommentId:i.graphNodeId,body:e}}});if(!a)throw new Error("Editing review comment failed.");const m=Rs(a.updatePullRequestReviewComment.pullRequestReviewComment,!!i.isResolved,this.githubRepository);if(n){const k=n.comments.findIndex(O=>O.graphNodeId===i.graphNodeId);n.comments.splice(k,1,m),this._onDidChangeReviewThreads.fire({added:[],changed:[n],removed:[]})}return m}async deleteReviewComment(i){try{const{octokit:e,remote:t}=await this.githubRepository.ensure(),r=Number(i),n=this._reviewThreadsCache.findIndex(a=>a.comments.some(m=>m.id===r));if(n===-1)this.deleteIssueComment(i);else if(await e.call(e.api.pulls.deleteReviewComment,{owner:t.owner,repo:t.repositoryName,comment_id:r}),n>-1){const a=this._reviewThreadsCache[n],m=a.comments.findIndex(k=>k.id===r);a.comments.splice(m,1),a.comments.length===0?(this._reviewThreadsCache.splice(n,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[a]})):this._onDidChangeReviewThreads.fire({added:[],changed:[a],removed:[]})}}catch(e){throw new Error(F(e))}}async getReviewRequests(){var i;const e=this.githubRepository,{remote:t,query:r,schema:n}=await e.ensure(),{data:a}=await r({query:this.credentialStore.isAuthenticatedWithAdditionalScopes(e.remote.authProviderId)?n.GetReviewRequestsAdditionalScopes:n.GetReviewRequests,variables:{number:this.number,owner:t.owner,name:t.repositoryName}});if(a.repository===null)return h.error("Unexpected null repository while getting review requests",ir.ID),[];const m=[];for(const k of a.repository.pullRequest.reviewRequests.nodes)if((i=k.requestedReviewer)==null?void 0:i.login){const O={login:k.requestedReviewer.login,url:k.requestedReviewer.url,avatarUrl:yn(k.requestedReviewer.avatarUrl,void 0,t.isEnterprise),email:k.requestedReviewer.email,name:k.requestedReviewer.name,id:k.requestedReviewer.id};m.push(O)}else if(k.requestedReviewer){const O={name:k.requestedReviewer.name,url:k.requestedReviewer.url,avatarUrl:yn(k.requestedReviewer.avatarUrl,void 0,t.isEnterprise),id:k.requestedReviewer.id,org:t.owner,slug:k.requestedReviewer.slug};m.push(O)}return m}async requestReview(i,e){const{mutate:t,schema:r}=await this.githubRepository.ensure();await t({mutation:r.AddReviewers,variables:{input:{pullRequestId:this.graphNodeId,teamIds:e,userIds:i}}})}async deleteReviewRequest(i,e){const{octokit:t,remote:r}=await this.githubRepository.ensure();await t.call(t.api.pulls.removeRequestedReviewers,{owner:r.owner,repo:r.repositoryName,pull_number:this.number,reviewers:i,team_reviewers:e})}async deleteAssignees(i){const{octokit:e,remote:t}=await this.githubRepository.ensure();await e.call(e.api.issues.removeAssignees,{owner:t.owner,repo:t.repositoryName,issue_number:this.number,assignees:i})}diffThreads(i,e){const t=[],r=[],n=[];e.forEach(a=>{const m=i.find(k=>k.id===a.id);m?Nn()(a,m)||r.push(a):t.push(a)}),i.forEach(a=>{e.find(m=>m.id===a.id)||n.push(a)}),this._onDidChangeReviewThreads.fire({added:t,changed:r,removed:n})}async getReviewThreads(){const{remote:i,query:e,schema:t}=await this.githubRepository.ensure();let r=null,n=!1;const a=[];try{do{const{data:k}=await e({query:t.PullRequestComments,variables:{owner:i.owner,name:i.repositoryName,number:this.number,after:r}},!1,{query:t.LegacyPullRequestComments});a.push(...k.repository.pullRequest.reviewThreads.nodes.map(O=>ul(O,this.githubRepository))),n=k.repository.pullRequest.reviewThreads.pageInfo.hasNextPage,r=k.repository.pullRequest.reviewThreads.pageInfo.endCursor}while(n&&a.length<1e3);const m=this._reviewThreadsCache;return this._reviewThreadsCache=a,this.diffThreads(m,a),a}catch(m){return h.error(`Failed to get pull request review comments: ${m}`,ir.ID),[]}}async initializeReviewComments(){const{remote:i,query:e,schema:t}=await this.githubRepository.ensure();let r=null,n=!1;const a=[];try{do{const{data:m}=await e({query:t.PullRequestComments,variables:{owner:i.owner,name:i.repositoryName,number:this.number,after:r}},!1,{query:t.LegacyPullRequestComments});a.push(...m.repository.pullRequest.reviewThreads.nodes.map(k=>k.comments.nodes.map(O=>Rs(O,k.isResolved,this.githubRepository),i)).reduce((k,O)=>k.concat(O),[]).sort((k,O)=>k.createdAt>O.createdAt?1:-1)),n=m.repository.pullRequest.reviewThreads.pageInfo.hasNextPage,r=m.repository.pullRequest.reviewThreads.pageInfo.endCursor}while(n&&a.length<1e3);this.comments=a}catch(m){h.error(`Failed to get pull request review comments: ${m}`,ir.ID)}}async getCommits(){try{h.debug(`Fetch commits of PR #${this.number} - enter`,ir.ID);const{remote:i,octokit:e}=await this.githubRepository.ensure(),t=await e.api.paginate(e.api.pulls.listCommits,{pull_number:this.number,owner:i.owner,repo:i.repositoryName});return h.debug(`Fetch commits of PR #${this.number} - done`,ir.ID),t}catch(i){return s.window.showErrorMessage(`Fetching commits failed: ${F(i)}`),[]}}async getCommitChangedFiles(i){var e;try{h.debug(`Fetch file changes of commit ${i.sha} in PR #${this.number} - enter`,ir.ID);const{octokit:t,remote:r}=await this.githubRepository.ensure(),n=await t.call(t.api.repos.getCommit,{owner:r.owner,repo:r.repositoryName,ref:i.sha});return h.debug(`Fetch file changes of commit ${i.sha} in PR #${this.number} - done`,ir.ID),(e=n.data.files)!=null?e:[]}catch(t){return s.window.showErrorMessage(`Fetching commit file changes failed: ${F(t)}`),[]}}async getFile(i,e){var t;const{octokit:r,remote:n}=await this.githubRepository.ensure(),a=await r.call(r.api.repos.getContent,{owner:n.owner,repo:n.repositoryName,path:i,ref:e});if(Array.isArray(a.data))throw new Error(`Unexpected array response when getting file ${i}`);const m=(t=a.data.content)!=null?t:"";return Xt.Buffer.from(m,a.data.encoding).toString()}async getTimelineEvents(){var i;h.debug(`Fetch timeline events of PR #${this.number} - enter`,ir.ID);const{query:e,remote:t,schema:r}=await this.githubRepository.ensure();try{const[{data:n},a,m,k]=await Promise.all([e({query:r.TimelineEvents,variables:{owner:t.owner,name:t.repositoryName,number:this.number}}),this.getViewerLatestReviewCommit(),this.githubRepository.getAuthenticatedUser(),this.getReviewThreads()]);n.repository===null&&h.error("Unexpected null repository when fetching timeline",ir.ID);const O=(i=n.repository)==null?void 0:i.pullRequest.timelineItems.nodes,G=O?Fc(O,this.githubRepository):[];return this.addReviewTimelineEventComments(G,k),Up(G,a==null?void 0:a.sha,m,this.head),G}catch(n){return console.log(n),[]}}addReviewTimelineEventComments(i,e){const t=i.filter(G=>G.event===Ui.Reviewed),r=e.reduce((G,Z)=>G.concat(Z.comments),[]),n=t.reduce((G,Z)=>(G[Z.id]=Z,Z.comments=[],G),{}),a=r.reduce((G,Z)=>(G[Z.id]=Z,G),{}),m=[];let k=r.length;for(;k-- >0;){const G=r[k];if(!G.inReplyToId){m.unshift(G);continue}const Z=a[G.inReplyToId];Z.childComments=Z.childComments||[],Z.childComments=[G,...G.childComments||[],...Z.childComments]}m.forEach(G=>{const Z=n[G.pullRequestReviewId];Z&&(Z.comments=Z.comments.concat(G).concat(G.childComments||[]))}),e.forEach(G=>{if(!G.prReviewDatabaseId||!n[G.prReviewDatabaseId])return;const Z=n[G.prReviewDatabaseId];Z.reviewThread={threadId:G.id,canResolve:G.viewerCanResolve,canUnresolve:G.viewerCanUnresolve,isResolved:G.isResolved}});const O=t.filter(G=>G.state.toLowerCase()==="pending")[0];O&&(O.comments=r.filter(G=>G.isDraft))}async getStatusChecks(){return this.githubRepository.getStatusChecks(this.number)}static async openDiffFromComment(i,e,t){const n=(await e.getFileChangesInfo()).find(k=>k.fileName===t.path||k.previousFileName===t.path);if(!n)throw new Error("Can't find matching file");const a=t.path.split("/"),m=t.diffHunks&&t.diffHunks.length>0?t.diffHunks[0].newLineNumber:void 0;this.openDiff(i,e,n,a[a.length-1],m)}static async openFirstDiff(i,e){const t=await e.getFileChangesInfo();if(!t.length)return;const r=t[0];this.openDiff(i,e,r,r.fileName)}static async openDiff(i,e,t,r,n){let a,m;if(e.equals(i.activePullRequest)){const k=s.Uri.file(p.resolve(i.repository.rootUri.fsPath,t.fileName));a=t.status===Ht.DELETE?_n(k,void 0,void 0,"",!1,{base:!1},i.repository.rootUri):k;const O=e.mergeBase||e.base.sha;m=_n(k,t.status===Ht.RENAME?t.previousFileName:t.fileName,void 0,t.status===Ht.ADD?"":O,!1,{base:!0},i.repository.rootUri)}else{const k=e.head.sha,O=t.status===Ht.RENAME?t.previousFileName:t.fileName;a=pa(s.Uri.file(Ts(i.repository.rootUri,t.fileName)),e,t.baseCommit,k,t.fileName,!1,t.status,t.previousFileName),m=pa(s.Uri.file(Ts(i.repository.rootUri,O)),e,t.baseCommit,k,t.fileName,!0,t.status,t.previousFileName)}s.commands.executeCommand("vscode.diff",m,a,`${r} (Pull Request)`,n?{selection:{start:{line:n,character:0},end:{line:n,character:0}}}:{})}get fileChanges(){return this._fileChanges}async getFileChangesInfo(){this._fileChanges.clear();const i=await this.getRawFileChangesInfo(),e=this.mergeBase||this.base.sha,t=await ai(i,e);return t.forEach(r=>{this._fileChanges.set(r.fileName,r)}),t}async getRawFileChangesInfo(){var i;h.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,ir.ID);const e=this.githubRepository,{octokit:t,remote:r}=await e.ensure();if(!this.base){const Z=await t.call(t.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:this.number});this.update(ll(Z.data,e))}let n=this.base.sha;const a=await this.getViewerLatestReviewCommit(),m=this.hasChangesSinceLastReview;if(this.hasChangesSinceLastReview=a!==void 0&&((i=this.head)==null?void 0:i.sha)!==a.sha,this._showChangesSinceReview&&this.hasChangesSinceLastReview&&a!=null&&(n=a.sha),this.item.merged){const Z=await Oc(t.api.pulls.listFiles,{repo:r.repositoryName,owner:r.owner,pull_number:this.number});return this.mergeBase=this.base.sha,Z}const{data:k}=await t.call(t.api.repos.compareCommits,{repo:r.repositoryName,owner:r.owner,base:`${this.base.repositoryCloneUrl.owner}:${n}`,head:`${this.head.repositoryCloneUrl.owner}:${this.head.sha}`});this.mergeBase=k.merge_base_commit.sha;const O=100;let G=[];return k.files&&k.files.length>=O?(h.debug(`More than ${O} files changed, fetching all file changes of PR #${this.number}`,ir.ID),G=await Oc(t.api.pulls.listFiles,{owner:this.base.repositoryCloneUrl.owner,pull_number:this.number,repo:r.repositoryName})):G=k.files?k.files:[],m!==void 0&&m!==this.hasChangesSinceLastReview&&this.hasChangesSinceLastReview&&this._showChangesSinceReview&&this._onDidChangeChangesSinceReview.fire(),h.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${G.length} `,ir.ID),G}get autoMerge(){return!!this.item.autoMerge}get autoMergeMethod(){return this.item.autoMergeMethod}get allowAutoMerge(){return!!this.item.allowAutoMerge}get mergeCommitMeta(){return this.item.mergeCommitMeta}get squashCommitMeta(){return this.item.squashCommitMeta}async getMergeability(){var i,e;try{h.debug(`Fetch pull request mergeability ${this.number} - enter`,ir.ID);const{query:t,remote:r,schema:n}=await this.githubRepository.ensure(),{data:a}=await t({query:n.PullRequestMergeability,variables:{owner:r.owner,name:r.repositoryName,number:this.number}});a.repository===null&&h.error("Unexpected null repository while getting mergeability",ir.ID),h.debug(`Fetch pull request mergeability ${this.number} - done`,ir.ID);const m=Dc((i=a.repository)==null?void 0:i.pullRequest.mergeable,(e=a.repository)==null?void 0:e.pullRequest.mergeStateStatus);return this.item.mergeable=m,m}catch(t){return h.error(`Unable to fetch PR Mergeability: ${t}`,ir.ID),br.Unknown}}async setReadyForReview(){try{const{mutate:i,schema:e}=await this.githubRepository.ensure(),{data:t}=await i({mutation:e.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});return this._telemetry.sendTelemetryEvent("pr.readyForReview.success"),t.markPullRequestReadyForReview.pullRequest.isDraft}catch(i){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),i}}updateCommentReactions(i,e){const t=this._reviewThreadsCache.find(r=>r.comments.some(n=>n.graphNodeId===i));if(t){const r=t.comments.find(n=>n.graphNodeId===i);r&&(r.reactions=Tc(e),this._onDidChangeReviewThreads.fire({added:[],changed:[t],removed:[]}))}}async addCommentReaction(i,e){const t=fl().reduce((k,O)=>(k[O.label]=O.title,k),{}),{mutate:r,schema:n}=await this.githubRepository.ensure(),{data:a}=await r({mutation:n.AddReaction,variables:{input:{subjectId:i,content:t[e.label]}}});if(!a)throw new Error("Add comment reaction failed.");const m=a.addReaction.subject.reactionGroups;return this.updateCommentReactions(i,m),a}async deleteCommentReaction(i,e){const t=fl().reduce((k,O)=>(k[O.label]=O.title,k),{}),{mutate:r,schema:n}=await this.githubRepository.ensure(),{data:a}=await r({mutation:n.DeleteReaction,variables:{input:{subjectId:i,content:t[e.label]}}});if(!a)throw new Error("Delete comment reaction failed.");const m=a.removeReaction.subject.reactionGroups;return this.updateCommentReactions(i,m),a}undoOptimisticResolveState(i){i&&(i.isResolved=!i.isResolved,i.viewerCanResolve=!i.viewerCanResolve,i.viewerCanUnresolve=!i.viewerCanUnresolve,this._onDidChangeReviewThreads.fire({added:[],changed:[i],removed:[]}))}async resolveReviewThread(i){const e=this._reviewThreadsCache.find(t=>t.id===i);try{h.debug("Resolve review thread - enter",ir.ID);const{mutate:t,schema:r}=await this.githubRepository.ensure();e&&e.viewerCanResolve&&(e.isResolved=!0,e.viewerCanResolve=!1,e.viewerCanUnresolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[e],removed:[]}));const{data:n}=await t({mutation:r.ResolveReviewThread,variables:{input:{threadId:i}}},{mutation:r.LegacyResolveReviewThread,deleteProps:[]});if(!n)throw this.undoOptimisticResolveState(e),new Error("Resolve review thread failed.");const a=this._reviewThreadsCache.findIndex(m=>m.id===i);if(a>-1){const m=ul(n.resolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(a,1,m),this._onDidChangeReviewThreads.fire({added:[],changed:[m],removed:[]})}h.debug("Resolve review thread - done",ir.ID)}catch(t){h.error(`Resolve review thread failed: ${t}`,ir.ID),this.undoOptimisticResolveState(e)}}async unresolveReviewThread(i){const e=this._reviewThreadsCache.find(t=>t.id===i);try{h.debug("Unresolve review thread - enter",ir.ID);const{mutate:t,schema:r}=await this.githubRepository.ensure();e&&e.viewerCanUnresolve&&(e.isResolved=!1,e.viewerCanUnresolve=!1,e.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[e],removed:[]}));const{data:n}=await t({mutation:r.UnresolveReviewThread,variables:{input:{threadId:i}}},{mutation:r.LegacyUnresolveReviewThread,deleteProps:[]});if(!n)throw this.undoOptimisticResolveState(e),new Error("Unresolve review thread failed.");const a=this._reviewThreadsCache.findIndex(m=>m.id===i);if(a>-1){const m=ul(n.unresolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(a,1,m),this._onDidChangeReviewThreads.fire({added:[],changed:[m],removed:[]})}h.debug("Unresolve review thread - done",ir.ID)}catch(t){h.error(`Unresolve review thread failed: ${t}`,ir.ID),this.undoOptimisticResolveState(e)}}async enableAutoMerge(i){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:r}=await e({mutation:t.EnablePullRequestAutoMerge,variables:{input:{mergeMethod:i.toUpperCase(),pullRequestId:this.graphNodeId}}});if(!r)throw new Error("Enable auto-merge failed.");this.item.autoMerge=!0,this.item.autoMergeMethod=i}catch(e){if(e.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw e}}async disableAutoMerge(){try{const{mutate:i,schema:e}=await this.githubRepository.ensure(),{data:t}=await i({mutation:e.DisablePullRequestAutoMerge,variables:{input:{pullRequestId:this.graphNodeId}}});if(!t)throw new Error("Disable auto-merge failed.");this.item.autoMerge=!1}catch(i){if(i.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw i}}async initializePullRequestFileViewState(){const{query:i,schema:e,remote:t}=await this.githubRepository.ensure(),r=[];let n=null,a=!1;do{const{data:m}=await i({query:e.PullRequestFiles,variables:{owner:t.owner,name:t.repositoryName,number:this.number,after:n}});m.repository.pullRequest.files.nodes.forEach(k=>{this._fileChangeViewedState[k.path]!==k.viewerViewedState&&r.push({fileName:k.path,viewed:k.viewerViewedState}),this.setFileViewedState(k.path,k.viewerViewedState,!1)}),a=m.repository.pullRequest.files.pageInfo.hasNextPage,n=m.repository.pullRequest.files.pageInfo.endCursor}while(a);r.length&&this._onDidChangeFileViewedState.fire({changed:r})}async markFileAsViewed(i,e){const{mutate:t,schema:r}=await this.githubRepository.ensure(),n=i.startsWith(this.githubRepository.rootUri.path)?i.substring(this.githubRepository.rootUri.path.length+1):i;await t({mutation:r.MarkFileAsViewed,variables:{input:{path:n,pullRequestId:this.graphNodeId}}}),this.setFileViewedState(n,sr.VIEWED,e)}async unmarkFileAsViewed(i,e){const{mutate:t,schema:r}=await this.githubRepository.ensure(),n=i.startsWith(this.githubRepository.rootUri.path)?i.substring(this.githubRepository.rootUri.path.length+1):i;await t({mutation:r.UnmarkFileAsViewed,variables:{input:{path:n,pullRequestId:this.graphNodeId}}}),this.setFileViewedState(n,sr.UNVIEWED,e)}async unmarkAllFilesAsViewed(){return Promise.all(Array.from(this.fileChanges.keys()).map(i=>this.unmarkFileAsViewed(i,!0)))}setFileViewedState(i,e,t){const r=s.Uri.joinPath(this.githubRepository.rootUri,i),n=this.githubRepository.rootUri.scheme===li.VscodeVfs?r.path:r.fsPath;switch(e){case sr.DISMISSED:{this._viewedFiles.delete(n),this._unviewedFiles.delete(n);break}case sr.UNVIEWED:{this._viewedFiles.delete(n),this._unviewedFiles.add(n);break}case sr.VIEWED:this._viewedFiles.add(n),this._unviewedFiles.delete(n)}this._fileChangeViewedState[i]=e,t&&this._onDidChangeFileViewedState.fire({changed:[{fileName:i,viewed:e}]})}getViewedFileStates(){return{viewed:this._viewedFiles,unviewed:this._unviewedFiles}}};let wn=ir;Vi(wn,"ID","PullRequestModel");var zp=Object.defineProperty,Tu=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?zp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);let Jn;class ml extends s.Disposable{constructor(e){super(()=>this.disposables.forEach(t=>t.dispose()));this._storageUri=e,Tu(this,"SUBPATH","temp"),Tu(this,"disposables",[]),Tu(this,"persistInSessionDisposables",[])}get path(){return s.Uri.joinPath(this._storageUri,this.SUBPATH)}dispose(){K(this.disposables),K(this.persistInSessionDisposables)}addDisposable(e,t){if(t)this.persistInSessionDisposables.push(e);else{if(this.disposables.length>30){const r=this.disposables.shift();r==null||r.dispose()}this.disposables.push(e)}}async writeState(e,t,r,n){let a=this.path;const m=s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].name:void 0;m&&(a=s.Uri.joinPath(a,m)),e&&(a=s.Uri.joinPath(a,e)),await s.workspace.fs.createDirectory(a);const k=s.Uri.joinPath(a,t);await s.workspace.fs.writeFile(k,r);const O={dispose:()=>{try{return s.workspace.fs.delete(k,{recursive:!0})}catch(G){}}};return this.addDisposable(O,n),k}async readState(e,t){let r=this.path;const n=s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].name:void 0;n&&(r=s.Uri.joinPath(r,n)),r=s.Uri.joinPath(r,e);const a=s.Uri.joinPath(r,t);return s.workspace.fs.readFile(a)}static async init(e){if(e.globalStorageUri&&!Jn){Jn=new ml(e.globalStorageUri);try{await s.workspace.fs.delete(Jn.path,{recursive:!0})}catch(t){h.appendLine(`TemporaryState> Error in initialization: ${t.message}`)}try{await s.workspace.fs.createDirectory(Jn.path)}catch(t){h.appendLine(`TemporaryState> Error in initialization: ${t.message}`)}return e.subscriptions.push(Jn),Jn}}static async write(e,t,r,n=!1){if(!!Jn)return Jn.writeState(e,t,r,n)}static async read(e,t){if(!!Jn)return Jn.readState(e,t)}}function Zn(i){return JSON.parse(i)}function lr(i){try{return JSON.parse(i.query)}catch(e){}}function Vc(i){try{return JSON.parse(i.query)}catch(e){}}function Gc(i){try{return JSON.parse(i.query)}catch(e){}}const Wp=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],$c=[".aac",".avi",".bmp",".flv",".gif",".ico",".jpe",".jpeg",".jpg",".m1v",".m2a",".m2v",".m3a",".mid",".midi",".mk3d",".mks",".mkv",".mov",".movie",".mp2",".mp2a",".mp3",".mp4",".mp4a",".mp4v",".mpe",".mpeg",".mpg",".mpg4",".mpga",".oga",".ogg",".opus",".ogv",".png",".psd",".qt",".spx",".svg",".tga",".tif",".tiff",".wav",".webm",".webp",".wma",".wmv",".woff"],jc=s.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function Mu(i,e){try{const{commit:t,baseCommit:r,headCommit:n,isBase:a,path:m}=JSON.parse(i.query),k=p.extname(m);if(!$c.includes(k))return;const O=i.scheme===li.Review?t:a?r:n,{object:G}=await e.getObjectDetails(O,i.fsPath),{mimetype:Z}=await e.detectObjectType(G);if(Z==="text/plain")return;if(Wp.indexOf(Z)>-1){const oe=await e.buffer(O,i.fsPath);return ml.write(p.dirname(m),p.basename(m),oe)}}catch(t){return}}var Ia;(function(i){const e="userIcons";function t(Z){return`${Pr(Z)}.jpg`}function r(Z){return s.Uri.joinPath(Z.globalStorageUri,e)}function n(Z,oe){return s.Uri.joinPath(r(Z),t(oe))}function a(Z){return s.Uri.joinPath(r(Z),"cache.log")}async function m(Z,oe,X){await s.workspace.fs.createDirectory(r(Z));const de=n(Z,oe);return await s.workspace.fs.writeFile(de,X),de}async function k(Z,oe){try{const X=n(Z,oe);return s.workspace.fs.readFile(X)}catch(X){return}}function O(Z){return s.Uri.parse(`data:image/svg+xml;size:${Z.byteLength};base64,${Z.toString("base64")}`)}i.asImageDataURI=O;async function G(Z,oe,X,de,ke){let Ne;const Ie=a(Z);try{const it=await s.workspace.fs.readFile(Ie);Ne=JSON.parse(it.toString())}catch(it){Ne=[]}const De=Ne.length,Fe=await Promise.all(oe.map(async it=>{const ht=it.avatarUrl;if(ht===void 0)return;let Pt,At=!1;try{const vr=await k(Z,it);if(!vr)throw new Error("Temporary state not initialized");Pt=Xt.Buffer.from(vr)}catch(vr){if(ke)return;At=!0;const Yi=async()=>{const Jl=await(await Wr()(ht.toString())).arrayBuffer();await m(Z,it,new Uint8Array(Jl)),Pt=Xt.Buffer.from(Jl)};try{await Yi()}catch(Yl){await Yi()}}if(!Pt)return;if(At){const vr=t(it);Ne.push(vr)}const $t=`data:image/jpeg;size:${Pt.byteLength};base64,${Pt.toString("base64")}`,ri=`<svg width="${de}" height="${X}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		<image href="${$t}" width="${de}" height="${X}" style="clip-path: inset(0 0 0 0 round 50%);"/>
		</svg>`,Tr=Xt.Buffer.from(ri);return O(Tr)})),Ze=Math.max(oe.length,200);if(Ne.length>De&&De>0&&Ne.length>Ze){const it=Ne.splice(0,50);await Promise.all(it.map(async ht=>{try{await s.workspace.fs.delete(s.Uri.joinPath(r(Z),ht))}catch(Pt){h.error(`Failed to delete avatar from cache: ${Pt}`)}}))}return await s.workspace.fs.writeFile(Ie,Xt.Buffer.from(JSON.stringify(Ne))),Fe}i.avatarCirclesAsImageDataUris=G})(Ia||(Ia={}));function _n(i,e,t,r,n,a,m){const k={path:e||i.path,ref:t,commit:r,base:a.base,isOutdated:n,rootPath:m.path};let O=i.path;return a.replaceFileExtension&&(O=`${O}.git`),i.with({scheme:li.Review,path:O,query:JSON.stringify(k)})}function Pu(i,e,t,r,n){const a={prNumber:e,fileName:t,status:r,previousFileName:n};return i.with({scheme:li.FileChange,query:JSON.stringify(a)})}function zc(i){try{return i.query?JSON.parse(i.query):void 0}catch(e){}}function pa(i,e,t,r,n,a,m,k){const O={baseCommit:t,headCommit:r,isBase:a,fileName:n,prNumber:e.number,status:m,remoteName:e.githubRepository.remote.remoteName,previousFileName:k},G=i.path;return i.with({scheme:li.Pr,path:G,query:JSON.stringify(O)})}function Wc(i){let e;return i instanceof wn?e=`${i.remote.url}:${i.number}`:typeof i=="string"?e=i:e=`${i.remote}:${i.prNumber}`,e}function xu(i){const e=Wc(i),t={prIdentifier:e};return s.Uri.parse(`PRNode:${e}`).with({scheme:li.PRNode,query:JSON.stringify(t)})}var li;(function(i){i.File="file",i.Review="review",i.Pr="pr",i.PRNode="prnode",i.FileChange="filechange",i.GithubPr="githubpr",i.GitPr="gitpr",i.VscodeVfs="vscode-vfs",i.Comment="comment"})(li||(li={}));function Ts(i,e){return i.scheme===li.File?p.resolve(i.fsPath,e):p.posix.resolve(i.path,e)}class Kp extends s.EventEmitter{handleUri(e){this.fire(e)}}const Qp=new Kp,Ms="GitHub.vscode-pull-request-github",Du="git",Kc="ghpr",Qc="initialize",Yc="statechange",Ps="github:focusedReview";function wo(i){return i===void 0||i===0?0:i-1}function nw(i,e){for(let t=0;t<i.length;t++){const r=i[t];for(let n=0;n<r.diffLines.length;n++)if(r.diffLines[n].positionInHunk===e)return r.diffLines[n]}}function pl(i,e){const t=ot(i);let r=t.next(),n=0;for(;!r.done;){const a=r.value;if(!(a.oldLineNumber>e))if(a.oldLineNumber+a.oldLength-1<e)n+=a.newLength-a.oldLength;else{for(const m of a.diffLines){if(m.oldLineNumber>e)return e+n;m.type===hr.Add?n++:m.type===hr.Delete&&n--}return e+n}r=t.next()}return e+n}function _o(i,e){const t=ot(i);let r=t.next(),n=0;for(;!r.done;){const a=r.value;if(!(a.newLineNumber>e))if(a.newLineNumber+a.newLength-1<e)n+=a.oldLength-a.newLength;else{for(const m of a.diffLines){if(m.newLineNumber>e)return e+n;m.type===hr.Add?n--:m.type===hr.Delete&&n++}return e+n}r=t.next()}return e+n}function Jc(i,e,t="GetCommentingRanges"){i.length===0&&h.debug("No commenting ranges: File contains no diffs.",t);const r=[];for(let n=0;n<i.length;n++){const a=i[n];let m,k;if(e){let O;for(let G=0;G<a.diffLines.length;G++){const Z=a.diffLines[G];Z.type===hr.Delete?(m!==void 0||(m=wo(Z.oldLineNumber)),O=wo(Z.oldLineNumber)):m!==void 0&&O!==void 0&&(r.push(new s.Range(m,0,O,0)),m=void 0,O=void 0)}m!==void 0&&O!==void 0?(r.push(new s.Range(m,0,O,0)),m=void 0,O=void 0):r.length===0&&h.debug("No commenting ranges: Diff is in base and none of the diff hunks could be added.",t)}else a.newLineNumber?(m=wo(a.newLineNumber),k=wo(a.newLength),r.push(new s.Range(m,0,m+k,0))):h.debug("No commenting ranges: Diff is not base and newLineNumber is undefined.",t)}return h.debug(`Found ${r.length} commenting ranges.`,t),r}var Yp=Object.defineProperty,xs=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Yp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Au{constructor(e,t,r,n){this.pullRequest=e,this.folderRepoManager=t,this.change=r,this.sha=n,xs(this,"_filePath"),xs(this,"_parentFilePath"),xs(this,"_viewed")}get filePath(){return this._filePath}get parentFilePath(){return this._parentFilePath}get status(){return this.change.status}get fileName(){return this.change.fileName}get blobUrl(){return this.change.blobUrl}get viewed(){return this._viewed}updateViewed(e){this._viewed!==e&&(this._viewed=e)}async diffHunks(){var e;let t=[];if(this.change instanceof Vn)return this.change.diffHunks;if(this.status!==Ht.RENAME)try{const r=(e=this.sha)!=null?e:this.pullRequest.head.sha,n=await this.folderRepoManager.repository.diffBetween(this.pullRequest.base.sha,r,this.fileName);t=bt(n)}catch(r){h.error(`Failed to parse patch for outdated comments: ${r}`)}return t}}class Iu extends Au{constructor(e,t,r,n,a,m,k){super(t,e,r,m);this.sha=m,xs(this,"_show"),this._filePath=n,this._parentFilePath=a,k&&this.showBase()}async showBase(){if(!this._show){const e=this.change instanceof Vn||this.change instanceof Kr?this.change.baseCommit:this.sha,t=s.Uri.joinPath(this.folderRepoManager.repository.rootUri,this.fileName).fsPath;this._show=this.folderRepoManager.repository.show(e,t)}return this._show}}class ko extends Au{constructor(e,t,r,n,a){super(t,e,r);this.change=r;const m=t.head.sha,k=r.status===Ht.RENAME?r.previousFileName:r.fileName,O=e.repository.rootUri.with({path:s.Uri.file(Ts(e.repository.rootUri,r.fileName)).path}),G=e.repository.rootUri.with({path:s.Uri.file(Ts(e.repository.rootUri,k)).path});this._filePath=n?r.status===Ht.DELETE?_n(O,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):O:pa(O,t,r.baseCommit,m,r.fileName,!1,r.status,r.previousFileName),this._parentFilePath=n?_n(G,r.status===Ht.RENAME?r.previousFileName:r.fileName,void 0,r.status===Ht.ADD?"":a,!1,{base:!0},e.repository.rootUri):pa(G,t,r.baseCommit,m,r.fileName,!0,r.status,r.previousFileName)}get previousFileName(){return this.change.previousFileName}async isPartial(){let e=!1;switch(this.change.status){case Ht.DELETE:case Ht.MODIFY:try{await this.folderRepoManager.repository.getObjectDetails(this.change.baseCommit,this.change.fileName),e=!0}catch(t){}break;case Ht.RENAME:try{await this.folderRepoManager.repository.getObjectDetails(this.change.baseCommit,this.change.previousFileName),e=!0}catch(t){}break}return!e&&this.change.status!==Ht.ADD}get patch(){return this.change.patch}async diffHunks(){return this.change.diffHunks}}class So extends Au{constructor(e,t,r){super(r,e,t);this.change=t,xs(this,"fileChangeResourceUri"),xs(this,"childrenDisposables",[]);const n=r.head.sha,a=t.status===Ht.RENAME?t.previousFileName:t.fileName;this._filePath=pa(s.Uri.file(Ts(e.repository.rootUri,t.fileName)),r,t.baseCommit,n,t.fileName,!1,t.status,t.previousFileName),this._parentFilePath=pa(s.Uri.file(Ts(e.repository.rootUri,a)),r,t.baseCommit,n,t.fileName,!0,t.status,t.previousFileName)}get previousFileName(){return this.change.previousFileName}get blobUrl(){return this.change.blobUrl}}var Jp=Object.defineProperty,Fu=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Jp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Zp{constructor(){Fu(this,"fileHasComments",new Map),Fu(this,"_onDidChangeFileDecorations",new s.EventEmitter),Fu(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event)}updateFileComments(e,t,r,n){const a=`${t}:${r}`;this.fileHasComments.get(a)!==n&&(this.fileHasComments.set(`${t}:${r}`,n),this._onDidChangeFileDecorations.fire(e))}provideFileDecoration(e,t){const r=zc(e);if(r){const n=`${r.prNumber}:${r.fileName}`;if(this.fileHasComments.get(n))return{propagate:!1,tooltip:"Commented",badge:"\u{1F4AC}"}}}}const Zc=new Zp;var Xp=Object.defineProperty,ts=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Xp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const Ou="expandedQueries";class Ur{constructor(){ts(this,"children"),ts(this,"childrenDisposables"),ts(this,"parent"),ts(this,"label"),ts(this,"accessibilityInformation"),ts(this,"id")}getParent(){if(this.parent instanceof Ur)return this.parent}async reveal(e,t){try{await this.parent.reveal(e||this,t)}catch(r){h.error(r,"TreeNode")}}refresh(e){return this.parent.refresh(e)}async cachedChildren(){return this.children&&this.children.length?this.children:this.getChildren()}async getChildren(){return this.children&&this.children.length&&(K(this.children),this.children=[]),[]}updateFromCheckboxChanged(e){}dispose(){this.childrenDisposables&&(K(this.childrenDisposables),this.childrenDisposables=[])}}class Xc extends Ur{constructor(e){super();ts(this,"label",""),this.label=e}getTreeItem(){return new s.TreeItem(this.label)}}var ev=Object.defineProperty,kn=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?ev(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);function Lu(i,e={}){const t=s.window.activeTextEditor,r={...e,viewColumn:s.ViewColumn.Active};return t&&t.document.uri.path===i.path&&(r.selection=t.selection),{command:"vscode.open",arguments:[i,r],title:"Open File"}}async function Uu(i,e,t,r,n){let a=await Mu(e,i.repository)||e,m=await Mu(t,i.repository)||t;(a.scheme==="data"||m.scheme==="data")&&(n===Ht.ADD&&(a=jc),n===Ht.DELETE&&(m=jc));const k=t.path.split("/");return{command:"vscode.diff",arguments:[a,m,`${k[k.length-1]} (Pull Request)`,r],title:"Open Changed File in PR"}}class Ro extends Ur{constructor(e,t,r,n){super();this.parent=e,this.pullRequestManager=t,this.pullRequest=r,this.changeModel=n,kn(this,"iconPath"),kn(this,"fileChangeResourceUri"),kn(this,"contextValue"),kn(this,"command"),kn(this,"opts"),kn(this,"checkboxState"),kn(this,"childrenDisposables",[]);var a;const m=(a=this.pullRequest.fileChangeViewedState[this.changeModel.fileName])!=null?a:sr.UNVIEWED;this.contextValue=`${li.FileChange}:${Ht[this.changeModel.status]}:${m===sr.VIEWED?"viewed":"unviewed"}`,this.label=p.basename(this.changeModel.fileName),this.iconPath=s.ThemeIcon.File,this.opts={},this.updateShowOptions(),this.fileChangeResourceUri=Pu(s.Uri.file(this.changeModel.fileName),this.pullRequest.number,this.changeModel.fileName,this.changeModel.status,this.changeModel.change instanceof Vn?this.changeModel.change.previousFileName:void 0),this.updateViewed(m),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(k=>{[...k.added,...k.removed].some(O=>O.path===this.changeModel.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(k=>{const O=k.changed.find(G=>G.fileName===this.changeModel.fileName);O&&(this.updateViewed(O.viewed),this.refresh(this))})),this.accessibilityInformation={label:`View diffs and comments for file ${this.label}`,role:"link"}}get status(){return this.changeModel.status}get fileName(){return this.changeModel.fileName}get blobUrl(){return this.changeModel.blobUrl}get sha(){return this.changeModel.sha}get tooltip(){return this.resourceUri.fsPath}get resourceUri(){return this.changeModel.filePath.with({query:this.fileChangeResourceUri.query})}get description(){return s.workspace.getConfiguration(Be).get(zt)==="flat"?!0:""}updateViewed(e){var t,r;this.changeModel.updateViewed(e),this.contextValue=`${li.FileChange}:${Ht[this.changeModel.status]}:${e===sr.VIEWED?"viewed":"unviewed"}`,this.checkboxState=e===sr.VIEWED?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark file as unviewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as unviewed",(t=this.label)!=null?t:"")}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark file as viewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as viewed",(r=this.label)!=null?r:"")}}}async markFileAsViewed(e=!0){await this.pullRequest.markFileAsViewed(this.fileName,!e),this.pullRequestManager.setFileViewedContext()}async unmarkFileAsViewed(e=!0){await this.pullRequest.unmarkFileAsViewed(this.fileName,!e),this.pullRequestManager.setFileViewedContext()}updateFromCheckboxChanged(e){const t=e===s.TreeItemCheckboxState.Checked?sr.VIEWED:sr.UNVIEWED;this.updateViewed(t),e===s.TreeItemCheckboxState.Checked?this.markFileAsViewed():this.unmarkFileAsViewed()}updateShowOptions(){var e,t;const r=this.pullRequest.reviewThreadsCache,a=(o(r,m=>m.path)[this.changeModel.fileName]||[]).filter(m=>!m.isOutdated);if(Zc.updateFileComments(this.fileChangeResourceUri,this.pullRequest.number,this.changeModel.fileName,a.length>0),a.length){a.sort((O,G)=>O.endLine-G.endLine);const m=(e=a[0].startLine)!=null?e:a[0].originalStartLine,k=(t=a[0].endLine)!=null?t:a[0].originalEndLine;this.opts.selection=new s.Range(m,0,k,0)}else delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return Lu(this.changeModel.filePath)}async openDiff(e,t){var r;const n=await Uu(e,this.changeModel.parentFilePath,this.changeModel.filePath,{...this.opts,...t},this.changeModel.status);return s.commands.executeCommand(n.command,...(r=n.arguments)!=null?r:[])}}class Bu extends Ro{constructor(e,t,r,n){super(e,t,r,n);this.parent=e,this.fileChangeResourceUri=Pu(s.Uri.parse(n.blobUrl),n.pullRequest.number,n.fileName,n.status,n.previousFileName),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]}}get description(){let e=s.workspace.asRelativePath(p.dirname(this.changeModel.fileName),!1);return e==="."&&(e=""),e}async openDiff(){return s.commands.executeCommand(this.command.command)}openFileCommand(){return this.command}}class qu extends Ro{constructor(e,t,r,n){super(t,e,r,n);this.folderRepositoryManager=e,this.parent=t,this.pullRequest=r,this.changeModel=n}get comments(){return this.pullRequest.comments.filter(e=>e.path===this.changeModel.fileName&&e.position!==null)}getTreeItem(){return this}async resolve(){this.command=await Uu(this.folderRepositoryManager,this.changeModel.parentFilePath,this.changeModel.filePath,void 0,this.changeModel.status)}}class Ds extends Ro{constructor(e,t,r,n,a,m){super(e,t,r,n);this.parent=e,this.pullRequest=r,this.changeModel=n,this.isCurrent=a,this._comments=m,kn(this,"_useViewChangesCommand",!1)}get comments(){return this._comments?this._comments:this.pullRequest.comments.filter(e=>!this.sha||this.sha===this.pullRequest.head.sha?e.position&&e.path===this.changeModel.fileName:e.path===this.changeModel.fileName&&e.originalCommitId===this.sha)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===Ht.DELETE||this.status===Ht.ADD){const de=this.changeModel.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===Ht.DELETE?[this.changeModel.parentFilePath,de,`${this.fileName}`,{}]:[de,this.changeModel.parentFilePath,`${this.fileName}`,{}],title:"Open Diff"}}const{path:e,ref:t,commit:r,rootPath:n}=Zn(this.changeModel.filePath.query),a=`${r}^`,m={path:e,ref:t,commit:a,base:!0,isOutdated:!0,rootPath:n},k=this.changeModel.filePath.with({query:JSON.stringify(m)});let O=this.changeModel.filePath;this.isCurrent&&(O=this.pullRequestManager.repository.rootUri.with({path:p.posix.join(m.rootPath,m.path)}));const G={},Z=this.pullRequest.reviewThreadsCache,X=(o(Z,de=>de.path)[this.fileName]||[]).filter(de=>de.isOutdated).sort((de,ke)=>de.endLine-ke.endLine);return X.length&&(G.selection=new s.Range(X[0].originalStartLine,0,X[0].originalEndLine,0)),{command:"vscode.diff",arguments:[k,O,`${this.fileName} from ${(r||"").substr(0,8)}`,G],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():s.workspace.getConfiguration(Zt,this.pullRequestManager.repository.rootUri).get(Pi,!0)?this.command=await Uu(this.pullRequestManager,this.changeModel.parentFilePath,this.changeModel.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class vl extends Ur{constructor(e,t,r,n,a,m,k){super();this.parent=e,this.fileName=t,this.previousFileName=r,this.status=n,this.baseBranch=a,this.headBranch=m,this.isLocal=k,kn(this,"description"),kn(this,"iconPath"),kn(this,"fileChangeResourceUri"),kn(this,"command");const O=k?li.GitPr:li.GithubPr;this.label=t,this.iconPath=s.ThemeIcon.File,this.fileChangeResourceUri=s.Uri.file(t).with({scheme:O,query:JSON.stringify({status:n,fileName:t})});let G=s.Uri.file(t).with({scheme:O,query:JSON.stringify({fileName:t,branch:a})}),Z=s.Uri.file(t).with({scheme:O,query:JSON.stringify({fileName:t,branch:m})});switch(n){case Ht.ADD:G=s.Uri.file(t).with({scheme:O,query:JSON.stringify({fileName:t,branch:a,isEmpty:!0})});break;case Ht.RENAME:G=s.Uri.file(r).with({scheme:O,query:JSON.stringify({fileName:r,branch:a,isEmpty:!0})});break;case Ht.DELETE:Z=s.Uri.file(t).with({scheme:O,query:JSON.stringify({fileName:t,branch:m,isEmpty:!0})});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[G,Z,`${t} (Pull Request Preview)`]}}get resourceUri(){return s.Uri.file(this.fileName).with({query:this.fileChangeResourceUri.query})}getTreeItem(){return this}}function Hu(i){return i.filter(e=>e instanceof Ds)}var tv=Object.defineProperty,Xn=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?tv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const On=class{constructor(i,e,t,r){this._reviewManager=i,this._reposManager=e,this._repository=t,this._reviewModel=r,Xn(this,"_localToDispose",[]),Xn(this,"_commentHandlerId"),Xn(this,"_commentController"),Xn(this,"_workspaceFileChangeCommentThreads",{}),Xn(this,"_reviewSchemeFileChangeCommentThreads",{}),Xn(this,"_obsoleteFileChangeCommentThreads",{}),Xn(this,"_visibleNormalTextEditors",[]),Xn(this,"_pendingCommentThreadAdds",[]),Xn(this,"_context"),this._context=this._reposManager.context,this._commentController=s.comments.createCommentController(`github-review-${e.activePullRequest.number}`,e.activePullRequest.title),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this._localToDispose.push(this._commentController),this._commentHandlerId=ac(),$e(this._commentHandlerId,this)}get commentController(){return this._commentController}async initialize(){this._visibleNormalTextEditors=s.window.visibleTextEditors.filter(i=>i.document.uri.scheme!=="comment"),await this._reposManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}async createOutdatedCommentThread(i,e){var t;const r=e.comments[0].originalCommitId,n=s.Uri.file(p.join(`commit~${r.substr(0,8)}`,i)),a=_n(n,i,void 0,r,!0,{base:e.diffSide===$i.LEFT},this._repository.rootUri),m=e.subjectType===yr.FILE?void 0:bo(e.originalStartLine-1,e.originalEndLine-1);return yo(this._context,a,m,e,this._commentController,(await this._reposManager.getCurrentUser()).login,(t=this._reposManager.activePullRequest)==null?void 0:t.githubRepository)}async createWorkspaceCommentThread(i,e,t){var r;let n=t.startLine,a=t.endLine;const m=await this._repository.diffWithHEAD(e);m&&(n=pl(m,n),a=pl(m,a));let k;if(t.subjectType!==yr.FILE){const O=n-1,G=a-1;(O<0||G<0)&&h.error(`Mapped new position for workspace comment thread is invalid. Original: (${t.startLine}, ${t.endLine}) New: (${O}, ${G})`),k=bo(O,G)}return yo(this._context,i,k,t,this._commentController,(await this._reposManager.getCurrentUser()).login,(r=this._reposManager.activePullRequest)==null?void 0:r.githubRepository)}async createReviewCommentThread(i,e,t){var r,n;if(!((r=this._reposManager.activePullRequest)==null?void 0:r.mergeBase))throw new Error("Cannot create review comment thread without an active pull request base.");const a=_n(i,e,void 0,this._reposManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),m=t.subjectType===yr.FILE?void 0:bo(t.startLine-1,t.endLine-1);return yo(this._context,a,m,t,this._commentController,(await this._reposManager.getCurrentUser()).login,(n=this._reposManager.activePullRequest)==null?void 0:n.githubRepository)}async doInitializeCommentThreads(i){for(const t in this._workspaceFileChangeCommentThreads)K(this._workspaceFileChangeCommentThreads[t]);this._workspaceFileChangeCommentThreads={};for(const t in this._reviewSchemeFileChangeCommentThreads)K(this._reviewSchemeFileChangeCommentThreads[t]);this._reviewSchemeFileChangeCommentThreads={};for(const t in this._obsoleteFileChangeCommentThreads)K(this._obsoleteFileChangeCommentThreads[t]);this._obsoleteFileChangeCommentThreads={};const e=o(i,t=>t.path);Object.keys(e).forEach(t=>{const r=e[t],n=r[0];if(n){const a=p.join(this._repository.rootUri.path,n.path).replace(/\\/g,"/"),m=this._repository.rootUri.with({path:a});let k=[],O=[],G=[];const Z=r.map(async oe=>{oe.isOutdated?G.push(await this.createOutdatedCommentThread(t,oe)):oe.diffSide===$i.RIGHT?k.push(await this.createWorkspaceCommentThread(m,t,oe)):O.push(await this.createReviewCommentThread(m,t,oe))});Promise.all(Z),this._workspaceFileChangeCommentThreads[t]=k,this._reviewSchemeFileChangeCommentThreads[t]=O,this._obsoleteFileChangeCommentThreads[t]=G}})}async initializeCommentThreads(){const i=this._reposManager.activePullRequest;if(!(!i||!i.isResolved()))return this.doInitializeCommentThreads(i.reviewThreadsCache)}async registerListeners(){const i=this._reposManager.activePullRequest;!i||(this._localToDispose.push(i.onDidChangePendingReviewState(e=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(t=>{for(const r in t)t[r].forEach(n=>{Ec(n,e),ks(n)})})})),this._localToDispose.push(i.onDidChangeReviewThreads(e=>{e.added.forEach(async t=>{const{path:r}=t,n=this._pendingCommentThreadAdds.findIndex(async k=>{const O=this.gitRelativeRootPath(k.uri.path);if(O!==t.path)return!1;const G=await this.getContentDiff(k.uri,O);return(k.range?_o(G,k.range.end.line):0)+1===t.endLine});let a;if(n>-1)a=this._pendingCommentThreadAdds[n],a.gitHubThreadId=t.id,a.comments=t.comments.map(k=>new Cr(this._context,k,a,i.githubRepository)),Sc(this._context,a,t,i.githubRepository),this._pendingCommentThreadAdds.splice(n,1);else{const k=p.join(this._repository.rootUri.path,r).replace(/\\/g,"/"),O=this._repository.rootUri.with({path:k});t.isOutdated?a=await this.createOutdatedCommentThread(r,t):t.diffSide===$i.RIGHT?a=await this.createWorkspaceCommentThread(O,r,t):a=await this.createReviewCommentThread(O,r,t)}const m=t.isOutdated?this._obsoleteFileChangeCommentThreads:t.diffSide===$i.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;m[r]?m[r].push(a):m[r]=[a]}),e.changed.forEach(t=>{const r=t.isOutdated?this._obsoleteFileChangeCommentThreads:t.diffSide===$i.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,n=r[t.path]?r[t.path].findIndex(a=>a.gitHubThreadId===t.id):-1;if(n>-1){const a=r[t.path][n];ol(this._context,a,t,i.githubRepository)}}),e.removed.forEach(t=>{const r=t.isOutdated?this._obsoleteFileChangeCommentThreads:t.diffSide===$i.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,n=r[t.path]?r[t.path].findIndex(a=>a.gitHubThreadId===t.id):-1;if(n>-1){const a=r[t.path][n];r[t.path].splice(n,1),a.dispose()}})})))}updateCommentExpandState(i){const e=this._reposManager.activePullRequest;if(!e)return;function t(m,k,O){if(O.size!==0)for(const G of O.keys()){const Z=O.get(G),oe=k[G];for(const X of oe){const de=Z.get(X.gitHubThreadId);ol(this._context,X,de,m.githubRepository,i)}}}const r=new Map,n=new Map,a=new Map;for(const m of e.reviewThreadsCache){let k;m.isOutdated?k=r:m.diffSide===$i.RIGHT?k=a:k=n,k.has(m.path)||k.set(m.path,new Map),k.get(m.path).set(m.id,m)}t(e,this._obsoleteFileChangeCommentThreads,r),t(e,this._reviewSchemeFileChangeCommentThreads,n),t(e,this._workspaceFileChangeCommentThreads,a)}visibleEditorsEqual(i,e){if(i=i.filter(t=>t.document.uri.scheme!=="comment"),e=e.filter(t=>t.document.uri.scheme!=="comment"),i=Y(i,t=>t.document.uri.toString()),e=Y(e,t=>t.document.uri.toString()),i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(!e.find(n=>n.document.uri.toString()===i[t].document.uri.toString()))return!1;return!0}hasCommentThread(i){return i.uri.scheme===li.Review?!0:Ru(this._repository,i.uri)?i.uri.scheme===this._repository.rootUri.scheme:!1}async provideCommentingRanges(i,e){let t=i.uri.query&&i.uri.query!==""?Zn(i.uri.query):void 0;if(t){const r=this.findMatchedFileChangeForReviewDiffView(this._reviewModel.localFileChanges,i.uri);if(r)return h.debug("Found matched file for commenting ranges.",On.ID),{ranges:Jc(await r.changeModel.diffHunks(),t.base,On.ID),fileComments:!0}}if(!Ru(this._repository,i.uri)){i.uri.scheme!=="output"&&h.debug("No commenting ranges: File is not in the current repository.",On.ID);return}if(i.uri.scheme===this._repository.rootUri.scheme){if(!this._reposManager.activePullRequest.isResolved()){h.debug("No commenting ranges: Active PR has not been resolved.",On.ID);return}const r=this.gitRelativeRootPath(i.uri.path),n=Hu(this._reviewModel.localFileChanges).find(m=>m.fileName===r),a=[];if(n){const m=await n.changeModel.diffHunks();if(n.status===Ht.RENAME&&m.length===0){h.debug("No commenting ranges: File was renamed with no diffs.",On.ID);return}const k=await this.getContentDiff(i.uri,n.fileName);for(let O=0;O<m.length;O++){const G=m[O],Z=pl(k,G.newLineNumber),oe=pl(k,G.newLineNumber+G.newLength-1);Z>0&&oe>0&&a.push(new s.Range(Z-1,0,oe-1,0))}a.length===0&&h.debug("No commenting ranges: File has diffs, but they could not be mapped to current lines.",On.ID)}else h.debug("No commenting ranges: File does not match any of the files in the review.",On.ID);return h.debug(`Providing ${a.length} commenting ranges for ${p.basename(i.uri.fsPath)}.`,On.ID),{ranges:a,fileComments:a.length>0}}else h.debug("No commenting ranges: File scheme differs from repository scheme.",On.ID)}async getContentDiff(i,e,t=!0){var r,n,a,m;const k=s.window.visibleTextEditors.find(O=>O.document.uri.toString()===i.toString());if(!((r=this._reposManager.activePullRequest)==null?void 0:r.head))throw h.error("Failed to get content diff. Cannot get content diff without an active pull request head."),new Error("Cannot get content diff without an active pull request head.");try{if(k&&k.document.isDirty){const O=k.document.getText(),Z=(await this._repository.getObjectDetails(this._reposManager.activePullRequest.head.sha,e)).object,oe=await this._repository.hashObject(O);return await this._repository.diffBlobs(Z,oe)}else return await this._repository.diffWith(this._reposManager.activePullRequest.head.sha,e)}catch(O){if(h.error(`Failed to get content diff. ${F(O)}`),(n=O.stderr)==null?void 0:n.includes("bad object")){if(((a=this._repository.state.HEAD)==null?void 0:a.upstream)&&t){if(s.workspace.getConfiguration(Be).get(Ct,!0)&&s.workspace.getConfiguration(Be).get(dr,"prompt")==="always")try{return await this._repository.pull(),this.getContentDiff(i,e,!1)}catch(Z){}else if((m=this._repository.state.HEAD)==null?void 0:m.commit)return this._repository.diffWith(this._repository.state.HEAD.commit,e)}this._reposManager.activePullRequest.isOpen&&s.window.showErrorMessage(s.l10n.t("Unable to get comment locations for commit {0}. This commit is not available locally and there is no remote branch.",this._reposManager.activePullRequest.head.sha)),h.warn(`Unable to get comment locations for commit ${this._reposManager.activePullRequest.head.sha}. This commit is not available locally and there is no remote branch.`,On.ID)}throw O}}findMatchedFileChangeForReviewDiffView(i,e){const t=Zn(e.query),r=i.filter(n=>{const a=n.changeModel;if(a instanceof So||a.fileName!==t.path)return!1;if(a.filePath.scheme!=="review"&&a.sha===t.commit)return!0;const m=a.filePath.query?JSON.parse(a.filePath.query):void 0;if(m&&m.commit===t.commit)return!0;const k=a.parentFilePath.query?JSON.parse(a.parentFilePath.query):void 0;return!!(k&&k.commit===t.commit)});if(r&&r.length)return r[0]}gitRelativeRootPath(i){return p.relative(this._repository.rootUri.path,i).replace(/\\/g,"/")}getCommentSide(i){return i.uri.scheme===li.Review&&Zn(i.uri.query).base?$i.LEFT:$i.RIGHT}async startReview(i,e){const t=i.comments.length,r=await this.optimisticallyAddComment(i,e,!0);try{if(t){const n=i.comments[0];if(n instanceof Cr)await this._reposManager.activePullRequest.createCommentReply(e,n.rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const n=this.gitRelativeRootPath(i.uri.path),a=this.getCommentSide(i);this._pendingCommentThreadAdds.push(i);let m,k;if(i.range){if(a===$i.RIGHT){const O=await this.getContentDiff(i.uri,n);m=_o(O,i.range.start.line),k=_o(O,i.range.end.line)}else m=i.range.start.line,k=i.range.end.line;m++,k++}await this._reposManager.activePullRequest.createReviewThread(e,n,m,k,a)}}catch(n){s.window.showErrorMessage(`Starting review failed: ${n}`),i.comments=i.comments.map(a=>(a instanceof mn&&a.id===r&&(a.mode=s.CommentMode.Editing),a))}}async openReview(){await this._reviewManager.openDescription(),Fn.scrollToReview()}async optimisticallyAddComment(i,e,t){const r=await this._reposManager.getCurrentUser(),n=new mn(i,e,t,r);return this.updateCommentThreadComments(i,[...i.comments,n]),n.id}updateCommentThreadComments(i,e){i.comments=e,ks(i)}async optimisticallyEditComment(i,e){const t=await this._reposManager.getCurrentUser(),r=new mn(i,e.body instanceof s.MarkdownString?e.body.value:e.body,!!e.label,t,e);return i.comments=i.comments.map(n=>n instanceof Cr&&n.commentId===e.commentId?r:n),r.id}async createOrReplyComment(i,e,t,r){var n;if(!this._reposManager.activePullRequest)throw new Error("Cannot create comment without an active pull request.");const a=i.comments.length,m=t?!1:r!==void 0?r:this._reposManager.activePullRequest.hasPendingReview,k=await this.optimisticallyAddComment(i,e,m);try{if(a){const O=i.comments[0];if(O instanceof Cr)await this._reposManager.activePullRequest.createCommentReply(e,O.rawComment.graphNodeId,t);else throw new Error("Cannot reply to temporary comment")}else{const O=this.gitRelativeRootPath(i.uri.path);this._pendingCommentThreadAdds.push(i);const G=this.getCommentSide(i);let Z,oe;if(i.range){if(G===$i.RIGHT){const X=await this.getContentDiff(i.uri,O);Z=_o(X,i.range.start.line),oe=_o(X,i.range.end.line)}else Z=i.range.start.line,oe=i.range.end.line;Z++,oe++}await this._reposManager.activePullRequest.createReviewThread(e,O,Z,oe,G,t)}t&&await this._reposManager.activePullRequest.submitReview()}catch(O){((n=O.graphQLErrors)==null?void 0:n.length)&&O.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(G=>{G==="Refresh"&&this._reviewManager.updateComments()}):s.window.showErrorMessage(`Creating comment failed: ${O}`),i.comments=i.comments.map(G=>(G instanceof mn&&G.id===k&&(G.mode=s.CommentMode.Editing),G))}}async createCommentOnResolve(i,e){if(!this._reposManager.activePullRequest)throw new Error("Cannot create comment on resolve without an active pull request.");const t=await this._reposManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(i,e,!t)}async resolveReviewThread(i,e){try{e&&await this.createCommentOnResolve(i,e),await this._reposManager.activePullRequest.resolveReviewThread(i.gitHubThreadId)}catch(t){s.window.showErrorMessage(`Resolving conversation failed: ${t}`)}}async unresolveReviewThread(i,e){try{e&&await this.createCommentOnResolve(i,e),await this._reposManager.activePullRequest.unresolveReviewThread(i.gitHubThreadId)}catch(t){s.window.showErrorMessage(`Unresolving conversation failed: ${t}`)}}async editComment(i,e){if(e instanceof Cr){const t=await this.optimisticallyEditComment(i,e);try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");await this._reposManager.activePullRequest.editReviewComment(e.rawComment,e.body instanceof s.MarkdownString?e.body.value:e.body)}catch(r){s.window.showErrorMessage(F(r)),i.comments=i.comments.map(n=>n instanceof mn&&n.id===t?new Cr(this._context,e.rawComment,i):n)}}}async deleteComment(i,e){try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");e instanceof Cr?await this._reposManager.activePullRequest.deleteReviewComment(e.commentId):i.comments=i.comments.filter(r=>!(r instanceof mn&&r.id===e.id)),i.comments.length===0?i.dispose():ks(i);const t=await this._reposManager.activePullRequest.validateDraftMode();t!==this._reposManager.activePullRequest.hasPendingReview&&(this._reposManager.activePullRequest.hasPendingReview=t),this.update()}catch(t){throw new Error(F(t))}}async update(){await this._reposManager.activePullRequest.validateDraftMode()}async toggleReaction(i,e){try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");i.reactions&&!i.reactions.find(t=>t.label===e.label&&!!t.authorHasReacted)?await this._reposManager.activePullRequest.addCommentReaction(i.rawComment.graphNodeId,e):await this._reposManager.activePullRequest.deleteCommentReaction(i.rawComment.graphNodeId,e)}catch(t){throw new Error(F(t))}}async applySuggestion(i){const e=i.parent.range,t=i.suggestion;if(t===void 0||!e)throw new Error("Comment doesn't contain a suggestion");const r=s.window.visibleTextEditors.find(n=>i.parent.uri.toString()===n.document.uri.toString());if(!r)throw new Error("Cannot find the editor to apply the suggestion to.");await r.edit(n=>{n.replace(e.with(void 0,new s.Position(e.end.line+1,0)),t)})}dispose(){xt(this._commentHandlerId),this._localToDispose.forEach(i=>i.dispose())}};let Vu=On;Xn(Vu,"ID","ReviewCommentController");class gl{constructor(e,t){this.reviewManager=e,this.folderRepositoryManager=t}static getSettingsValue(){return s.workspace.getConfiguration(Be).get(st)}static registerProvider(e,t,r){e.push(s.window.registerTerminalLinkProvider(new gl(t,r)))}provideTerminalLinks(e,t){var r;const n=e.line.indexOf("https://github.com");if(n===-1)return[];const a=e.line.substring(n),m=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),k=a.match(m);if(k&&k.length===4){const O=k[1],G=k[2],Z=k[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(X=>X.remote.owner===O&&X.remote.repositoryName===G)>-1&&((r=this.reviewManager.repository.state.HEAD)==null?void 0:r.name)===Z)return[{startIndex:n,length:e.line.length-n,tooltip:s.l10n.t("Create a Pull Request"),url:a}]}return[]}openLink(e){return s.env.openExternal(s.Uri.parse(e.url))}handleTerminalLink(e){const t=gl.getSettingsValue();if(t==="github"){this.openLink(e);return}if(t==="vscode"){this.reviewManager.createPullRequest();return}const r="Yes",n="Don't Show Again";s.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?",r,"No, continue to github.com",n).then(a=>{switch(a){case r:{this.reviewManager.createPullRequest();break}case n:{s.workspace.getConfiguration(Be).update(st,"github",s.ConfigurationTarget.Global),this.openLink(e);break}default:this.openLink(e)}})}}var iv=Object.defineProperty,rv=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?iv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const ef="github-pr-remote",tf="github-pr-owner-number",rf="github-pr-base-branch",nf=/branch\.(.+)\.github-pr-owner-number/,nv=/branch\.(.+)\.remote/,zi=class{static async checkoutFromFork(i,e,t,r){const n=await zi.calculateUniqueBranchNameForPR(i,e);t||(h.appendLine(`Branch ${n} is from a fork. Create a remote first.`,zi.ID),r.report({message:s.l10n.t("Creating git remote for {0}",`${e.remote.owner}/${e.remote.repositoryName}`)}),t=await zi.createRemote(i,e.remote,e.head.repositoryCloneUrl));const a=`${e.head.ref}:${n}`;h.debug(`Fetch ${t}/${e.head.ref}:${n} - start`,zi.ID),r.report({message:s.l10n.t("Fetching branch {0}",a)}),await i.fetch(t,a,1),h.debug(`Fetch ${t}/${e.head.ref}:${n} - done`,zi.ID),r.report({message:s.l10n.t("Checking out {0}",a)}),await i.checkout(n),await i.setBranchUpstream(n,`refs/remotes/${t}/${e.head.ref}`),this.unshallow(i),await zi.associateBranchWithPullRequest(i,e,n)}static async fetchAndCheckout(i,e,t,r){var n;if(!t.validatePullRequestModel("Checkout pull request failed"))return;const a=zi.getHeadRemoteForPullRequest(e,t),m=t.head.repositoryCloneUrl.owner!==t.base.repositoryCloneUrl.owner;if(!a||m)return zi.checkoutFromFork(i,t,a&&a.remoteName,r);const k=t.head.ref,O=a.remoteName;let G;try{if(G=await i.getBranch(k),((n=i.state.HEAD)==null?void 0:n.name)===G.name){h.appendLine(`Tried to checkout ${k}, but branch is already checked out.`,zi.ID);return}if(h.debug(`Checkout ${k}`,zi.ID),r.report({message:s.l10n.t("Checking out {0}",k)}),await i.checkout(k),!G.upstream){const Z=`refs/remotes/${O}/${k}`;await i.setBranchUpstream(k,Z)}G.behind!==void 0&&G.behind>0&&G.ahead===0&&(h.debug("Pull from upstream",zi.ID),r.report({message:s.l10n.t("Pulling {0}",k)}),await i.pull())}catch(Z){h.appendLine(`Branch ${O}/${k} doesn't exist on local disk yet.`,zi.ID);const oe=`refs/remotes/${O}/${k}`;h.appendLine(`Fetch tracked branch ${oe}`,zi.ID),r.report({message:s.l10n.t("Fetching branch {0}",k)}),await i.fetch(O,k,1);const X=await i.getBranch(oe);r.report({message:s.l10n.t("Creating and checking out branch {0}",k)}),await i.createBranch(k,!0,X.commit),await i.setBranchUpstream(k,oe),this.unshallow(i)}await zi.associateBranchWithPullRequest(i,t,k)}static async unshallow(i){let e;try{await i.pull(!0);return}catch(t){if(h.appendLine(`Unshallowing failed: ${t}.`),t.stderr&&t.stderr.includes("would clobber existing tag"))return;e=t}try{if(e.gitErrorCode===W.DirtyWorkTree){h.appendLine("Getting status and trying unshallow again."),await i.status(),await i.pull(!0);return}}catch(t){h.appendLine(`Unshallowing still failed: ${t}.`)}try{h.appendLine("Falling back to git pull."),await i.pull(!1)}catch(t){throw h.error(`Pull after failed unshallow still failed: ${t}`),t}}static async checkoutExistingPullRequestBranch(i,e,t){const r=zi.buildPullRequestMetadata(e),n=await i.getConfigs(),a=k=>n.filter(({key:O})=>k===O).map(({value:O})=>O)[0],m=n.map(k=>{const O=nf.exec(k.key);return{branch:O&&O.length?O[1]:null,value:k.value}}).filter(k=>k.branch&&k.value===r);if(m&&m.length){const k=m[0].branch;if(t.report({message:s.l10n.t("Checking out branch {0}",k)}),await i.checkout(k),s.workspace.getConfiguration(Be).get(Ct,!0)){const G=a(`branch.${k}.remote`),Z=a(`branch.${k}.merge`);t.report({message:s.l10n.t("Fetching branch {0}",k)}),await i.fetch(G,Z)}const O=await i.getBranch(m[0].branch);return O.upstream===void 0?!1:(O.behind!==void 0&&O.behind>0&&O.ahead===0&&(h.debug("Pull from upstream",zi.ID),t.report({message:s.l10n.t("Pulling branch {0}",k)}),await i.pull()),!0)}else return!1}static async getBranchNRemoteForPullRequest(i,e){const t=zi.buildPullRequestMetadata(e),r=await i.getConfigs(),n=r.map(a=>{const m=nf.exec(a.key);return{branch:m&&m.length?m[1]:null,value:a.value}}).find(a=>!!a.branch&&a.value===t);if(n){const a=n.branch;try{const m=`branch.${a}.remote`,k=r.filter(oe=>oe.key===m).map(oe=>oe.value);let O;k.length&&(O=k[0]);let G=!1;if(O){const oe=`remote.${O}.github-pr-remote`;r.filter(de=>de.key===oe&&de.value).length&&(G=!0)}let Z;return G&&(Z=r.some(oe=>!!(nv.exec(oe.key)&&oe.key!==`branch.${a}.remote`&&oe.value===O))),{branch:a,remote:O,createdForPullRequest:G,remoteInUse:Z}}catch(m){return{branch:a}}}return null}static buildPullRequestMetadata(i){return`${i.base.repositoryCloneUrl.owner}#${i.base.repositoryCloneUrl.repositoryName}#${i.number}`}static buildBaseBranchMetadata(i,e,t){return`${i}#${e}#${t}`}static parsePullRequestMetadata(i){if(i){const e=/(.*)#(.*)#(.*)/g.exec(i);if(e&&e.length===4){const[,t,r,n]=e;return{owner:t,repositoryName:r,prNumber:Number(n)}}}}static parseBaseBranchMetadata(i){if(i){const e=/(.*)#(.*)#(.*)/g.exec(i);if(e&&e.length===4){const[,t,r,n]=e;return{owner:t,repositoryName:r,branch:n}}}}static getMetadataKeyForBranch(i){return`branch.${i}.${tf}`}static getBaseBranchMetadataKeyForBranch(i){return`branch.${i}.${rf}`}static async getMatchingPullRequestMetadataForBranch(i,e){try{const t=this.getMetadataKeyForBranch(e),r=await i.getConfig(t);return zi.parsePullRequestMetadata(r)}catch(t){return}}static async getMatchingBaseBranchMetadataForBranch(i,e){try{const t=this.getBaseBranchMetadataKeyForBranch(e),r=await i.getConfig(t);return zi.parseBaseBranchMetadata(r)}catch(t){return}}static async createRemote(i,e,t){h.appendLine(`create remote for ${t}.`,zi.ID);const r=ha(i);for(const a of r)if(new xr(a.url).equals(t))return a.remoteName;const n=zi.getUniqueRemoteName(i,t.owner);return t.update({type:e.gitProtocol.type}),await i.addRemote(n,t.toString()),await i.setConfig(`remote.${n}.${ef}`,"true"),n}static async isRemoteCreatedForPullRequest(i,e){try{h.debug(`Check if remote '${e}' is created for pull request - start`,zi.ID);const t=await i.getConfig(`remote.${e}.${ef}`);return h.debug(`Check if remote '${e}' is created for pull request - end`,zi.ID),t==="true"}catch(t){return!1}}static async calculateUniqueBranchNameForPR(i,e){const t=`pr/${e.author.login}/${e.number}`;let r=t,n=1;for(;;)try{await i.getBranch(r),r=`${t}-${n++}`}catch(a){break}return r}static getUniqueRemoteName(i,e){let t=e,r=1;const n=ha(i);for(;n.find(a=>a.remoteName===t);)t=`${e}${r++}`;return t}static getHeadRemoteForPullRequest(i,e){return i.find(t=>t.gitProtocol&&t.gitProtocol.owner.toLowerCase()===e.head.repositoryCloneUrl.owner.toLowerCase()&&t.gitProtocol.repositoryName.toLowerCase()===e.head.repositoryCloneUrl.repositoryName.toLowerCase())}static async associateBranchWithPullRequest(i,e,t){try{h.appendLine(`associate ${t} with Pull Request #${e.number}`,zi.ID);const r=`branch.${t}.${tf}`;await i.setConfig(r,zi.buildPullRequestMetadata(e))}catch(r){h.error(`associate ${t} with Pull Request #${e.number} failed`,zi.ID)}}static async associateBaseBranchWithBranch(i,e,t,r,n){try{h.appendLine(`associate ${e} with base branch ${t}/${r}#${n}`,zi.ID);const a=`branch.${e}.${rf}`;await i.setConfig(a,zi.buildBaseBranchMetadata(t,r,n))}catch(a){h.error(`associate ${e} with base branch ${t}/${r}#${n} failed`,zi.ID)}}};let pn=zi;rv(pn,"ID","PullRequestGitHelper");var av=Object.defineProperty,af=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?av(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Gu{constructor(){af(this,"_onDidChangeFile",new s.EventEmitter),af(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){return{dispose:()=>{}}}stat(e){return{type:s.FileType.File,ctime:0,mtime:0,size:0}}readDirectory(e){return[]}createDirectory(e){}writeFile(e,t,r){}delete(e,t){}rename(e,t,r){}}async function sf(i,e,t){var r;const{octokit:n,remote:a}=await i.ensure();let m=await n.call(n.api.repos.getContent,{owner:a.owner,repo:a.repositoryName,path:e,ref:t}),k=(r=m.data.content)!=null?r:"";if(k===""&&m.data.encoding==="none"){const G=m.data.sha;m=await n.call(n.api.git.getBlob,{owner:a.owner,repo:a.repositoryName,file_sha:G}),k=m.data.content}return Xt.Buffer.from(k,m.data.encoding)}async function sv(i,e,t,r){let n="";return r||(n=await i.repository.show(t,s.Uri.joinPath(i.repository.rootUri,e).fsPath)),new TextEncoder().encode(n)}class ov extends Gu{constructor(e){super();this.gitHubRepository=e}async readFile(e){const t=Gc(e);return!t||t.isEmpty?new TextEncoder().encode(""):sf(this.gitHubRepository,t.fileName,t.branch)}}class lv extends Gu{constructor(e){super();this.folderRepositoryManager=e}async readFile(e){const t=Gc(e);return!t||t.isEmpty?new TextEncoder().encode(""):sv(this.folderRepositoryManager,t.fileName,t.branch,!!t.isEmpty)}}const $u=new AbortController().signal,of=new AbortController;of.abort();const aw=of.signal,sw=i=>{const e=new AbortController;if(!i)return e;if(i.aborted&&e.abort(),i!==$u){const t=new WeakRef(e);onAbort(i)(()=>{var r;return(r=t.deref())==null?void 0:r.abort()})}return e},uv=()=>{let i,e;const t=new Promise((r,n)=>{i=r,e=n});return{resolve:i,reject:e,promise:t}};class ju extends Error{constructor(e="Operation cancelled"){super(e);this.message=e,this.isTaskCancelledError=!0}}const lf={dispose:()=>{}};var uf;(function(i){i.once=(e,t)=>{let r=!1,n;return n=e(a=>{t(a),n?n.dispose():r=!0}),r?(n.dispose(),lf):n},i.toPromise=(e,t)=>t?t.aborted?Promise.reject(new ju):new Promise((r,n)=>{const a=dv(t)(()=>{m.dispose(),n(new ju)}),m=i.once(e,k=>{a.dispose(),r(k)})}):new Promise(r=>i.once(e,r))})(uf||(uf={}));const dv=i=>{const e=new cv;if(i.aborted)return e.emit(),e.addListener;const t=()=>{e.emit(),i.removeEventListener("abort",t)};return i.addEventListener("abort",t),e.addListener};class bl{constructor(){this.addListener=e=>this.addListenerInner(e)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(e){if(this.listeners)if(typeof this.listeners=="function")this.listeners(e);else for(const t of this.listeners)t(e)}addListenerInner(e){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.removeListener(e)}}removeListener(e){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===e&&(this.listeners=void 0);return}const t=this.listeners.indexOf(e);t!==-1&&(this.listeners.length===2?this.listeners=t===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}class ow extends null{constructor(){super(...arguments);this.addListener=e=>{const t=this.addListenerInner(e);return this.lastValue&&e(this.lastValue.value),t}}get hasEmitted(){return!!this.lastValue}emit(e){this.lastValue={value:e},super.emit(e)}}class cv extends bl{constructor(){super(...arguments);this.addListener=e=>this.lastValue?(e(this.lastValue.value),lf):this.addListenerInner(e)}emit(e){this.lastValue={value:e},super.emit(e),this.listeners=void 0}}var df=Yt(34155);const fv=i=>{if("error"in i)throw i.error;return"success"in i?i.success:i.value},hv=()=>{if(typeof performance!="undefined"){const i=performance.now();return()=>performance.now()-i}else{const i=df.hrtime.bigint();return()=>Number(df.hrtime.bigint()-i)/1e6}};class yl{constructor(e=()=>!1,t=()=>!1){this.errorFilter=e,this.resultFilter=t,this.successEmitter=new bl,this.failureEmitter=new bl,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}clone(){return new yl(this.errorFilter,this.resultFilter)}async invoke(e,...t){const r=this.successEmitter.size||this.failureEmitter.size?hv():null;try{const n=await e(...t);return this.resultFilter(n)?(r&&this.failureEmitter.emit({duration:r(),handled:!0,reason:{value:n}}),{value:n}):(r&&this.successEmitter.emit({duration:r()}),{success:n})}catch(n){const a=n,m=this.errorFilter(a);if(r&&this.failureEmitter.emit({duration:r(),handled:m,reason:{error:a}}),!m)throw a;return{error:a}}}}class mv extends Error{constructor(e,t){super(`Bulkhead capacity exceeded (0/${e} execution slots, 0/${t} available)`);this.isBulkheadRejectedError=!0}}class pv{constructor(e,t){this.capacity=e,this.queueCapacity=t,this.active=0,this.queue=[],this.onRejectEmitter=new bl,this.executor=new yl,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(e,t=$u){if(t.aborted)throw new ju;if(this.active<this.capacity){this.active++;try{return await e({signal:t})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){const{resolve:r,reject:n,promise:a}=uv();return this.queue.push({signal:t,fn:e,resolve:r,reject:n}),a}throw this.onRejectEmitter.emit(),new mv(this.capacity,this.queueCapacity)}dequeue(){const e=this.queue.shift();!e||Promise.resolve().then(()=>this.execute(e.fn,e.signal)).then(e.resolve).catch(e.reject)}}class vv{constructor(){this.executor=new yl,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,t=$u){return fv(await this.executor.invoke(e,{signal:t}))}}const wl=(i,e)=>e?t=>t instanceof i&&e(t):t=>t instanceof i,gv=()=>!0,Eo=()=>!1;class ea{constructor(e){this.options=e}orType(e,t){const r=wl(e,t);return new ea({...this.options,errorFilter:n=>this.options.errorFilter(n)||r(n)})}orWhen(e){return new ea({...this.options,errorFilter:t=>this.options.errorFilter(t)||e(t)})}orWhenResult(e){return new ea({...this.options,resultFilter:t=>this.options.resultFilter(t)||e(t)})}orResultType(e,t){const r=wl(e,t);return new ea({...this.options,resultFilter:n=>this.options.resultFilter(n)||r(n)})}}const lw=new vv,uw=new ea({errorFilter:gv,resultFilter:Eo});function dw(i,e){return new ea({errorFilter:wl(i,e),resultFilter:Eo})}function cw(i){return new ea({errorFilter:i,resultFilter:Eo})}function fw(i,e){return new ea({errorFilter:Eo,resultFilter:wl(i,e)})}function hw(i){return new ea({errorFilter:Eo,resultFilter:i})}function cf(i,e=0){return new pv(i,e)}function mw(i){return(e,t,r)=>{const n=r.value;if(typeof n!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof n}`);r.value=function(...a){const m=a[a.length-1]instanceof AbortSignal?a.pop():void 0;return i.execute(k=>n.apply(this,[...a,k]),m)}}}function pw(i,e){return new TimeoutPolicy(i,typeof e=="string"?{strategy:e}:e)}function vw(...i){return{_altReturn:void 0,onFailure:i[0].onFailure,onSuccess:i[0].onSuccess,wrapped:i,execute(e,t){const r=(n,a)=>a===i.length?e(n):i[a].execute(m=>r({...n,...m},a+1),n.signal);return Promise.resolve(r({signal:t},0))}}}function gw(i,e){var t;return new RetryPolicy({backoff:e.backoff||new ConstantBackoff(0),maxAttempts:(t=e.maxAttempts)!=null?t:Infinity},new ExecuteWrapper(i.options.errorFilter,i.options.resultFilter))}function bw(i,e){return new CircuitBreakerPolicy(e,new ExecuteWrapper(i.options.errorFilter,i.options.resultFilter))}function yw(i,e){return new FallbackPolicy(new ExecuteWrapper(i.options.errorFilter,i.options.resultFilter),typeof e=="function"?e:()=>e)}const ff=void 0;var bv=Yt(34155);let hf=!1;const mf=class{static async getApiHost(i){const e=bv.env.GITHUB_TEST_SERVER;if(e){if(hf)return s.Uri.parse(e);const r=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("The 'GITHUB_TEST_SERVER' environment variable is set to '{0}'. Use this as the GitHub API endpoint?",e),{modal:!0},r)===r)return hf=!0,s.Uri.parse(e)}const t=i instanceof s.Uri?i:s.Uri.parse(i.host);return t.authority==="github.com"?s.Uri.parse("https://api.github.com"):s.Uri.parse(`${t.scheme}://${t.authority}`)}static getApiPath(i,e){return(i instanceof s.Uri?i:s.Uri.parse(i.host)).authority==="github.com"?e:`/api/v3${e}`}};var yv=Object.defineProperty,zu=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?yv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const Co=class{constructor(){zu(this,"_servers",new Map(Array.from(Co._githubDotComServers.keys()).map(i=>[i,ji.GitHubDotCom])))}static isGithubDotCom(i){return this._githubDotComServers.has(i)}static isNeverGitHub(i){return this._neverGitHubServers.has(i)}async isGitHub(i){var e;if(i===null||i.path.endsWith(".wiki")||i.authority.match(/gist[.]github[.]com/))return ji.None;if(Co.isGithubDotCom(i.authority))return ji.GitHubDotCom;const t=Es();if(i.authority.toLowerCase()===(t==null?void 0:t.authority.toLowerCase())&&(!this._servers.has(i.authority)||this._servers.get(i.authority)===ji.None))return ji.Enterprise;if(this._servers.has(i.authority))return(e=this._servers.get(i.authority))!=null?e:ji.None;const[r,n]=await Co.getOptions(i,"HEAD","/rate_limit");let a=ji.None;try{const m=await Wr()(r.toString(),n),k=[];m.headers.forEach((Z,oe)=>{k.push(oe)}),h.debug(`All headers: ${k.join(", ")}`,"GitHubServer");const O=m.headers.get("x-github-request-id"),G=m.headers.get("x-github-enterprise-version");if(!O&&!G){const[Z]=await Co.getOptions(i,"HEAD","/status"),X=await(await Wr()(Z.toString())).text();if(X.startsWith("GitHub lives!"))a=ji.Enterprise;else{h.appendLine(`Received fallback response from the server: ${X}`,"GitHubServer");const de=JSON.parse(X);de.documentation_url&&de.documentation_url.startsWith("https://docs.github.com/enterprise")&&(a=ji.Enterprise)}}else a=O!=null?G?ji.Enterprise:ji.GitHubDotCom:ji.None;return a}catch(m){return h.warn(`No response from host ${i}: ${m.message}`,"GitHubServer"),a}finally{h.debug(`Host ${i} is associated with GitHub: ${a}`,"GitHubServer"),this._servers.set(i.authority,a)}}static async getOptions(i,e="GET",t,r){const n={"user-agent":"GitHub VSCode Pull Requests"};r&&(n.authorization=`token ${r}`);const a=s.Uri.joinPath(await mf.getApiHost(i),mf.getApiPath(i,t)),m={hostname:a.authority,port:443,method:e,headers:n,agent:ff};return[a,m]}};let _l=Co;zu(_l,"_githubDotComServers",new Set().add("github.com").add("ssh.github.com")),zu(_l,"_neverGitHubServers",new Set().add("bitbucket.org").add("gitlab.com"));const Wu="github.pullRequest.pullNotification.show",pf="github.pullRequest.repos",Ku="github.pullRequest.previousCreateMethod";function ww(i){i.globalState.setKeysForSync([Wu])}var kl;(function(i){async function e(){try{await s.commands.executeCommand("git.checkout")}catch(t){await s.commands.executeCommand("remoteHub.switchToBranch")}}i.checkout=e})(kl||(kl={}));var wv=Object.defineProperty,Oi=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?wv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class vf extends Error{constructor(e){super();this.repository=e}get message(){return s.l10n.t("{0} has no GitHub remotes",this.repository.rootUri.toString())}}class gf extends Error{constructor(e){super();this.repository=e}get message(){return s.l10n.t("{0} has a detached HEAD (create a branch first",this.repository.rootUri.toString())}}class _v extends Error{constructor(e,t,r){super();this.branchName=e,this.upstreamRef=t,this.problem=r}get message(){const{upstreamRef:{remote:e,name:t},branchName:r,problem:n}=this;return s.l10n.t("The upstream ref {0} for branch {1} {2}.",`${e}/${t}`,r,n)}}const bf="ReposManagerStateContext";var un;(function(i){i.Initializing="Initializing",i.NeedsAuthentication="NeedsAuthentication",i.RepositoriesLoaded="RepositoriesLoaded"})(un||(un={}));const yf="No Milestone";var wf;(function(i){i[i.PullRequest=0]="PullRequest",i[i.Milestones=1]="Milestones",i[i.IssuesWithoutMilestone=2]="IssuesWithoutMilestone",i[i.IssueSearch=3]="IssueSearch"})(wf||(wf={}));const Sl="templateUri",_f=class{constructor(i,e,t,r,n,a){this._id=i,this.context=e,this._repository=t,this.telemetry=r,this._git=n,this._credentialStore=a,Oi(this,"_subs"),Oi(this,"_activePullRequest"),Oi(this,"_activeIssue"),Oi(this,"_githubRepositories"),Oi(this,"_allGitHubRemotes",[]),Oi(this,"_mentionableUsers"),Oi(this,"_fetchMentionableUsersPromise"),Oi(this,"_assignableUsers"),Oi(this,"_teamReviewers"),Oi(this,"_fetchAssignableUsersPromise"),Oi(this,"_fetchTeamReviewersPromise"),Oi(this,"_gitBlameCache",{}),Oi(this,"_githubManager"),Oi(this,"_repositoryPageInformation",new Map),Oi(this,"_addedUpstreamCount",0),Oi(this,"_onDidMergePullRequest",new s.EventEmitter),Oi(this,"onDidMergePullRequest",this._onDidMergePullRequest.event),Oi(this,"_onDidChangeActivePullRequest",new s.EventEmitter),Oi(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),Oi(this,"_onDidChangeActiveIssue",new s.EventEmitter),Oi(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),Oi(this,"_onDidLoadRepositories",new s.EventEmitter),Oi(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),Oi(this,"_onDidChangeRepositories",new s.EventEmitter),Oi(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),Oi(this,"_onDidChangeAssignableUsers",new s.EventEmitter),Oi(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),Oi(this,"_onDidChangeGithubRepositories",new s.EventEmitter),Oi(this,"onDidChangeGithubRepositories",this._onDidChangeGithubRepositories.event),Oi(this,"_onDidDispose",new s.EventEmitter),Oi(this,"onDidDispose",this._onDidDispose.event),Oi(this,"_updatingRepositories"),Oi(this,"totalFetchedPages",new Map),Oi(this,"_updateMessageShown",!1),Oi(this,"_createGitHubRepositoryBulkhead",cf(1,300)),this._subs=[],this._githubRepositories=[],this._githubManager=new _l,this._subs.push(s.workspace.onDidChangeConfiguration(async m=>{m.affectsConfiguration(`${Be}.${Et}`)&&await this.updateRepositories()})),this._subs.push(a.onDidInitialize(()=>this.updateRepositories())),this.cleanStoredRepoState()}cleanStoredRepoState(){const i=new Date().valueOf()-30*864e5,e=this.context.globalState.get(pf);if(e==null?void 0:e.repos){let t=!1;Object.keys(e.repos).forEach(r=>{var n;((n=e.repos[r].stateModifiedTime)!=null?n:0)<i&&(t=!0,delete e.repos[r])}),t&&this.context.globalState.update(pf,e)}}get id(){return`${_f.ID}+${this._id}`}get gitHubRepositories(){return this._githubRepositories}async computeAllUnknownRemotes(){const e=ha(this.repository).filter(a=>a.host),t=await Promise.all(e.map(a=>this._githubManager.isGitHub(a.gitProtocol.normalizeUri()))).catch(a=>(h.error(`Resolving GitHub remotes failed: ${a}`),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",F(a))),[])),r=[];let n=0;for(const a of e)t[n]===ji.None&&r.push(a),n++;return r}async computeAllGitHubRemotes(){const e=ha(this.repository).filter(a=>a.host),t=await Promise.all(e.map(a=>this._githubManager.isGitHub(a.gitProtocol.normalizeUri()))).catch(a=>(h.error(`Resolving GitHub remotes failed: ${a}`),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",F(a))),[])),r=[];let n=0;for(const a of e)t[n]!==ji.None&&r.push(Qa.remoteAsGitHub(a,t[n])),n++;return r}async getActiveGitHubRemotes(i){const e=s.workspace.getConfiguration(Be).get(Et);if(!e)return h.error("Unable to read remotes setting"),Promise.resolve([]);const t=e.filter(r=>!i.some(n=>n.remoteName===r));return t.length===e.length?h.warn(`No remotes found. The following remotes are missing: ${t.join(", ")}`):h.debug(`Not all remotes found. The following remotes are missing: ${t.join(", ")}`,this.id),h.debug(`Displaying configured remotes: ${e.join(", ")}`,this.id),e.map(r=>i.find(n=>n.remoteName===r)).filter(r=>!!r)}get activeIssue(){return this._activeIssue}set activeIssue(i){this._activeIssue=i,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(i){var e,t;const r=(e=this._activePullRequest)==null?void 0:e.number;this._activePullRequest&&(this._activePullRequest.isActive=!1),i&&(i.isActive=!0,(t=i.githubRepository.commentsHandler)==null||t.unregisterCommentController(i.number));const n=i==null?void 0:i.number;this._activePullRequest=i,this._onDidChangeActivePullRequest.fire({old:r,new:n})}get repository(){return this._repository}set repository(i){this._repository=i}get credentialStore(){return this._credentialStore}setFileViewedContext(){var i;const e=(i=this.activePullRequest)==null?void 0:i.getViewedFileStates();e?(Lr.setContext(sn.VIEWED_FILES,Array.from(e.viewed)),Lr.setContext(sn.UNVIEWED_FILES,Array.from(e.unviewed))):this.clearFileViewedContext()}clearFileViewedContext(){Lr.setContext(sn.VIEWED_FILES,[]),Lr.setContext(sn.UNVIEWED_FILES,[])}async loginAndUpdate(){if(!this._credentialStore.isAnyAuthenticated()){const i=new Promise(e=>{const t=this.onDidChangeRepositories(()=>{t.dispose(),e()})});await this._credentialStore.login(ki.github),await i}}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const i=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return i.length?(await s.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),h.appendLine(`Found GitHub remote for folder ${this.repository.rootUri.fsPath}`)):h.appendLine(`No GitHub remotes found for folder ${this.repository.rootUri.fsPath}`),i}async updateRepositories(i=!1){return this._updatingRepositories&&await this._updatingRepositories,this._updatingRepositories=this.doUpdateRepositories(i),this._updatingRepositories}checkForAuthMatch(i){let e=0,t=0;for(const n of i)n.githubServerType===ji.GitHubDotCom?e++:n.githubServerType===ji.Enterprise&&t++;let r=this._credentialStore.isAuthenticated(ki.github)||this._credentialStore.isAuthenticated(ki.githubEnterprise);return e>0&&this._credentialStore.isAuthenticated(ki.github)||t>0&&this._credentialStore.isAuthenticated(ki.githubEnterprise)||r&&(r=!1),s.commands.executeCommand("setContext","github:authenticated",r),r}async doUpdateRepositories(i){if(this._git.state==="uninitialized"){h.appendLine("Cannot updates repositories as git is uninitialized");return}const e=await this.getActiveRemotes(),t=this.checkForAuthMatch(e);if(this.credentialStore.isAnyAuthenticated()&&e.length===0&&(await this.computeAllUnknownRemotes()).every(O=>_l.isNeverGitHub(s.Uri.parse(O.normalizedHost).authority))){this._onDidLoadRepositories.fire(un.RepositoriesLoaded);return}const r=[],n=[],a=[];this._githubRepositories.forEach(k=>a.push(k));const m=e.filter(k=>this._credentialStore.isAuthenticated(k.authProviderId));for(const k of m){const O=await this.createGitHubRepository(k,this._credentialStore);n.push(O.resolveRemote()),r.push(O)}return Promise.all(n).then(async k=>{const O=[];for(let Z=0;Z<k.length;Z++)k[Z]||O.push(r[Z].remote.owner);if(O.length>0&&(await this._credentialStore.showSamlMessageAndAuth(O)).canceled){this.dispose();return}this._githubRepositories=r,a.filter(Z=>this._githubRepositories.indexOf(Z)<0).forEach(Z=>Z.dispose());const G=a.length!==this._githubRepositories.length||!a.every(Z=>this._githubRepositories.some(oe=>oe.remote.equals(Z.remote)));if(G&&this._onDidChangeGithubRepositories.fire(this._githubRepositories),this._githubRepositories.length&&G&&await this.checkIfMissingUpstream()){this.updateRepositories(i);return}this.activePullRequest&&this.getMentionableUsers(G),this.getAssignableUsers(G),t&&e.length?this._onDidLoadRepositories.fire(un.RepositoriesLoaded):t||this._onDidLoadRepositories.fire(un.NeedsAuthentication),i||this._onDidChangeRepositories.fire()})}async checkIfMissingUpstream(){var i;try{const t=await(await this.getOrigin()).getMetadata(),r=s.workspace.getConfiguration(Be);if(t.fork&&t.parent&&r.get(nt,"add")==="add"){const n=new xr(t.parent.git_url);if(!this._githubRepositories.some(m=>m.remote.owner===n.owner&&m.remote.repositoryName===n.repositoryName)){const k=!this.repository.state.remotes.some(O=>O.name==="upstream")?"upstream":(i=t.parent.owner)==null?void 0:i.login;if(k){if(this.gitHubRepositories[0].remote.gitProtocol.type===Qr.SSH?await this.repository.addRemote(k,t.parent.ssh_url):await this.repository.addRemote(k,t.parent.clone_url),this._addedUpstreamCount++,this._addedUpstreamCount>1){const G=s.l10n.t("Set to `never`");s.window.showInformationMessage(s.l10n.t("An `upstream` remote has been added for this repository. You can disable this feature by setting `githubPullRequests.upstreamRemote` to `never`."),G).then(Z=>{Z===G&&r.update(nt,"never",s.ConfigurationTarget.Global)})}return!0}}}}catch(e){h.appendLine(`Missing upstream check failed: ${e}`)}return!1}getAllAssignableUsers(){if(this._assignableUsers){const i=[];return Object.keys(this._assignableUsers).forEach(e=>{i.push(...this._assignableUsers[e])}),i}}async getCachedFromGlobalState(i){h.appendLine(`Trying to use globalState for ${i}.`);const e=s.Uri.joinPath(this.context.globalStorageUri,i);let t;try{t=await s.workspace.fs.stat(e)}catch(a){}if(!t){h.appendLine(`GlobalState does not exist for ${i}.`);return}const r={};if((await Promise.all(this._githubRepositories.map(async a=>{const m=`${a.remote.owner}/${a.remote.repositoryName}.json`,k=s.Uri.joinPath(e,m);let O,G;try{O=await s.workspace.fs.readFile(k),G=JSON.parse(O.toString())}catch(Z){Z instanceof Error&&Z.message.includes("Unexpected non-whitespace character after JSON")&&h.error(`Error parsing ${i} cache for ${a.remote.remoteName}.`)}if(O&&O.toString())return r[a.remote.remoteName]=G!=null?G:[],!0}))).every(a=>a))return h.appendLine(`Using globalState ${i} for ${Object.keys(r).length}.`),r;h.appendLine(`No globalState for ${i}.`)}async saveInGlobalState(i,e){const t=s.Uri.joinPath(this.context.globalStorageUri,i);await Promise.all(this._githubRepositories.map(async r=>{const n=`${r.remote.owner}/${r.remote.repositoryName}.json`,a=s.Uri.joinPath(t,n);await s.workspace.fs.writeFile(a,new TextEncoder().encode(JSON.stringify(e[r.remote.remoteName])))}))}createFetchMentionableUsersPromise(){const i={};return new Promise(e=>{const t=this._githubRepositories.map(async r=>{const n=await r.getMentionableUsers();i[r.remote.remoteName]=n});Promise.all(t).then(()=>{this._mentionableUsers=i,this._fetchMentionableUsersPromise=void 0,this.saveInGlobalState("mentionableUsers",i).then(()=>e(i))})})}async getMentionableUsers(i){if(i&&delete this._mentionableUsers,this._mentionableUsers)return h.appendLine("Using in-memory cached mentionable users."),this._mentionableUsers;const e=await this.getCachedFromGlobalState("mentionableUsers");return this._fetchMentionableUsersPromise?this._fetchMentionableUsersPromise:(this._fetchMentionableUsersPromise=this.createFetchMentionableUsersPromise(),e!=null?e:this._fetchMentionableUsersPromise)}async getAssignableUsers(i){if(i&&delete this._assignableUsers,this._assignableUsers)return h.appendLine("Using in-memory cached assignable users."),this._assignableUsers;const e=await this.getCachedFromGlobalState("assignableUsers");if(!this._fetchAssignableUsersPromise){const t={},r=[];return this._fetchAssignableUsersPromise=new Promise(n=>{const a=this._githubRepositories.map(async m=>{const k=await m.getAssignableUsers();t[m.remote.remoteName]=k.sort(Ic),r.push(...k)});Promise.all(a).then(()=>{this._assignableUsers=t,this._fetchAssignableUsersPromise=void 0,this.saveInGlobalState("assignableUsers",t),n(t),this._onDidChangeAssignableUsers.fire(r)})}),e!=null?e:this._fetchAssignableUsersPromise}return this._fetchAssignableUsersPromise}async getTeamReviewers(i){if(i===es.Force&&delete this._teamReviewers,this._teamReviewers)return h.appendLine("Using in-memory cached team reviewers."),this._teamReviewers;const e=i===es.Force?void 0:await this.getCachedFromGlobalState("teamReviewers");if(e)return this._teamReviewers=e,e||{};if(!this._fetchTeamReviewersPromise){const t={};return this._fetchTeamReviewersPromise=new Promise(async r=>{var n;const a=new Map;for(const m of this._githubRepositories){if(!a.has(m.remote.owner))try{const O=await m.getOrgTeams(i);a.set(m.remote.owner,O)}catch(O){break}const k=(n=a.get(m.remote.owner))!=null?n:[];t[m.remote.remoteName]=k.filter(O=>O.repositoryNames.includes(m.remote.repositoryName)).sort(Dp)}this._teamReviewers=t,this._fetchTeamReviewersPromise=void 0,this.saveInGlobalState("teamReviewers",t),r(t)})}return this._fetchTeamReviewersPromise}createFetchOrgProjectsPromise(){const i={};return new Promise(async e=>{var t;const r=new Map;for(const n of this._githubRepositories){if(!r.has(n.remote.owner))try{const a=await n.getOrgProjects();r.set(n.remote.owner,a)}catch(a){break}i[n.remote.remoteName]=(t=r.get(n.remote.owner))!=null?t:[]}await this.saveInGlobalState("orgProjects",i),e(i)})}async getOrgProjects(i){if(i)return this.createFetchOrgProjectsPromise();const e=await this.getCachedFromGlobalState("orgProjects");return e!=null?e:this.createFetchOrgProjectsPromise()}async getOrgTeamsCount(i){return(await i.getMetadata()).organization?i.getOrgTeamsCount():0}async getPullRequestParticipants(i,e){return{participants:await i.getPullRequestParticipants(e),viewer:await this.getCurrentUser(i)}}async getGitHubRemotes(){const i=this._githubRepositories;if(!i||!i.length)return[];const e=i.map(n=>n.remote).flat(),t=await Promise.all(e.map(n=>this._githubManager.isGitHub(n.gitProtocol.normalizeUri()))).catch(n=>(h.error(`Resolving GitHub remotes failed: ${n}`),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",F(n))),[])),r=e.map((n,a)=>Qa.remoteAsGitHub(n,t[a]));return this.checkForAuthMatch(r)?r:[]}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const i=this._githubRepositories;if(!i||!i.length)return[];const e=(await this.repository.getRefs({pattern:"refs/heads/"})).filter(a=>a.name!==void 0).map(a=>a.name),t=[],r=100;for(let a=0;a<e.length;a+=r){const m=e.slice(a,a+r);t.push(m)}const n=[];for(const a of t)n.push(...await Promise.all(a.map(async m=>{const k=await pn.getMatchingPullRequestMetadataForBranch(this.repository,m);if(k){const{owner:O,prNumber:G}=k,Z=i.find(oe=>oe.remote.owner.toLocaleLowerCase()===O.toLocaleLowerCase());if(Z){const oe=await Z.getPullRequest(G);if(oe)return oe.localBranchName=m,oe}}})));return n.filter(a=>a!==void 0)}async getLabels(i,e){const t=i?i.githubRepository:this._githubRepositories.find(O=>O.remote.owner===(e==null?void 0:e.owner)&&O.remote.repositoryName===(e==null?void 0:e.repo));if(!t)throw new Error("No matching repository found for getting labels.");const{remote:r,octokit:n}=await t.ensure();let a=!1,m=1,k=[];do{const O=await n.call(n.api.issues.listLabelsForRepo,{owner:r.owner,repo:r.repositoryName,per_page:100,page:m});k=k.concat(O.data.map(G=>{var Z;return{name:G.name,color:G.color,description:(Z=G.description)!=null?Z:void 0}})),k=k.sort((G,Z)=>G.name.localeCompare(Z.name)),a=!!O.headers.link&&O.headers.link.indexOf('rel="next"')>-1,m+=1}while(a);return k}async deleteLocalPullRequest(i,e){if(!i.localBranchName)return;await this.repository.deleteBranch(i.localBranchName,e);let t;try{t=await this.repository.getConfig(`branch.${i.localBranchName}.remote`)}catch(n){}if(!t)return;await pn.isRemoteCreatedForPullRequest(this.repository,t)&&((await this.repository.getConfigs()).some(({key:m,value:k})=>/^branch.*\.remote$/.test(m)&&k===t)||await this.repository.removeRemote(t)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(i={fetchNextPage:!1},e,t=0,r=_i.All,n){const a=t===0?this._githubRepositories.filter(X=>this.repository.state.remotes.find(de=>de.name===X.remote.remoteName)):this._githubRepositories;if(!a.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1};const m=()=>this.totalFetchedPages.get(e)||0,k=X=>this.totalFetchedPages.set(e,X);for(const X of a){const de=X.remote.url.toString()+e;this._repositoryPageInformation.get(de)||this._repositoryPageInformation.set(de,{pullRequestPage:0,hasMorePages:null})}let O=0;const G={hasMorePages:!1,items:[]},Z=X=>{O++,X&&(G.items=G.items.concat(X.items),G.hasMorePages=X.hasMorePages)},oe=this._githubRepositories.filter(X=>{const de=this._repositoryPageInformation.get(X.remote.url.toString()+e);return de&&(i.fetchNextPage===!1||de.hasMorePages!==!1)});for(let X=0;X<oe.length;X++){const de=oe[X],ke=de.remote.url.toString()+e;let Ne=this._repositoryPageInformation.get(ke);Ne||(h.warn(`No page information for ${ke}`),Ne={pullRequestPage:0,hasMorePages:null},this._repositoryPageInformation.set(ke,Ne));const Ie=Ne,De=async Fe=>{const Ze=n?await Cs(n,void 0,{base:await de.getDefaultBranch(),owner:de.remote.owner,repo:de.remote.repositoryName}):void 0;switch(t){case 0:return r===_i.All?de.getAllPullRequests(Fe):de.getPullRequestsForCategory(Ze||"",Fe);case 1:return de.getIssuesForUserByMilestone(Ie.pullRequestPage);case 2:return de.getIssuesWithoutMilestone(Ie.pullRequestPage);case 3:return de.getIssues(Ie.pullRequestPage,Ze)}};if(i.fetchNextPage?(Ie.pullRequestPage++,Z(await De(Ie.pullRequestPage)),k(m()+1)):(Ie.pullRequestPage===0&&(Ie.pullRequestPage=1),(await Promise.all(Array.from({length:Ie.pullRequestPage}).map((Ze,it)=>De(it+1)))).forEach(Ze=>Z(Ze))),Ie.hasMorePages=G.hasMorePages,G.items.length&&(i.fetchNextPage||i.fetchNextPage===!1&&!i.fetchOnePagePerRepo&&O>=m()))return m()===0&&k(O),{items:G.items,hasMorePages:Ie.hasMorePages,hasUnsearchedRepositories:X<oe.length-1}}return{items:G.items,hasMorePages:!1,hasUnsearchedRepositories:!1}}async getPullRequests(i,e={fetchNextPage:!1},t){const r=i.toString()+(t||"");return this.fetchPagedData(e,r,0,i,t)}async getMilestoneIssues(i={fetchNextPage:!1},e=!1){try{const t=await this.fetchPagedData(i,"milestoneIssuesKey",1,_i.All);if(e){const r=await this.fetchPagedData(i,"noMilestoneIssuesKey",2,_i.All);t.items.push({milestone:{createdAt:new Date(0).toDateString(),id:"",title:yf,number:-1},issues:await Promise.all(r.items.map(async n=>{const a=await this.getRepoForIssue(n);return new Nr(a,a.remote,n)}))})}return t}catch(t){return h.error(`Error fetching milestone issues: ${t instanceof Error?t.message:t}`,this.id),{hasMorePages:!1,hasUnsearchedRepositories:!1,items:[]}}}async createMilestone(i,e){try{const{data:t}=await i.octokit.call(i.octokit.api.issues.createMilestone,{owner:i.remote.owner,repo:i.remote.repositoryName,title:e});return{title:t.title,dueOn:t.due_on,createdAt:t.created_at,id:t.node_id,number:t.number}}catch(t){s.window.showErrorMessage(s.l10n.t(`Failed to create a milestone
{0}`,F(t)));return}}async getRepoForIssue(i){const e=new el(i.repositoryName,i.repositoryUrl,new xr(i.repositoryUrl));return this.createGitHubRepository(e,this.credentialStore,!0,!0)}async getIssues(i){try{const e=await this.fetchPagedData({fetchNextPage:!1,fetchOnePagePerRepo:!1},`issuesKey${i}`,3,_i.All,i),t={items:[],hasMorePages:e.hasMorePages,hasUnsearchedRepositories:e.hasUnsearchedRepositories};for(const r of e.items){const n=await this.getRepoForIssue(r);t.items.push(new Nr(n,n.remote,r))}return t}catch(e){return h.error(`Error fetching issues with query ${i}: ${e instanceof Error?e.message:e}`,this.id),{hasMorePages:!1,hasUnsearchedRepositories:!1,items:[]}}}async getMaxIssue(){const i=await Promise.all(this._githubRepositories.map(t=>t.getMaxIssue()));let e=0;for(const t of i)t!==void 0&&(e=Math.max(e,t));return e}async getPullRequestTemplatesWithCache(){const i=this.getPullRequestTemplates().then(r=>(r.length>0?this.context.workspaceState.update(Sl,r[0].toString()):this.context.workspaceState.update(Sl,null),r)),e=this.context.workspaceState.keys().includes(Sl),t=this.context.workspaceState.get(Sl);if(e){if(t===null)return[];if(t)return[s.Uri.parse(t)]}return i}async getPullRequestTemplates(){const i="{pull_request_template,PULL_REQUEST_TEMPLATE}.{md,txt}",e=s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,i)),t="{docs,.github}/{pull_request_template,PULL_REQUEST_TEMPLATE}.{md,txt}",r=s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,t),null),n="{pull_request_template,PULL_REQUEST_TEMPLATE}",a=s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,n)),m="{docs,.github}/{pull_request_template,PULL_REQUEST_TEMPLATE}",k=s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,m),null),O="PULL_REQUEST_TEMPLATE/*.md",G=s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,O)),Z="{docs,.github}/PULL_REQUEST_TEMPLATE/*.md",oe=s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,Z),null),X=await Promise.all([e,r,a,k,G,oe]);return[...X[0],...X[1],...X[2],...X[3],...X[4],...X[5]]}async getPullRequestDefaults(i){var e,t;if(!i&&!this.repository.state.HEAD)throw new gf(this.repository);const r=await this.getOrigin(i),n=await r.getMetadata(),a=(e=s.workspace.getConfiguration(Be).inspect(Et))==null?void 0:e.defaultValue,m=s.workspace.getConfiguration(Be).get(Et),k=!m||(a==null?void 0:a.every((G,Z)=>m[Z]===G)),O=n.fork&&n.parent&&k?n.parent:await(this.findRepo(As("upstream"))||r).getMetadata();return{owner:O.owner.login,repo:O.name,base:(t=qc())!=null?t:O.default_branch}}async getPullRequestDefaultRepo(){const i=await this.getPullRequestDefaults();return this.findRepo(e=>e.remote.owner===i.owner&&e.remote.repositoryName===i.repo)||this._githubRepositories[0]}async getMetadata(i){const e=this.findRepo(As(i));return e&&e.getMetadata()}async getHeadCommitMessage(){const{repository:i}=this;if(i.state.HEAD&&i.state.HEAD.commit){const{message:e}=await i.getCommit(i.state.HEAD.commit);return e}return""}async getTipCommitMessage(i){var e;h.debug(`Git tip message for branch ${i} - enter`,this.id);const{repository:t}=this,{commit:r}=await t.getBranch(i);let n="";return r&&(n=(e=await t.getCommit(r))==null?void 0:e.message),h.debug(`Git tip message for branch ${i} - done`,this.id),n}async getOrigin(i){if(!this._githubRepositories.length)throw new vf(this.repository);const e=i?i.upstream:this.upstreamRef;if(e){const n=this.findRepo(As(e.remote));if(!n){const a=(await this.getAllGitHubRemotes()).find(m=>m.remoteName===e.remote);if(a)return this.createAndAddGitHubRepository(a,this._credentialStore);throw h.error(`The remote '${e.remote}' is not a GitHub repository.`),new _v(this.repository.state.HEAD.name,e,"is not a GitHub repo")}return n}const[t,...r]=this._githubRepositories;return r.length&&(this.findRepo(As("origin"))||this.findRepo(kv))||t}findRepo(i){return this._githubRepositories.filter(i)[0]}get upstreamRef(){const{HEAD:i}=this.repository.state;return i&&i.upstream}async createPullRequest(i){var e;const t=this._githubRepositories.find(n=>n.remote.owner===i.owner&&n.remote.repositoryName===i.repo);if(!t)throw new Error(`No matching repository ${i.repo} found for ${i.owner}`);let r;try{r=await t.createPullRequest(i);const n=i.head.indexOf(":"),a=i.head.slice(n+1);return await pn.associateBranchWithPullRequest(this._repository,r,a),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(i.draft||"").toString()}),r}catch(n){if(n.message.indexOf("No commits between ")>-1){if((e=this._repository.state.HEAD)==null?void 0:e.ahead){const a=s.l10n.t({message:"Push Commits",comment:"Pushes the local commits to the remote."});return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to push your local commits and create the pull request?`,i.base,i.head),{modal:!0},a)===a?(await this._repository.push(),this.createPullRequest(i)):void 0}if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length){const a=s.l10n.t("Commit Changes");return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to commit your changes and create the pull request?`,i.base,i.head),{modal:!0},a)===a?(await this._repository.add(this._repository.state.indexChanges.map(k=>k.uri.fsPath)),await this.repository.commit(`${i.title}${i.body?`
${i.body}`:""}`),await this._repository.push(),this.createPullRequest(i)):void 0}}if(h.error(`Creating pull requests failed: ${n}`,this.id),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(i.draft||"").toString()}),r)return r;throw new Error(F(n))}}async createIssue(i){try{const e=this._githubRepositories.find(a=>a.remote.owner===i.owner&&a.remote.repositoryName===i.repo);if(!e)throw new Error(`No matching repository ${i.repo} found for ${i.owner}`);await e.ensure();const{data:t}=await e.octokit.call(e.octokit.api.issues.create,i),r=Rp(t,e),n=new Nr(e,e.remote,r);return this.telemetry.sendTelemetryEvent("issue.create.success"),n}catch(e){h.error(` Creating issue failed: ${e}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),s.window.showWarningMessage(s.l10n.t("Creating issue failed: {0}",F(e)))}}async assignIssue(i,e){try{const t=this._githubRepositories.find(n=>n.remote.owner===i.remote.owner&&n.remote.repositoryName===i.remote.repositoryName);if(!t)throw new Error(`No matching repository ${i.remote.repositoryName} found for ${i.remote.owner}`);await t.ensure();const r={assignees:[e],owner:i.remote.owner,repo:i.remote.repositoryName,issue_number:i.number};await t.octokit.call(t.octokit.api.issues.addAssignees,r),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(t){h.error(`Assigning issue failed: ${t}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),s.window.showWarningMessage(s.l10n.t("Assigning issue failed: {0}",F(t)))}}getCurrentUser(i){return i||(i=this.gitHubRepositories[0]),this._credentialStore.getCurrentUser(i.remote.authProviderId)}async mergePullRequest(i,e,t,r){const{octokit:n,remote:a}=await i.githubRepository.ensure(),m=this.activePullRequest&&this.activePullRequest.head&&this.activePullRequest.head.sha,k=this.repository.state.HEAD&&this.repository.state.HEAD.commit,O=i.head&&i.head.sha,G=this.repository.state.workingTreeChanges.length>0;if(m===O){if(k!==O){const{ahead:Z}=this.repository.state.HEAD,oe=s.l10n.t(`You have {0} unpushed commits on this PR branch.

Would you like to proceed anyway?`,Z!=null?Z:"unknown"),X=s.l10n.t(`You have 1 unpushed commit on this PR branch.

Would you like to proceed anyway?`);if(Z&&await s.window.showWarningMessage(Z>1?oe:X,{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:"unpushed changes"}}if(G&&await s.window.showWarningMessage(s.l10n.t(`You have uncommitted changes on this PR branch.

 Would you like to proceed anyway?`),{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:"uncommitted changes"}}return await n.call(n.api.pulls.merge,{commit_message:t,commit_title:e,merge_method:r||s.workspace.getConfiguration(Be).get(Xe),owner:a.owner,repo:a.repositoryName,pull_number:i.number}).then(Z=>(this.telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidMergePullRequest.fire(),Z.data)).catch(Z=>{throw this.telemetry.sendTelemetryErrorEvent("pr.merge.failure"),Z})}async deleteBranch(i){await i.githubRepository.deleteBranch(i)}async getBranchDeletionItems(){const i=await this.repository.getConfigs(),e=new Map;i.forEach(n=>{const a=n.key,m=/^branch\.(.*)\.(.*)$/.exec(a);if(m&&m.length===3){const k=m[1];e.has(k)||e.set(k,{});const O=e.get(k);if(m[2]==="remote"&&(O.remote=n.value),m[2]==="github-pr-owner-number"){const G=pn.parsePullRequestMetadata(n.value);O.metadata=G}e.set(k,O)}});const t=[];e.forEach((n,a)=>{if(n.metadata){const m=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl;(m?m.owner===n.metadata.owner&&m.repositoryName===n.metadata.repositoryName&&this.activePullRequest&&this.activePullRequest.number===n.metadata.prNumber:!1)||t.push({label:`${a}`,description:`${n.metadata.repositoryName}/${n.metadata.owner} #${n.metadata.prNumber}`,picked:!1,metadata:n.metadata})}});const r=await Promise.all(t.map(async n=>{var a;const m=n.metadata,k=this._githubRepositories.find(oe=>oe.remote.owner.toLowerCase()===m.owner.toLowerCase()&&oe.remote.repositoryName.toLowerCase()===m.repositoryName.toLowerCase());if(!k)return n;const{remote:O,query:G,schema:Z}=await k.ensure();try{const{data:oe}=await G({query:Z.PullRequestState,variables:{owner:O.owner,name:O.repositoryName,number:m.prNumber}});n.legacy=((a=oe.repository)==null?void 0:a.pullRequest.state)!=="OPEN"}catch{}return n}));return r.forEach(n=>{n.legacy?n.picked=!0:n.description=s.l10n.t("{0} is still Open",n.description)}),r}async cleanupAfterPullRequest(i,e){var t;const r=await this.getPullRequestDefaults();if(i===r.base){h.debug("Not cleaning up default branch.",this.id);return}if(e.author.login===(await this.getCurrentUser()).login){h.debug("Not cleaning up user's branch.",this.id);return}const a=(t=(await this.repository.getBranch(i)).upstream)==null?void 0:t.remote;try{h.debug(`Cleaning up branch ${i}`,this.id),await this.repository.deleteBranch(i)}catch(k){return}if(!a)return;const m=await this.getDeleatableRemotes(void 0);m.has(a)&&m.get(a).createdForPullRequest&&(h.debug(`Cleaning up remote ${a}`,this.id),this.repository.removeRemote(a))}async getDeleatableRemotes(i){const e=await this.repository.getConfigs(),t=new Map;return e.forEach(r=>{const n=r.key;let a=/^branch\.(.*)\.(.*)$/.exec(n);if(a&&a.length===3){const m=a[1];if(a[2]==="remote"){const k=r.value;t.has(k)||t.set(k,{branches:new Set}),(i==null?void 0:i.has(m))||t.get(k).branches.add(m)}}if(a=/^remote\.(.*)\.(.*)$/.exec(n),a&&a.length===3){const m=a[1];t.has(m)||t.set(m,{branches:new Set});const k=t.get(m);a[2]==="github-pr-remote"&&(k.createdForPullRequest=r.value==="true"),a[2]==="url"&&(k.url=r.value)}}),t}async getRemoteDeletionItems(i){const e=await this.getDeleatableRemotes(i),t=[];return e.forEach((r,n)=>{if(r.branches.size===0){let a=r.createdForPullRequest?"":s.l10n.t("Not created by GitHub Pull Request extension");r.url&&(a=a?`${a} ${r.url}`:r.url),t.push({label:n,description:a,picked:r.createdForPullRequest,remote:n})}}),t}async deleteLocalBranchesNRemotes(){return new Promise(async i=>{const e=s.window.createQuickPick();e.canSelectMany=!0,e.ignoreFocusOut=!0,e.placeholder=s.l10n.t("Choose local branches you want to delete permanently"),e.show(),e.busy=!0;const t=await this.getBranchDeletionItems(),r=await this.getPullRequestDefaults();e.items=t,e.selectedItems=t.filter(a=>a.picked&&!(a.label===r.base&&a.metadata.owner===r.owner&&a.metadata.repositoryName===r.repo)),e.busy=!1;let n=!0;e.onDidAccept(async()=>{if(e.busy=!0,n){const a=e.selectedItems,m=new Set;if(a.length)try{await Promise.all(a.map(async O=>{try{await this.repository.deleteBranch(O.label,!0)}catch(G){if(typeof G.stderr=="string"&&G.stderr.includes("not found"))m.add(O.label);else throw G}}))}catch(O){e.hide(),s.window.showErrorMessage(s.l10n.t("Deleting branches failed: {0} {1}",O.message,O.stderr))}n=!1;const k=await this.getRemoteDeletionItems(m);k&&k.length?(e.placeholder=s.l10n.t("Choose remotes you want to delete permanently"),e.items=k,e.selectedItems=k.filter(O=>O.picked)):e.hide()}else{const a=e.selectedItems;a.length&&await Promise.all(a.map(async m=>{await this.repository.removeRemote(m.label)})),e.hide()}e.busy=!1}),e.onDidHide(()=>{i()})})}async getPullRequestRepositoryDefaultBranch(i){return await i.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(i){return await i.githubRepository.getRepoAccessAndMergeMethods()}async fulfillPullRequestMissingInfo(i){try{if(!i.isResolved())return;h.debug("Fulfill pull request missing info - start",this.id);const e=i.githubRepository,{octokit:t,remote:r}=await e.ensure();if(!i.base){const{data:n}=await t.call(t.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:i.number});i.update(ll(n,e))}if(!i.mergeBase){const{data:n}=await t.call(t.api.repos.compareCommits,{repo:r.repositoryName,owner:r.owner,base:`${i.base.repositoryCloneUrl.owner}:${i.base.ref}`,head:`${i.head.repositoryCloneUrl.owner}:${i.head.ref}`});i.mergeBase=n.merge_base_commit.sha}}catch(e){s.window.showErrorMessage(s.l10n.t("Fetching Pull Request merge base failed: {0}",F(e)))}h.debug("Fulfill pull request missing info - done",this.id)}async resolveItem(i,e){let t=this._githubRepositories.find(r=>r.remote.owner.toLowerCase()===i.toLowerCase()&&r.remote.repositoryName.toLowerCase()===e.toLowerCase());return t||(t=await this.createGitHubRepositoryFromOwnerName(i,e)),t}async resolvePullRequest(i,e,t){const r=await this.resolveItem(i,e);if(r){const n=await r.getPullRequest(t);if(n&&await r.hasBranch(n.base.name))return n}}async resolveIssue(i,e,t,r=!1){const n=await this.resolveItem(i,e);if(n)return n.getIssue(t,r)}async resolveUser(i,e,t){var r;h.debug(`Fetch user ${t}`,this.id);const n=await this.createGitHubRepositoryFromOwnerName(i,e),{query:a,schema:m}=await n.ensure();try{const{data:k}=await a({query:m.GetUser,variables:{login:t}});return Ip(k,n)}catch(k){((r=k.message)==null?void 0:r.startsWith("GraphQL error: Could not resolve to a User with the login of"))||h.warn(k.message)}}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await pn.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(i,e,t,r){return e?this.getMatchingPullRequestMetadataFromGitHubWithRemoteName(e,r):this.getMatchingPullRequestMetadataFromGitHubWithUrl(i,t,r)}async getMatchingPullRequestMetadataFromGitHubWithUrl(i,e,t){var r,n;if(!e)return null;let a=this.gitHubRepositories.find(O=>O.remote.url.toLowerCase()===e.toLowerCase()),m;if(!a&&this.gitHubRepositories.length>0){m=new xr(e);const O=gu(m.repositoryName,e,m);O&&(a=await this.createGitHubRepository(O,this.credentialStore,!0,!0))}const k=await this.doGetMatchingPullRequestMetadataFromGitHub(a,t);if(k&&i.upstream===void 0&&m&&a&&i.name){const O=await pn.createRemote(this.repository,a==null?void 0:a.remote,m),G=`refs/remotes/${O}/${(r=k.model.head)==null?void 0:r.name}`;await this.repository.fetch({remote:O,ref:(n=k.model.head)==null?void 0:n.name}),await this.repository.setBranchUpstream(i.name,G)}return k}async getMatchingPullRequestMetadataFromGitHubWithRemoteName(i,e){if(!i)return null;const t=this.gitHubRepositories.find(r=>r.remote.remoteName===i);return this.doGetMatchingPullRequestMetadataFromGitHub(t,e)}async doGetMatchingPullRequestMetadataFromGitHub(i,e){if(!i||!e)return null;const t=await(i==null?void 0:i.getMetadata());if(!(t==null?void 0:t.owner))return null;const r=this.gitHubRepositories.filter(n=>{var a,m,k;return t.fork?n.remote.owner===((m=(a=t.parent)==null?void 0:a.owner)==null?void 0:m.login)&&n.remote.repositoryName===t.parent.name:n.remote.owner===((k=t.owner)==null?void 0:k.login)&&n.remote.repositoryName===t.name});for(const n of r){const a=await n.getPullRequestForBranch(e,t.owner.login);if(a)return{owner:n.remote.owner,repositoryName:n.remote.repositoryName,prNumber:a.number,model:a}}return null}async checkoutExistingPullRequestBranch(i,e){return await pn.checkoutExistingPullRequestBranch(this.repository,i,e)}async getBranchNameForPullRequest(i){return await pn.getBranchNRemoteForPullRequest(this.repository,i)}async fetchAndCheckout(i,e){await pn.fetchAndCheckout(this.repository,this._allGitHubRemotes,i,e)}async checkout(i){return this.repository.checkout(i)}async fetchById(i,e){const t=await i.getPullRequest(e);if(t)return t;s.window.showErrorMessage(s.l10n.t("Pull request number {0} does not exist in {1}",e,`${i.remote.owner}/${i.remote.repositoryName}`),{modal:!0})}async checkoutDefaultBranch(i){var e,t,r;let n;try{if(n=await this.repository.getBranch(i),((e=this.repository.state.HEAD)==null?void 0:e.name)===n.name){const k=s.l10n.t("Choose a Branch");s.window.showInformationMessage(s.l10n.t("The default branch is already checked out."),k).then(O=>{if(O===k)return kl.checkout()});return}s.workspace.getConfiguration(Zt).get(bi,!1)&&n.upstream&&await this.repository.fetch({remote:n.upstream.remote,ref:`${n.upstream.name}:${n.name}`}),n.upstream&&i===n.upstream.name?await this.repository.checkout(i):await kl.checkout();const m=[];for(const k of s.window.tabGroups.all)for(const O of k.tabs){let G;O.input instanceof s.TabInputText?G=O.input.uri:O.input instanceof s.TabInputTextDiff?G=O.input.original:O.input instanceof s.TabInputWebview&&(G=O.input.viewType),(G instanceof s.Uri&&G.scheme===li.Review||typeof G=="string"&&G.endsWith(dc))&&m.push(s.window.tabGroups.close(O))}await Promise.all(m)}catch(a){if(a.gitErrorCode&&a.gitErrorCode===W.DirtyWorkTree){s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches"));return}h.error(`Exiting failed: ${a}. Target branch ${i} used to find branch ${(t=n==null?void 0:n.name)!=null?t:"unknown"} with upstream ${(r=n==null?void 0:n.upstream)!=null?r:"unknown"}.`),s.window.showErrorMessage(`Exiting failed: ${a}`)}}async pullBranchConfiguration(){return this.context.globalState.get(Wu,!1)&&(this.context.globalState.update(Wu,!1),await s.workspace.getConfiguration(Be).update(dr,"never",s.ConfigurationTarget.Global)),s.workspace.getConfiguration(Be).get(dr,"prompt")}async pullBranch(i){var e;((e=this._repository.state.HEAD)==null?void 0:e.name)===i.name&&await this._repository.pull()}async promptPullBrach(i,e,t){if(!this._updateMessageShown||t){this._updateMessageShown=!0;const r=s.l10n.t("Pull"),n=s.l10n.t("Always Pull"),a=s.l10n.t("Never Show Again"),m=[r];t||m.push(n,a),await s.window.showInformationMessage(s.l10n.t("There are updates available for pull request {0}.",`${i.number}: ${i.title}`),{},...m)===r?(await this.pullBranch(e),this._updateMessageShown=!1):a?await s.workspace.getConfiguration(Be).update(dr,"never",s.ConfigurationTarget.Global):n&&(await s.workspace.getConfiguration(Be).update(dr,"always",s.ConfigurationTarget.Global),await this.pullBranch(e))}}async checkBranchUpToDate(i,e){var t,r;if(((t=this.activePullRequest)==null?void 0:t.id)!==i.id)return;const n=this._repository.state.HEAD;if(n){const a=n.upstream?n.upstream.remote:null,m=n.upstream?n.upstream.name:n.name;if(a){try{e&&s.workspace.getConfiguration(Be).get(Ti,!0)&&await this._repository.fetch(a,m)}catch(O){O.stderr&&(O.stderr.startsWith("fatal: couldn't find remote ref")||s.window.showErrorMessage(s.l10n.t("An error occurred when fetching the repository: {0}",O.stderr))),h.error(`Error when fetching: ${(r=O.stderr)!=null?r:O}`,this.id)}const k=await this.pullBranchConfiguration();if(n.behind!==void 0&&n.behind>0)switch(k){case"always":{const O=s.workspace.getConfiguration(Zt).get(Wi,!1);return O?this.promptPullBrach(i,n,O):this.pullBranch(n)}case"prompt":return this.promptPullBrach(i,n);case"never":return}}}}findExistingGitHubRepository(i){return this._githubRepositories.find(e=>e.remote.owner.toLowerCase()===i.owner.toLowerCase()&&e.remote.repositoryName.toLowerCase()===i.repositoryName.toLowerCase()&&(!i.remoteName||e.remote.remoteName===i.remoteName))}async createAndAddGitHubRepository(i,e,t){const r=new ku(Qa.remoteAsGitHub(i,await this._githubManager.isGitHub(i.gitProtocol.normalizeUri())),this.repository.rootUri,e,this.telemetry,t);return this._githubRepositories.push(r),r}async createGitHubRepository(i,e,t,r=!1){return this._createGitHubRepositoryBulkhead.execute(()=>{var n;return(n=this.findExistingGitHubRepository({owner:i.owner,repositoryName:i.repositoryName,remoteName:r?void 0:i.remoteName}))!=null?n:this.createAndAddGitHubRepository(i,e,t)})}async createGitHubRepositoryFromOwnerName(i,e){var t,r;const n=this.findExistingGitHubRepository({owner:i,repositoryName:e});if(n)return n;const m=ha(this.repository).find(O=>O.owner===i&&O.repositoryName===e),k=(t=m==null?void 0:m.url)!=null?t:`https://github.com/${i}/${e}`;return this.createAndAddGitHubRepository(new el((r=m==null?void 0:m.remoteName)!=null?r:e,k,new xr(k)),this._credentialStore)}async findUpstreamForItem(i){let e,t;for(const n of this.gitHubRepositories){if(!e&&n.remote.owner===i.remote.owner&&n.remote.repositoryName===i.remote.repositoryName){e=n;continue}const a=await n.getRepositoryForkDetails();if(a&&a.isFork&&a.parent.owner.login===i.remote.owner&&a.parent.name===i.remote.repositoryName){const m=await n.getViewerPermission();if(m===on.Admin||m===on.Maintain||m===on.Write){t=n.remote;break}}}let r=!1;if(e&&!t){const n=await i.githubRepository.getViewerPermission();(n===on.Read||n===on.Triage||n===on.Unknown)&&(r=!0)}return{needsFork:r,upstream:e,remote:t}}async forkWithProgress(i,e,t,r){i.report({message:s.l10n.t("Forking {0}...",t)});const n=await e.fork();if(i.report({increment:50}),!n){s.window.showErrorMessage(s.l10n.t("Unable to create a fork of {0}. Check that your GitHub credentials are correct.",t));return}const a=r.state.remotes.length>1?"origin":r.state.remotes[0].name;return i.report({message:s.l10n.t("Adding remotes. This may take a few moments.")}),await r.renameRemote(a,"upstream"),await r.addRemote(a,n),await new Promise(m=>{if(this.gitHubRepositories.length===0){const k=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>0&&(k.dispose(),m())})}else m()}),i.report({increment:50}),a}async doFork(i,e,t){return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating Fork")},async r=>{try{return this.forkWithProgress(r,i,e,t)}catch(n){s.window.showErrorMessage(`Creating fork failed: ${n}`)}})}async tryOfferToFork(i){const e=`${i.remote.owner}/${i.remote.repositoryName}`,t=s.l10n.t("Fork"),r=s.l10n.t("Don't Fork");switch(await s.window.showInformationMessage(s.l10n.t("You don't have permission to push to {0}. Do you want to fork {0}? This will modify your git remotes to set `origin` to the fork, and `upstream` to {0}.",e),{modal:!0},t,r)){case t:return this.doFork(i,e,this.repository);case r:return!1;default:return}}getTitleAndDescriptionProvider(i){return this._git.getTitleAndDescriptionProvider(i)}dispose(){this._subs.forEach(i=>i.dispose()),this._onDidDispose.fire()}};let is=_f;Oi(is,"ID","FolderRepositoryManager");function _w(i){switch(i){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const kv=i=>{const{currentUser:e=null}=i.octokit;return e&&i.remote.owner===e.login},As=i=>({remote:{remoteName:e}})=>e===i,Sv=async i=>{const e=await i;if(!e)return;const t=e.indexOf(`
`);return{title:t===-1?e:e.substr(0,t),body:t===-1?"":e.slice(t+1).trim()}};class kf extends Gu{constructor(e,t){super();this.gitAPI=e,this.credentialStore=t}async waitForRepos(e){h.appendLine("Waiting for repositories.","RepositoryFileSystemProvider");let t;const r=new Promise(m=>{t=this.gitAPI.onDidOpenRepository(()=>{h.appendLine("Found at least one repository.","RepositoryFileSystemProvider"),t==null||t.dispose(),t=void 0,m()})});let n;const a=new Promise(m=>{n=setTimeout(()=>{h.appendLine("Timed out while waiting for repositories.","RepositoryFileSystemProvider"),m()},e)});await Promise.race([r,a]),n&&clearTimeout(n),t&&t.dispose()}async waitForAuth(){if(!this.credentialStore.isAnyAuthenticated())return new Promise(e=>this.credentialStore.onDidGetSession(()=>e()))}}var Rv=Object.defineProperty,Ev=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Rv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Cv extends kf{constructor(e,t,r){super(t,r);this.reposManagers=e,Ev(this,"_prFileChangeContentProviders",{})}registerTextDocumentContentProvider(e,t){return this._prFileChangeContentProviders[e]=t,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}resolveChanges(e,t,r,n){const a=t.equals(r.activePullRequest);return e.map(m=>m instanceof Kr?new So(r,m,t):new ko(r,t,m,a,n))}waitForGitHubRepos(e,t){return new Promise(r=>{const n=setTimeout(()=>{a.dispose(),r()},t),a=e.onDidLoadRepositories(m=>{m===un.RepositoriesLoaded&&(clearTimeout(n),a.dispose(),r())})})}async tryRegisterNewProvider(e,t){await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3);const r=this.reposManagers.getManagerForFile(e);if(!r)return;let n=r.findRepo(G=>G.remote.remoteName===t.remoteName);if(n||(await this.waitForGitHubRepos(r,1e4),n=r.findRepo(G=>G.remote.remoteName===t.remoteName)),!n)return;const a=await r.resolvePullRequest(n.remote.owner,n.remote.repositoryName,t.prNumber);if(!a)return;const m=await a.getFileChangesInfo(),k=a.mergeBase;if(!k)return;const O=this.resolveChanges(m,a,r,k);this.registerTextDocumentContentProvider(a.number,async G=>{const Z=lr(G);if(!Z)return"";const oe=O.find(X=>X.fileName===Z.fileName);return oe?Ju(r,a,Z,oe):(h.error(`Cannot find content for document ${G.toString()}`,"PR"),"")})}async readFileWithProvider(e,t){const r=this._prFileChangeContentProviders[t];if(r){const n=await r(e);return new TextEncoder().encode(n)}}async readFile(e){var t;const r=lr(e);if(!r||r.prNumber===void 0)return new TextEncoder().encode("");const n=await this.readFileWithProvider(e,r.prNumber);return n||(await this.tryRegisterNewProvider(e,r),(t=await this.readFileWithProvider(e,r.prNumber))!=null?t:new TextEncoder().encode(""))}}let Qu;function Yu(i){return!Qu&&i&&(Qu=new Cv(i.reposManager,i.gitAPI,i.credentialStore)),Qu}async function Ju(i,e,t,r){if(t.isBase&&r.status===Ht.ADD||!t.isBase&&r.status===Ht.DELETE)return"";if(r instanceof So||r instanceof ko&&await r.isPartial())try{return t.isBase?e.getFile(r.previousFileName||r.fileName,t.baseCommit):e.getFile(r.fileName,t.headCommit)}catch(n){return h.error(`Fetching file content failed: ${n}`,"PR"),s.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(a=>{a==="Open on GitHub"&&r.blobUrl&&s.commands.executeCommand("vscode.open",s.Uri.parse(r.blobUrl))}),""}if(r instanceof ko)if(r.status===Ht.ADD||r.status===Ht.DELETE)if(t.isBase){const a=[],m=await r.diffHunks();for(let k=0;k<m.length;k++)for(let O=0;O<m[k].diffLines.length;O++){const G=m[k].diffLines[O];G.type===hr.Add||(G.type===hr.Delete?a.push(G.text):G.type===hr.Control||a.push(G.text))}return a.join(`
`)}else{const a=[],m=await r.diffHunks();for(let k=0;k<m.length;k++)for(let O=0;O<m[k].diffLines.length;O++){const G=m[k].diffLines[O];G.type===hr.Add?a.push(G.text):G.type===hr.Delete||G.type===hr.Control||a.push(G.text)}return a.join(`
`)}else{const a=r.status===Ht.RENAME?r.previousFileName:r.fileName,m=s.Uri.joinPath(i.repository.rootUri,a),k=await i.repository.show(t.baseCommit,m.fsPath);return t.isBase?k:It(k,r.patch)}return""}var Nv=Object.defineProperty,Sf=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Nv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Tv{constructor(){Sf(this,"_progress",Promise.resolve()),Sf(this,"_endProgress",new s.EventEmitter)}get progress(){return this._progress}startProgress(){this.endProgress(),this._progress=new Promise(e=>{const t=this._endProgress.event(()=>{t.dispose(),e()})})}endProgress(){this._endProgress.fire()}}var Mv=Object.defineProperty,Rf=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Mv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Ef{constructor(e,t,r,n,a=`${e}:${t}`){this.owner=e,this.name=t,this.description=r,this.remote=n,this.label=a,Rf(this,"detail"),Rf(this,"picked")}static fromRemote(e){return new this(e.owner,e.repositoryName,e.url,e)}}var Pv=Object.defineProperty,Rl=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Pv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class xv{constructor(){Rl(this,"_localFileChanges"),Rl(this,"_onDidChangeLocalFileChanges",new s.EventEmitter),Rl(this,"onDidChangeLocalFileChanges",this._onDidChangeLocalFileChanges.event),Rl(this,"_obsoleteFileChanges",[])}get hasLocalFileChanges(){return!!this._localFileChanges}get localFileChanges(){var e;return(e=this._localFileChanges)!=null?e:[]}set localFileChanges(e){this._localFileChanges=e,this._onDidChangeLocalFileChanges.fire()}get obsoleteFileChanges(){return this._obsoleteFileChanges}set obsoleteFileChanges(e){this._obsoleteFileChanges=e}clear(){this.obsoleteFileChanges=[],this._localFileChanges=void 0}}var Dv=Object.defineProperty,ur=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Dv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const Cf=class{constructor(i,e,t,r,n,a,m,k,O,G,Z){this._id=i,this._context=e,this._repository=t,this._folderRepoManager=r,this._telemetry=n,this.changesInPrDataProvider=a,this._pullRequestsTree=m,this._showPullRequest=k,this._activePrViewCoordinator=O,this._createPullRequestHelper=G,ur(this,"_localToDispose",[]),ur(this,"_disposables"),ur(this,"_activePrDisposables",[]),ur(this,"_reviewModel",new xv),ur(this,"_lastCommitSha"),ur(this,"_updateMessageShown",!1),ur(this,"_validateStatusInProgress"),ur(this,"_reviewCommentController"),ur(this,"_quickDiffProvider"),ur(this,"_inMemGitHubContentProvider"),ur(this,"_statusBarItem"),ur(this,"_prNumber"),ur(this,"_isShowingLastReviewChanges",!1),ur(this,"_previousRepositoryState"),ur(this,"_switchingToReviewMode"),ur(this,"_changesSinceLastReviewProgress",new Tv),ur(this,"justSwitchedToReviewMode",!1),ur(this,"_isFirstLoad",!0),ur(this,"hasShownLogRequest",!1),this._switchingToReviewMode=!1,this._disposables=[],this._previousRepositoryState={HEAD:t.state.HEAD,remotes:ha(this._repository)},this.registerListeners(),Z.state==="initialized"&&this.updateState(!0),this.pollForStatusChange()}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(i){this._switchingToReviewMode=i,i||this.updateState(!0)}registerListeners(){this._disposables.push(this._repository.state.onDidChange(i=>{const e=this._previousRepositoryState.HEAD,t=this._repository.state.HEAD;if(!e&&!t)return;let r;!e||!t?r=!1:r=e.upstream?t.upstream&&e.upstream.name===t.upstream.name&&e.upstream.remote===t.upstream.remote:!t.upstream;const n=r&&e.ahead===t.ahead&&e.behind===t.behind&&e.commit===t.commit&&e.name===t.name&&e.remote===t.remote&&e.type===t.type,a=ha(this._repository),m=this._previousRepositoryState.remotes.length===a.length&&this._previousRepositoryState.remotes.every(k=>a.some(O=>k.equals(O)));(!n||!m)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:a},this.updateState(!0)),e&&t&&this.updateBaseBranchMetadata(e,t)})),this._disposables.push(s.workspace.onDidChangeConfiguration(i=>{this.updateFocusedViewMode(),i.affectsConfiguration(`${Be}.${Si}`)&&this.validateState(!0,!1)})),this._disposables.push(this._folderRepoManager.onDidChangeActivePullRequest(i=>{this.updateFocusedViewMode(),this.registerQuickDiff(),this.registerActivePrEvents()})),gl.registerProvider(this._disposables,this,this._folderRepoManager)}async updateBaseBranchMetadata(i,e){var t;if(!i.commit||i.commit!==e.commit||!e.name||!i.name||i.name===e.name)return;let r=this._folderRepoManager.gitHubRepositories.find(n=>{var a;return n.remote.remoteName===((a=i.upstream)==null?void 0:a.remote)});if(r){const n=await r.getMetadata();return n.fork&&i.name===n.default_branch&&(r=(t=this._folderRepoManager.gitHubRepositories.find(a=>{var m,k,O;return a.remote.owner===((k=(m=n.parent)==null?void 0:m.owner)==null?void 0:k.login)&&a.remote.repositoryName===((O=n.parent)==null?void 0:O.name)}))!=null?t:r),pn.associateBaseBranchWithBranch(this.repository,e.name,r.remote.owner,r.remote.repositoryName,i.name)}}registerQuickDiff(){if(s.workspace.getConfiguration(Be).get(Te)){this._quickDiffProvider&&(this._quickDiffProvider.dispose(),this._quickDiffProvider=void 0);const i=this._folderRepoManager.activePullRequest?s.l10n.t("GitHub pull request #{0}",this._folderRepoManager.activePullRequest.number):s.l10n.t("GitHub pull request");this._disposables.push(this._quickDiffProvider=s.window.registerQuickDiffProvider({scheme:"file"},{provideOriginalResource:e=>{const t=this.reviewModel.localFileChanges.find(r=>r.changeModel.filePath.toString()===e.toString());if(t)return t.changeModel.parentFilePath}},i,this.repository.rootUri))}}registerActivePrEvents(){K(this._activePrDisposables),this._activePrDisposables=[],!!this._folderRepoManager.activePullRequest&&this._activePrDisposables.push(this._folderRepoManager.activePullRequest.onDidChangeComments(()=>this._pullRequestsTree.refresh()))}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=s.window.createStatusBarItem("github.pullrequest.status",s.StatusBarAlignment.Left),this._statusBarItem.name=s.l10n.t("GitHub Active Pull Request")),this._statusBarItem}get repository(){return this._repository}get reviewModel(){return this._reviewModel}pollForStatusChange(){setTimeout(async()=>{this._validateStatusInProgress||await this.updateComments(),this.pollForStatusChange()},1e3*60*5)}get id(){return`${Cf.ID}+${this._id}`}async updateState(i=!1,e=!0){if(!this.switchingToReviewMode)return this._validateStatusInProgress?(h.appendLine("Queuing additional validate state",this.id),this._validateStatusInProgress=this._validateStatusInProgress.then(async t=>await this.validateStatueAndSetContext(i,e)),this._validateStatusInProgress):(h.appendLine("Validate state in progress",this.id),this._validateStatusInProgress=this.validateStatueAndSetContext(i,e),this._validateStatusInProgress)}async validateStatueAndSetContext(i,e){let t;const r=new Promise(a=>{t=setTimeout(()=>{t&&(clearTimeout(t),t=void 0,h.error("Timeout occurred while validating state.",this.id),!this.hasShownLogRequest&&Oe(this._context)&&(this.hasShownLogRequest=!0,s.window.showErrorMessage(s.l10n.t('A known error has occurred refreshing the repository state. Please share logs from "GitHub Pull Request" in the [tracking issue]({0}).',"https://github.com/microsoft/vscode-pull-request-github/issues/5277")))),a()},1e3*60*2)}),n=new Promise(a=>{this.validateState(i,e).then(()=>{s.commands.executeCommand("setContext","github:stateValidated",!0).then(()=>{t&&(clearTimeout(t),t=void 0),a()})})});return Promise.race([n,r])}async offerIgnoreBranch(i){const e="githubPullRequest.showOfferIgnoreBranch";if(!this._context.workspaceState.get(e,!0))return!1;const r="githubPullRequest.offerIgnoreBranchTime",n=this._context.workspaceState.get(r,0),a=new Date().getTime();if(a-n<1e3*60*60*24)return!1;const{base:m}=await this._folderRepoManager.getPullRequestDefaults(i);if(m!==i)return!1;await this._context.workspaceState.update(r,a);const k=s.l10n.t("Ignore Pull Request"),O=s.l10n.t("Don't Show Again"),G=await s.window.showInformationMessage(s.l10n.t("There's a pull request associated with the default branch '{0}'. Do you want to ignore this Pull Request?",i),k,O);if(G===k){h.appendLine(`Branch ${i} will now be ignored in ${Si}.`,this.id);const Z=s.workspace.getConfiguration(Be),oe=Z.get(Si,[]);return oe.push(i),await Z.update(Si,oe),!0}else if(G===O)return await this._context.workspaceState.update(e,!1),!1;return!1}async getUpstreamUrlAndName(i){if(i.upstream)return{remoteName:i.upstream.remote,branchName:i.upstream.name,url:void 0};try{const e=await this.repository.getConfig(`branch.${i.name}.remote`),t=await this.repository.getConfig(`branch.${i.name}.merge`);let r;return t&&(r=t.substring("refs/heads/".length)),{url:e,branchName:r,remoteName:void 0}}catch(e){return h.appendLine(`Failed to get upstream for branch ${i.name} from git config.`,this.id),{url:void 0,branchName:void 0,remoteName:void 0}}}async checkGitHubForPrBranch(i){const{url:e,branchName:t,remoteName:r}=await this.getUpstreamUrlAndName(this._repository.state.HEAD),n=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub(i,r,e,t);if(n)return h.appendLine(`Found matching pull request metadata on GitHub for current branch ${i.name}. Repo: ${n.owner}/${n.repositoryName} PR: ${n.prNumber}`),await pn.associateBranchWithPullRequest(this._repository,n.model,i.name),n}async resolvePullRequest(i){this._prNumber=i.prNumber;const{owner:e,repositoryName:t}=i;h.appendLine("Review> Resolving pull request");const r=await this._folderRepoManager.resolvePullRequest(e,t,i.prNumber);if(!r||!r.isResolved()){await this.clear(!0),this._prNumber=void 0,h.appendLine("Review> This PR is no longer valid");return}return r}async validateState(i,e){h.appendLine("Validating state...",this.id);const t=this._lastCommitSha;if(this._lastCommitSha=void 0,await this._folderRepoManager.updateRepositories(!1),!this._repository.state.HEAD){await this.clear(!0);return}const r=this._repository.state.HEAD,n=s.workspace.getConfiguration(Be).get(Si);if(n==null?void 0:n.find(de=>de===r.name)){h.appendLine(`Branch ${r.name} is ignored in ${Si}.`,this.id),await this.clear(!0);return}let a=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(a||(h.appendLine(`No matching pull request metadata found locally for current branch ${r.name}`,this.id),a=await this.checkGitHubForPrBranch(r)),!a){h.appendLine(`No matching pull request metadata found on GitHub for current branch ${r.name}`,this.id),await this.clear(!0);return}if(h.appendLine(`Found matching pull request metadata for current branch ${r.name}. Repo: ${a.owner}/${a.repositoryName} PR: ${a.prNumber}`,this.id),!(r.upstream?r.upstream.remote:null)){h.appendLine(`Current branch ${this._repository.state.HEAD.name} hasn't setup remote yet`,this.id),await this.clear(!0);return}h.appendLine(`current branch ${this._repository.state.HEAD.name} is associated with pull request #${a.prNumber}`,this.id);const k=this._prNumber;let O=await this.resolvePullRequest(a);if(!O){h.appendLine(`Unable to resolve PR #${a.prNumber}`,this.id);return}if(h.appendLine(`Resolved PR #${a.prNumber}, state is ${O.state}`,this.id),O.state!==wi.Open){const de=await this.checkGitHubForPrBranch(r);if(de&&(de==null?void 0:de.prNumber)!==O.number){const ke=await this.resolvePullRequest(de);ke&&(O=ke)}}const G=r.commit!==t&&r.ahead===0&&r.behind===0;if(k===O.number&&!G&&this._isShowingLastReviewChanges===O.showChangesSinceReview){this._validateStatusInProgress=void 0;return}this._isShowingLastReviewChanges=O.showChangesSinceReview,k!==O.number&&this.clear(!1);const Z=s.workspace.getConfiguration(Be).get(ct,{merged:!0,closed:!1});if(O.isClosed&&!Z.closed){h.appendLine("This PR is closed",this.id),await this.clear(!0);return}if(O.isMerged&&!Z.merged){h.appendLine("This PR is merged",this.id),await this.clear(!0);return}s.workspace.getConfiguration(Be).get(kt,!1)||this.offerIgnoreBranch(r.name);const X=this._folderRepoManager.activePullRequest;this._folderRepoManager.activePullRequest=O,this._lastCommitSha=O.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this._folderRepoManager.checkBranchUpToDate(O,!0)),h.appendLine("Fetching pull request data",this.id),i||I(this._reviewModel.onDidChangeLocalFileChanges)(()=>{O&&this._upgradePullRequestEditors(O)}),this.initializePullRequestData(O),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,O,this._reviewModel,this.justSwitchedToReviewMode,this._changesSinceLastReviewProgress),this.justSwitchedToReviewMode=!1,h.appendLine("Register comments provider",this.id),await this.registerCommentController(),this._activePrViewCoordinator.setPullRequest(O,this._folderRepoManager,this,X),this._localToDispose.push(O.onDidChangeChangesSinceReview(async de=>{this._changesSinceLastReviewProgress.startProgress(),this.changesInPrDataProvider.refresh(),await this.updateComments(),await this.reopenNewReviewDiffs(),this._changesSinceLastReviewProgress.endProgress()})),h.appendLine("Register in memory content provider",this.id),await this.registerGitHubInMemContentProvider(),this.statusBarItem.text="$(git-pull-request) "+s.l10n.t("Pull Request #{0}",O.number),this.statusBarItem.command={command:"pr.openDescription",title:s.l10n.t("View Pull Request Description"),arguments:[O]},h.appendLine("Display pull request status bar indicator.",this.id),this.statusBarItem.show(),this.layout(O,e,i),this._validateStatusInProgress=void 0}layout(i,e,t){const r=this._context.workspaceState.get(Ps);if(h.appendLine(`Using focus mode = ${r}.`,this.id),h.appendLine(`State validation silent = ${t}.`,this.id),h.appendLine(`PR show should show = ${this._showPullRequest.shouldShow}.`,this.id),(!t||this._showPullRequest.shouldShow)&&r)this._doFocusShow(i,e);else if(!this._showPullRequest.shouldShow&&r){const n=this._showPullRequest.onChangedShowValue(a=>{h.appendLine(`PR show value changed = ${a}.`,this.id),a&&this._doFocusShow(i,e),n.dispose()});this._localToDispose.push(n)}}async reopenNewReviewDiffs(){let i=!1;await Promise.all(s.window.tabGroups.all.map(e=>e.tabs.map(t=>{if(t.input instanceof s.TabInputTextDiff&&t.input.original.scheme===li.Review)for(const r of this._reviewModel.localFileChanges){const n=Zn(t.input.original.query);if(r.fileName===n.path){i=!0,s.window.tabGroups.close(t).then(a=>r.openDiff(this._folderRepoManager,{preview:t.isPreview}));break}}return Promise.resolve(void 0)})).flat()),!i&&this._reviewModel.localFileChanges.length&&this._reviewModel.localFileChanges[0].openDiff(this._folderRepoManager,{preview:!0})}openDiff(){if(this._reviewModel.localFileChanges.length){let i=[];for(const t of this._reviewModel.localFileChanges)if(t.status===Ht.MODIFY)if($c.includes(p.extname(t.fileName)))i.push(t);else{i.unshift(t);break}(i.length?i[0]:this._reviewModel.localFileChanges[0]).openDiff(this._folderRepoManager)}}_doFocusShow(i,e){if(s.workspace.getConfiguration(cr).get(nr)!=="never"&&Lr.executeCommand("workbench.action.focusCommentsPanel"),this._activePrViewCoordinator.show(i),e){const r=s.workspace.getConfiguration(Be).get(Vt);if(r==="firstDiff")if(this._reviewModel.localFileChanges.length)this.openDiff();else{const n=this._reviewModel.onDidChangeLocalFileChanges(()=>{n.dispose(),this.openDiff()})}else if(r==="overview")return this.openDescription()}}async _upgradePullRequestEditors(i){const e=new Set;await Promise.all(s.window.tabGroups.all.map(r=>r.tabs.map(n=>{if(n.input instanceof s.TabInputTextDiff&&n.input.original.scheme===li.Pr&&n.input.modified.scheme===li.Pr){const a=lr(n.input.original),m=lr(n.input.modified);if((a==null?void 0:a.prNumber)===i.number&&(m==null?void 0:m.prNumber)===i.number)return e.add([a,m]),s.window.tabGroups.close(n)}return Promise.resolve(void 0)})).flat());const t=[];if(e.size){for(const r of this.reviewModel.localFileChanges)for(const n of e)if(Array.isArray(n)){const a=n[1];if(r.fileName===a.fileName){t.push(r.openDiff(this._folderRepoManager,{preview:!1})),e.delete(n);break}}}return Promise.all(t)}async updateComments(){var i;const e=this._repository.state.HEAD;if(!e)return;const t=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!t||!(e.upstream?e.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const n=await this._folderRepoManager.resolvePullRequest(t.owner,t.repositoryName,this._prNumber);if(!n||!n.isResolved()){h.warn("This PR is no longer valid",this.id);return}return await this._folderRepoManager.checkBranchUpToDate(n,!1),await this.initializePullRequestData(n),await((i=this._reviewCommentController)==null?void 0:i.update()),Promise.resolve(void 0)}async getLocalChangeNodes(i,e){const t=[],r=i.mergeBase||i.base.sha,n=i.head.sha;for(let a=0;a<e.length;a++){const m=e[a],k=p.join(this._repository.rootUri.path,m.fileName).replace(/\\/g,"/"),O=this._repository.rootUri.with({path:k}),G=m.status===Ht.DELETE?_n(O,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):O,Z=_n(O,m.status===Ht.RENAME?m.previousFileName:m.fileName,void 0,m.status===Ht.ADD?"":r,!1,{base:!0},this._repository.rootUri),oe=new Iu(this._folderRepoManager,i,m,G,Z,n,e.length<20),X=new Ds(this.changesInPrDataProvider,this._folderRepoManager,i,oe);t.push(X)}return t}async initializePullRequestData(i){try{const e=await i.getFileChangesInfo();this._reviewModel.localFileChanges=await this.getLocalChangeNodes(i,e),await Promise.all([i.initializeReviewComments(),i.initializeReviewThreadCache(),i.initializePullRequestFileViewState()]),this._folderRepoManager.setFileViewedContext();const t=i.comments.filter(a=>!a.position),r=o(t,a=>a.originalCommitId),n=[];for(const a in r){const m=r[a],k=o(m,O=>O.path);for(const O in k){const G=k[O],Z=s.Uri.file(p.join(`commit~${a.substr(0,8)}`,O)),oe=new Iu(this._folderRepoManager,i,{status:Ht.MODIFY,fileName:O,blobUrl:void 0},_n(Z,O,void 0,G[0].originalCommitId,!0,{base:!1},this._repository.rootUri),_n(Z,O,void 0,G[0].originalCommitId,!0,{base:!0},this._repository.rootUri),a),X=new Ds(this.changesInPrDataProvider,this._folderRepoManager,i,oe,!1,G);n.push(X)}}return this._reviewModel.obsoleteFileChanges=n,Promise.resolve(void 0)}catch(e){h.error(`Failed to initialize PR data ${e}`,this.id)}}async registerGitHubInMemContentProvider(){var i,e;try{(i=this._inMemGitHubContentProvider)==null||i.dispose(),this._inMemGitHubContentProvider=void 0;const t=this._folderRepoManager.activePullRequest;if(!t)return;const r=await t.getFileChangesInfo(),n=t.mergeBase;if(!n)return;const a=r.map(m=>m instanceof Kr?new So(this._folderRepoManager,m,t):new ko(this._folderRepoManager,t,m,!0,n));this._inMemGitHubContentProvider=(e=Yu())==null?void 0:e.registerTextDocumentContentProvider(t.number,async m=>{const k=lr(m);if(!k)return"";const O=a.find(G=>G.fileName===k.fileName);return O?Ju(this._folderRepoManager,t,k,O):(h.error(`Cannot find content for document ${m.toString()}`,"PR"),"")})}catch(t){h.error(`Failed to register in mem content provider: ${t}`,this.id)}}async registerCommentController(){var i;if(((i=this._folderRepoManager.activePullRequest)==null?void 0:i.reviewThreadsCacheReady)&&this._reviewModel.hasLocalFileChanges)await this.doRegisterCommentController();else{const e=this._reviewModel.onDidChangeLocalFileChanges(async()=>{var t;((t=this._folderRepoManager.activePullRequest)==null?void 0:t.reviewThreadsCache)&&this._reviewModel.hasLocalFileChanges&&(e&&e.dispose(),await this.doRegisterCommentController())})}}async doRegisterCommentController(){this._reviewCommentController||(this._reviewCommentController=new Vu(this,this._folderRepoManager,this._repository,this._reviewModel),await this._reviewCommentController.initialize())}async switch(i){var e;h.appendLine(`Switch to Pull Request #${i.number} - start`,this.id),this.statusBarItem.text=s.l10n.t("{0} Switching to Review Mode","$(sync~spin)"),this.statusBarItem.command=void 0,this.statusBarItem.show(),this.switchingToReviewMode=!0;try{await s.window.withProgress({location:s.ProgressLocation.Notification},async t=>{await this._folderRepoManager.checkoutExistingPullRequestBranch(i,t)||await this._folderRepoManager.fetchAndCheckout(i,t)})}catch(t){h.error(`Checkout failed #${JSON.stringify(t)}`,this.id),this.switchingToReviewMode=!1,t.message==="User aborted"||(t.gitErrorCode&&(t.gitErrorCode===W.LocalChangesOverwritten||t.gitErrorCode===W.DirtyWorkTree)?s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")):((e=t.stderr)==null?void 0:e.startsWith("fatal: couldn't find remote ref"))&&t.gitCommand==="fetch"?s.window.showInformationMessage("The remote branch for this pull request has been deleted. The file contents may not match the remote."):s.window.showErrorMessage(F(t))),this._folderRepoManager.activePullRequest?this.setStatusForPr(this._folderRepoManager.activePullRequest):this.statusBarItem.hide();return}try{this.statusBarItem.text="$(sync~spin) "+s.l10n.t("Fetching additional data: {0}",`pr/${i.number}`),this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._folderRepoManager.fulfillPullRequestMissingInfo(i),this._upgradePullRequestEditors(i),this._telemetry.sendTelemetryEvent("pr.checkout"),h.appendLine(`Switch to Pull Request #${i.number} - done`,this.id)}finally{this.setStatusForPr(i),await this._repository.status()}}setStatusForPr(i){this.switchingToReviewMode=!1,this.justSwitchedToReviewMode=!0,this.statusBarItem.text=s.l10n.t("Pull Request #{0}",i.number),this.statusBarItem.command=void 0,this.statusBarItem.show()}async publishBranch(i){const e=await this._folderRepoManager.getAllGitHubRemotes();let t=(await this.getRemote(e,s.l10n.t("Pick a remote to publish the branch '{0}' to:",i.name))).remote;if(!t||i.name===void 0)return;const r=await this._folderRepoManager.createGitHubRepository(t,this._folderRepoManager.credentialStore),n=await r.getViewerPermission();if(n===on.Read||n===on.Triage||n===on.Unknown){const m=await this._folderRepoManager.tryOfferToFork(r);if(!m)return;t=(await this._folderRepoManager.getGitHubRemotes()).find(k=>k.remoteName===m)}if(!t)return;const a=t;return new Promise(async m=>{const k=s.window.createInputBox();k.value=i.name,k.ignoreFocusOut=!0,k.prompt=e.length===1?s.l10n.t("The branch '{0}' is not published yet, pick a name for the upstream branch",i.name):s.l10n.t("Pick a name for the upstream branch");const O=async function(G){try{k.busy=!0,await this._reposManager.getBranch(a,G)?k.validationMessage=s.l10n.t("Branch '{0}' already exists in {1}",G,`${a.owner}/${a.repositoryName}`):k.validationMessage=void 0}catch(Z){k.validationMessage=void 0}k.busy=!1};await O(i.name),k.onDidChangeValue(O.bind(this)),k.onDidAccept(async()=>{k.validationMessage=void 0,k.hide();try{await this._repository.push(a.remoteName,`${i.name}:${k.value}`,!0)}catch(Z){throw Z.gitErrorCode===W.PushRejected&&(s.window.showWarningMessage(s.l10n.t("Can't push refs to remote, try running 'git pull' first to integrate with your change"),{modal:!0}),m(void 0)),Z.gitErrorCode===W.RemoteConnectionError&&(s.window.showWarningMessage(s.l10n.t("Could not read from remote repository '{0}'. Please make sure you have the correct access rights and the repository exists.",a.remoteName),{modal:!0}),m(void 0)),Z}const G=await this._repository.getBranch(i.name);(!G||!G.upstream)&&m(void 0),m(G)}),k.show()})}async getRemote(i,e,t){if(!i.length){s.window.showWarningMessage(s.l10n.t("No GitHub remotes found. Add a remote and try again."));return}if(i.length===1&&!t)return Ef.fromRemote(i[0]);if(i.length===1&&t&&t.owner===i[0].owner&&t.name===i[0].repositoryName)return t;let r=!1;const n=i.map(m=>{const k=Ef.fromRemote(m);if(t){const{owner:O,name:G}=t;k.picked=k.owner===O&&k.name===G,k.picked&&(r=!0)}return k});!r&&t&&n.unshift(t);const a=await s.window.showQuickPick(n,{ignoreFocusOut:!0,placeHolder:e});if(!!a)return a}async createPullRequest(i){const e=async t=>{const r=s.workspace.getConfiguration(Be).get(Mr,"openOverview");if(r==="openOverview"){const n=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await ed(this._context,this._telemetry,t,n,this._folderRepoManager,!0)}else if(r.startsWith("checkoutDefaultBranch")){const n=await this._folderRepoManager.getPullRequestRepositoryDefaultBranch(t);n&&(r==="checkoutDefaultBranch"&&await this._folderRepoManager.checkoutDefaultBranch(n),r==="checkoutDefaultBranchAndShow"?(await s.commands.executeCommand("pr:github.focus"),await this._folderRepoManager.checkoutDefaultBranch(n),await this._pullRequestsTree.expandPullRequest(t)):r==="checkoutDefaultBranchAndCopy"&&await Promise.all([this._folderRepoManager.checkoutDefaultBranch(n),s.env.clipboard.writeText(t.html_url)]))}await this.updateState(!1,!1)};return this._createPullRequestHelper.create(this._telemetry,this._context.extensionUri,this._folderRepoManager,i,e)}async openDescription(){const i=this._folderRepoManager.activePullRequest;if(!i)return;const e=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await ed(this._context,this._telemetry,i,e,this._folderRepoManager,!0)}get isCreatingPullRequest(){var i,e;return(e=(i=this._createPullRequestHelper)==null?void 0:i.isCreatingPullRequest)!=null?e:!1}async updateFocusedViewMode(){s.workspace.getConfiguration(Be).get(Vt)?(s.commands.executeCommand("setContext",Ps,!0),await this._context.workspaceState.update(Ps,!0)):(s.commands.executeCommand("setContext",Ps,!1),this._context.workspaceState.update(Ps,!1))}async clear(i){var e,t;if(i){const r=this._folderRepoManager.activePullRequest;r&&this._activePrViewCoordinator.removePullRequest(r),this.changesInPrDataProvider&&await this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),s.commands.executeCommand("pr.refreshList"),this._updateMessageShown=!1,this._reviewModel.clear(),this._localToDispose.forEach(n=>n.dispose()),r==null||r.clear(),this._folderRepoManager.setFileViewedContext(),this._validateStatusInProgress=void 0}(e=this._reviewCommentController)==null||e.dispose(),this._reviewCommentController=void 0,(t=this._inMemGitHubContentProvider)==null||t.dispose(),this._inMemGitHubContentProvider=void 0}async provideTextDocumentContent(i){const{path:e,commit:t,base:r}=Zn(i.query);let n=Hu(this._reviewModel.localFileChanges).filter(a=>a.fileName===e).filter(a=>a.sha===t||`${a.sha}^`===t);if(n.length){const a=n[0],m=t===a.sha?hr.Delete:hr.Add;return(await a.changeModel.diffHunks()).map(O=>O.diffLines.filter(G=>G.type!==m).map(G=>G.text)).reduce((O,G)=>O.concat(...G),[]).join(`
`)}if(n=Hu(this._reviewModel.obsoleteFileChanges).filter(a=>a.fileName===e).filter(a=>a.sha===t||`${a.sha}^`===t),n.length){const a=n[0],m=t===a.sha?hr.Delete:hr.Add,k=[],O=o(a.comments,G=>String(G.originalPosition));for(const G in O){if(!O[G][0].diffHunks)continue;const Z=O[G][0].diffHunks.map(oe=>oe.diffLines.filter(X=>X.type!==m).map(X=>X.text)).reduce((oe,X)=>oe.concat(...X),[]);k.push(...Z)}return k.join(`
`)}else if(r&&t&&this._folderRepoManager.activePullRequest)return(await sf(this._folderRepoManager.activePullRequest.githubRepository,e,t)).toString()}dispose(){this.clear(!0),K(this._disposables),K(this._activePrDisposables)}static getReviewManagerForRepository(i,e,t){return i.find(r=>r._folderRepoManager.gitHubRepositories.some(n=>n.equals(e)&&(!t||r._folderRepoManager.repository===t)))}static getReviewManagerForFolderManager(i,e){return i.find(t=>t._folderRepoManager===e)}};let Sn=Cf;ur(Sn,"ID","Review");class Av{constructor(){ur(this,"_shouldShow",!1),ur(this,"_onChangedShowValue",new s.EventEmitter),ur(this,"onChangedShowValue",this._onChangedShowValue.event)}get shouldShow(){return this._shouldShow}set shouldShow(e){const t=this._shouldShow;this._shouldShow=e,t!==this._shouldShow&&this._onChangedShowValue.fire(this._shouldShow)}}var Iv=Object.defineProperty,El=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Iv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class va extends Ur{constructor(e,t,r,n,a){super();this.parent=e,this.label=t,this.pullRequestModel=r,this.repository=n,this.folderRepositoryManager=a,El(this,"command"),El(this,"contextValue"),El(this,"tooltip"),El(this,"iconPath"),this.command={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]},this.iconPath=new s.ThemeIcon("git-pull-request"),this.tooltip=s.l10n.t("Description of pull request #{0}",r.number),this.accessibilityInformation={label:s.l10n.t("Pull request page of pull request number {0}",r.number),role:"button"}}async getTreeItem(){return this.updateContextValue(),this}updateContextValue(){const e=this.pullRequestModel.equals(this.folderRepositoryManager.activePullRequest);this.contextValue="description"+(e?":active":":nonactive")+(this.pullRequestModel.hasChangesSinceLastReview?":hasChangesSinceReview":"")+(this.pullRequestModel.showChangesSinceReview?":showingChangesSinceReview":":showingAllChanges")}}var Fv=Object.defineProperty,Cl=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Fv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class ga extends Ur{constructor(e,t){super();this.parent=e,this.label=t,Cl(this,"collapsibleState"),Cl(this,"children",[]),Cl(this,"pathToChild",new Map),Cl(this,"checkboxState"),this.collapsibleState=s.TreeItemCollapsibleState.Expanded}async getChildren(){return this.children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this.children.length===0||(this.children.forEach(t=>{t instanceof ga&&t.trimTree()}),this.children.length!==1))return;const e=this.children[0];e instanceof ga&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this.children=e.children,this.children.forEach(t=>{t.parent=this}))}sort(){if(this.children.length<=1)return;const e=[],t=[];this.children.forEach(r=>{r instanceof ga?(r.sort(),e.push(r)):t.push(r)}),e.sort((r,n)=>r.label<n.label?-1:1),t.sort((r,n)=>r.label<n.label?-1:1),this.children=[...e,...t]}addFile(e){const t=e.changeModel.fileName.split("/");this.addPathRecc(t,e)}addPathRecc(e,t){if(e.length<=0)return;if(e.length===1){t.parent=this,this.children.push(t);return}const r=e[0],n=e.slice(1);let a=this.pathToChild.get(r);a||(a=new ga(this,r),this.pathToChild.set(r,a),this.children.push(a)),a.addPathRecc(n,t)}allChildrenViewed(){for(const e of this.children)if(e instanceof ga){if(!e.allChildrenViewed())return!1}else if(e.checkboxState.state!==s.TreeItemCheckboxState.Checked)return!1;return!0}setCheckboxState(e){this.checkboxState=e?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark all files unviewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as unviewed",this.label)}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark all files viewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as viewed",this.label)}}}getTreeItem(){return this.setCheckboxState(this.allChildrenViewed()),this}}var Ov=Object.defineProperty,Is=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Ov(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const Zu=class extends Ur{constructor(i,e,t,r,n){super();this.parent=i,this._folderReposManager=e,this.pullRequestModel=t,this._isLocal=r,this._notificationProvider=n,Is(this,"_fileChanges"),Is(this,"_commentController"),Is(this,"_disposables",[]),Is(this,"_inMemPRContentProvider"),Is(this,"_command"),this.registerSinceReviewChange(),this.registerConfigurationChange(),this._disposables.push(this.pullRequestModel.onDidInvalidate(()=>this.refresh(this))),this._disposables.push(this._folderReposManager.onDidChangeActivePullRequest(a=>{(a.new===this.pullRequestModel.number||a.old===this.pullRequestModel.number)&&this.refresh(this)}))}get command(){return this._command}set command(i){this._command=i}get repository(){return this._folderReposManager.repository}async getChildren(){var i;super.getChildren(),h.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,Zu.ID);try{const e=new va(this,s.l10n.t("Description"),this.pullRequestModel,this.repository,this._folderReposManager);if(!this.pullRequestModel.isResolved())return[e];[,this._fileChanges,,]=await Promise.all([this.pullRequestModel.initializePullRequestFileViewState(),this.resolveFileChangeNodes(),this._commentController?new Promise(n=>n()):this.resolvePRCommentController(),this.pullRequestModel.validateDraftMode()]),this._inMemPRContentProvider||(this._inMemPRContentProvider=(i=Yu())==null?void 0:i.registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this)));const t=[e];if(s.workspace.getConfiguration(Be).get(zt)==="tree"){const n=new ga(this,"");this._fileChanges.forEach(a=>n.addFile(a)),n.finalize(),n.label===""?t.push(...n.children):t.push(n)}else t.push(...this._fileChanges);return this.pullRequestModel.showChangesSinceReview!==void 0&&this.reopenNewPrDiffs(this.pullRequestModel),this.children=t,this.pullRequestModel.initializeReviewThreadCache(),t}catch(e){return h.error(e),[]}}registerSinceReviewChange(){this._disposables.push(this.pullRequestModel.onDidChangeChangesSinceReview(i=>{this.refresh(this)}))}registerConfigurationChange(){this._disposables.push(s.workspace.onDidChangeConfiguration(i=>{i.affectsConfiguration(`${Be}.${vt}`)&&this.refresh()}))}async reopenNewPrDiffs(i){let e=!1;s.window.tabGroups.all.map(t=>{t.tabs.map(r=>{if(r.input instanceof s.TabInputTextDiff&&r.input.original.scheme===li.Pr&&r.input.modified.scheme===li.Pr&&this._fileChanges)for(const n of this._fileChanges){const a=lr(r.input.original),m=lr(r.input.modified),k=lr(n.changeModel.filePath);if((a==null?void 0:a.prNumber)===i.number&&(m==null?void 0:m.prNumber)===i.number&&n.fileName===m.fileName&&(k==null?void 0:k.headCommit)!==m.headCommit){e=!0,s.window.tabGroups.close(r).then(O=>n.openDiff(this._folderReposManager,{preview:r.isPreview}));break}}})}),i.showChangesSinceReview&&!e&&this._fileChanges&&this._fileChanges.length&&!i.isActive&&this._fileChanges[0].openDiff(this._folderReposManager,{preview:!0})}async resolvePRCommentController(){this.pullRequestModel.equals(this._folderReposManager.activePullRequest)||(await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners())}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(async i=>{i||(await this.getFileChanges()).forEach(e=>{e instanceof qu&&e.comments.forEach(t=>t.isDraft=i)})}))}async getFileChanges(i){return(!this._fileChanges||i)&&(this._fileChanges=await this.resolveFileChangeNodes()),this._fileChanges}async resolveFileChangeNodes(){if(!this.pullRequestModel.isResolved())return[];const i=[],e=this.pullRequestModel.equals(this._folderReposManager.activePullRequest);e&&this._folderReposManager.activePullRequest!==void 0&&this._folderReposManager.activePullRequest.fileChanges.size>0?(this.pullRequestModel=this._folderReposManager.activePullRequest,i.push(...this._folderReposManager.activePullRequest.fileChanges.values())):i.push(...await this.pullRequestModel.getFileChangesInfo());const t=this.pullRequestModel.mergeBase;return t?i.map(r=>{if(r instanceof Kr){const m=new So(this._folderReposManager,r,this.pullRequestModel);return new Bu(this,this._folderReposManager,this.pullRequestModel,m)}const n=new ko(this._folderReposManager,this.pullRequestModel,r,e,t);return new qu(this._folderReposManager,this,this.pullRequestModel,n)}):[]}async getTreeItem(){var i,e;const t=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:r,number:n,author:a,isDraft:m,html_url:k}=this.pullRequestModel,{login:O}=a,G=this._notificationProvider.hasNotification(this.pullRequestModel),Z=n.toString();let oe=t?"\u2713 ":"",X=t?"Current Branch * ":"";s.workspace.getConfiguration(Be).get(vt,!1)&&(oe+=`#${Z}: `,X+=`#${Z}: `);const de=`${oe}${m?"[DRAFT] ":""}${r}`,ke=`${X}${r} by @${O}`,Ne=`by @${O}`;return{label:de,id:`${this.parent instanceof Ur?(i=this.parent.id)!=null?i:this.parent.label:""}${k}${this._isLocal?this.pullRequestModel.localBranchName:""}`,tooltip:ke,description:Ne,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(t?":active":":nonactive")+(G?":notification":""),iconPath:(e=(await Ia.avatarCirclesAsImageDataUris(this._folderReposManager.context,[this.pullRequestModel.author],16,16))[0])!=null?e:new s.ThemeIcon("github"),accessibilityInformation:{label:`${m?"Draft ":""}Pull request number ${Z}: ${r} by ${O}`},resourceUri:xu(this.pullRequestModel)}}async provideCommentingRanges(i,e){if(i.uri.scheme===li.Pr){const t=lr(i.uri);if(!t||t.prNumber!==this.pullRequestModel.number)return;const r=(await this.getFileChanges()).find(n=>n.changeModel.fileName===t.fileName);return!r||r instanceof Bu?void 0:{ranges:Jc(await r.changeModel.diffHunks(),t.isBase,Zu.ID),fileComments:!0}}}async provideDocumentContent(i){var e;const t=lr(i);if(!t)return"";const r=(e=(await this.getFileChanges()).find(n=>n.changeModel.fileName===t.fileName))==null?void 0:e.changeModel;return r?Ju(this._folderReposManager,this.pullRequestModel,t,r):(h.appendLine(`Can not find content for document ${i.toString()}`,"PR"),"")}dispose(){super.dispose(),this._inMemPRContentProvider&&this._inMemPRContentProvider.dispose(),this._commentController=void 0,K(this._disposables),this._disposables=[]}};let Ln=Zu;Is(Ln,"ID","PRNode");var Lv=Object.defineProperty,Nl=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Lv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Uv extends Ur{constructor(e,t,r,n,a){super();this.parent=e,this.pullRequestManager=t,this.pullRequest=r,this.commit=n,this.isCurrent=a,Nl(this,"sha"),Nl(this,"collapsibleState"),Nl(this,"iconPath"),Nl(this,"contextValue"),this.label=n.commit.message,this.sha=n.sha,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.contextValue="commit"}async getTreeItem(){if(this.commit.author){const e={id:this.commit.author.node_id,login:this.commit.author.login,url:this.commit.author.url,avatarUrl:this.commit.author.avatar_url};this.iconPath=(await Ia.avatarCirclesAsImageDataUris(this.pullRequestManager.context,[e],16,16))[0]}return this}async getChildren(){var e;super.getChildren();const t=(e=await this.pullRequest.getCommitChangedFiles(this.commit))!=null?e:[];if(t.length===0)return[new Xc("No changed files")];const r=t.map(m=>{const k=m.filename,O=s.Uri.parse(p.posix.join(`commit~${this.commit.sha.substr(0,8)}`,k)),G=new Iu(this.pullRequestManager,this.pullRequest,{status:ni(m.status),fileName:k,blobUrl:void 0},_n(O,k,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),_n(O,k,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),this.commit.sha),Z=new Ds(this,this.pullRequestManager,this.pullRequest,G,this.isCurrent);return Z.useViewChangesCommand(),Z});let n=[];if(s.workspace.getConfiguration(Be).get(zt)==="tree"){const m=new ga(this,"");r.forEach(k=>m.addFile(k)),m.finalize(),m.label===""?n.push(...m.children):n.push(m)}else n=r;return this.children=n,n}}var Bv=Object.defineProperty,Tl=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Bv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class qv extends Ur{constructor(e,t,r){super();Tl(this,"label",s.l10n.t("Commits")),Tl(this,"collapsibleState"),Tl(this,"_folderRepoManager"),Tl(this,"_pr"),this.parent=e,this._pr=r,this._folderRepoManager=t,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.childrenDisposables=[],this.childrenDisposables.push(this._pr.onDidChangeReviewThreads(()=>{h.appendLine("Review threads have changed, refreshing Commits node",w),this.refresh(this)})),this.childrenDisposables.push(this._pr.onDidChangeComments(()=>{h.appendLine("Comments have changed, refreshing Commits node",w),this.refresh(this)}))}getTreeItem(){return this}async getChildren(){super.getChildren();try{h.appendLine("Getting children for Commits node",w);const e=await this._pr.getCommits();return this.children=e.map((t,r)=>{var n;return new Uv(this,this._folderRepoManager,this._pr,t,r===e.length-1&&((n=this._folderRepoManager.repository.state.HEAD)==null?void 0:n.commit)===t.sha)}),h.appendLine("Got all children for Commits node",w),this.children}catch(e){return[]}}}var Hv=Object.defineProperty,Xu=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Hv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Vv extends Ur{constructor(e,t,r){super();this.parent=e,this._reviewModel=t,Xu(this,"label",s.l10n.t("Files")),Xu(this,"collapsibleState"),Xu(this,"directories",[]),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.childrenDisposables=[],this.childrenDisposables.push(this._reviewModel.onDidChangeLocalFileChanges(()=>{h.appendLine("Local files have changed, refreshing Files node",w),this.refresh(this)})),this.childrenDisposables.push(r.onDidChangeReviewThreads(()=>{h.appendLine("Review threads have changed, refreshing Files node",w),this.refresh(this)})),this.childrenDisposables.push(r.onDidChangeComments(()=>{h.appendLine("Comments have changed, refreshing Files node",w),this.refresh(this)}))}getTreeItem(){return this}async getChildren(){if(super.getChildren(),h.appendLine("Getting children for Files node",w),!this._reviewModel.hasLocalFileChanges)return new Promise(n=>{const a=this._reviewModel.onDidChangeLocalFileChanges(()=>{n([]),a.dispose()})});if(this._reviewModel.localFileChanges.length===0)return[new Xc(s.l10n.t("No changed files"))];let e;const t=s.workspace.getConfiguration(Be).get(zt),r=new ga(this,"");return this._reviewModel.localFileChanges.forEach(n=>r.addFile(n)),r.finalize(),r.label===""?this.directories=r.children:this.directories=[r],t==="tree"?e=this.directories:e=this._reviewModel.localFileChanges,h.appendLine("Got all children for Files node",w),this.children=e,e}}var Gv=Object.defineProperty,Ml=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Gv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Nf extends va{constructor(e,t,r,n,a){super(e,t.title,t,r.repository,r);this.parent=e,this._pullRequest=t,this._pullRequestManager=r,this._reviewModel=n,this._progress=a,Ml(this,"_filesCategoryNode"),Ml(this,"_commitsCategoryNode"),Ml(this,"collapsibleState",s.TreeItemCollapsibleState.Expanded),Ml(this,"_disposables",[]),this.getTreeItem(),this._disposables.push(s.window.onDidChangeActiveTextEditor(m=>{var k;if(s.workspace.getConfiguration(Ji).get(mi)){const O=(k=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:k.input;if(O instanceof s.TabInputTextDiff&&O.original.scheme===li.Review&&O.modified.scheme!==li.Review&&O.original.path.startsWith("/commit"))return;const G=m==null?void 0:m.document.uri.toString();this.revealActiveEditorInTree(G)}})),this._disposables.push(this.parent.view.onDidChangeVisibility(m=>{var k;const O=(k=s.window.activeTextEditor)==null?void 0:k.document.uri.toString();this.revealActiveEditorInTree(O)})),this._disposables.push(t.onDidInvalidate(()=>{this.refresh()}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const t=this._reviewModel.localFileChanges.find(r=>r.changeModel.filePath.toString()===e);t&&this.reveal(t,{select:!0})}}async getChildren(){return await this._progress.progress,(!this._filesCategoryNode||!this._commitsCategoryNode)&&(h.appendLine(`Creating file and commit nodes for PR #${this.pullRequestModel.number}`,w),this._filesCategoryNode=new Vv(this.parent,this._reviewModel,this._pullRequest),this._commitsCategoryNode=new qv(this.parent,this._pullRequestManager,this._pullRequest)),this.children=[this._filesCategoryNode,this._commitsCategoryNode],this.children}async getTreeItem(){return this.label=this._pullRequest.title,this.iconPath=(await Ia.avatarCirclesAsImageDataUris(this._pullRequestManager.context,[this._pullRequest.author],16,16))[0],this.updateContextValue(),this}dispose(){super.dispose(),this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}const Pl=new s.EventEmitter,Tf=Pl.event;function No(i,e){if(e)return e instanceof Ln?e.pullRequestModel:e;if(!i.activePullRequest)throw s.window.showErrorMessage(s.l10n.t("Unable to find current pull request.")),new Error("Unable to find current pull request.");return i.activePullRequest}async function ed(i,e,t,r,n,a,m=!0,k){const O=No(n,t);a&&(r==null||r.reveal(r,{select:!0,focus:!0})),await Fn.createOrShow(i.extensionUri,n,O,void 0,m),(k==null?void 0:k.hasNotification(O))&&k.markPrNotificationsAsRead(O),e.sendTelemetryEvent("pr.openDescription")}async function ta(i,e,t){var r;if(i.length===1)return i[0];const n=i.map(a=>({label:e(a),itemValue:a}));return(r=await s.window.showQuickPick(n,t))==null?void 0:r.itemValue}async function ba(i,e){i instanceof Ln||i instanceof va?s.commands.executeCommand("vscode.open",s.Uri.parse(i.pullRequestModel.html_url)):s.commands.executeCommand("vscode.open",s.Uri.parse(i.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}function $v(i,e,t,r,n){i.subscriptions.push(s.commands.registerCommand("pr.openPullRequestOnGitHub",async X=>{if(X)ba(X,r);else{const de=e.folderManagers.map(ke=>ke.activePullRequest).filter(ke=>!!ke);if(de.length>=1){const ke=await ta(de,Ne=>Ne.html_url);ke&&ba(ke,r)}}})),i.subscriptions.push(s.commands.registerCommand("pr.openAllDiffs",async()=>{const X=e.folderManagers.filter(Ie=>Ie.activePullRequest).map(Ie=>({activePr:Ie.activePullRequest,folderManager:Ie})),de=X.length>=1?await ta(X,Ie=>Ie.activePr.html_url):X[0];if(!de)return;const{folderManager:ke}=de,Ne=Sn.getReviewManagerForFolderManager(t.reviewManagers,ke);!Ne||Ne.reviewModel.localFileChanges.forEach(Ie=>Ie.openDiff(ke,{preview:!1}))})),i.subscriptions.push(s.commands.registerCommand("review.suggestDiff",async X=>{const de="githubPullRequest.suggestDiffMessage";if(!i.globalState.get(de,!1)){await i.globalState.update(de,!0);const Ne=s.l10n.t("Open documentation");if(await s.window.showInformationMessage(s.l10n.t("You can now make suggestions from review comments, just like on GitHub.com. See the documentation for more details."),{modal:!0},Ne)===Ne)return s.env.openExternal(s.Uri.parse("https://github.com/microsoft/vscode-pull-request-github/blob/main/documentation/suggestAChange.md"))}try{const Ne=await ta(e.folderManagers,$t=>p.basename($t.repository.rootUri.fsPath));if(!Ne||!Ne.activePullRequest)return;const{indexChanges:Ie,workingTreeChanges:De}=Ne.repository.state;if(!Ie.length)if(De.length){const $t=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t(`There are no staged changes to suggest.

Would you like to automatically stage all your of changes and suggest them?`),{modal:!0},$t)===$t)await s.commands.executeCommand("git.stageAll");else return}else{s.window.showInformationMessage(s.l10n.t("There are no changes to suggest."));return}const Fe=await Ne.repository.diff(!0);let Ze=s.l10n.t(`Suggested edit:
`);X&&X.inputBox&&X.inputBox.value&&(Ze=`${X.inputBox.value}
`,X.inputBox.value="");const it=`${Ze}\`\`\`diff
${Fe}
\`\`\``;await Ne.activePullRequest.createIssueComment(it),await s.commands.executeCommand("git.unstageAll");const ht=p.join(Ne.repository.rootUri.fsPath,".git",`${Ne.activePullRequest.number}.diff`),Pt=new TextEncoder,At=s.Uri.file(ht);await s.workspace.fs.writeFile(At,Pt.encode(Fe)),await Ne.repository.apply(ht,!0),await s.workspace.fs.delete(At)}catch(Ne){const Ie=`${Ne}${Ne.stderr?`
${Ne.stderr}`:""}`;h.error(`Applying patch failed: ${Ie}`),s.window.showErrorMessage(s.l10n.t("Applying patch failed: {0}",F(Ne)))}})),i.subscriptions.push(s.commands.registerCommand("pr.openFileOnGitHub",async X=>{if(!(X instanceof Bu&&!await s.window.showInformationMessage(s.l10n.t("{0} can't be opened locally. Do you want to open it on GitHub?",X.changeModel.fileName),s.l10n.t("Open")))&&X.changeModel.blobUrl)return s.commands.executeCommand("vscode.open",s.Uri.parse(X.changeModel.blobUrl))})),i.subscriptions.push(s.commands.registerCommand("pr.copyCommitHash",X=>{s.env.clipboard.writeText(X.sha)})),i.subscriptions.push(s.commands.registerCommand("pr.openOriginalFile",async X=>{const de=e.getManagerForIssueModel(X.pullRequest);if(de){const ke=await Mu(X.changeModel.parentFilePath,de.repository);s.commands.executeCommand("vscode.open",ke||X.changeModel.parentFilePath)}})),i.subscriptions.push(s.commands.registerCommand("pr.openModifiedFile",X=>{let de;const ke=s.window.tabGroups.activeTabGroup.activeTab;X?de=X.changeModel.filePath:(ke==null?void 0:ke.input)instanceof s.TabInputTextDiff&&(de=ke.input.modified),de&&s.commands.executeCommand("vscode.open",de,ke==null?void 0:ke.group.viewColumn)}));async function a(X){var de;if(X&&!(X instanceof s.Uri)){const ke=e.getManagerForIssueModel(X.pullRequest);return ke?X.openDiff(ke):void 0}else if(X||s.window.activeTextEditor){const ke=X?s.window.visibleTextEditors.find(ht=>ht.document.uri.toString()===X.toString()):s.window.activeTextEditor,Ne=ke.visibleRanges,Ie=e.getManagerForFile(ke.document.uri);if(!(Ie==null?void 0:Ie.activePullRequest))return;const De=Sn.getReviewManagerForFolderManager(t.reviewManagers,Ie);if(!De)return;const Fe=De.reviewModel.localFileChanges.find(ht=>ht.resourceUri.with({query:""}).toString()===ke.document.uri.toString());await(Fe==null?void 0:Fe.openDiff(Ie));const Ze=(de=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:de.input,it=Ze instanceof s.TabInputTextDiff&&Ze.modified.toString()===ke.document.uri.toString()?s.window.activeTextEditor:void 0;it&&it.revealRange(Ne[0])}}i.subscriptions.push(s.commands.registerCommand("pr.openDiffView",X=>a(X))),i.subscriptions.push(s.commands.registerCommand("pr.openDiffViewFromEditor",X=>a(X))),i.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranch",async X=>{var de;const ke=e.getManagerForIssueModel(X.pullRequestModel);if(!ke)return;const Ne=No(ke,X),Ie="Delete Unmerged Branch";let De=null;try{await ke.deleteLocalPullRequest(Ne)}catch(Fe){if(Fe.gitErrorCode===W.BranchNotFullyMerged){if(await s.window.showErrorMessage(s.l10n.t("The local branch '{0}' is not fully merged. Are you sure you want to delete it?",(de=Ne.localBranchName)!=null?de:"unknown branch"),Ie)!==Ie)return;try{await ke.deleteLocalPullRequest(Ne,!0)}catch(it){De=it}}else De=Fe}De?(r.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await s.window.showErrorMessage(`Deleting local pull request branch failed: ${De}`)):(r.sendTelemetryEvent("pr.deleteLocalPullRequest.success"),s.commands.executeCommand("pr.refreshList"))}));function m(X){if(X){const de=s.Uri.file(X).toString();for(const ke of t.reviewManagers)if(ke.repository.rootUri.toString()===de)return ke}return ta(t.reviewManagers,de=>p.basename(de.repository.rootUri.fsPath),{placeHolder:s.l10n.t("Choose a repository to create a pull request in"),ignoreFocusOut:!0})}function k(X){return!!(X==null?void 0:X.rootUri)}i.subscriptions.push(s.commands.registerCommand("pr.create",async X=>{var de,ke;k(X)?(de=await m(X.rootUri.fsPath))==null||de.createPullRequest():(ke=await m(X==null?void 0:X.repoPath))==null||ke.createPullRequest(X==null?void 0:X.compareBranch)})),i.subscriptions.push(s.commands.registerCommand("pr.pushAndCreate",async X=>{var de;if(k(X)){const ke=await m(X.rootUri.fsPath),Ne=e.getManagerForFile(X.rootUri);let Ie=!0;if(Ne==null?void 0:Ne.activePullRequest){const De=s.l10n.t("Push");if(await s.window.showInformationMessage(s.l10n.t("You already have a pull request for this branch. Do you want to push your changes to the remote branch?"),{modal:!0},De)!==De)return;Ie=!1}ke&&(((de=X.state.HEAD)==null?void 0:de.upstream)&&await X.push(),Ie&&ke.createPullRequest())}})),i.subscriptions.push(s.commands.registerCommand("pr.pick",async X=>{if(X===void 0)return h.error("Unexpectedly received undefined when picking a PR."),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let de,ke;X instanceof Ln||X instanceof va?(de=X.pullRequestModel,ke=X.repository):de=X;const Ne=X instanceof wn;return r.sendTelemetryEvent("pr.checkout",{fromDescription:Ne.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Switching to Pull Request #{0}",de.number)},async()=>{var Ie;await((Ie=Sn.getReviewManagerForRepository(t.reviewManagers,de.githubRepository,ke))==null?void 0:Ie.switch(de))})}));let O=!1;i.subscriptions.push(s.commands.registerCommand("pr.checkoutFromReadonlyFile",async()=>{var X,de;const ke=(X=s.window.activeTextEditor)==null?void 0:X.document.uri;if((ke==null?void 0:ke.scheme)!==li.Pr)return;const Ne=lr(ke);if(Ne===void 0)return;let Ie;const De=e.folderManagers.find(Ze=>(Ie=Ze.gitHubRepositories.find(it=>it.remote.remoteName===Ne.remoteName),!!Ie));if(!De||!Ie)return;const Fe=await s.window.withProgress({location:s.ProgressLocation.Window},()=>De.fetchById(Ie,Number(Ne.prNumber)));if(Fe&&!O){O=!0;try{await((de=Sn.getReviewManagerForFolderManager(t.reviewManagers,De))==null?void 0:de.switch(Fe))}catch(Ze){s.window.showErrorMessage(s.l10n.t("Unable to check out pull request from read-only file: {0}",Ze instanceof Error?Ze.message:"unknown"))}O=!1}})),i.subscriptions.push(s.commands.registerCommand("pr.pickOnVscodeDev",async X=>{if(X===void 0)return h.error("Unexpectedly received undefined when picking a PR."),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let de;return X instanceof Ln||X instanceof va?de=X.pullRequestModel:de=X,s.env.openExternal(s.Uri.parse(Nu(de)))})),i.subscriptions.push(s.commands.registerCommand("pr.exit",async X=>{let de;if(X instanceof Ln||X instanceof va?de=X.pullRequestModel:X===void 0?de=await ta(e.folderManagers.map(Ne=>Ne.activePullRequest).filter(Ne=>!!Ne),Ne=>`${Ne.number}: ${Ne.title}`,{placeHolder:s.l10n.t("Choose the pull request to exit")}):de=X,!de)return;const ke=X instanceof wn;return r.sendTelemetryEvent("pr.exit",{fromDescription:ke.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Exiting Pull Request")},async()=>{var Ne;const Ie=await de.githubRepository.getDefaultBranch(),De=e.getManagerForIssueModel(de);if(De){const Fe=(Ne=De.repository.state.HEAD)==null?void 0:Ne.name;await De.checkoutDefaultBranch(Ie),Fe&&await De.cleanupAfterPullRequest(Fe,de)}})})),i.subscriptions.push(s.commands.registerCommand("pr.merge",async X=>{const de=e.getManagerForIssueModel(X==null?void 0:X.pullRequestModel);if(!de)return;const ke=No(de,X);if(ke.base&&ke.head&&!ke.base.repositoryCloneUrl.equals(ke.head.repositoryCloneUrl)&&hl())return ba(ke,r);const De=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to merge this pull request on GitHub?"),{modal:!0},De).then(async Fe=>{let Ze;if(Fe===De)try{return Ze=await de.mergePullRequest(ke),Ze}catch(it){return s.window.showErrorMessage(`Unable to merge pull request. ${F(it)}`),Ze}})})),i.subscriptions.push(s.commands.registerCommand("pr.readyForReview",async X=>{const de=e.getManagerForIssueModel(X==null?void 0:X.pullRequestModel);if(!de)return;const ke=No(de,X),Ne=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to mark this pull request as ready to review on GitHub?"),{modal:!0},Ne).then(async Ie=>{let De;if(Ie===Ne)try{return De=await ke.setReadyForReview(),s.commands.executeCommand("pr.refreshList"),De}catch(Fe){return s.window.showErrorMessage(`Unable to mark pull request as ready to review. ${F(Fe)}`),De}})})),i.subscriptions.push(s.commands.registerCommand("pr.close",async(X,de)=>{let ke;if(X)ke=X instanceof wn?X:X.pullRequestModel;else{const De=e.folderManagers.map(Fe=>Fe.activePullRequest).filter(Fe=>!!Fe);ke=await ta(De,Fe=>`${Fe.number}: ${Fe.title}`,{placeHolder:s.l10n.t("Pull request to close")})}if(!ke)return;const Ne=ke,Ie=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to close this pull request on GitHub? This will close the pull request without merging."),{modal:!0},Ie,s.l10n.t("No")).then(async De=>{if(De===Ie)try{let Fe;de&&(Fe=await Ne.createIssueComment(de));const Ze=await Ne.close();return s.commands.executeCommand("pr.refreshList"),Pl.fire(Ze),Fe}catch(Fe){s.window.showErrorMessage(`Unable to close pull request. ${F(Fe)}`),Pl.fire()}Pl.fire()})})),i.subscriptions.push(s.commands.registerCommand("pr.dismissNotification",X=>{X instanceof Ln&&n.notificationProvider.markPrNotificationsAsRead(X.pullRequestModel).then(()=>n.refresh(X))})),i.subscriptions.push(s.commands.registerCommand("pr.openDescription",async X=>{let de;if(X)de=X instanceof va?X.pullRequestModel:X;else{const Ie=e.folderManagers.map(De=>De.activePullRequest).filter(De=>!!De);Ie.length>=1&&(de=await ta(Ie,De=>De.title))}if(!de){h.appendLine("No pull request found.");return}const ke=e.getManagerForIssueModel(de);if(!ke)return;let Ne;if(X instanceof va)Ne=X;else{const Ie=Sn.getReviewManagerForFolderManager(t.reviewManagers,ke);if(!Ie)return;Ne=Ie.changesInPrDataProvider.getDescriptionNode(ke)}await ed(i,r,de,Ne,ke,!(X instanceof va),!(X instanceof Nf),n.notificationProvider)})),i.subscriptions.push(s.commands.registerCommand("pr.refreshDescription",async()=>{Fn.currentPanel&&Fn.refresh()})),i.subscriptions.push(s.commands.registerCommand("pr.openDescriptionToTheSide",async X=>{const de=e.getManagerForIssueModel(X.pullRequestModel);if(!de)return;const ke=X.pullRequestModel,Ne=No(de,ke);X.reveal(X,{select:!0,focus:!0}),Fn.createOrShow(i.extensionUri,de,Ne,!0),r.sendTelemetryEvent("pr.openDescriptionToTheSide")})),i.subscriptions.push(s.commands.registerCommand("pr.showDiffSinceLastReview",async X=>{X.pullRequestModel.showChangesSinceReview=!0})),i.subscriptions.push(s.commands.registerCommand("pr.showDiffAll",async X=>{X.pullRequestModel.showChangesSinceReview=!1})),i.subscriptions.push(s.commands.registerCommand("pr.signin",async()=>{await e.authenticate()})),i.subscriptions.push(s.commands.registerCommand("pr.signinNoEnterprise",async()=>{await e.authenticate(!1)})),i.subscriptions.push(s.commands.registerCommand("pr.signinenterprise",async()=>{await e.authenticate(!0)})),i.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const X of e.folderManagers)await X.deleteLocalBranchesNRemotes()})),i.subscriptions.push(s.commands.registerCommand("pr.signinAndRefreshList",async()=>{await e.authenticate()&&s.commands.executeCommand("pr.refreshList")})),i.subscriptions.push(s.commands.registerCommand("pr.configureRemotes",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ms} remotes`))),i.subscriptions.push(s.commands.registerCommand("pr.startReview",async X=>{r.sendTelemetryEvent("pr.startReview");const de=We(X.thread);de&&de.startReview(X.thread,X.text)})),i.subscriptions.push(s.commands.registerCommand("pr.openReview",async X=>{r.sendTelemetryEvent("pr.openReview");const de=We(X);de&&await de.openReview(X)}));function G(X){let de,ke="";return X instanceof Cr?de=X.parent:He.is(X)||yu.is(X==null?void 0:X.thread)?de=X.thread:de=X,{thread:de,text:ke}}i.subscriptions.push(s.commands.registerCommand("pr.resolveReviewThread",async X=>{r.sendTelemetryEvent("pr.resolveReviewThread");const{thread:de,text:ke}=G(X),Ne=We(de);Ne&&await Ne.resolveReviewThread(de,ke)})),i.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThread",async X=>{r.sendTelemetryEvent("pr.unresolveReviewThread");const{thread:de,text:ke}=G(X),Ne=We(de);Ne&&await Ne.unresolveReviewThread(de,ke)})),i.subscriptions.push(s.commands.registerCommand("pr.createComment",async X=>{r.sendTelemetryEvent("pr.createComment");const de=We(X.thread);de&&de.createOrReplyComment(X.thread,X.text,!1)})),i.subscriptions.push(s.commands.registerCommand("pr.createSingleComment",async X=>{r.sendTelemetryEvent("pr.createSingleComment");const de=We(X.thread);de&&de.createOrReplyComment(X.thread,X.text,!0)})),i.subscriptions.push(s.commands.registerCommand("pr.makeSuggestion",async X=>{var de;const ke=X instanceof Cr?X.parent:X.thread;if(!ke.range)return;const Ne=((de=s.window.activeTextEditor)==null?void 0:de.document.uri.scheme)===li.Comment?s.window.activeTextEditor:s.window.visibleTextEditors.find(Ze=>Ze.document.uri.scheme===li.Comment&&Ze.document.uri.query==="");if(!Ne){h.error("No comment editor visible for making a suggestion."),s.window.showErrorMessage(s.l10n.t("No available comment editor to make a suggestion in."));return}const Ie=s.window.visibleTextEditors.find(Ze=>Ze.document.uri.toString()===ke.uri.toString()),De=Ie==null?void 0:Ie.document.getText(new s.Range(ke.range.start.line,0,ke.range.end.line,Ie.document.lineAt(ke.range.end.line).text.length)),Fe=Ne.document.lineAt(Ne.selection.end.line).range.end;return Ne.edit(Ze=>{Ze.insert(Fe,`
\`\`\`suggestion
${De}
\`\`\``)})})),i.subscriptions.push(s.commands.registerCommand("pr.editComment",async X=>{r.sendTelemetryEvent("pr.editComment"),X.startEdit()})),i.subscriptions.push(s.commands.registerCommand("pr.editQuery",X=>(r.sendTelemetryEvent("pr.editQuery"),X.editQuery()))),i.subscriptions.push(s.commands.registerCommand("pr.cancelEditComment",async X=>{r.sendTelemetryEvent("pr.cancelEditComment"),X.cancelEdit()})),i.subscriptions.push(s.commands.registerCommand("pr.saveComment",async X=>{r.sendTelemetryEvent("pr.saveComment");const de=We(X.parent);de&&await de.editComment(X.parent,X)})),i.subscriptions.push(s.commands.registerCommand("pr.deleteComment",async X=>{r.sendTelemetryEvent("pr.deleteComment");const de=s.l10n.t("Delete");if(await s.window.showWarningMessage(s.l10n.t("Delete comment?"),{modal:!0},de)===de){const Ne=We(X.parent);Ne&&await Ne.deleteComment(X.parent,X)}})),i.subscriptions.push(s.commands.registerCommand("review.openFile",X=>{var de;const ke=X instanceof Ds?X.openFileCommand():Lu(X);s.commands.executeCommand(ke.command,...(de=ke.arguments)!=null?de:[])})),i.subscriptions.push(s.commands.registerCommand("review.openLocalFile",X=>{var de;const{path:ke,rootPath:Ne}=Zn(X.query),Ie=s.Uri.joinPath(s.Uri.file(Ne),ke),De=s.window.visibleTextEditors.find(Ze=>Ze.document.uri.toString()===X.toString()),Fe=Lu(Ie,De?{selection:De.selection}:void 0);s.commands.executeCommand(Fe.command,...(de=Fe.arguments)!=null?de:[])})),i.subscriptions.push(s.commands.registerCommand("pr.refreshChanges",X=>{t.reviewManagers.forEach(de=>{de.updateComments(),Fn.refresh(),de.changesInPrDataProvider.refresh()})})),i.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsTree",X=>{s.workspace.getConfiguration(Be).update(zt,"tree",!0)})),i.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsFlat",X=>{s.workspace.getConfiguration(Be).update(zt,"flat",!0)})),i.subscriptions.push(s.commands.registerCommand("pr.refreshPullRequest",X=>{var de;const ke=e.getManagerForIssueModel(X.pullRequestModel);ke&&X.pullRequestModel.equals(ke==null?void 0:ke.activePullRequest)&&((de=Sn.getReviewManagerForFolderManager(t.reviewManagers,ke))==null||de.updateComments()),Fn.refresh(),n.refresh(X)})),i.subscriptions.push(s.commands.registerCommand("pr.markFileAsViewed",async X=>{var de,ke;try{if(X===void 0&&(X=(de=s.window.activeTextEditor)==null?void 0:de.document.uri),X instanceof Ro)await X.markFileAsViewed(!1);else if(X){const Ne=s.window.tabGroups.activeTabGroup.activeTab;if(Ne){let De;Ne.input instanceof s.TabInputTextDiff?De=Ne.input.modified:Ne.input instanceof s.TabInputText&&(De=Ne.input.uri),De&&X.toString()===De.toString()&&s.window.tabGroups.close(Ne)}const Ie=e.getManagerForFile(X);await((ke=Ie==null?void 0:Ie.activePullRequest)==null?void 0:ke.markFileAsViewed(X.path,!0)),Ie==null||Ie.setFileViewedContext()}}catch(Ne){s.window.showErrorMessage(`Marked file as viewed failed: ${Ne}`)}})),i.subscriptions.push(s.commands.registerCommand("pr.unmarkFileAsViewed",async X=>{var de,ke;try{if(X===void 0&&(X=(de=s.window.activeTextEditor)==null?void 0:de.document.uri),X instanceof Ro)X.unmarkFileAsViewed(!1);else if(X){const Ne=e.getManagerForFile(X);await((ke=Ne==null?void 0:Ne.activePullRequest)==null?void 0:ke.unmarkFileAsViewed(X.path,!0)),Ne==null||Ne.setFileViewedContext()}}catch(Ne){s.window.showErrorMessage(`Marked file as not viewed failed: ${Ne}`)}})),i.subscriptions.push(s.commands.registerCommand("pr.resetViewedFiles",async()=>{try{return e.folderManagers.map(async X=>{var de;await((de=X.activePullRequest)==null?void 0:de.unmarkAllFilesAsViewed()),X.setFileViewedContext()})}catch(X){s.window.showErrorMessage(`Marked file as not viewed failed: ${X}`)}})),i.subscriptions.push(s.commands.registerCommand("pr.collapseAllComments",()=>s.commands.executeCommand("workbench.action.collapseAllComments"))),i.subscriptions.push(s.commands.registerCommand("pr.copyCommentLink",X=>{if(X instanceof Cr)return s.env.clipboard.writeText(X.rawComment.htmlUrl)})),i.subscriptions.push(s.commands.registerCommand("pr.copyVscodeDevPrLink",async()=>{const X=e.folderManagers.map(ke=>ke.activePullRequest).filter(ke=>!!ke),de=await ta(X,ke=>`${ke.number}: ${ke.title}`,{placeHolder:s.l10n.t("Pull request to create a link for")});if(de)return s.env.clipboard.writeText(Nu(de))})),i.subscriptions.push(s.commands.registerCommand("pr.checkoutByNumber",async()=>{var X;const de=[];for(const Fe of e.folderManagers){const Ze=await Fe.getActiveGitHubRemotes(await Fe.getGitHubRemotes()),it=Fe.gitHubRepositories.filter(ht=>Ze.find(Pt=>Pt.remoteName===ht.remote.remoteName));de.push(...it.map(ht=>({manager:Fe,repo:ht})))}const ke=await ta(de,Fe=>`${Fe.repo.remote.owner}/${Fe.repo.remote.repositoryName}`,{placeHolder:s.l10n.t("Which GitHub repository do you want to checkout the pull request from?")});if(!ke)return;const Ne=/^#?(\d*)$/,Ie=await s.window.showInputBox({ignoreFocusOut:!0,prompt:s.l10n.t("Enter the pull request number"),validateInput:Fe=>{const Ze=Fe.match(Ne);if(!Ze||Ze.length!==2||Number.isNaN(Number(Ze[1])))return s.l10n.t("Value must be a number")}});if(Ie===void 0||Ie==="#")return;const De=await ke.manager.fetchById(ke.repo,Number(Ie.match(Ne)[1]));if(De)return(X=Sn.getReviewManagerForFolderManager(t.reviewManagers,ke.manager))==null?void 0:X.switch(De)}));function Z(){const X=[];return e.folderManagers.forEach(de=>{X.push(...de.gitHubRepositories)}),ta(X,de=>`${de.remote.owner}/${de.remote.repositoryName}`,{placeHolder:s.l10n.t("Which GitHub repository do you want to open?")})}i.subscriptions.push(s.commands.registerCommand("pr.openPullsWebsite",async()=>{const X=await Z();X&&s.env.openExternal(Hp(X))})),i.subscriptions.push(s.commands.registerCommand("issues.openIssuesWebsite",async()=>{const X=await Z();X&&s.env.openExternal(Vp(X))})),i.subscriptions.push(s.commands.registerCommand("pr.applySuggestion",async X=>{r.sendTelemetryEvent("pr.applySuggestion");const de=We(X.parent);de instanceof Vu&&de.applySuggestion(X)})),i.subscriptions.push(s.commands.registerCommand("pr.addFileComment",async()=>s.commands.executeCommand("workbench.action.addComment",{fileComment:!0}))),i.subscriptions.push(s.commands.registerCommand("review.diffWithPrHead",async X=>{const de=X.fileName;let ke=pa(X.resourceUri,X.pullRequest,X.pullRequest.base.sha,X.pullRequest.head.sha,X.fileName,!0,X.status),Ne=pa(X.resourceUri,X.pullRequest,X.pullRequest.base.sha,X.pullRequest.head.sha,X.fileName,!1,X.status);return s.commands.executeCommand("vscode.diff",ke,Ne,`${de} (Pull Request Compare Base with Head)`)})),i.subscriptions.push(s.commands.registerCommand("review.diffLocalWithPrHead",async X=>{const de=X.fileName;let ke=pa(X.resourceUri,X.pullRequest,X.pullRequest.base.sha,X.pullRequest.head.sha,X.fileName,!1,X.status);return s.commands.executeCommand("vscode.diff",ke,X.resourceUri,`${de} (Pull Request Compare Head with Local)`)}));async function oe(X,de){const ke=s.window.tabGroups.activeTabGroup.activeTab,Ne=ke==null?void 0:ke.input;if(!(Ne instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));const Ie=s.window.visibleTextEditors.find(At=>At.document.uri.toString()===Ne.modified.toString());if(!Ie)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const De=Ie.document.uri;if(Ne.original.scheme!==li.Review)return s.window.showErrorMessage(s.l10n.t("Current file isn't a pull request diff."));const Fe=Ie.selection.active,Ze=de?X:X.reverse();for(const At of Ze){const $t=At.modifiedEndLineNumber>At.modifiedStartLineNumber?At.modifiedEndLineNumber:At.modifiedStartLineNumber+1,ri=new s.Range(At.modifiedStartLineNumber?At.modifiedStartLineNumber-1:At.modifiedStartLineNumber,0,$t,0);if(de&&Fe.line+1<At.modifiedStartLineNumber){Ie.revealRange(ri),Ie.selection=new s.Selection(ri.start,ri.start);return}else if(!de&&Fe.line+1>At.modifiedStartLineNumber){Ie.revealRange(ri),Ie.selection=new s.Selection(ri.start,ri.start);return}}const it=e.getManagerForFile(De);if(!it)return s.window.showErrorMessage(s.l10n.t("Unable to find a repository for pull request."));const ht=Sn.getReviewManagerForFolderManager(t.reviewManagers,it);if(!ht)return s.window.showErrorMessage(s.l10n.t("Cannot find active pull request."));if(!ht.reviewModel.hasLocalFileChanges||ht.reviewModel.localFileChanges.length===0)return s.window.showWarningMessage(s.l10n.t("Pull request data is not yet complete, please try again in a moment."));for(let At=0;At<ht.reviewModel.localFileChanges.length;At++){const $t=de?At:ht.reviewModel.localFileChanges.length-1-At;if(ht.reviewModel.localFileChanges[$t].changeModel.filePath.toString()===De.toString()){const Tr=de?$t+1:$t-1;if(ht.reviewModel.localFileChanges.length>Tr){if(await ht.reviewModel.localFileChanges[Tr].openDiff(it),!de){const na=s.window.visibleTextEditors.find(vr=>vr.document.uri.toString()===ht.reviewModel.localFileChanges[Tr].changeModel.filePath.toString());if(na){const vr=await ht.reviewModel.localFileChanges[Tr].changeModel.diffHunks(),Yi=vr[vr.length-1],Yl=Yi.newLineNumber+Yi.newLength,Jl=Yl>Yi.newLineNumber?Yl:Yi.newLineNumber+1,Hd=new s.Range(Yi.newLineNumber?Yi.newLineNumber-1:Yi.newLineNumber,0,Jl,0);na.revealRange(Hd),na.selection=new s.Selection(Hd.start,Hd.start)}}return}}}const Pt=de?s.l10n.t("Go to first diff"):s.l10n.t("Go to last diff");return s.window.showInformationMessage(s.l10n.t("There are no more diffs in this pull request."),Pt).then(At=>{if(At===Pt)return ht.reviewModel.localFileChanges[de?0:ht.reviewModel.localFileChanges.length-1].openDiff(it)})}i.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToNextDiffInPr",async X=>{oe(X,!0)})),i.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToPreviousDiffInPr",async X=>{oe(X,!1)})),i.subscriptions.push(s.commands.registerCommand("pr.refreshComments",async()=>{for(const X of e.folderManagers)for(const de of X.gitHubRepositories)for(const ke of de.pullRequestModels)ke[1].isResolved()&&ke[1].reviewThreadsCacheReady&&ke[1].initializeReviewThreadCache()}))}let To;const jv={};function zv(i){To=i.globalState}const Mf=(i,e)=>{if(!To)throw new Error("Persistent store not initialized.");return To.get(i+":"+e,jv)},Pf=(i,e,t)=>{if(!To)throw new Error("Persistent store not initialized.");return To.update(i+":"+e,t)};var Fs=Yt(59035),Wv=Object.defineProperty,xf=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Wv(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Kv{constructor(e){this.baseReporter=e,xf(this,"sharedProperties",{})}sendTelemetryEvent(e,t,r){var n;(n=this.baseReporter)==null||n.sendTelemetryEvent(e,{...this.sharedProperties,...t},r)}sendTelemetryErrorEvent(e,t,r){var n;(n=this.baseReporter)==null||n.sendTelemetryErrorEvent(e,{...this.sharedProperties,...t})}setSharedProperty(e,t){this.sharedProperties[e]=t}postEvent(e,t){const r={};for(const[n,a]of t)r[n]=a;this.sendTelemetryEvent(e,r)}async dispose(){var e;return(e=this.baseReporter)==null?void 0:e.dispose()}}function Qv(){switch(s.env.uriScheme){case"vscode":return Fs.aU.Public;case"vscode-insiders":return Fs.aU.Insiders;case"vscode-exploration":return Fs.aU.Internal;case"code-oss":return Fs.aU.Team;default:return Fs.aU.Public}}class Yv{constructor(){xf(this,"initializePromise",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}async function Jv(i,e){const t=i.extension.id,r=i.extension.packageJSON.name,n=i.extension.packageJSON.version,a=Qv();return r==="vscode-pull-request-github"?(0,Fs.X7)(t,n,a,e,i.globalState):new Yv}var Mo=Yt(34155);function xl(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Mo=="object"&&"version"in Mo?`Node.js/${Mo.version.substr(1)} (${Mo.platform}; ${Mo.arch})`:"<environment undetectable>"}var Zv=Yt(85186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Df(i){return Object.prototype.toString.call(i)==="[object Object]"}function Af(i){var e,t;return Df(i)===!1?!1:(e=i.constructor,e===void 0?!0:(t=e.prototype,!(Df(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}function Xv(i){return i?Object.keys(i).reduce((e,t)=>(e[t.toLowerCase()]=i[t],e),{}):{}}function If(i,e){const t=Object.assign({},i);return Object.keys(e).forEach(r=>{Af(e[r])?r in i?t[r]=If(i[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t}function Ff(i){for(const e in i)i[e]===void 0&&delete i[e];return i}function td(i,e,t){if(typeof e=="string"){let[n,a]=e.split(" ");t=Object.assign(a?{method:n,url:a}:{url:n},t)}else t=Object.assign({},e);t.headers=Xv(t.headers),Ff(t),Ff(t.headers);const r=If(i||{},t);return i&&i.mediaType.previews.length&&(r.mediaType.previews=i.mediaType.previews.filter(n=>!r.mediaType.previews.includes(n)).concat(r.mediaType.previews)),r.mediaType.previews=r.mediaType.previews.map(n=>n.replace(/-preview/,"")),r}function eg(i,e){const t=/\?/.test(i)?"&":"?",r=Object.keys(e);return r.length===0?i:i+t+r.map(n=>n==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${n}=${encodeURIComponent(e[n])}`).join("&")}const tg=/\{[^}]+\}/g;function ig(i){return i.replace(/^\W+|\W+$/g,"").split(/,/)}function rg(i){const e=i.match(tg);return e?e.map(ig).reduce((t,r)=>t.concat(r),[]):[]}function Of(i,e){return Object.keys(i).filter(t=>!e.includes(t)).reduce((t,r)=>(t[r]=i[r],t),{})}function Lf(i){return i.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function Os(i){return encodeURIComponent(i).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Po(i,e,t){return e=i==="+"||i==="#"?Lf(e):Os(e),t?Os(t)+"="+e:e}function Ls(i){return i!=null}function id(i){return i===";"||i==="&"||i==="?"}function ng(i,e,t,r){var n=i[t],a=[];if(Ls(n)&&n!=="")if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")n=n.toString(),r&&r!=="*"&&(n=n.substring(0,parseInt(r,10))),a.push(Po(e,n,id(e)?t:""));else if(r==="*")Array.isArray(n)?n.filter(Ls).forEach(function(m){a.push(Po(e,m,id(e)?t:""))}):Object.keys(n).forEach(function(m){Ls(n[m])&&a.push(Po(e,n[m],m))});else{const m=[];Array.isArray(n)?n.filter(Ls).forEach(function(k){m.push(Po(e,k))}):Object.keys(n).forEach(function(k){Ls(n[k])&&(m.push(Os(k)),m.push(Po(e,n[k].toString())))}),id(e)?a.push(Os(t)+"="+m.join(",")):m.length!==0&&a.push(m.join(","))}else e===";"?Ls(n)&&a.push(Os(t)):n===""&&(e==="&"||e==="?")?a.push(Os(t)+"="):n===""&&a.push("");return a}function ag(i){return{expand:sg.bind(null,i)}}function sg(i,e){var t=["+","#",".","/",";","?","&"];return i.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,n,a){if(n){let k="";const O=[];if(t.indexOf(n.charAt(0))!==-1&&(k=n.charAt(0),n=n.substr(1)),n.split(/,/g).forEach(function(G){var Z=/([^:\*]*)(?::(\d+)|(\*))?/.exec(G);O.push(ng(e,k,Z[1],Z[2]||Z[3]))}),k&&k!=="+"){var m=",";return k==="?"?m="&":k!=="#"&&(m=k),(O.length!==0?k:"")+O.join(m)}else return O.join(",")}else return Lf(a)})}function Uf(i){let e=i.method.toUpperCase(),t=(i.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},i.headers),n,a=Of(i,["method","baseUrl","url","headers","request","mediaType"]);const m=rg(t);t=ag(t).expand(a),/^http/.test(t)||(t=i.baseUrl+t);const k=Object.keys(i).filter(Z=>m.includes(Z)).concat("baseUrl"),O=Of(a,k);if(!/application\/octet-stream/i.test(r.accept)&&(i.mediaType.format&&(r.accept=r.accept.split(/,/).map(Z=>Z.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${i.mediaType.format}`)).join(",")),i.mediaType.previews.length)){const Z=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=Z.concat(i.mediaType.previews).map(oe=>{const X=i.mediaType.format?`.${i.mediaType.format}`:"+json";return`application/vnd.github.${oe}-preview${X}`}).join(",")}return["GET","HEAD"].includes(e)?t=eg(t,O):"data"in O?n=O.data:Object.keys(O).length?n=O:r["content-length"]=0,!r["content-type"]&&typeof n!="undefined"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof n=="undefined"&&(n=""),Object.assign({method:e,url:t,headers:r},typeof n!="undefined"?{body:n}:null,i.request?{request:i.request}:null)}function og(i,e,t){return Uf(td(i,e,t))}function Bf(i,e){const t=td(i,e),r=og.bind(null,t);return Object.assign(r,{DEFAULTS:t,defaults:Bf.bind(null,t),merge:td.bind(null,t),parse:Uf})}const lg=`octokit-endpoint.js/6.0.11 ${xl()}`,ug=Bf(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":lg},mediaType:{format:"",previews:[]}});class dg extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var cg=Yt(30778),fg=Yt.n(cg);const hg=fg()(i=>console.warn(i));class xo extends Error{constructor(e,t,r){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=t,Object.defineProperty(this,"code",{get(){return hg(new dg("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),t}}),this.headers=r.headers||{};const n=Object.assign({},r.request);r.request.headers.authorization&&(n.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),n.url=n.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=n}}const mg="5.4.14";function pg(i){return i.arrayBuffer()}function qf(i){(Af(i.body)||Array.isArray(i.body))&&(i.body=JSON.stringify(i.body));let e={},t,r;return(i.request&&i.request.fetch||Wr())(i.url,Object.assign({method:i.method,body:i.body,headers:i.headers,redirect:i.redirect},i.request)).then(a=>{r=a.url,t=a.status;for(const k of a.headers)e[k[0]]=k[1];if(t===204||t===205)return;if(i.method==="HEAD"){if(t<400)return;throw new xo(a.statusText,t,{headers:e,request:i})}if(t===304)throw new xo("Not modified",t,{headers:e,request:i});if(t>=400)return a.text().then(k=>{const O=new xo(k,t,{headers:e,request:i});try{let G=JSON.parse(O.message);Object.assign(O,G);let Z=G.errors;O.message=O.message+": "+Z.map(JSON.stringify).join(", ")}catch(G){}throw O});const m=a.headers.get("content-type");return/application\/json/.test(m)?a.json():!m||/^text\/|charset=utf-8$/.test(m)?a.text():pg(a)}).then(a=>({status:t,url:r,headers:e,data:a})).catch(a=>{throw a instanceof xo?a:new xo(a.message,500,{headers:e,request:i})})}function rd(i,e){const t=i.defaults(e);return Object.assign(function(n,a){const m=t.merge(n,a);if(!m.request||!m.request.hook)return qf(t.parse(m));const k=(O,G)=>qf(t.parse(t.merge(O,G)));return Object.assign(k,{endpoint:t,defaults:rd.bind(null,t)}),m.request.hook(k,m)},{endpoint:t,defaults:rd.bind(null,t)})}const Dl=rd(ug,{headers:{"user-agent":`octokit-request.js/${mg} ${xl()}`}}),vg="4.6.1";class gg extends Error{constructor(e,t){const r=t.data.errors[0].message;super(r);Object.assign(this,t.data),Object.assign(this,{headers:t.headers}),this.name="GraphqlError",this.request=e,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const bg=["method","baseUrl","url","headers","request","query","mediaType"],yg=["query","method","url"],Hf=/\/api\/v3\/?$/;function wg(i,e,t){if(t){if(typeof e=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const m in t)if(!!yg.includes(m))return Promise.reject(new Error(`[@octokit/graphql] "${m}" cannot be used as variable name`))}const r=typeof e=="string"?Object.assign({query:e},t):e,n=Object.keys(r).reduce((m,k)=>bg.includes(k)?(m[k]=r[k],m):(m.variables||(m.variables={}),m.variables[k]=r[k],m),{}),a=r.baseUrl||i.endpoint.DEFAULTS.baseUrl;return Hf.test(a)&&(n.url=a.replace(Hf,"/api/graphql")),i(n).then(m=>{if(m.data.errors){const k={};for(const O of Object.keys(m.headers))k[O]=m.headers[O];throw new gg(n,{headers:k,data:m.data})}return m.data.data})}function nd(i,e){const t=i.defaults(e);return Object.assign((n,a)=>wg(t,n,a),{defaults:nd.bind(null,t),endpoint:Dl.endpoint})}const Rw=nd(Dl,{headers:{"user-agent":`octokit-graphql.js/${vg} ${xl()}`},method:"POST",url:"/graphql"});function _g(i){return nd(i,{method:"POST",url:"/graphql"})}async function kg(i){const e=i.split(/\./).length===3?"app":/^v\d+\./.test(i)?"installation":"oauth";return{type:"token",token:i,tokenType:e}}function Sg(i){return i.split(/\./).length===3?`bearer ${i}`:`token ${i}`}async function Rg(i,e,t,r){const n=e.endpoint.merge(t,r);return n.headers.authorization=Sg(i),e(n)}const Eg=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(kg.bind(null,e),{hook:Rg.bind(null,e)})},Vf="3.3.1";class ad{constructor(e={}){const t=new Zv.Collection,r={baseUrl:Dl.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(r.headers["user-agent"]=[e.userAgent,`octokit-core.js/${Vf} ${xl()}`].filter(Boolean).join(" "),e.baseUrl&&(r.baseUrl=e.baseUrl),e.previews&&(r.mediaType.previews=e.previews),e.timeZone&&(r.headers["time-zone"]=e.timeZone),this.request=Dl.defaults(r),this.graphql=_g(this.request).defaults(r),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=t,e.authStrategy){const{authStrategy:a,...m}=e,k=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:m},e.auth));t.wrap("request",k.hook),this.auth=k}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=Eg(e.auth);t.wrap("request",a.hook),this.auth=a}this.constructor.plugins.forEach(a=>{Object.assign(this,a(this,e))})}static defaults(e){return class extends this{constructor(...r){const n=r[0]||{};if(typeof e=="function"){super(e(n));return}super(Object.assign({},e,n,n.userAgent&&e.userAgent?{userAgent:`${n.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var t;const r=this.plugins;return t=class extends this{},t.plugins=r.concat(e.filter(a=>!r.includes(a))),t}}ad.VERSION=Vf,ad.plugins=[];const Cg="1.0.3";function Gf(i){i.hook.wrap("request",(e,t)=>{i.log.debug("request",t);const r=Date.now(),n=i.request.endpoint.parse(t),a=n.url.replace(t.baseUrl,"");return e(t).then(m=>(i.log.info(`${n.method} ${a} - ${m.status} in ${Date.now()-r}ms`),m)).catch(m=>{throw i.log.info(`${n.method} ${a} - ${m.status} in ${Date.now()-r}ms`),m})})}Gf.VERSION=Cg;const Ng="2.13.2";function Tg(i){if(!("total_count"in i.data&&!("url"in i.data)))return i;const t=i.data.incomplete_results,r=i.data.repository_selection,n=i.data.total_count;delete i.data.incomplete_results,delete i.data.repository_selection,delete i.data.total_count;const a=Object.keys(i.data)[0],m=i.data[a];return i.data=m,typeof t!="undefined"&&(i.data.incomplete_results=t),typeof r!="undefined"&&(i.data.repository_selection=r),i.data.total_count=n,i}function sd(i,e,t){const r=typeof e=="function"?e.endpoint(t):i.request.endpoint(e,t),n=typeof e=="function"?e:i.request,a=r.method,m=r.headers;let k=r.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!k)return{done:!0};const O=await n({method:a,url:k,headers:m}),G=Tg(O);return k=((G.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:G}}})}}function $f(i,e,t,r){return typeof t=="function"&&(r=t,t=void 0),jf(i,[],sd(i,e,t)[Symbol.asyncIterator](),r)}function jf(i,e,t,r){return t.next().then(n=>{if(n.done)return e;let a=!1;function m(){a=!0}return e=e.concat(r?r(n.value,m):n.value.data),a?e:jf(i,e,t,r)})}const Ew=Object.assign($f,{iterator:sd}),Mg=null;function Cw(i){return typeof i=="string"?Mg.includes(i):!1}function zf(i){return{paginate:Object.assign($f.bind(null,i),{iterator:sd.bind(null,i)})}}zf.VERSION=Ng;const Pg={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct",{mediaType:{previews:["scarlet-witch"]}}],getConductCode:["GET /codes_of_conduct/{key}",{mediaType:{previews:["scarlet-witch"]}}],getForRepo:["GET /repos/{owner}/{repo}/community/code_of_conduct",{mediaType:{previews:["scarlet-witch"]}}]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline",{mediaType:{previews:["mockingbird"]}}],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],listForAuthenticatedUser:["GET /user/migrations",{mediaType:{previews:["wyandotte"]}}],listForOrg:["GET /orgs/{org}/migrations",{mediaType:{previews:["wyandotte"]}}],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],createCard:["POST /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],createColumn:["POST /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],createForAuthenticatedUser:["POST /user/projects",{mediaType:{previews:["inertia"]}}],createForOrg:["POST /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],createForRepo:["POST /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],delete:["DELETE /projects/{project_id}",{mediaType:{previews:["inertia"]}}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],deleteColumn:["DELETE /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],get:["GET /projects/{project_id}",{mediaType:{previews:["inertia"]}}],getCard:["GET /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],getColumn:["GET /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{mediaType:{previews:["inertia"]}}],listCards:["GET /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],listCollaborators:["GET /projects/{project_id}/collaborators",{mediaType:{previews:["inertia"]}}],listColumns:["GET /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],listForOrg:["GET /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],listForRepo:["GET /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],listForUser:["GET /users/{username}/projects",{mediaType:{previews:["inertia"]}}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{mediaType:{previews:["inertia"]}}],moveColumn:["POST /projects/columns/{column_id}/moves",{mediaType:{previews:["inertia"]}}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],update:["PATCH /projects/{project_id}",{mediaType:{previews:["inertia"]}}],updateCard:["PATCH /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],updateColumn:["PATCH /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch",{mediaType:{previews:["lydian"]}}],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteLegacy:["DELETE /reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}},{deprecated:"octokit.reactions.deleteLegacy() is deprecated, see https://docs.github.com/v3/reactions/#delete-a-reaction-legacy"}],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate",{mediaType:{previews:["baptiste"]}}],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head",{mediaType:{previews:["groot"]}}],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls",{mediaType:{previews:["groot"]}}],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits",{mediaType:{previews:["cloak"]}}],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{mediaType:{previews:["inertia"]}}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},xg="4.12.2";function Dg(i,e){const t={};for(const[r,n]of Object.entries(e))for(const[a,m]of Object.entries(n)){const[k,O,G]=m,[Z,oe]=k.split(/ /),X=Object.assign({method:Z,url:oe},O);t[r]||(t[r]={});const de=t[r];if(G){de[a]=Ag(i,r,a,X,G);continue}de[a]=i.request.defaults(X)}return t}function Ag(i,e,t,r,n){const a=i.request.defaults(r);function m(...k){let O=a.endpoint.merge(...k);if(n.mapToData)return O=Object.assign({},O,{data:O[n.mapToData],[n.mapToData]:void 0}),a(O);if(n.renamed){const[G,Z]=n.renamed;i.log.warn(`octokit.${e}.${t}() has been renamed to octokit.${G}.${Z}()`)}if(n.deprecated&&i.log.warn(n.deprecated),n.renamedParameters){const G=a.endpoint.merge(...k);for(const[Z,oe]of Object.entries(n.renamedParameters))Z in G&&(i.log.warn(`"${Z}" parameter is deprecated for "octokit.${e}.${t}()". Use "${oe}" instead`),oe in G||(G[oe]=G[Z]),delete G[Z]);return a(G)}return a(...k)}return Object.assign(m,a)}function Wf(i){return Dg(i,Pg)}Wf.VERSION=xg;const Ig="18.2.1",Fg=ad.plugin(Gf,Wf,zf).defaults({userAgent:`octokit-rest.js/${Ig}`});function Og(i){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Al(i)},t={kind:"Document",definitions:[e]};return t}function Lg(i,e){var t={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Al(i)},r={kind:"Document",definitions:[t]};return r}function Al(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string"||typeof i=="undefined"||i===null)return null;if(Array.isArray(i))return Al(i[0]);var e=[];Object.keys(i).forEach(function(r){var n=Al(i[r]),a={kind:"Field",name:{kind:"Name",value:r},selectionSet:n||void 0};e.push(a)});var t={kind:"SelectionSet",selections:e};return t}var Ug={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},Bg=function(){function i(){}return i.prototype.transformDocument=function(e){return e},i.prototype.transformForLink=function(e){return e},i.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},i.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.read({query:ue(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},i.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},i.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:ue(e.fragment,e.fragmentName)})},i.prototype.writeData=function(e){var t=e.id,r=e.data;if(typeof t!="undefined"){var n=null;try{n=this.read({rootId:t,optimistic:!1,query:Ug})}catch(k){}var a=n&&n.__typename||"__ClientData",m=Object.assign({__typename:a},r);this.writeFragment({id:t,fragment:Lg(m,a),data:m})}else this.writeQuery({query:Og(r),data:r})},i}(),Kf;(function(i){})(Kf||(Kf={}));var jr=null,Qf={},qg=1,Hg=function(){return function(){function i(){this.id=["slot",qg++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return i.prototype.hasValue=function(){for(var e=jr;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Qf)break;return e!==jr&&(jr.slots[this.id]=t),!0}return jr&&(jr.slots[this.id]=Qf),!1},i.prototype.getValue=function(){if(this.hasValue())return jr.slots[this.id]},i.prototype.withValue=function(e,t,r,n){var a,m=(a={__proto__:null},a[this.id]=e,a),k=jr;jr={parent:k,slots:m};try{return t.apply(n,r)}finally{jr=k}},i.bind=function(e){var t=jr;return function(){var r=jr;try{return jr=t,e.apply(this,arguments)}finally{jr=r}}},i.noContext=function(e,t,r){if(jr){var n=jr;try{return jr=null,e.apply(r,t)}finally{jr=n}}else return e.apply(r,t)},i}()},od="@wry/context:Slot",ld=Array,ud=ld[od]||function(){var i=Hg();try{Object.defineProperty(ld,od,{value:ld[od]=i,enumerable:!1,writable:!1,configurable:!1})}finally{return i}}(),dd=ud.bind,Vg=ud.noContext;function Nw(i,e){return setTimeout(dd(i),e)}function Tw(i){return function(){var e=i.apply(this,arguments),t=dd(e.next),r=dd(e.throw);return new Promise(function(n,a){function m(G,Z){try{var oe=G.call(e,Z)}catch(de){return a(de)}var X=oe.done?n:k;Gg(oe.value)?oe.value.then(X,oe.done?a:O):X(oe.value)}var k=function(G){return m(t,G)},O=function(G){return m(r,G)};k()})}}function Gg(i){return i&&typeof i.then=="function"}var Yf=null;function Mw(i){if(Yf.indexOf(i)<0){var e=function(t,r){var n=t[r];t[r]=function(){return Vg(n,arguments,this)}};e(i,"yield"),e(i.prototype,"run"),e(i.prototype,"throwInto"),Yf.push(i)}return i}function $g(){}var jg=function(){function i(e,t){e===void 0&&(e=Infinity),t===void 0&&(t=$g),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return i.prototype.has=function(e){return this.map.has(e)},i.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},i.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var r=t.older,n=t.newer;n&&(n.older=r),r&&(r.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t},i.prototype.set=function(e,t){var r=this.getEntry(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},i.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},i.prototype.delete=function(e){var t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1},i}(),Il=new ud,zg=[],cd=[],Wg=100;function Us(i,e){if(!i)throw new Error(e||"assertion failure")}function Kg(i,e){var t=i.length;return t>0&&t===e.length&&i[t-1]===e[t-1]}function Jf(i){switch(i.length){case 0:throw new Error("unknown value");case 1:return i[0];case 2:throw i[1]}}function Qg(i){return i.slice(0)}var Yg=function(){function i(e,t){this.fn=e,this.args=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++i.count}return i.prototype.recompute=function(){if(Us(!this.recomputing,"already recomputing"),!(!Jg(this)&&fd(this)))return Bs(this)?Zg(this):Jf(this.value)},i.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Zf(this),hd(this))},i.prototype.dispose=function(){var e=this;rh(this).forEach(fd),hd(this),this.parents.forEach(function(t){t.setDirty(),nh(t,e)})},i.count=0,i}();function Jg(i){var e=Il.getValue();if(e)return i.parents.add(e),e.childValues.has(i)||e.childValues.set(i,[]),Bs(i)?eh(e,i):th(e,i),e}function Zg(i){var e=rh(i);return Il.withValue(i,Xg,[i]),t0(i)&&e0(i),e.forEach(fd),Jf(i.value)}function Xg(i){i.recomputing=!0,i.value.length=0;try{i.value[0]=i.fn.apply(null,i.args)}catch(e){i.value[1]=e}i.recomputing=!1}function Bs(i){return i.dirty||!!(i.dirtyChildren&&i.dirtyChildren.size)}function e0(i){i.dirty=!1,!Bs(i)&&Xf(i)}function Zf(i){i.parents.forEach(function(e){return eh(e,i)})}function Xf(i){i.parents.forEach(function(e){return th(e,i)})}function eh(i,e){if(Us(i.childValues.has(e)),Us(Bs(e)),!i.dirtyChildren)i.dirtyChildren=cd.pop()||new Set;else if(i.dirtyChildren.has(e))return;i.dirtyChildren.add(e),Zf(i)}function th(i,e){Us(i.childValues.has(e)),Us(!Bs(e));var t=i.childValues.get(e);t.length===0?i.childValues.set(e,Qg(e.value)):Kg(t,e.value)||i.setDirty(),ih(i,e),!Bs(i)&&Xf(i)}function ih(i,e){var t=i.dirtyChildren;t&&(t.delete(e),t.size===0&&(cd.length<Wg&&cd.push(t),i.dirtyChildren=null))}function fd(i){return i.parents.size===0&&typeof i.reportOrphan=="function"&&i.reportOrphan()===!0}function rh(i){var e=zg;return i.childValues.size>0&&(e=[],i.childValues.forEach(function(t,r){nh(i,r),e.push(r)})),Us(i.dirtyChildren===null),e}function nh(i,e){e.parents.delete(i),i.childValues.delete(e),ih(i,e)}function t0(i){if(typeof i.subscribe=="function")try{hd(i),i.unsubscribe=i.subscribe.apply(null,i.args)}catch(e){return i.setDirty(),!1}return!0}function hd(i){var e=i.unsubscribe;typeof e=="function"&&(i.unsubscribe=void 0,e())}var md=function(){function i(e){this.weakness=e}return i.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},i.prototype.lookupArray=function(e){var t=this;return e.forEach(function(r){return t=t.getChildTrie(r)}),t.data||(t.data=Object.create(null))},i.prototype.getChildTrie=function(e){var t=this.weakness&&i0(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=t.get(e);return r||t.set(e,r=new i(this.weakness)),r},i}();function i0(i){switch(typeof i){case"object":if(i===null)break;case"function":return!0}return!1}var r0=new md(typeof WeakMap=="function");function n0(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return r0.lookupArray(i)}var pd=new Set;function Do(i,e){e===void 0&&(e=Object.create(null));var t=new jg(e.max||Math.pow(2,16),function(m){return m.dispose()}),r=!!e.disposable,n=e.makeCacheKey||n0;function a(){if(!(r&&!Il.hasValue())){var m=n.apply(null,arguments);if(m===void 0)return i.apply(null,arguments);var k=Array.prototype.slice.call(arguments),O=t.get(m);O?O.args=k:(O=new Yg(i,k),t.set(m,O),O.subscribe=e.subscribe,r&&(O.reportOrphan=function(){return t.delete(m)}));var G=O.recompute();return t.set(m,O),pd.add(t),Il.hasValue()||(pd.forEach(function(Z){return Z.clean()}),pd.clear()),r?void 0:G}}return a.dirty=function(){var m=n.apply(null,arguments),k=m!==void 0&&t.get(m);k&&k.setDirty()},a}var ah=!1;function sh(){var i=!ah;return ze()||(ah=!0),i}var a0=function(){function i(){}return i.prototype.ensureReady=function(){return Promise.resolve()},i.prototype.canBypassInit=function(){return!0},i.prototype.match=function(e,t,r){var n=r.store.get(e.id),a=e.id==="ROOT_QUERY";if(!n)return a;var m=n.__typename,k=m===void 0?a&&"Query":m;return k&&k===t?!0:(sh(),"heuristic")},i}(),Pw=function(){function i(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return i.prototype.match=function(e,t,r){Fi(this.isReady,1);var n=r.store.get(e.id),a=e.id==="ROOT_QUERY";if(!n)return a;var m=n.__typename,k=m===void 0?a&&"Query":m;if(Fi(k,2),k===t)return!0;var O=this.possibleTypesMap[t];return!!(k&&O&&O.indexOf(k)>-1)},i.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach(function(r){(r.kind==="UNION"||r.kind==="INTERFACE")&&(t[r.name]=r.possibleTypes.map(function(n){return n.name}))}),t},i}(),oh=Object.prototype.hasOwnProperty,qs=function(){function i(e){var t=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=Do(function(r){return t.data[r]},{disposable:!0,makeCacheKey:function(r){return r}})}return i.prototype.toObject=function(){return this.data},i.prototype.get=function(e){return this.depend(e),this.data[e]},i.prototype.set=function(e,t){var r=this.data[e];t!==r&&(this.data[e]=t,this.depend.dirty(e))},i.prototype.delete=function(e){oh.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},i.prototype.clear=function(){this.replace(null)},i.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(r){t.set(r,e[r])}),Object.keys(this.data).forEach(function(r){oh.call(e,r)||t.delete(r)})):Object.keys(this.data).forEach(function(r){t.delete(r)})},i}();function lh(i){return new qs(i)}var s0=function(){function i(e){var t=this,r=e===void 0?{}:e,n=r.cacheKeyRoot,a=n===void 0?new md(bs):n,m=r.freezeResults,k=m===void 0?!1:m,O=this,G=O.executeStoreQuery,Z=O.executeSelectionSet,oe=O.executeSubSelectedArray;this.freezeResults=k,this.executeStoreQuery=Do(function(X){return G.call(t,X)},{makeCacheKey:function(X){var de=X.query,ke=X.rootValue,Ne=X.contextValue,Ie=X.variableValues,De=X.fragmentMatcher;if(Ne.store instanceof qs)return a.lookup(Ne.store,de,De,JSON.stringify(Ie),ke.id)}}),this.executeSelectionSet=Do(function(X){return Z.call(t,X)},{makeCacheKey:function(X){var de=X.selectionSet,ke=X.rootValue,Ne=X.execContext;if(Ne.contextValue.store instanceof qs)return a.lookup(Ne.contextValue.store,de,Ne.fragmentMatcher,JSON.stringify(Ne.variableValues),ke.id)}}),this.executeSubSelectedArray=Do(function(X){return oe.call(t,X)},{makeCacheKey:function(X){var de=X.field,ke=X.array,Ne=X.execContext;if(Ne.contextValue.store instanceof qs)return a.lookup(Ne.contextValue.store,de,ke,JSON.stringify(Ne.variableValues))}})}return i.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(gt(gt({},e),{returnPartialData:!1})).result},i.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,n=e.variables,a=e.previousResult,m=e.returnPartialData,k=m===void 0?!0:m,O=e.rootId,G=O===void 0?"ROOT_QUERY":O,Z=e.fragmentMatcherFunction,oe=e.config,X=Ft(r);n=be({},di(X),n);var de={store:t,dataIdFromObject:oe&&oe.dataIdFromObject,cacheRedirects:oe&&oe.cacheRedirects||{}},ke=this.executeStoreQuery({query:r,rootValue:{type:"id",id:G,generated:!0,typename:"Query"},contextValue:de,variableValues:n,fragmentMatcher:Z}),Ne=ke.missing&&ke.missing.length>0;return Ne&&!k&&ke.missing.forEach(function(Ie){if(!Ie.tolerable)throw new Sr(8)}),a&&hn(a,ke.result)&&(ke.result=a),{result:ke.result,complete:!Ne}},i.prototype.executeStoreQuery=function(e){var t=e.query,r=e.rootValue,n=e.contextValue,a=e.variableValues,m=e.fragmentMatcher,k=m===void 0?o0:m,O=oi(t),G=Tt(t),Z=vi(G),oe={query:t,fragmentMap:Z,contextValue:n,variableValues:a,fragmentMatcher:k};return this.executeSelectionSet({selectionSet:O.selectionSet,rootValue:r,execContext:oe})},i.prototype.executeSelectionSet=function(e){var t=this,r=e.selectionSet,n=e.rootValue,a=e.execContext,m=a.fragmentMap,k=a.contextValue,O=a.variableValues,G={result:null},Z=[],oe=k.store.get(n.id),X=oe&&oe.__typename||n.id==="ROOT_QUERY"&&"Query"||void 0;function de(ke){var Ne;return ke.missing&&(G.missing=G.missing||[],(Ne=G.missing).push.apply(Ne,ke.missing)),ke.result}return r.selections.forEach(function(ke){var Ne;if(!!za(ke,O))if(Wn(ke)){var Ie=de(t.executeField(oe,X,ke,a));typeof Ie!="undefined"&&Z.push((Ne={},Ne[Ma(ke)]=Ie,Ne))}else{var De=void 0;if(ja(ke))De=ke;else if(De=m[ke.name.value],!De)throw new Sr(9);var Fe=De.typeCondition&&De.typeCondition.name.value,Ze=!Fe||a.fragmentMatcher(n,Fe,k);if(Ze){var it=t.executeSelectionSet({selectionSet:De.selectionSet,rootValue:n,execContext:a});Ze==="heuristic"&&it.missing&&(it=gt(gt({},it),{missing:it.missing.map(function(ht){return gt(gt({},ht),{tolerable:!0})})})),Z.push(de(it))}}}),G.result=wr(Z),this.freezeResults,G},i.prototype.executeField=function(e,t,r,n){var a=n.variableValues,m=n.contextValue,k=r.name.value,O=Ta(r,a),G={resultKey:Ma(r),directives:no(r,a)},Z=l0(e,t,k,O,m,G);return Array.isArray(Z.result)?this.combineExecResults(Z,this.executeSubSelectedArray({field:r,array:Z.result,execContext:n})):r.selectionSet?Z.result==null?Z:this.combineExecResults(Z,this.executeSelectionSet({selectionSet:r.selectionSet,rootValue:Z.result,execContext:n})):(uh(r,Z.result),this.freezeResults,Z)},i.prototype.combineExecResults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r;return e.forEach(function(n){n.missing&&(r=r||[],r.push.apply(r,n.missing))}),{result:e.pop().result,missing:r}},i.prototype.executeSubSelectedArray=function(e){var t=this,r=e.field,n=e.array,a=e.execContext,m;function k(O){return O.missing&&(m=m||[],m.push.apply(m,O.missing)),O.result}return n=n.map(function(O){return O===null?null:Array.isArray(O)?k(t.executeSubSelectedArray({field:r,array:O,execContext:a})):r.selectionSet?k(t.executeSelectionSet({selectionSet:r.selectionSet,rootValue:O,execContext:a})):(uh(r,O),O)}),this.freezeResults,{result:n,missing:m}},i}();function uh(i,e){if(!i.selectionSet&&hs(e))throw new Sr(10)}function o0(){return!0}function xw(i){invariant(isIdValue(i),11)}function l0(i,e,t,r,n,a){var m=a.resultKey,k=a.directives,O=t;(r||k)&&(O=Go(O,r,k));var G=void 0;if(i&&(G=i[O],typeof G=="undefined"&&n.cacheRedirects&&typeof e=="string")){var Z=n.cacheRedirects[e];if(Z){var oe=Z[t];oe&&(G=oe(i,r,{getCacheKey:function(X){var de=n.dataIdFromObject(X);return de&&ms({id:de,typename:X.__typename})}}))}}return typeof G=="undefined"?{result:G,missing:[{object:i,fieldName:O,tolerable:!1}]}:($o(G)&&(G=G.json),{result:G})}var Fl=function(){function i(e){e===void 0&&(e=Object.create(null)),this.data=e}return i.prototype.toObject=function(){return this.data},i.prototype.get=function(e){return this.data[e]},i.prototype.set=function(e,t){this.data[e]=t},i.prototype.delete=function(e){this.data[e]=void 0},i.prototype.clear=function(){this.data=Object.create(null)},i.prototype.replace=function(e){this.data=e||Object.create(null)},i}();function Dw(i){return new Fl(i)}var u0=function(i){er(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="WriteError",t}return e}(Error);function d0(i,e){var t=new u0(`Error writing result to store for query:
 `+JSON.stringify(e));return t.message+=`
`+i.message,t.stack=i.stack,t}var c0=function(){function i(){}return i.prototype.writeQueryToStore=function(e){var t=e.query,r=e.result,n=e.store,a=n===void 0?lh():n,m=e.variables,k=e.dataIdFromObject,O=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:r,document:t,store:a,variables:m,dataIdFromObject:k,fragmentMatcherFunction:O})},i.prototype.writeResultToStore=function(e){var t=e.dataId,r=e.result,n=e.document,a=e.store,m=a===void 0?lh():a,k=e.variables,O=e.dataIdFromObject,G=e.fragmentMatcherFunction,Z=qe(n);try{return this.writeSelectionSetToStore({result:r,dataId:t,selectionSet:Z.selectionSet,context:{store:m,processedData:{},variables:be({},di(Z),k),dataIdFromObject:O,fragmentMap:vi(Tt(n)),fragmentMatcherFunction:G}})}catch(oe){throw d0(oe,n)}},i.prototype.writeSelectionSetToStore=function(e){var t=this,r=e.result,n=e.dataId,a=e.selectionSet,m=e.context,k=m.variables,O=m.store,G=m.fragmentMap;return a.selections.forEach(function(Z){var oe;if(!!za(Z,k))if(Wn(Z)){var X=Ma(Z),de=r[X];if(typeof de!="undefined")t.writeFieldToStore({dataId:n,value:de,field:Z,context:m});else{var ke=!1,Ne=!1;Z.directives&&Z.directives.length&&(ke=Z.directives.some(function(Pt){return Pt.name&&Pt.name.value==="defer"}),Ne=Z.directives.some(function(Pt){return Pt.name&&Pt.name.value==="client"})),!ke&&!Ne&&m.fragmentMatcherFunction}}else{var Ie=void 0;ja(Z)?Ie=Z:(Ie=(G||{})[Z.name.value],Fi(Ie,3));var De=!0;if(m.fragmentMatcherFunction&&Ie.typeCondition){var Fe=n||"self",Ze=ms({id:Fe,typename:void 0}),it={store:new Fl((oe={},oe[Fe]=r,oe)),cacheRedirects:{}},ht=m.fragmentMatcherFunction(Ze,Ie.typeCondition.name.value,it);!Yo()&&ht==="heuristic",De=!!ht}De&&t.writeSelectionSetToStore({result:r,selectionSet:Ie.selectionSet,dataId:n,context:m})}}),O},i.prototype.writeFieldToStore=function(e){var t,r=e.field,n=e.value,a=e.dataId,m=e.context,k=m.variables,O=m.dataIdFromObject,G=m.store,Z,oe,X=cu(r,k);if(!r.selectionSet||n===null)Z=n!=null&&typeof n=="object"?{type:"json",json:n}:n;else if(Array.isArray(n)){var de=a+"."+X;Z=this.processArrayValue(n,de,r.selectionSet,m)}else{var ke=a+"."+X,Ne=!0;if(vd(ke)||(ke="$"+ke),O){var Ie=O(n);Fi(!Ie||!vd(Ie),4),(Ie||typeof Ie=="number"&&Ie===0)&&(ke=Ie,Ne=!1)}ch(ke,r,m.processedData)||this.writeSelectionSetToStore({dataId:ke,result:n,selectionSet:r.selectionSet,context:m});var De=n.__typename;Z=ms({id:ke,typename:De},Ne),oe=G.get(a);var Fe=oe&&oe[X];if(Fe!==Z&&hs(Fe)){var Ze=Fe.typename!==void 0,it=De!==void 0,ht=Ze&&it&&Fe.typename!==De;Fi(!Ne||Fe.generated||ht,5),Fi(!Ze||it,6),Fe.generated&&(ht?Ne||G.delete(Fe.id):dh(Fe.id,Z.id,G))}}oe=G.get(a),(!oe||!hn(Z,oe[X]))&&G.set(a,gt(gt({},oe),(t={},t[X]=Z,t)))},i.prototype.processArrayValue=function(e,t,r,n){var a=this;return e.map(function(m,k){if(m===null)return null;var O=t+"."+k;if(Array.isArray(m))return a.processArrayValue(m,O,r,n);var G=!0;if(n.dataIdFromObject){var Z=n.dataIdFromObject(m);Z&&(O=Z,G=!1)}return ch(O,r,n.processedData)||a.writeSelectionSetToStore({dataId:O,result:m,selectionSet:r,context:n}),ms({id:O,typename:m.__typename},G)})},i}();function vd(i){return i[0]==="$"}function dh(i,e,t){if(i===e)return!1;var r=t.get(i),n=t.get(e),a=!1;Object.keys(r).forEach(function(k){var O=r[k],G=n[k];hs(O)&&vd(O.id)&&hs(G)&&!hn(O,G)&&dh(O.id,G.id,t)&&(a=!0)}),t.delete(i);var m=gt(gt({},r),n);return hn(m,n)?a:(t.set(e,m),!0)}function ch(i,e,t){if(!t)return!1;if(t[i]){if(t[i].indexOf(e)>=0)return!0;t[i].push(e)}else t[i]=[e];return!1}var f0={fragmentMatcher:new a0,dataIdFromObject:h0,addTypename:!0,resultCaching:!0,freezeResults:!1};function h0(i){if(i.__typename){if(i.id!==void 0)return i.__typename+":"+i.id;if(i._id!==void 0)return i.__typename+":"+i._id}return null}var m0=Object.prototype.hasOwnProperty,fh=function(i){er(e,i);function e(t,r,n){var a=i.call(this,Object.create(null))||this;return a.optimisticId=t,a.parent=r,a.transaction=n,a}return e.prototype.toObject=function(){return gt(gt({},this.parent.toObject()),this.data)},e.prototype.get=function(t){return m0.call(this.data,t)?this.data[t]:this.parent.get(t)},e}(Fl),p0=function(i){er(e,i);function e(t){t===void 0&&(t={});var r=i.call(this)||this;r.watches=new Set,r.typenameDocumentCache=new Map,r.cacheKeyRoot=new md(bs),r.silenceBroadcast=!1,r.config=gt(gt({},f0),t),r.config.customResolvers&&(r.config.cacheRedirects=r.config.customResolvers),r.config.cacheResolvers&&(r.config.cacheRedirects=r.config.cacheResolvers),r.addTypename=!!r.config.addTypename,r.data=r.config.resultCaching?new qs:new Fl,r.optimisticData=r.data,r.storeWriter=new c0,r.storeReader=new s0({cacheKeyRoot:r.cacheKeyRoot,freezeResults:t.freezeResults});var n=r,a=n.maybeBroadcastWatch;return r.maybeBroadcastWatch=Do(function(m){return a.call(r,m)},{makeCacheKey:function(m){if(!m.optimistic&&!m.previousResult&&n.data instanceof qs)return n.cacheKeyRoot.lookup(m.query,JSON.stringify(m.variables))}}),r}return e.prototype.restore=function(t){return t&&this.data.replace(t),this},e.prototype.extract=function(t){return t===void 0&&(t=!1),(t?this.optimisticData:this.data).toObject()},e.prototype.read=function(t){if(typeof t.rootId=="string"&&typeof this.data.get(t.rootId)=="undefined")return null;var r=this.config.fragmentMatcher,n=r&&r.match;return this.storeReader.readQueryFromStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,rootId:t.rootId,fragmentMatcherFunction:n,previousResult:t.previousResult,config:this.config})||null},e.prototype.write=function(t){var r=this.config.fragmentMatcher,n=r&&r.match;this.storeWriter.writeResultToStore({dataId:t.dataId,result:t.result,variables:t.variables,document:this.transformDocument(t.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:n}),this.broadcastWatches()},e.prototype.diff=function(t){var r=this.config.fragmentMatcher,n=r&&r.match;return this.storeReader.diffQueryAgainstStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,returnPartialData:t.returnPartialData,previousResult:t.previousResult,fragmentMatcherFunction:n,config:this.config})},e.prototype.watch=function(t){var r=this;return this.watches.add(t),function(){r.watches.delete(t)}},e.prototype.evict=function(t){throw new Sr(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){for(var r=[],n=0,a=this.optimisticData;a instanceof fh;)a.optimisticId===t?++n:r.push(a),a=a.parent;if(n>0){for(this.optimisticData=a;r.length>0;){var m=r.pop();this.performTransaction(m.transaction,m.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(t,r){var n=this,a=n.data,m=n.silenceBroadcast;this.silenceBroadcast=!0,typeof r=="string"&&(this.data=this.optimisticData=new fh(r,this.optimisticData,t));try{t(this)}finally{this.silenceBroadcast=m,this.data=a}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(t,r){return this.performTransaction(t,r)},e.prototype.transformDocument=function(t){if(this.addTypename){var r=this.typenameDocumentCache.get(t);return r||(r=mu(t),this.typenameDocumentCache.set(t,r),this.typenameDocumentCache.set(r,r)),r}return t},e.prototype.broadcastWatches=function(){var t=this;this.silenceBroadcast||this.watches.forEach(function(r){return t.maybeBroadcastWatch(r)})},e.prototype.maybeBroadcastWatch=function(t){t.callback(this.diff({query:t.query,variables:t.variables,previousResult:t.previousResult&&t.previousResult(),optimistic:t.optimistic}))},e}(Bg);function v0(i){return new In(function(e,t){var r=ls(e,[]);return new rn(function(n){var a;return Promise.resolve(r).then(function(m){return i(m,e.getContext())}).then(e.setContext).then(function(){a=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}).catch(n.error.bind(n)),function(){a&&a.unsubscribe()}})})}var g0=Yt(23033),b0={includeQuery:!0,includeExtensions:!1},y0={accept:"*/*","content-type":"application/json"},w0={method:"POST"},_0={http:b0,headers:y0,options:w0},hh=function(i,e,t){var r=new Error(t);throw r.name="ServerError",r.response=i,r.statusCode=i.status,r.result=e,r},k0=function(i){return function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(n){var r=n;return r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,Promise.reject(r)}}).then(function(t){return e.status>=300&&hh(e,t,"Response not successful: Received status code "+e.status),!Array.isArray(t)&&!t.hasOwnProperty("data")&&!t.hasOwnProperty("errors")&&hh(e,t,"Server response was missing for query '"+(Array.isArray(i)?i.map(function(r){return r.operationName}):i.operationName)+"'."),t})}},S0=function(i){if(!i&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new Sr(1)}},R0=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var i=new AbortController,e=i.signal;return{controller:i,signal:e}},E0=function(i,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var n=gt({},e.options,{headers:e.headers,credentials:e.credentials}),a=e.http;t.forEach(function(oe){n=gt({},n,oe.options,{headers:gt({},n.headers,oe.headers)}),oe.credentials&&(n.credentials=oe.credentials),a=gt({},a,oe.http)});var m=i.operationName,k=i.extensions,O=i.variables,G=i.query,Z={operationName:m,variables:O};return a.includeExtensions&&(Z.extensions=k),a.includeQuery&&(Z.query=(0,g0.S)(G)),{options:n,body:Z}},gd=function(i,e){var t;try{t=JSON.stringify(i)}catch(n){var r=new Sr(2);throw r.parseError=n,r}return t},C0=function(i,e){var t=i.getContext(),r=t.uri;return r||(typeof e=="function"?e(i):e||"/graphql")},mh=function(i){i===void 0&&(i={});var e=i.uri,t=e===void 0?"/graphql":e,r=i.fetch,n=i.includeExtensions,a=i.useGETForQueries,m=ls(i,["uri","fetch","includeExtensions","useGETForQueries"]);S0(r),r||(r=fetch);var k={http:{includeExtensions:n},options:m.fetchOptions,credentials:m.credentials,headers:m.headers};return new In(function(O){var G=C0(O,t),Z=O.getContext(),oe={};if(Z.clientAwareness){var X=Z.clientAwareness,de=X.name,ke=X.version;de&&(oe["apollographql-client-name"]=de),ke&&(oe["apollographql-client-version"]=ke)}var Ne=gt({},oe,Z.headers),Ie={http:Z.http,options:Z.fetchOptions,credentials:Z.credentials,headers:Ne},De=E0(O,_0,k,Ie),Fe=De.options,Ze=De.body,it;if(!Fe.signal){var ht=R0(),Pt=ht.controller,At=ht.signal;it=Pt,it&&(Fe.signal=At)}var $t=function(vr){return vr.kind==="OperationDefinition"&&vr.operation==="mutation"};if(a&&!O.query.definitions.some($t)&&(Fe.method="GET"),Fe.method==="GET"){var ri=N0(G,Ze),Tr=ri.newURI,na=ri.parseError;if(na)return Jd(na);G=Tr}else try{Fe.body=gd(Ze,"Payload")}catch(vr){return Jd(vr)}return new rn(function(vr){return r(G,Fe).then(function(Yi){return O.setContext({response:Yi}),Yi}).then(k0(O)).then(function(Yi){return vr.next(Yi),vr.complete(),Yi}).catch(function(Yi){Yi.name!=="AbortError"&&(Yi.result&&Yi.result.errors&&Yi.result.data&&vr.next(Yi.result),vr.error(Yi))}),function(){it&&it.abort()}})})};function N0(i,e){var t=[],r=function(oe,X){t.push(oe+"="+encodeURIComponent(X))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var n=void 0;try{n=gd(e.variables,"Variables map")}catch(oe){return{parseError:oe}}r("variables",n)}if(e.extensions){var a=void 0;try{a=gd(e.extensions,"Extensions map")}catch(oe){return{parseError:oe}}r("extensions",a)}var m="",k=i,O=i.indexOf("#");O!==-1&&(m=i.substr(O),k=i.substr(0,O));var G=k.indexOf("?")===-1?"?":"&",Z=k+G+t.join("&")+m;return{newURI:Z}}var Aw=function(i){er(e,i);function e(t){return i.call(this,mh(t).request)||this}return e}(In),T0=Object.defineProperty,bd=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?T0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const Fa=class{constructor(i,e){this.telemetry=i,this.errorOnFlood=e,bd(this,"bulkhead",cf(140)),bd(this,"hasLoggedLowRateLimit",!1)}logAndLimit(i,e){if(this.bulkhead.executionSlots===0)if(h.error("API call count has exceeded 140 concurrent calls.",Fa.ID),this.telemetry.sendTelemetryErrorEvent("pr.highApiCallRate"),this.errorOnFlood){s.window.showErrorMessage(s.l10n.t('The GitHub Pull Requests extension is making too many requests to GitHub. This indicates a bug in the extension. Please file an issue on GitHub and include the output from "GitHub Pull Request".'));return}else return e();const t=`Extension rate limit remaining: ${this.bulkhead.executionSlots}, ${i}`;return this.bulkhead.executionSlots<5?h.appendLine(t,Fa.ID):h.debug(t,Fa.ID),this.bulkhead.execute(()=>e())}async logRateLimit(i,e,t=!1){var r,n,a;let m;try{const G=await e;m=(r=G==null?void 0:G.data)==null?void 0:r.rateLimit}catch(G){return}const k=i==null?void 0:i.startsWith("/search/");((n=m==null?void 0:m.limit)!=null?n:5e3)<5e3&&(k?m.limit<30&&h.appendLine(`Unexpectedly low SEARCH rate limit: ${m==null?void 0:m.limit}`,Fa.ID):h.appendLine(`Unexpectedly low rate limit: ${m==null?void 0:m.limit}`,Fa.ID));const O=`${t?"REST":"GraphQL"} Rate limit remaining: ${m==null?void 0:m.remaining}, ${i}`;((a=m==null?void 0:m.remaining)!=null?a:1e3)<1e3&&!k?(this.hasLoggedLowRateLimit||(this.telemetry.sendTelemetryErrorEvent("pr.lowRateLimitRemaining"),this.hasLoggedLowRateLimit=!0),h.warn(O,Fa.ID)):h.debug(O,Fa.ID)}async logRestRateLimit(i,e){let t;try{t=await e}catch(n){return}const r={cost:-1,limit:Number(t.headers["x-ratelimit-limit"]),remaining:Number(t.headers["x-ratelimit-remaining"]),resetAt:""};this.logRateLimit(i,Promise.resolve({data:{rateLimit:r}}),!0)}};let ph=Fa;bd(ph,"ID","RateLimit");class M0{constructor(e,t){this._graphql=e,this._rateLogger=t}query(e){var t;const r=(t=e.query.definitions[0].name)==null?void 0:t.value,n=this._rateLogger.logAndLimit(r,()=>this._graphql.query(e));if(n===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(r,n),n}mutate(e){const t=e.context,r=this._rateLogger.logAndLimit(t,()=>this._graphql.mutate(e));if(r===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(t,r),r}}class P0{constructor(e,t){this.api=e,this._rateLogger=t}async call(e,t){var r,n;const a=(n=(r=e.endpoint)==null?void 0:r.DEFAULTS)==null?void 0:n.url,m=this._rateLogger.logAndLimit(a,()=>e(t));if(m===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRestRateLimit(a,m),m}}var x0=Object.defineProperty,dn=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?x0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const vh=s.l10n.t("Try again?"),D0=s.l10n.t("Cancel"),gh=s.l10n.t("Sign In"),A0=s.l10n.t("Don't Show Again"),bh=s.l10n.t("prompt for sign in"),yh="login",I0=["read:user","user:email","repo"],Oa=["read:user","user:email","repo","workflow"],La=["read:user","user:email","repo","workflow","project","read:org"],wh="githubPullRequest.lastUsedScopes",_h="githubPullRequest.lastUsedScopesEnterprise";class F0{constructor(e,t){this._telemetry=e,this.context=t,dn(this,"_githubAPI"),dn(this,"_sessionId"),dn(this,"_githubEnterpriseAPI"),dn(this,"_enterpriseSessionId"),dn(this,"_disposables"),dn(this,"_isInitialized",!1),dn(this,"_onDidInitialize",new s.EventEmitter),dn(this,"onDidInitialize",this._onDidInitialize.event),dn(this,"_scopes",Oa),dn(this,"_scopesEnterprise",Oa),dn(this,"_onDidGetSession",new s.EventEmitter),dn(this,"onDidGetSession",this._onDidGetSession.event),dn(this,"_onDidUpgradeSession",new s.EventEmitter),dn(this,"onDidUpgradeSession",this._onDidUpgradeSession.event),this.setScopesFromState(),this._disposables=[],this._disposables.push(s.authentication.onDidChangeSessions(async()=>{const r=[];this.isAuthenticated(ki.github)||r.push(this.initialize(ki.github)),!this.isAuthenticated(ki.githubEnterprise)&&Da()&&r.push(this.initialize(ki.githubEnterprise)),await Promise.all(r),this.isAnyAuthenticated()&&this._onDidGetSession.fire()}))}allScopesIncluded(e,t){return t.every(r=>e.includes(r))}setScopesFromState(){this._scopes=this.context.globalState.get(wh,Oa),this._scopesEnterprise=this.context.globalState.get(_h,Oa)}async saveScopesInState(){await this.context.globalState.update(wh,this._scopes),await this.context.globalState.update(_h,this._scopesEnterprise)}async initialize(e,t={},r=ln(e)?this._scopesEnterprise:this._scopes,n){if(h.debug(`Initializing GitHub${Ol(e)} authentication provider.`,"Authentication"),ln(e)&&!Da())return h.debug("GitHub Enterprise provider selected without URI.","Authentication"),{canceled:!1};t.createIfNone===void 0&&t.forceNewSession===void 0&&(t.createIfNone=!1);let a,m=!1,k=Oa;const O=this._scopes,G=this._scopesEnterprise,Z={canceled:!1};try{ln(e)?this._scopesEnterprise=r:this._scopes=r;const oe=await this.getSession(e,t,r,!!n);k=oe.scopes,a=oe.session,m=oe.isNew}catch(oe){this._scopes=O,this._scopesEnterprise=G;const X=oe.message==="User did not consent to login.";if(X&&(Z.canceled=!0),!(t.forceNewSession&&X))throw oe}if(a){ln(e)?this._enterpriseSessionId=a.id:this._sessionId=a.id;let oe;try{oe=await this.createHub(a.accessToken,e)}catch(X){if(X.message==="Bad credentials"&&!t.forceNewSession)return t.forceNewSession=!0,t.silent=!1,this.initialize(e,t,r,n)}return ln(e)?(this._githubEnterpriseAPI=oe,this._scopesEnterprise=k):(this._githubAPI=oe,this._scopes=k),await this.saveScopesInState(),(!this._isInitialized||m)&&(this._isInitialized=!0,this._onDidInitialize.fire()),m&&this._telemetry.sendTelemetryEvent("auth.session"),Z}else return h.debug(`No GitHub${Ol(e)} token found.`,"Authentication"),Z}async doCreate(e,t=!1){const r=await this.initialize(ki.github,e,t?La:void 0,t);let n;return Da()&&(n=await this.initialize(ki.githubEnterprise,e,t?La:void 0,t)),{canceled:r.canceled||!!(n&&n.canceled)}}async create(e={},t=!1){return this.doCreate(e,t)}async recreate(e){return this.doCreate({forceNewSession:e?{detail:e}:!0})}async reset(){return this._githubAPI=void 0,this._githubEnterpriseAPI=void 0,this.create()}isAnyAuthenticated(){return this.isAuthenticated(ki.github)||this.isAuthenticated(ki.githubEnterprise)}isAuthenticated(e){return ln(e)?!!this._githubEnterpriseAPI:!!this._githubAPI}isAuthenticatedWithAdditionalScopes(e){return ln(e)?!!this._githubEnterpriseAPI&&this.allScopesIncluded(this._scopesEnterprise,La):!!this._githubAPI&&this.allScopesIncluded(this._scopes,La)}getHub(e){return ln(e)?this._githubEnterpriseAPI:this._githubAPI}areScopesOld(e){return ln(e)?!this.allScopesIncluded(this._scopesEnterprise,La):!this.allScopesIncluded(this._scopes,La)}async getHubEnsureAdditionalScopes(e){const t=this.isAuthenticatedWithAdditionalScopes(e);return await this.initialize(e,{createIfNone:!t},La,!0),t||this._onDidUpgradeSession.fire(),this.getHub(e)}async getHubOrLogin(e){var t,r;return ln(e)?(r=this._githubEnterpriseAPI)!=null?r:await this.login(e):(t=this._githubAPI)!=null?t:await this.login(e)}async showSignInNotification(e){if(Mf(bh,yh)===!1)return;if(await s.window.showInformationMessage(s.l10n.t("In order to use the Pull Requests functionality, you must sign in to GitHub{0}",Ol(e)),gh,A0)===gh)return await this.login(e);Pf(bh,yh,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async login(e){this._telemetry.sendTelemetryEvent("auth.start");const t=s.l10n.t("Error signing in to GitHub{0}",Ol(e));let r=!0,n;const a={createIfNone:!0};let m=!1;for(;r;){try{await this.initialize(e,a)}catch(k){h.error(`${t}: ${k}`),k instanceof Error&&k.stack&&h.error(k.stack),k.message==="Cancelled"&&(m=!0)}n=this.getHub(e),n||m?r=!1:(r=await s.window.showErrorMessage(t,vh,D0)===vh,r&&(a.forceNewSession=!0,a.createIfNone=void 0))}return n?this._telemetry.sendTelemetryEvent("auth.success"):this._telemetry.sendTelemetryEvent("auth.fail"),n}async showSamlMessageAndAuth(e){return this.recreate(s.l10n.t("GitHub Pull Requests and Issues requires that you provide SAML access to your organization ({0}) when you sign in.",e.join(", ")))}async isCurrentUser(e){var t,r,n,a;return((r=await((t=this._githubAPI)==null?void 0:t.currentUser))==null?void 0:r.login)===e||((a=await((n=this._githubEnterpriseAPI)==null?void 0:n.currentUser))==null?void 0:a.login)==e}getCurrentUser(e){const t=this.getHub(e);return(t==null?void 0:t.octokit)&&(t==null?void 0:t.currentUser)}setCurrentUser(e){e.currentUser=new Promise(t=>{e.octokit.call(e.octokit.api.users.getAuthenticated,{}).then(r=>{t(Ss(r.data))})})}async getSession(e,t,r,n){const a=t.forceNewSession||n?void 0:await this.findExistingScopes(e);if(a==null?void 0:a.session)return{session:a.session,isNew:!1,scopes:a.scopes};const m=await s.authentication.getSession(e,n?r:Oa,t);return{session:m,isNew:!!m,scopes:n?r:Oa}}async findExistingScopes(e){const t=[La,Oa,I0];for(const r of t){const n=await s.authentication.getSession(e,r,{silent:!0});if(n)return{session:n,scopes:r}}}async createHub(e,t){let r="https://api.github.com",n;ln(t)&&(n=Es()),n&&n.authority.endsWith("ghe.com")?r=`${n.scheme}://api.${n.authority}`:n&&(r=`${n.scheme}://${n.authority}/api/v3`);let a;s.env.uiKind===s.UIKind.Web&&(a=(Z,oe)=>{if(oe.headers!==void 0){const{"user-agent":X,...de}=oe.headers;X&&(oe.headers=de)}return Wr()(Z,oe)});const m=new Fg({request:{agent:ff,fetch:a},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview","merge-info-preview"],auth:`${e||""}`,baseUrl:r});n&&(r=`${n.scheme}://${n.authority}/api`);const k=new Wm({link:O0(r,e||""),cache:new p0,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),O=new ph(this._telemetry,ln(t)),G={octokit:new P0(m,O),graphql:new M0(k,O)};return this.setCurrentUser(G),G}dispose(){this._disposables.forEach(e=>e.dispose())}}const O0=(i,e)=>v0((t,{headers:r})=>({headers:{...r,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.merge-info-preview"}})).concat(mh({uri:`${i}/graphql`,fetch:Wr()}));function Ol(i){return ln(i)?" Enterprise":""}var L0=Object.defineProperty,ya=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?L0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class kh{constructor(e,t,r){this._folderManagers=e,this._credentialStore=t,this._telemetry=r,ya(this,"_subs"),ya(this,"_onDidChangeState",new s.EventEmitter),ya(this,"onDidChangeState",this._onDidChangeState.event),ya(this,"_onDidChangeFolderRepositories",new s.EventEmitter),ya(this,"onDidChangeFolderRepositories",this._onDidChangeFolderRepositories.event),ya(this,"_onDidLoadAnyRepositories",new s.EventEmitter),ya(this,"onDidLoadAnyRepositories",this._onDidLoadAnyRepositories.event),ya(this,"_state",un.Initializing),this._subs=new Map,s.commands.executeCommand("setContext",bf,this._state),this.updateActiveReviewCount();for(const n of this._folderManagers)this.registerFolderListeners(n)}updateActiveReviewCount(){let e=0;for(const t of this._folderManagers)t.activePullRequest&&e++;Lr.setContext(sn.ACTIVE_PR_COUNT,e)}get folderManagers(){return this._folderManagers}registerFolderListeners(e){const t=[e.onDidLoadRepositories(r=>{this.state=r,this._onDidLoadAnyRepositories.fire()}),e.onDidChangeActivePullRequest(()=>this.updateActiveReviewCount()),e.onDidDispose(()=>this.removeRepo(e.repository))];this._subs.set(e,t)}insertFolderManager(e){this.registerFolderListeners(e);const t=s.workspace.workspaceFolders;if(t){const r=t.findIndex(n=>n.uri.toString()===e.repository.rootUri.toString());if(r>-1){const n=this._folderManagers.slice(r,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,r),this._folderManagers.push(e),this._folderManagers.push(...n),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire();return}}this._folderManagers.push(e),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire()}removeRepo(e){const t=this._folderManagers.findIndex(r=>r.repository.rootUri.toString()===e.rootUri.toString());if(t>-1){const r=this._folderManagers[t];K(this._subs.get(r)),this._subs.delete(r),this._folderManagers.splice(t),r.dispose(),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire()}}getManagerForIssueModel(e){if(e===void 0)return;const t=`${e.remote.owner.toLowerCase()}/${e.remote.repositoryName.toLowerCase()}`;for(const r of this._folderManagers)if(r.gitHubRepositories.map(n=>`${n.remote.owner.toLowerCase()}/${n.remote.repositoryName.toLowerCase()}`).includes(t))return r}getManagerForFile(e){if(e.scheme==="untitled")return this._folderManagers[0];const t=this._folderManagers.slice().sort((r,n)=>n.repository.rootUri.path.length-r.repository.rootUri.path.length);for(const r of t){const n=r.repository.rootUri.path,a=e.path.substring(n.length>1?n.length+1:n.length);if(fe(s.Uri.joinPath(r.repository.rootUri,a).path,e.path)===0)return r}}get state(){return this._state}set state(e){const t=e!==this._state;this._state=e,t&&(s.commands.executeCommand("setContext",bf,e),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.state=un.Initializing}async authenticate(e){var t,r;if(e===!1)return!!this._credentialStore.login(ki.github);const{dotComRemotes:n,enterpriseRemotes:a,unknownRemotes:m}=await Hc(this.folderManagers),k=s.l10n.t("Yes");if(e){const oe=(r=(t=Es())==null?void 0:t.toString())!=null?r:a.length?a[0].normalizedHost:m.length?m[0].normalizedHost:void 0;if(a.length===0&&m.length===0&&h.appendLine(`Enterprise login selected, but no possible enterprise remotes discovered (${n.length} .com)`),oe)if(await s.window.showInformationMessage(s.l10n.t("Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",oe),{modal:!0},k,s.l10n.t("No, manually set {0}","github-enterprise.uri"))===k)await Cu(oe);else return!1;else{const X=await s.window.showInputBox({placeHolder:s.l10n.t("Set a GitHub Enterprise server URL"),ignoreFocusOut:!0});if(X)await Cu(X);else return!1}}else if(!Da()&&n.length===0&&a.length>0){const oe=await s.window.showInformationMessage(s.l10n.t("It looks like you might be using GitHub Enterprise. Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",a[0].normalizedHost),{modal:!0},k,s.l10n.t("No, use GitHub.com"));if(oe===k)await Cu(a[0].normalizedHost);else if(oe===void 0)return!1}let O;const G=a.length>0||m.length>0;(Da()||n.length===0)&&G&&(O=await this._credentialStore.login(ki.githubEnterprise));let Z;return!O&&(!Da()||a.length===0)&&(Z=await this._credentialStore.login(ki.github)),!!Z||!!O}dispose(){this._subs.forEach(e=>K(e))}}ya(kh,"ID","RepositoriesManager");function Iw(i){switch(i){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var U0=Object.defineProperty,ia=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?U0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class yd{constructor(e){ia(this,"_onDidOpenRepository",new s.EventEmitter),ia(this,"onDidOpenRepository",this._onDidOpenRepository.event),ia(this,"_onDidCloseRepository",new s.EventEmitter),ia(this,"onDidCloseRepository",this._onDidCloseRepository.event),ia(this,"_onDidChangeState",new s.EventEmitter),ia(this,"onDidChangeState",this._onDidChangeState.event),ia(this,"_onDidPublish",new s.EventEmitter),ia(this,"onDidPublish",this._onDidPublish.event),ia(this,"_gitAPI"),ia(this,"_disposables");const t=e.exports;try{this._gitAPI=t.getAPI(1)}catch(r){throw Lr.setContext("gitNotInstalled",!0),r}this._disposables=[],this._disposables.push(this._gitAPI.onDidCloseRepository(r=>this._onDidCloseRepository.fire(r))),this._disposables.push(this._gitAPI.onDidOpenRepository(r=>this._onDidOpenRepository.fire(r))),this._disposables.push(this._gitAPI.onDidChangeState(r=>this._onDidChangeState.fire(r))),this._disposables.push(this._gitAPI.onDidPublish(r=>this._onDidPublish.fire(r)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}static async createProvider(){const e=s.extensions.getExtension("vscode.git");if(e)return await e.activate(),new yd(e)}registerPostCommitCommandsProvider(e){return this._gitAPI.registerPostCommitCommandsProvider?this._gitAPI.registerPostCommitCommandsProvider(e):{dispose:()=>{}}}dispose(){this._disposables.forEach(e=>e.dispose())}}var B0=Object.defineProperty,Br=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?B0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class q0{constructor(e){this._liveShareAPI=e,Br(this,"_onDidOpenRepository",new s.EventEmitter),Br(this,"onDidOpenRepository",this._onDidOpenRepository.event),Br(this,"_onDidCloseRepository",new s.EventEmitter),Br(this,"onDidCloseRepository",this._onDidCloseRepository.event),Br(this,"_openRepositories",[]),Br(this,"_sharedServiceProxy"),Br(this,"_disposables"),this._disposables=[]}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(Kc)||void 0,!!this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._disposables.push(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._disposables.push(s.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(t)}),e.removed.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(t)})}async _refreshWorkspaces(e){s.workspace.workspaceFolders&&s.workspace.workspaceFolders.forEach(async t=>{t.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(t):await this.closeVSLSRepository(t))})}async openVSLSRepository(e){if(this.getRepository(e))return;const r=new G0(e,this._sharedServiceProxy),n=new H0,a=new Proxy(r,n);await a.initialize(),this.openRepository(a)}async closeVSLSRepository(e){const t=this.getRepository(e);!t||this.closeRepository(t)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(t=>t!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(t=>t.workspaceFolder===e)[0]}dispose(){this._sharedServiceProxy=void 0,this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}class H0{constructor(){}get(e,t){return t in e?e[t]:function(...r){return e.proxy.request(Du,[t,e.workspaceFolder.uri.toString(),...r])}}}class V0{constructor(e){Br(this,"HEAD"),Br(this,"remotes"),Br(this,"submodules",[]),Br(this,"rebaseCommit"),Br(this,"mergeChanges",[]),Br(this,"indexChanges",[]),Br(this,"workingTreeChanges",[]),Br(this,"_onDidChange",new s.EventEmitter),Br(this,"onDidChange",this._onDidChange.event),this.HEAD=e.HEAD,this.remotes=e.remotes}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this._onDidChange.fire()}}class G0{constructor(e,t){this.workspaceFolder=e,this.proxy=t,Br(this,"rootUri"),Br(this,"state")}async initialize(){const e=await this.proxy.request(Du,[Qc,this.workspaceFolder.uri.toString()]);this.state=new V0(e),this.rootUri=s.Uri.parse(e.rootUri),this.proxy.onNotify(Yc,this._notifyHandler.bind(this))}_notifyHandler(e){var t;(t=this.state)==null||t.update(e)}}var $0=Object.defineProperty,Sh=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?$0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class j0{constructor(e,t){this._liveShareAPI=e,this._api=t,Sh(this,"_sharedService"),Sh(this,"_disposables"),this._disposables=[]}async initialize(){this._sharedService=await this._liveShareAPI.shareService(Kc)||void 0,this._sharedService&&this._sharedService.onRequest(Du,this._gitHandler.bind(this))}async _gitHandler(e){const t=e[0],r=e[1],n=s.Uri.parse(r),a=this._liveShareAPI.convertSharedUriToLocal(n),m=this._api.getGitProvider(a);if(!m)return;const k=m.repositories.filter(O=>O.rootUri.toString()===a.toString())[0];if(k){const O=e.slice(2);if(t===Qc)return this._disposables.push(k.state.onDidChange(G=>{this._sharedService.notify(Yc,{HEAD:k.state.HEAD,remotes:k.state.remotes,refs:k.state.refs})})),{HEAD:k.state.HEAD,remotes:k.state.remotes,refs:k.state.refs,rootUri:n.toString()};if(t==="show"){const G=O[1],Z=n.with({path:G}),oe=this._liveShareAPI.convertSharedUriToLocal(Z);return O[1]=oe.fsPath,k[t](...O)}if(k[t])return k[t](...O)}else return null}dispose(){this._disposables.forEach(e=>e.dispose()),this._sharedService=void 0,this._disposables=[]}}var z0=Object.defineProperty,Ao=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?z0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);async function W0(){const i=s.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!i)return null;const e=i.isActive?i.exports:await i.activate();if(!e)return null;const t="0.3.967";return e.getApi?e.getApi(t):e.getApiAsync(t)}class K0{constructor(e){this._api=e,Ao(this,"_liveShareAPI"),Ao(this,"_host"),Ao(this,"_guest"),Ao(this,"_localDisposables"),Ao(this,"_globalDisposables"),this._localDisposables=[],this._globalDisposables=[]}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await W0()),!!this._liveShareAPI)return this._globalDisposables.push(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(this._localDisposables.forEach(t=>t.dispose()),e.role===1){this._host=new j0(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new q0(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}dispose(){this._liveShareAPI=void 0,this._localDisposables.forEach(e=>e.dispose()),this._globalDisposables.forEach(e=>e.dispose())}}function Q0(i){return new K0(i)}async function Y0(i,e){const t=await yd.createProvider();if(t)return e.registerGitProvider(t),t}var J0=Object.defineProperty,Rh=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?J0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Z0{constructor(e){this.pullRequestManager=e,Rh(this,"onNotifiedEmitter",new s.EventEmitter),Rh(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(t=>{t.onDidChangeAssignableUsers(r=>{this.notifySuggestedAccounts(r)})})}async requestAsync(e,t,r){let n=null;switch(e){case"initialize":n={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const a=new Map;for(const m of this.pullRequestManager.folderManagers){const k=m.getAllAssignableUsers();if(!!k)for(const O of k)a.has(O.login)||a.set(O.login,O)}a.size>0&&this.notifySuggestedAccounts(Array.from(a.values()));break;default:throw new Error(`type:${e} not supported`)}return n}async notifySuggestedAccounts(e){let t;try{t=await this.getCurrentUserLogin()}catch(r){}t&&e.findIndex(r=>r.login===t)!==-1&&this.notifySuggestedUsers(e.filter(r=>r.email).map(r=>({id:r.login,displayName:r.name?r.name:r.login,email:r.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const t=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(t){const r=t.hub.currentUser?await t.hub.currentUser:void 0;if(r)return r.login}}notify(e,t){this.onNotifiedEmitter.fire({type:e,body:t})}notifySuggestedUsers(e,t){this.notify("suggestedUsers",{contacts:e,exclusive:t})}}var X0=Object.defineProperty,Eh=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?X0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class eb{constructor(){Eh(this,"_extensionsDisposable"),Eh(this,"_subscriptions",[]),this._extensionsDisposable=s.extensions.onDidChange(this.onExtensionsChanged,this),this.onExtensionsChanged()}dispose(){this._extensionsDisposable.dispose(),s.Disposable.from(...this._subscriptions).dispose()}register(e){!e||this._subscriptions.push(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(t){t.branch.isRemote||s.commands.executeCommand("pr.create",{repoPath:t.repoPath,compareBranch:t.branch.name})}}))}async onExtensionsChanged(){var e;const t=(e=s.extensions.getExtension("eamodio.gitlens"))!=null?e:s.extensions.getExtension("eamodio.gitlens-insiders");if(t)if(this._extensionsDisposable.dispose(),t.isActive)this.register(await t.exports);else{let r=0;const n=setInterval(async()=>{t.isActive?(clearInterval(n),this.register(await t.exports)):(r++,r>60&&clearInterval(n))},1e3)}}}var tb=Object.defineProperty,rs=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?tb(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Ch{constructor(e,t,r,n,a){this.issueModel=e,this.manager=t,this.stateManager=r,this.shouldPromptForBranch=a,rs(this,"repoChangeDisposable"),rs(this,"_branchName"),rs(this,"user"),rs(this,"repo"),rs(this,"_repoDefaults"),rs(this,"_onDidChangeCurrentIssueState",new s.EventEmitter),rs(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(n!=null?n:this.issueModel.githubRepository.remote)}setRepo(e){var t;for(let r=0;r<this.stateManager.gitAPI.repositories.length;r++){const n=this.stateManager.gitAPI.repositories[r];for(let a=0;a<n.state.remotes.length;a++){const m=n.state.remotes[a];if(m.name===(e==null?void 0:e.remoteName)&&((t=m.fetchUrl)==null?void 0:t.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=n;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(e=!1){var t;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch(e)){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const r=(await this.manager.getCurrentUser(this.issueModel.githubRepository)).login;return s.workspace.getConfiguration(at).get(ei)&&!((t=this.issueModel.assignees)==null?void 0:t.find(n=>n.login===r))&&(this.manager.gitHubRepositories.find(n=>n.remote.owner===this.issueModel.remote.owner&&n.remote.repositoryName===this.issueModel.remote.repositoryName)&&await this.manager.assignIssue(this.issueModel,r),await this.stateManager.refresh()),!0}}catch(r){s.window.showErrorMessage(s.l10n.t("There is no remote. Can't start working on an issue."))}return!1}dispose(){var e;(e=this.repoChangeDisposable)==null||e.dispose()}async stopWorking(e){if(this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&e)try{await this.manager.repository.checkout(this._repoDefaults.base)}catch(t){throw t.gitErrorCode===W.DirtyWorkTree&&s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")),t}this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async getBranch(e){try{return await this.manager.repository.getBranch(e)}catch(t){}}async createOrCheckoutBranch(e){try{return await this.getBranch(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(t){return t.message!=="User aborted"&&s.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${t.error}`),!1}}async getUser(){return this.user||(this.user=await this.issueModel.githubRepository.getAuthenticatedUser()),this.user}async getBranchTitle(){var e;return(e=s.workspace.getConfiguration(at).get(gi))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const t=/[^ \\@\~\^\?\*\[]+/,r=e.match(t);if(r&&r.length>0&&r[0]!==e)return s.l10n.t("Branch name cannot contain a space or the following characters: \\@~^?*[")}showBranchNameError(e){const t="Edit Setting";s.window.showErrorMessage(e,t).then(r=>{r===t&&s.commands.executeCommand("workbench.action.openSettings",`${at}.${gi}`)})}async offerNewBranch(e,t,r){var n,a,m,k;const O=await this.manager.getMatchingPullRequestMetadataFromGitHub(e,(n=e.upstream)==null?void 0:n.remote,(a=e.upstream)==null?void 0:a.name);if(O&&O.model.state!==wi.Open){const G=s.l10n.t("The pull request for {0} has been merged. Do you want to create a new branch?",(m=e.name)!=null?m:"unknown branch"),Z=s.l10n.t("The pull request for {0} has been closed. Do you want to create a new branch?",(k=e.name)!=null?k:"unknown branch"),oe=s.l10n.t("Create New Branch");if(await s.window.showInformationMessage(O.model.state===wi.Merged?G:Z,{modal:!0},oe)===oe){const de=(r==null?void 0:r.length)===4?Number(r[3])+1:1;return`${t}_${de}`}}return t}async createIssueBranch(e){var t;const r=this.shouldPromptForBranch?"prompt":s.workspace.getConfiguration(at).get(Li);if(r==="off")return!0;const n=this.stateManager.getSavedIssueState(this.issueModel.number);this._branchName=this.shouldPromptForBranch?void 0:n.branch;const a=await Cs(await this.getBranchTitle(),this.issue,void 0,await this.getUser()),m=(t=this._branchName)==null?void 0:t.match(new RegExp("^("+a+")(_)?(\\d*)"));if(r==="on"){const O=await this.getBranch(this._branchName);O?e||(this._branchName=await this.offerNewBranch(O,a,m)):m||(this._branchName=a)}if(this._branchName||(this._branchName=await s.window.showInputBox({value:a,prompt:s.l10n.t("Enter the label for the new branch.")})),!this._branchName)return!1;const k=this.validateBranchName(this._branchName);return k?(this.showBranchNameError(k),!1):(n.branch=this._branchName,await this.stateManager.setSavedIssueState(this.issueModel,n),await this.createOrCheckoutBranch(this._branchName)?!0:(this._branchName=void 0,!1))}async getCommitMessage(){const e=s.workspace.getConfiguration(at).get(Ii);if(typeof e=="string")return Cs(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}var ib=Object.defineProperty,Io=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?ib(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const Rn="newIssue",rb="NewIssue.md",Hs=s.l10n.t("Assignees:"),Vs=s.l10n.t("Labels:"),Fo=s.l10n.t("Milestone:"),wd="newIssue.cache";function Ll(i){const e=JSON.parse(i.query);if(e.origin)return s.Uri.parse(e.origin)}class nb{constructor(e){this.cache=e,Io(this,"content"),Io(this,"createTime",0),Io(this,"modifiedTime",0),Io(this,"_onDidChangeFile",new s.EventEmitter),Io(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){const r=this.onDidChangeFile(n=>{n.length===0&&n[0].type===s.FileChangeType.Deleted&&r.dispose()});return r}stat(e){var t,r;return{type:s.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(r=(t=this.content)==null?void 0:t.length)!=null?r:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var t;return(t=this.content)!=null?t:new Uint8Array(0)}writeFile(e,t,r={create:!1,overwrite:!1}){const n=this.content;this.content=t,n===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Changed}])),this.cache.cache(t)}delete(e,t){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Deleted}])}rename(e,t,r){}}class ab{constructor(e){this.manager=e}async provideCompletionItems(e,t,r,n){const a=e.lineAt(t.line).text;if(!a.startsWith(Vs)&&!a.startsWith(Fo))return[];const m=Ll(e.uri);if(!m)return[];const k=this.manager.getManagerForFile(m);if(!k)return[];const O=await k.getPullRequestDefaults();return a.startsWith(Vs)?this.provideLabelCompletionItems(k,O):a.startsWith(Fo)?this.provideMilestoneCompletionItems(k):[]}async provideLabelCompletionItems(e,t){return(await e.getLabels(void 0,t)).map(n=>{const a=new s.CompletionItem(n.name,s.CompletionItemKind.Color);return a.documentation=`#${n.color}`,a.commitCharacters=[" ",","],a})}async provideMilestoneCompletionItems(e){var t,r;return((r=await((t=await e.getPullRequestDefaultRepo())==null?void 0:t.getMilestones()))!=null?r:[]).map(a=>{const m=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return m.commitCharacters=[" ",","],m})}}class sb{constructor(e){this.context=e,this.clear()}cache(e){this.context.workspaceState.update(wd,e)}clear(){this.context.workspaceState.update(wd,void 0)}get(){const e=this.context.workspaceState.get(wd);if(e)return new TextDecoder().decode(e)}}async function ob(i){var e;let t;if(!s.window.activeTextEditor||s.window.activeTextEditor.document.uri.scheme!==Rn)return;const r=Ll(s.window.activeTextEditor.document.uri);if(!r)return;const n=i.getManagerForFile(r);if(!n)return;const a=await n.getPullRequestDefaultRepo();t=s.window.activeTextEditor.document.getText();const m=t.indexOf(`\r
\r
`),k=t.indexOf(`

`);let O;if(m<0&&k<0)return;m<0?O=k:k<0?O=m:O=Math.min(m,k);const G=t.substring(0,O);if(!G)return;let Z;if(t=t.substring(O+2).trim(),t.startsWith(Hs)){const ke=t.split(/\r\n|\n/,1);ke.length===1&&(Z=ke[0].substring(Hs.length).split(",").map(Ne=>(Ne=Ne.trim(),Ne.startsWith("@")&&(Ne=Ne.substring(1)),Ne)),t=t.substring(ke[0].length).trim())}let oe;if(t.startsWith(Vs)){const ke=t.split(/\r\n|\n/,1);ke.length===1&&(oe=ke[0].substring(Vs.length).split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne),t=t.substring(ke[0].length).trim())}let X;if(t.startsWith(Fo)){const ke=t.split(/\r\n|\n/,1);if(ke.length===1){const Ne=ke[0].substring(Fo.length).trim();if(Ne){const Ie=await a.getMilestones();X=(e=Ie==null?void 0:Ie.find(De=>De.title===Ne))==null?void 0:e.number}t=t.substring(ke[0].length).trim()}}const de=t!=null?t:"";return{labels:oe,milestone:X,assignees:Z,title:G,body:de,originUri:r}}var lb=Yt(61336),ub=Yt(39593),db=Yt.n(ub);function Nh(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Gs=Nh();function cb(i){Gs=i}const fb=/[&<>"']/,hb=/[&<>"']/g,mb=/[<>"']|&(?!#?\w+;)/,pb=/[<>"']|&(?!#?\w+;)/g,vb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Th=i=>vb[i];function qr(i,e){if(e){if(fb.test(i))return i.replace(hb,Th)}else if(mb.test(i))return i.replace(pb,Th);return i}const gb=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Mh(i){return i.replace(gb,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const bb=/(^|[^\[])\^/g;function Qi(i,e){i=i.source||i,e=e||"";const t={replace:(r,n)=>(n=n.source||n,n=n.replace(bb,"$1"),i=i.replace(r,n),t),getRegex:()=>new RegExp(i,e)};return t}const yb=/[^\w:]/g,wb=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ph(i,e,t){if(i){let r;try{r=decodeURIComponent(Mh(t)).replace(yb,"").toLowerCase()}catch(n){return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!wb.test(t)&&(t=Rb(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch(r){return null}return t}const Ul={},_b=/^[^:]+:\/*[^/]*$/,kb=/^([^:]+:)[\s\S]*$/,Sb=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Rb(i,e){Ul[" "+i]||(_b.test(i)?Ul[" "+i]=i+"/":Ul[" "+i]=ql(i,"/",!0)),i=Ul[" "+i];const t=i.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:i.replace(kb,"$1")+e:e.charAt(0)==="/"?t?e:i.replace(Sb,"$1")+e:i+e}const Bl={exec:function(){}};function Un(i){let e=1,t,r;for(;e<arguments.length;e++){t=arguments[e];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i}function xh(i,e){const t=i.replace(/\|/g,(a,m,k)=>{let O=!1,G=m;for(;--G>=0&&k[G]==="\\";)O=!O;return O?"|":" |"}),r=t.split(/ \|/);let n=0;if(r[0].trim()||r.shift(),r[r.length-1].trim()||r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(/\\\|/g,"|");return r}function ql(i,e,t){const r=i.length;if(r===0)return"";let n=0;for(;n<r;){const a=i.charAt(r-n-1);if(a===e&&!t)n++;else if(a!==e&&t)n++;else break}return i.substr(0,r-n)}function Eb(i,e){if(i.indexOf(e[1])===-1)return-1;const t=i.length;let r=0,n=0;for(;n<t;n++)if(i[n]==="\\")n++;else if(i[n]===e[0])r++;else if(i[n]===e[1]&&(r--,r<0))return n;return-1}function Dh(i){i&&i.sanitize&&!i.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Ah(i,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=i),e>>=1,i+=i;return t+i}function Ih(i,e,t,r){const n=e.href,a=e.title?qr(e.title):null,m=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){r.state.inLink=!0;const k={type:"link",raw:t,href:n,title:a,text:m,tokens:r.inlineTokens(m,[])};return r.state.inLink=!1,k}else return{type:"image",raw:t,href:n,title:a,text:qr(m)}}function Cb(i,e){const t=i.match(/^(\s+)(?:```)/);if(t===null)return e;const r=t[1];return e.split(`
`).map(n=>{const a=n.match(/^\s+/);if(a===null)return n;const[m]=a;return m.length>=r.length?n.slice(r.length):n}).join(`
`)}class _d{constructor(e){this.options=e||Gs}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ql(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],n=Cb(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const a=ql(r,"#");(this.options.pedantic||!a||/ $/.test(a))&&(r=a.trim())}const n={type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,n,a,m,k,O,G,Z,oe,X,de,ke,Ne=t[1].trim();const Ie=Ne.length>1,De={type:"list",raw:"",ordered:Ie,start:Ie?+Ne.slice(0,-1):"",loose:!1,items:[]};Ne=Ie?`\\d{1,9}\\${Ne.slice(-1)}`:`\\${Ne}`,this.options.pedantic&&(Ne=Ie?Ne:"[*+-]");const Fe=new RegExp(`^( {0,3}${Ne})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(ke=!1,!(!(t=Fe.exec(e))||this.rules.block.hr.test(e)));){if(r=t[0],e=e.substring(r.length),Z=t[2].split(`
`,1)[0],oe=e.split(`
`,1)[0],this.options.pedantic?(m=2,de=Z.trimLeft()):(m=t[2].search(/[^ ]/),m=m>4?1:m,de=Z.slice(m),m+=t[1].length),O=!1,!Z&&/^ *$/.test(oe)&&(r+=oe+`
`,e=e.substring(oe.length+1),ke=!0),!ke){const it=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(X=e.split(`
`,1)[0],Z=X,this.options.pedantic&&(Z=Z.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!it.test(Z));){if(Z.search(/[^ ]/)>=m||!Z.trim())de+=`
`+Z.slice(m);else if(!O)de+=`
`+Z;else break;!O&&!Z.trim()&&(O=!0),r+=X+`
`,e=e.substring(X.length+1)}}De.loose||(G?De.loose=!0:/\n *\n *$/.test(r)&&(G=!0)),this.options.gfm&&(n=/^\[[ xX]\] /.exec(de),n&&(a=n[0]!=="[ ] ",de=de.replace(/^\[[ xX]\] +/,""))),De.items.push({type:"list_item",raw:r,task:!!n,checked:a,loose:!1,text:de}),De.raw+=r}De.items[De.items.length-1].raw=r.trimRight(),De.items[De.items.length-1].text=de.trimRight(),De.raw=De.raw.trimRight();const Ze=De.items.length;for(k=0;k<Ze;k++){this.lexer.state.top=!1,De.items[k].tokens=this.lexer.blockTokens(De.items[k].text,[]);const it=De.items[k].tokens.filter(Pt=>Pt.type==="space"),ht=it.every(Pt=>{const At=Pt.raw.split("");let $t=0;for(const ri of At)if(ri===`
`&&($t+=1),$t>1)return!0;return!1});!De.loose&&it.length&&ht&&(De.loose=!0,De.items[k].loose=!0)}return De}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(t[0]):qr(t[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));const r=t[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:r,raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:xh(t[1]).map(n=>({text:n})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=t[0];let n=r.align.length,a,m,k,O;for(a=0;a<n;a++)/^ *-+: *$/.test(r.align[a])?r.align[a]="right":/^ *:-+: *$/.test(r.align[a])?r.align[a]="center":/^ *:-+ *$/.test(r.align[a])?r.align[a]="left":r.align[a]=null;for(n=r.rows.length,a=0;a<n;a++)r.rows[a]=xh(r.rows[a],r.header.length).map(G=>({text:G}));for(n=r.header.length,m=0;m<n;m++)r.header[m].tokens=[],this.lexer.inlineTokens(r.header[m].text,r.header[m].tokens);for(n=r.rows.length,m=0;m<n;m++)for(O=r.rows[m],k=0;k<O.length;k++)O[k].tokens=[],this.lexer.inlineTokens(O[k].text,O[k].tokens);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const r={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(e){const t=this.rules.block.text.exec(e);if(t){const r={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:qr(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):qr(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const m=ql(r.slice(0,-1),"\\");if((r.length-m.length)%2==0)return}else{const m=Eb(t[2],"()");if(m>-1){const O=(t[0].indexOf("!")===0?5:4)+t[1].length+m;t[2]=t[2].substring(0,m),t[0]=t[0].substring(0,O).trim(),t[3]=""}}let n=t[2],a="";if(this.options.pedantic){const m=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);m&&(n=m[1],a=m[3])}else a=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(this.options.pedantic&&!/>$/.test(r)?n=n.slice(1):n=n.slice(1,-1)),Ih(t,{href:n&&n.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let n=(r[2]||r[1]).replace(/\s+/g," ");if(n=t[n.toLowerCase()],!n||!n.href){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return Ih(r,n,r[0],this.lexer)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrong.lDelim.exec(e);if(!n||n[3]&&r.match(/[\p{L}\p{N}]/u))return;const a=n[1]||n[2]||"";if(!a||a&&(r===""||this.rules.inline.punctuation.exec(r))){const m=n[0].length-1;let k,O,G=m,Z=0;const oe=n[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(oe.lastIndex=0,t=t.slice(-1*e.length+m);(n=oe.exec(t))!=null;){if(k=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!k)continue;if(O=k.length,n[3]||n[4]){G+=O;continue}else if((n[5]||n[6])&&m%3&&!((m+O)%3)){Z+=O;continue}if(G-=O,G>0)continue;if(O=Math.min(O,O+G+Z),Math.min(m,O)%2){const de=e.slice(1,m+n.index+O);return{type:"em",raw:e.slice(0,m+n.index+O+1),text:de,tokens:this.lexer.inlineTokens(de,[])}}const X=e.slice(2,m+n.index+O-1);return{type:"strong",raw:e.slice(0,m+n.index+O+1),text:X,tokens:this.lexer.inlineTokens(X,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const n=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return n&&a&&(r=r.substring(1,r.length-1)),r=qr(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let n,a;return r[2]==="@"?(n=qr(this.options.mangle?t(r[1]):r[1]),a="mailto:"+n):(n=qr(r[1]),a=n),{type:"link",raw:r[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let n,a;if(r[2]==="@")n=qr(this.options.mangle?t(r[0]):r[0]),a="mailto:"+n;else{let m;do m=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(m!==r[0]);n=qr(r[0]),r[1]==="www."?a="http://"+n:a=n}return{type:"link",raw:r[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let n;return this.lexer.state.inRawBlock?n=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):qr(r[0]):r[0]:n=qr(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:n}}}}const ui={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Bl,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ui._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ui._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ui.def=Qi(ui.def).replace("label",ui._label).replace("title",ui._title).getRegex(),ui.bullet=/(?:[*+-]|\d{1,9}[.)])/,ui.listItemStart=Qi(/^( *)(bull) */).replace("bull",ui.bullet).getRegex(),ui.list=Qi(ui.list).replace(/bull/g,ui.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ui.def.source+")").getRegex(),ui._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ui._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ui.html=Qi(ui.html,"i").replace("comment",ui._comment).replace("tag",ui._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ui.paragraph=Qi(ui._paragraph).replace("hr",ui.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ui._tag).getRegex(),ui.blockquote=Qi(ui.blockquote).replace("paragraph",ui.paragraph).getRegex(),ui.normal=Un({},ui),ui.gfm=Un({},ui.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ui.gfm.table=Qi(ui.gfm.table).replace("hr",ui.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ui._tag).getRegex(),ui.gfm.paragraph=Qi(ui._paragraph).replace("hr",ui.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ui.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ui._tag).getRegex(),ui.pedantic=Un({},ui.normal,{html:Qi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ui._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bl,paragraph:Qi(ui.normal._paragraph).replace("hr",ui.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ui.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const jt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Bl,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Bl,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};jt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",jt.punctuation=Qi(jt.punctuation).replace(/punctuation/g,jt._punctuation).getRegex(),jt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,jt.escapedEmSt=/\\\*|\\_/g,jt._comment=Qi(ui._comment).replace("(?:-->|$)","-->").getRegex(),jt.emStrong.lDelim=Qi(jt.emStrong.lDelim).replace(/punct/g,jt._punctuation).getRegex(),jt.emStrong.rDelimAst=Qi(jt.emStrong.rDelimAst,"g").replace(/punct/g,jt._punctuation).getRegex(),jt.emStrong.rDelimUnd=Qi(jt.emStrong.rDelimUnd,"g").replace(/punct/g,jt._punctuation).getRegex(),jt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,jt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,jt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,jt.autolink=Qi(jt.autolink).replace("scheme",jt._scheme).replace("email",jt._email).getRegex(),jt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,jt.tag=Qi(jt.tag).replace("comment",jt._comment).replace("attribute",jt._attribute).getRegex(),jt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,jt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,jt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,jt.link=Qi(jt.link).replace("label",jt._label).replace("href",jt._href).replace("title",jt._title).getRegex(),jt.reflink=Qi(jt.reflink).replace("label",jt._label).replace("ref",ui._label).getRegex(),jt.nolink=Qi(jt.nolink).replace("ref",ui._label).getRegex(),jt.reflinkSearch=Qi(jt.reflinkSearch,"g").replace("reflink",jt.reflink).replace("nolink",jt.nolink).getRegex(),jt.normal=Un({},jt),jt.pedantic=Un({},jt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Qi(/^!?\[(label)\]\((.*?)\)/).replace("label",jt._label).getRegex(),reflink:Qi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",jt._label).getRegex()}),jt.gfm=Un({},jt.normal,{escape:Qi(jt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),jt.gfm.url=Qi(jt.gfm.url,"i").replace("email",jt.gfm._extended_email).getRegex(),jt.breaks=Un({},jt.gfm,{br:Qi(jt.br).replace("{2,}","*").getRegex(),text:Qi(jt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Nb(i){return i.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Fh(i){let e="",t,r;const n=i.length;for(t=0;t<n;t++)r=i.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}class wa{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Gs,this.options.tokenizer=this.options.tokenizer||new _d,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:ui.normal,inline:jt.normal};this.options.pedantic?(t.block=ui.pedantic,t.inline=jt.pedantic):this.options.gfm&&(t.block=ui.gfm,this.options.breaks?t.inline=jt.breaks:t.inline=jt.gfm),this.tokenizer.rules=t}static get rules(){return{block:ui,inline:jt}}static lex(e,t){return new wa(t).lex(e)}static lexInline(e,t){return new wa(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let r,n,a,m;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(k=>(r=k.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+r.raw,n.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+r.raw,n.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let k=Infinity;const O=e.slice(1);let G;this.options.extensions.startBlock.forEach(function(Z){G=Z.call({lexer:this},O),typeof G=="number"&&G>=0&&(k=Math.min(k,G))}),k<Infinity&&k>=0&&(a=e.substring(0,k+1))}if(this.state.top&&(r=this.tokenizer.paragraph(a))){n=t[t.length-1],m&&n.type==="paragraph"?(n.raw+=`
`+r.raw,n.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r),m=a.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&n.type==="text"?(n.raw+=`
`+r.raw,n.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r);continue}if(e){const k="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(k);break}else throw new Error(k)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let r,n,a,m=e,k,O,G;if(this.tokens.links){const Z=Object.keys(this.tokens.links);if(Z.length>0)for(;(k=this.tokenizer.rules.inline.reflinkSearch.exec(m))!=null;)Z.includes(k[0].slice(k[0].lastIndexOf("[")+1,-1))&&(m=m.slice(0,k.index)+"["+Ah("a",k[0].length-2)+"]"+m.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(k=this.tokenizer.rules.inline.blockSkip.exec(m))!=null;)m=m.slice(0,k.index)+"["+Ah("a",k[0].length-2)+"]"+m.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(k=this.tokenizer.rules.inline.escapedEmSt.exec(m))!=null;)m=m.slice(0,k.index)+"++"+m.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(O||(G=""),O=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Z=>(r=Z.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&r.type==="text"&&n.type==="text"?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),n=t[t.length-1],n&&r.type==="text"&&n.type==="text"?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,m,G)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,Fh)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Fh))){e=e.substring(r.raw.length),t.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let Z=Infinity;const oe=e.slice(1);let X;this.options.extensions.startInline.forEach(function(de){X=de.call({lexer:this},oe),typeof X=="number"&&X>=0&&(Z=Math.min(Z,X))}),Z<Infinity&&Z>=0&&(a=e.substring(0,Z+1))}if(r=this.tokenizer.inlineText(a,Nb)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(G=r.raw.slice(-1)),O=!0,n=t[t.length-1],n&&n.type==="text"?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(e){const Z="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(Z);break}else throw new Error(Z)}}return t}}class Hl{constructor(e){this.options=e||Gs}code(e,t,r){const n=(t||"").match(/\S*/)[0];if(this.options.highlight){const a=this.options.highlight(e,n);a!=null&&a!==e&&(r=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,n?'<pre><code class="'+this.options.langPrefix+qr(n,!0)+'">'+(r?e:qr(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:qr(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,t,r,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(r)+'">'+e+"</h"+t+`>
`:"<h"+t+">"+e+"</h"+t+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,r){const n=t?"ol":"ul",a=t&&r!==1?' start="'+r+'"':"";return"<"+n+a+`>
`+e+"</"+n+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?"<"+r+' align="'+t.align+'">':"<"+r+">")+e+"</"+r+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,r){if(e=Ph(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let n='<a href="'+qr(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+r+"</a>",n}image(e,t,r){if(e=Ph(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let n='<img src="'+e+'" alt="'+r+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">",n}text(e){return e}}class Oh{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class Lh{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,n=0;if(this.seen.hasOwnProperty(r)){n=this.seen[e];do n++,r=e+"-"+n;while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=n,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class _a{constructor(e){this.options=e||Gs,this.options.renderer=this.options.renderer||new Hl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Oh,this.slugger=new Lh}static parse(e,t){return new _a(t).parse(e)}static parseInline(e,t){return new _a(t).parseInline(e)}parse(e,t=!0){let r="",n,a,m,k,O,G,Z,oe,X,de,ke,Ne,Ie,De,Fe,Ze,it,ht,Pt;const At=e.length;for(n=0;n<At;n++){if(de=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[de.type]&&(Pt=this.options.extensions.renderers[de.type].call({parser:this},de),Pt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(de.type))){r+=Pt||"";continue}switch(de.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(de.tokens),de.depth,Mh(this.parseInline(de.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(de.text,de.lang,de.escaped);continue}case"table":{for(oe="",Z="",k=de.header.length,a=0;a<k;a++)Z+=this.renderer.tablecell(this.parseInline(de.header[a].tokens),{header:!0,align:de.align[a]});for(oe+=this.renderer.tablerow(Z),X="",k=de.rows.length,a=0;a<k;a++){for(G=de.rows[a],Z="",O=G.length,m=0;m<O;m++)Z+=this.renderer.tablecell(this.parseInline(G[m].tokens),{header:!1,align:de.align[m]});X+=this.renderer.tablerow(Z)}r+=this.renderer.table(oe,X);continue}case"blockquote":{X=this.parse(de.tokens),r+=this.renderer.blockquote(X);continue}case"list":{for(ke=de.ordered,Ne=de.start,Ie=de.loose,k=de.items.length,X="",a=0;a<k;a++)Fe=de.items[a],Ze=Fe.checked,it=Fe.task,De="",Fe.task&&(ht=this.renderer.checkbox(Ze),Ie?Fe.tokens.length>0&&Fe.tokens[0].type==="paragraph"?(Fe.tokens[0].text=ht+" "+Fe.tokens[0].text,Fe.tokens[0].tokens&&Fe.tokens[0].tokens.length>0&&Fe.tokens[0].tokens[0].type==="text"&&(Fe.tokens[0].tokens[0].text=ht+" "+Fe.tokens[0].tokens[0].text)):Fe.tokens.unshift({type:"text",text:ht}):De+=ht),De+=this.parse(Fe.tokens,Ie),X+=this.renderer.listitem(De,it,Ze);r+=this.renderer.list(X,ke,Ne);continue}case"html":{r+=this.renderer.html(de.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(de.tokens));continue}case"text":{for(X=de.tokens?this.parseInline(de.tokens):de.text;n+1<At&&e[n+1].type==="text";)de=e[++n],X+=`
`+(de.tokens?this.parseInline(de.tokens):de.text);r+=t?this.renderer.paragraph(X):X;continue}default:{const $t='Token with "'+de.type+'" type was not found.';if(this.options.silent){console.error($t);return}else throw new Error($t)}}}return r}parseInline(e,t){t=t||this.renderer;let r="",n,a,m;const k=e.length;for(n=0;n<k;n++){if(a=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(m=this.options.extensions.renderers[a.type].call({parser:this},a),m!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type))){r+=m||"";continue}switch(a.type){case"escape":{r+=t.text(a.text);break}case"html":{r+=t.html(a.text);break}case"link":{r+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{r+=t.image(a.href,a.title,a.text);break}case"strong":{r+=t.strong(this.parseInline(a.tokens,t));break}case"em":{r+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{r+=t.codespan(a.text);break}case"br":{r+=t.br();break}case"del":{r+=t.del(this.parseInline(a.tokens,t));break}case"text":{r+=t.text(a.text);break}default:{const O='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(O);return}else throw new Error(O)}}}return r}}function hi(i,e,t){if(typeof i=="undefined"||i===null)throw new Error("marked(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=Un({},hi.defaults,e||{}),Dh(e),t){const r=e.highlight;let n;try{n=wa.lex(i,e)}catch(k){return t(k)}const a=function(k){let O;if(!k)try{e.walkTokens&&hi.walkTokens(n,e.walkTokens),O=_a.parse(n,e)}catch(G){k=G}return e.highlight=r,k?t(k):t(null,O)};if(!r||r.length<3||(delete e.highlight,!n.length))return a();let m=0;hi.walkTokens(n,function(k){k.type==="code"&&(m++,setTimeout(()=>{r(k.text,k.lang,function(O,G){if(O)return a(O);G!=null&&G!==k.text&&(k.text=G,k.escaped=!0),m--,m===0&&a()})},0))}),m===0&&a();return}try{const r=wa.lex(i,e);return e.walkTokens&&hi.walkTokens(r,e.walkTokens),_a.parse(r,e)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+qr(r.message+"",!0)+"</pre>";throw r}}hi.options=hi.setOptions=function(i){return Un(hi.defaults,i),cb(hi.defaults),hi},hi.getDefaults=Nh,hi.defaults=Gs,hi.use=function(...i){const e=Un({},...i),t=hi.defaults.extensions||{renderers:{},childTokens:{}};let r;i.forEach(n=>{if(n.extensions&&(r=!0,n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if(a.renderer){const m=t.renderers?t.renderers[a.name]:null;m?t.renderers[a.name]=function(...k){let O=a.renderer.apply(this,k);return O===!1&&(O=m.apply(this,k)),O}:t.renderers[a.name]=a.renderer}if(a.tokenizer){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[a.level]?t[a.level].unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}a.childTokens&&(t.childTokens[a.name]=a.childTokens)})),n.renderer){const a=hi.defaults.renderer||new Hl;for(const m in n.renderer){const k=a[m];a[m]=(...O)=>{let G=n.renderer[m].apply(a,O);return G===!1&&(G=k.apply(a,O)),G}}e.renderer=a}if(n.tokenizer){const a=hi.defaults.tokenizer||new _d;for(const m in n.tokenizer){const k=a[m];a[m]=(...O)=>{let G=n.tokenizer[m].apply(a,O);return G===!1&&(G=k.apply(a,O)),G}}e.tokenizer=a}if(n.walkTokens){const a=hi.defaults.walkTokens;e.walkTokens=function(m){n.walkTokens.call(this,m),a&&a.call(this,m)}}r&&(e.extensions=t),hi.setOptions(e)})},hi.walkTokens=function(i,e){for(const t of i)switch(e.call(hi,t),t.type){case"table":{for(const r of t.header)hi.walkTokens(r.tokens,e);for(const r of t.rows)for(const n of r)hi.walkTokens(n.tokens,e);break}case"list":{hi.walkTokens(t.items,e);break}default:hi.defaults.extensions&&hi.defaults.extensions.childTokens&&hi.defaults.extensions.childTokens[t.type]?hi.defaults.extensions.childTokens[t.type].forEach(function(r){hi.walkTokens(t[r],e)}):t.tokens&&hi.walkTokens(t.tokens,e)}},hi.parseInline=function(i,e){if(typeof i=="undefined"||i===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");e=Un({},hi.defaults,e||{}),Dh(e);try{const t=wa.lexInline(i,e);return e.walkTokens&&hi.walkTokens(t,e.walkTokens),_a.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+qr(t.message+"",!0)+"</pre>";throw t}},hi.Parser=_a,hi.parser=_a.parse,hi.Renderer=Hl,hi.TextRenderer=Oh,hi.Lexer=wa,hi.lexer=wa.lex,hi.Tokenizer=_d,hi.Slugger=Lh,hi.parse=hi;const Fw=hi.options,Ow=hi.setOptions,Lw=hi.use,Uw=hi.walkTokens,Bw=hi.parseInline,kd=hi,qw=_a.parse,Hw=wa.lex;var Vw=Yt(35449);const Uh=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function Bh(i){return i.match(Uh)}function Tb(i){return!!Bh(i.body)}async function qh(i,e,t=!0){const r=i[2],n=i[3],a=i[5],m=Number(i[6])-1,k=i[8]?Number(i[8])-1:m;let O;for(const Z of e.folderManagers){const oe=await Z.getGitHubRemotes();for(const X of oe)if(r.toLowerCase()===X.owner.toLowerCase()&&n.toLowerCase()===X.repositoryName.toLowerCase()){O=Z;break}if(O)break}if(!O)return;const G=s.Uri.joinPath(O.repository.rootUri,a);try{await s.workspace.fs.stat(G)}catch(Z){return}return{file:G,start:m,end:k}}async function Mb(i,e){const t=Bh(i.body);if(!t){s.window.showInformationMessage(s.l10n.t("Issue has no link."));return}const r=await qh(t,e,!1);if(!r)return s.env.openExternal(s.Uri.parse(t[0]));const n=await s.workspace.openTextDocument(r==null?void 0:r.file),a=n.lineAt(r.end<n.lineCount?r.end:n.lineCount-1),m=new s.Range(r.start,0,r.end,a.text.length);return s.window.showTextDocument(r.file,{selection:m})}var Pb=Object.defineProperty,Hh=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Pb(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const Sd=/\@([^\s]+)/,xb=150,$s="Permalink";async function Vh(i,e,t,r){var n;const a=(n=i.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:n.get(t);if(a)return a;{let m,k,O;const G=await e.getGitHubRemotes();for(const Z of G){if(r)m=r.owner?r.owner:Z.owner,k=r.name?r.name:Z.repositoryName,O=r.issueNumber;else{const oe=go(t.match(_s));oe&&(!oe.name||!oe.owner)&&(m=Z.owner,k=Z.repositoryName)}if(m&&k&&O!==void 0){let oe=await e.resolveIssue(m,k,O,!!r.commentNumber);if(oe||(oe=await e.resolvePullRequest(m,k,O)),oe){let X;return i.resolvedIssues.has(e.repository.rootUri.path)?X=i.resolvedIssues.get(e.repository.rootUri.path):i.resolvedIssues.set(e.repository.rootUri.path,X=new(db())(50)),X.set(t,oe),oe}}}}}function Db(i,e){let t;return i.commitContributions.forEach(r=>{e.toLowerCase()===r.repoNameWithOwner.toLowerCase()&&(t=r.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),t}class Gh extends s.CompletionItem{constructor(){super(...arguments);Hh(this,"login"),Hh(this,"uri")}}function $h(i,e){const t=new s.MarkdownString(void 0,!0);t.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) ${e.name?`**${e.name}** `:""}[${e.login}](${e.url})`),e.bio&&t.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const r=Db(e,i.owner+"/"+i.repo);return(e.location||r)&&t.appendMarkdown(`  \r
\r
---`),e.location&&t.appendMarkdown(`  \r
${s.l10n.t("{0} {1}","$(location)",e.location)}`),r&&t.appendMarkdown(`  \r
${s.l10n.t("{0} Committed to this repository on {1}","$(git-commit)",r)}`),e.company&&t.appendMarkdown(`  \r
${s.l10n.t({message:"{0} Member of {1}",args:["$(jersey)",e.company],comment:["An organization that the user is a member of.","The first placeholder is an icon and shouldn't be localized.","The second placeholder is the name of the organization."]})}`),t}function Ab(i,e){const t=s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,r=T(i,t,!0);return`<span style="color:${r.textColor};background-color:${r.backgroundColor};">&nbsp;&nbsp;${e}&nbsp;&nbsp;</span>`}async function jh(i,e,t){let r=i.search(e),n=0;for(;r>=0&&r<i.length;){let a;if(r===0||i.charAt(r-1)!=="&"){const k=i.substring(r).match(e);if(k){const O=await t(k);O&&(a=i.slice(0,r)+O,i=a+i.slice(r+k[0].length))}}n=a?a.length:r+1;const m=i.substring(n).search(e);r=m>0?n+m:m}return i}function zh(i,e){return jh(i,_s,async t=>{const r=go(t);if(r){const n=Bc(r);return(!r.owner||!r.name)&&(r.owner=e.remote.owner,r.name=e.remote.repositoryName),`[${n}](https://github.com/${r.owner}/${r.name}/issues/${r.issueNumber})`}})}async function Ib(i,e){return jh(i,Uh,async t=>{const r=await qh(t,e);if(r){const n=await s.workspace.openTextDocument(r==null?void 0:r.file),a=n.lineAt(r.end<n.lineCount?r.end:n.lineCount-1),m=[r.file,{selection:{start:{line:r.start,character:0},end:{line:r.end,character:a.text.length}}}],k=s.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(m))}`);return`[${t[0]}](${k} "Open ${r.file.fsPath}")`}})}const Vl=200;async function Rd(i,e,t,r){const n=new s.MarkdownString(void 0,!0);n.supportHtml=!0;const a=new Date(i.createdAt),m=`${i.remote.owner}/${i.remote.repositoryName}`;n.appendMarkdown(`[${m}](https://github.com/${m}) on ${a.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const k=kd(i.title,{renderer:new Md}).trim();n.appendMarkdown(`${Ob(i)} **${k}** [#${i.number}](${i.html_url})  
`);let O=kd(i.body,{renderer:new Md});if(n.appendMarkdown(`  
`),O=O.length>Vl?O.substr(0,Vl)+"...":O,O=await zh(O,i),O=await Ib(O,t),n.appendMarkdown(O+`  
`),n.appendMarkdown(`&nbsp;  
`),i.item.labels.length>0&&i.item.labels.forEach(G=>{n.appendMarkdown(`[${Ab(G.color,G.name)}](https://github.com/${m}/labels/${encodeURIComponent(G.name)}) `)}),i.item.comments&&r){for(const G of i.item.comments)if(G.databaseId===r){n.appendMarkdown(`  \r
\r
---\r
`),n.appendMarkdown(`&nbsp;  
`),n.appendMarkdown(`![Avatar](${G.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${G.author.login}** commented`),n.appendMarkdown(`&nbsp;  
`);let Z=kd(G.body.length>Vl?G.body.substr(0,Vl)+"...":G.body,{renderer:new Md});Z=await zh(Z,i),n.appendMarkdown(Z)}}return n}function Fb(i){switch(i.state){case wi.Open:return i instanceof wn?"$(git-pull-request)":"$(issues)";case wi.Closed:return i instanceof wn?"$(git-pull-request)":"$(issue-closed)";case wi.Merged:return"$(git-merge)"}}function Ob(i){if(i instanceof wn)return Fb(i);switch(i.state){case wi.Open:return'<span style="color:#22863a;">$(issues)</span>';case wi.Closed:return'<span style="color:#cb2431;">$(issue-closed)</span>'}}const Wh="HEAD",Lb=1,Ub=2,Bb=3,Kh=4,Gl=new Map([["upstream",Lb],["ups",Ub],["origin",Bb]]);async function qb(i,e,t){var r,n,a,m;const k=((r=e.state.HEAD)==null?void 0:r.upstream)&&!Gl.has(e.state.HEAD.upstream.remote)?e.state.HEAD.upstream.remote:void 0;let O;const G=e.state.remotes.map(ke=>({name:ke.name,remote:ke})).filter(ke=>(ke.name===k&&(O=ke.remote),Gl.has(ke.name))).sort((ke,Ne)=>{var Ie,De;const Fe=(Ie=Gl.get(ke.name))!=null?Ie:Kh,Ze=(De=Gl.get(Ne.name))!=null?De:Kh;return Fe-Ze});k&&G.push({name:k,remote:O});const Z=[Wh];((n=e.state.HEAD)==null?void 0:n.name)&&e.state.HEAD.name!==Wh&&Z.unshift((a=e.state.HEAD)==null?void 0:a.name);let oe;try{oe=await((m=i.getManagerForFile(e.rootUri))==null?void 0:m.getPullRequestDefaults())}catch(ke){if(!(ke instanceof vf))throw ke}oe&&Z.push(oe.base);let X,de;for(let ke=0;ke<Z.length&&!X;ke++)for(let Ne=0;Ne<G.length&&!X;Ne++)try{const Ie=(await e.getBranches({contains:t.hash,remote:!0,pattern:`remotes/${G[Ne].name}/${Z[ke]}`,count:1})).filter(De=>De.remote&&De.name);Ie&&Ie.length>0&&(X=Ie[0],de=G[Ne].remote)}catch(Ie){}return de}function Hb(i){return i instanceof s.Uri?{fileUri:i,lineNumber:void 0}:i!==void 0&&"lineNumber"in i&&"uri"in i?{fileUri:i.uri,lineNumber:i.lineNumber}:{fileUri:void 0,lineNumber:void 0}}function Qh(i,e){var t,r;h.debug("getting file and position",$s);let n,a;const{fileUri:m,lineNumber:k}=Hb(i);if(m)n=m,((t=s.window.activeTextEditor)==null?void 0:t.document.uri.fsPath)===n.fsPath&&!s.window.activeNotebookEditor&&(k!==void 0&&(s.window.activeTextEditor.selection.isEmpty||!s.window.activeTextEditor.selection.contains(new s.Position(k-1,0)))?a=new s.Range(new s.Position(k-1,0),new s.Position(k-1,1)):a=s.window.activeTextEditor.selection);else if(!e&&s.window.activeTextEditor)n=s.window.activeTextEditor.document.uri,a=s.window.activeTextEditor.selection;else if(!e&&s.window.activeNotebookEditor)n=s.window.activeNotebookEditor.notebook.uri,a=s.window.activeNotebookEditor.selection;else if(!e&&((r=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:r.input)instanceof s.TabInputCustom)n=s.window.tabGroups.activeTabGroup.activeTab.input.uri;else if(e)n=e.document.uri,a=e.range;else return{uri:void 0,range:void 0};return h.debug(`got file and position: ${n.fsPath} ${a==null?void 0:a.start.toString()}`,$s),{uri:n,range:a}}function $l(i){var e;const t=(e=i.state.HEAD)==null?void 0:e.upstream;for(const r of i.state.remotes)if(!t||t.remote===r.name)return r}async function Yh(i,e,t){const r=new Promise(a=>{a($l(e))});let n=t?await Promise.race([qb(i,e,t),new Promise(a=>{setTimeout(()=>{a(r)},1500)})]):await r;if(!((!n||!n.fetchUrl)&&(n=await r,!n||!n.fetchUrl)))return n}function Jh(i,e,t){const r=i.getManagerForFile(e.rootUri),n=r==null?void 0:r.gitHubRepositories.find(a=>a.remote.remoteName===t.name);return n?`${n.remote.owner}/${n.remote.repositoryName}`:new xr(t.fetchUrl).nameWithOwner}async function Ed(i,e,t,r,n,a){var m,k,O;const{uri:G,range:Z}=Qh(a,n);if(!G)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const oe=Eu(e,G);if(!oe)return{permalink:void 0,error:s.l10n.t("The current file isn't part of repository."),originalFile:G};let X,de;if(G.scheme===li.Review&&(de=Zn(G.query).commit),!de)try{const Ze=await oe.log({maxEntries:1,path:G.fsPath});if(Ze.length===0)return{permalink:void 0,error:s.l10n.t("No branch on a remote contains the most recent commit for the file."),originalFile:G};((m=oe.state.HEAD)==null?void 0:m.commit)&&Ze[0].hash!==((k=oe.state.HEAD)==null?void 0:k.commit)&&(X=await oe.getCommit(oe.state.HEAD.commit)),X||(X=Ze[0]),de=X.hash}catch(Ze){de=(O=oe.state.HEAD)==null?void 0:O.commit}h.debug(`commit hash: ${de}`,$s);const ke=await Yh(i,oe,X);if(!ke||!ke.fetchUrl)return{permalink:void 0,error:s.l10n.t("The selection may not exist on any remote."),originalFile:G};const Ne=ke;h.debug(`upstream: ${Ne.fetchUrl}`,$s);const Ie=jl(G.path.substring(oe.rootUri.path.length)),Fe={permalink:`${Cd(ke).replace(/\/$/,"")}/${Jh(i,oe,Ne)}/blob/${de}${r?`${Ie}${t?Nd(Z):""}`:""}`,error:void 0,originalFile:G};return h.debug(`permalink generated: ${Fe.permalink}`,$s),Fe}function Cd(i,e="github.com"){var t;const r=Es();let n=i.fetchUrl;if(r&&n){if(n.startsWith("https://")&&!n.startsWith("https://github.com/")){const a=new lb.URL(n).host;(a.startsWith(r.authority)||!a.includes("github.com"))&&(e=r.authority)}if(n.startsWith("ssh://")&&(n=n.substr("ssh://".length)),n.startsWith("git@")&&!n.startsWith("git@github.com")){const a=(t=n.split("@")[1])==null?void 0:t.split(":")[0];(a.startsWith(r.authority)||!a.includes("github.com"))&&(e=r.authority)}}return`https://${e}`}function jl(i){return i.split("/").map(e=>encodeURIComponent(e)).join("/")}function Nd(i){if(!i||i instanceof s.NotebookRange)return"";let e=`#L${i.start.line+1}`;return i.start.line!==i.end.line&&(e+=`-L${i.end.line+1}`),e}async function Vb(i,e,t){var r;const{uri:n,range:a}=Qh(e);if(!n)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const m=i.getManagerForFile(n);if(!m)return{permalink:void 0,error:s.l10n.t("Current file does not belong to an open repository."),originalFile:void 0};let k=(r=m.repository.state.HEAD)==null?void 0:r.name;k||(k=(await(await m.getOrigin()).getMetadata()).default_branch);const O=$l(m.repository);if(!(O==null?void 0:O.fetchUrl))return{permalink:void 0,error:s.l10n.t("Repository does not have any remotes."),originalFile:void 0};const G=n.path.substring(m.repository.rootUri.path.length),Z=Cd(O).replace(/\/$/,""),oe=jl(`${k}${G}`);return{permalink:`${Z}/${new xr(O.fetchUrl).nameWithOwner}/blob/${oe}${t?Nd(a):""}`,error:void 0,originalFile:n}}async function Zh(i,e,t){var r;const n=await((r=e.currentIssue(i.repository.rootUri))==null?void 0:r.getCommitMessage());if(n)return i.repository.commit(n,{all:t})}const Xh=s.l10n.t("Commit Staged"),em=s.l10n.t("Commit All");async function Gb(i,e,t){var r,n;if(i.repository.state.workingTreeChanges.length>0||i.repository.state.indexChanges.length>0){const a=[];switch(i.repository.state.indexChanges&&a.push(Xh),i.repository.state.workingTreeChanges&&a.push(em),await s.window.showInformationMessage(s.l10n.t("There are uncommitted changes. Do you want to commit them with the default commit message?"),{modal:!0},...a)){case Xh:{await Zh(i,t,!1);break}case em:{await Zh(i,t,!0);break}default:return!1}}if((r=i.repository.state.HEAD)==null?void 0:r.upstream)return await i.repository.push(),await e.createPullRequest(void 0),!0;{let a;return i.repository.state.remotes.length===1?a=i.repository.state.remotes[0].name:i.repository.state.remotes.length>1&&(a=await s.window.showQuickPick(i.repository.state.remotes.map(m=>m.name),{placeHolder:s.l10n.t("Remote to push to")})),a?(await i.repository.push(a,(n=i.repository.state.HEAD)==null?void 0:n.name,!0),await e.createPullRequest(void 0),!0):(s.window.showWarningMessage(s.l10n.t("The current repository has no remotes to push to. Please set up a remote and try again.")),!1)}}async function Td(i,e){return!(i.languageId!=="markdown"&&i.languageId!=="plaintext"&&(await s.languages.getTokenInformationAtPosition(i,e)).type!==s.StandardTokenType.Comment)}async function tm(i,e){return i.lineAt(e.line).range.end.character>1e4?!1:Td(i,e)}function im(i){const e=new URLSearchParams(i.query).get("rootUri");return e?s.Uri.parse(e):void 0}class Md extends Hl{code(e){return e}blockquote(e){return e}html(e){return""}heading(e,t,r,n){return e+" "}hr(){return""}list(e,t,r){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,t){return e+" "+t}tablerow(e){return e}tablecell(e,t){return e}strong(e){return e}em(e){return e}codespan(e){return`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,t,r){return""}text(e){return e}link(e,t,r){return r+" "}}class rm extends s.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,s.CompletionItemKind.Issue);this.issue=e}}class $b{constructor(e,t,r){this.stateManager=e,this.repositoriesManager=t,this.context=r}async provideCompletionItems(e,t,r,n){var a,m,k,O,G,Z;let oe=e.getWordRangeAtPosition(t),X=oe?e.getText(oe):void 0;if(!oe||(X==null?void 0:X.charAt(0))!=="#"){const Pt=(a=oe==null?void 0:oe.start)!=null?a:t,At=new s.Range(Pt.translate(void 0,Pt.character?-1:0),t),$t=e.getText(At);$t.charAt(0)==="#"&&(oe=At,X=$t)}if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&t.character>0&&n.triggerKind===s.CompletionTriggerKind.Invoke&&!(X==null?void 0:X.match(/#[0-9]*$/)))return[];if(t.character<=6&&e.languageId==="markdown"&&e.getText(new s.Range(t.with(void 0,0),t))===new Array(t.character+1).join("#")&&e.uri.scheme!=="comment"&&n.triggerKind===s.CompletionTriggerKind.TriggerCharacter)return[];if(n.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(at).get(Mi,[]).find(Pt=>Pt===e.languageId))return[];if(e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!await Td(e,t))return[];let de=new s.Range(t,t);t.character-1>=0&&oe&&((X==null?void 0:X.charAt(0))==="#"||e.languageId==="scminput"||e.languageId==="git-commit")&&(de=oe);let ke;if(X==="#"&&oe&&oe.start.character>=3){const Pt=new s.Range(oe.start.with(void 0,0),oe.start),$t=e.getText(Pt).match(/([^\s]+)\/([^\s]+)/);$t&&(ke={owner:$t[1],repo:$t[2]})}const Ne=new Map,Ie=new Date;let De,Fe;if(e.languageId==="scminput")Fe=im(e.uri);else if(e.uri.scheme==="comment"&&((m=s.workspace.workspaceFolders)==null?void 0:m.length))for(const Pt of s.window.visibleTextEditors){const At=s.workspace.workspaceFolders[0].uri.with({path:Pt.document.uri.path}),$t=s.workspace.getWorkspaceFolder(At);if($t){Fe=$t.uri;break}}else Fe=e.uri.scheme===Rn&&(k=Ll(e.uri))!=null?k:e.uri;if(!Fe)return[];let Ze;try{Ze=this.repositoriesManager.getManagerForFile(Fe),De=await(Ze==null?void 0:Ze.getPullRequestDefaults())}catch(Pt){}const it=this.stateManager.getIssueCollection((O=Ze==null?void 0:Ze.repository.rootUri)!=null?O:Fe);let ht=0;for(const Pt of it){const At=(G=await Pt[1])!=null?G:[];if(At[0]instanceof Nr)ht+=At.length;else for(const $t of At)ht+=$t.issues.length}for(const Pt of it){const At=(Z=await Pt[1])!=null?Z:[];if(At.length!==0)if(At[0]instanceof Nr){let $t=0;for(const ri of At)ke&&(ri.remote.owner!==ke.owner||ri.remote.repositoryName!==ke.repo)||Ne.set(Ns(ri),await this.completionItemFromIssue(De,ri,Ie,de,e,$t++,ht))}else for(let $t=0;$t<At.length;$t++){const ri=At[$t];for(const Tr of ri.issues)ke&&(Tr.remote.owner!==ke.owner||Tr.remote.repositoryName!==ke.repo)||Ne.set(Ns(Tr),await this.completionItemFromIssue(De,Tr,Ie,de,e,$t,ht,ri.milestone))}}return[...Ne.values()]}async completionItemFromIssue(e,t,r,n,a,m,k,O){var G;const Z=new rm(t);if(a.languageId==="markdown")Z.insertText=`[${Ns(t,e)}](${t.html_url})`;else{const oe=s.workspace.getConfiguration(at).get(Ni);a.uri.path.match(/git\/scm\d\/input/)&&typeof oe=="string"?Z.insertText=await Cs(oe,t,e):Z.insertText=`${Ns(t,e)}`}return Z.documentation=t.body,Z.range=n,Z.detail=O?O.title:(G=t.milestone)==null?void 0:G.title,Z.sortText=`${m}`.padStart(`${k}`.length,"0"),Z.filterText=`${Z.detail} # ${t.number} ${t.title} ${Z.documentation}`,Z}async resolveCompletionItem(e,t){return e instanceof rm&&(e.documentation=await Rd(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:s.l10n.t("Issue Completion Choose,")}),e}}class jb{constructor(e,t,r,n){this.manager=e,this.stateManager=t,this.context=r,this.telemetry=n}async provideHover(e,t,r){var n;if(!await tm(e,t))return;let a=e.getWordRangeAtPosition(t,_s);if(a&&a.start.character>0){a=new s.Range(new s.Position(a.start.line,a.start.character),a.end);const k=e.getText(a).match(_s),O=go(k),G=(n=this.manager.getManagerForFile(e.uri))!=null?n:this.manager.folderManagers[0];if(!G)return;if(O&&k&&(O.owner||O.issueNumber<=this.stateManager.maxIssueNumber(G.repository.rootUri)))return this.createHover(G,k[0],O,a)}else return}async createHover(e,t,r,n){const a=await Vh(this.stateManager,e,t,r);if(!!a)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new s.Hover(await Rd(a,this.context,this.manager,r.commentNumber),n)}}var zb=Object.defineProperty,nm=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?zb(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class ns extends s.TreeItem{constructor(e,t,r){super(t,r);this.uri=e}get labelAsString(){var e;return typeof this.label=="string"?this.label:(e=this.label)==null?void 0:e.label}}class Wb{constructor(e,t,r){this.stateManager=e,this.manager=t,this.context=r,nm(this,"_onDidChangeTreeData",new s.EventEmitter),nm(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),r.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),r.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),r.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()}))}getTreeItem(e){var t;let r;return e instanceof ns?(r=e,r.collapsibleState=xd(this.context,e,e.collapsibleState)):e instanceof is?r=new ns(e.repository.rootUri,p.basename(e.repository.rootUri.fsPath),xd(this.context,e,s.TreeItemCollapsibleState.Expanded)):e instanceof Nr?(r=new ns(void 0,`${e.number}: ${e.title}`,s.TreeItemCollapsibleState.None),r.iconPath=e.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("issues.closed")),((t=this.stateManager.currentIssue(e.uri))==null?void 0:t.issue.number)===e.number?(r.label=`\u2713 ${r.label}`,r.contextValue="currentissue"):this.stateManager.getSavedIssueState(e.number).branch?r.contextValue="continueissue":r.contextValue="issue",Tb(e)&&(r.contextValue="link"+r.contextValue)):r=new ns(e.uri,e.milestone.title,xd(this.context,e,e.issues.length>0?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.None)),r}getChildren(e){return e===void 0&&this.manager.state!==un.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,t){return t instanceof Nr&&(e.tooltip=await Rd(t,this.context,this.manager)),e}getStateChildren(){return this.manager.state===un.NeedsAuthentication||!this.manager.folderManagers.length?[]:(Lr.setContext(sn.LOADING_ISSUES_TREE,!0),[])}getQueryItems(e){const t=this.stateManager.getIssueCollection(e.repository.rootUri);if(t.size===1)return Array.from(t.values())[0];const r=Array.from(t.keys()),n=r[0];return r.map(a=>{const m=new ns(e.repository.rootUri,a);return m.contextValue="query",m.collapsibleState=a===n?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed,m})}getIssuesChildren(e){var t;return e===void 0?this.manager.folderManagers.length===1?this.getQueryItems(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]:e instanceof is?this.getQueryItems(e):e instanceof ns?e.uri?(t=this.stateManager.getIssueCollection(e.uri).get(e.labelAsString))!=null?t:[]:[]:e instanceof Nr?[]:e.issues.map(r=>{const n=Object.assign(r);return n.uri=e.uri,n})}}const Pd="expandedIssuesState";function am(i){if(!i)return;let e;return i instanceof ns?e=i.labelAsString:i instanceof s.TreeItem||(i instanceof is?e=i.repository.rootUri.toString():i instanceof Nr||(e=i.milestone.title)),e}function sm(i,e,t){const r=am(e);if(r){const n=new Set(i.workspaceState.get(Pd,[]));t?n.add(r):n.delete(r),i.workspaceState.update(Pd,Array.from(n.keys()))}}function xd(i,e,t=s.TreeItemCollapsibleState.Collapsed){const r=am(e);if(r){const n=i.workspaceState.get(Pd);return n?new Set(n).has(r)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed:t}return s.TreeItemCollapsibleState.None}var Kb=Object.defineProperty,Qb=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Kb(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Yb{constructor(e){Qb(this,"expression"),e.subscriptions.push(s.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=s.workspace.getConfiguration(at).get(Lt,[]);this.expression=e.length>0?new RegExp(e.join("|")):void 0}async provideCodeActions(e,t,r,n){if(this.expression===void 0||r.only&&r.only!==s.CodeActionKind.QuickFix)return[];const a=[];let m=t.start.line;do{const k=e.lineAt(m).text,O=k.substring(0,xb);if(!O.match(_s)){const Z=O.search(this.expression);if(Z>=0){const oe=new s.CodeAction(s.l10n.t("Create GitHub Issue"),s.CodeActionKind.QuickFix),X=O.substring(Z).search(/\s/),de=Z+(X>0?X:O.match(this.expression)[0].length);oe.command={title:s.l10n.t("Create GitHub Issue"),command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:m,line:k,insertIndex:de,range:t}]},a.push(oe);break}}m++}while(t.end.line>=m);return a}}var Jb=Object.defineProperty,Dd=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Jb(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Zb{constructor(e,t){Dd(this,"disposables",[]),!!s.window.registerShareProvider&&this.disposables.push(new ey(e,t),new om(e,t),new ty(e,t),new iy(e,t))}dispose(){this.disposables.forEach(e=>e.dispose())}}const Xb=[li.File,li.Review,li.Pr,li.VscodeVfs];class Ad{constructor(e,t,r,n,a,m="github.com"){this.repositoryManager=e,this.gitAPI=t,this.id=r,this.label=n,this.priority=a,this.origin=m,Dd(this,"disposables",[]),Dd(this,"shareProviderRegistrations"),this.initialize()}dispose(){var e;this.disposables.forEach(t=>t.dispose()),(e=this.shareProviderRegistrations)==null||e.map(t=>t.dispose())}async initialize(){await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register(),this.disposables.push(this.repositoryManager.onDidLoadAnyRepositories(async()=>{await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register()})),this.disposables.push(this.gitAPI.onDidCloseRepository(()=>{this.hasGitHubRepositories()||this.unregister()}))}async hasGitHubRepositories(){for(const e of this.repositoryManager.folderManagers)return!!(await e.computeAllGitHubRemotes()).length}register(){this.shareProviderRegistrations||(this.shareProviderRegistrations=Xb.map(e=>s.window.registerShareProvider({scheme:e},this)))}unregister(){var e;(e=this.shareProviderRegistrations)==null||e.map(t=>t.dispose()),this.shareProviderRegistrations=void 0}async provideShare(e){const t=this.repositoryManager.getManagerForFile(e.resourceUri);if(!t)throw new Error(s.l10n.t("Current file does not belong to an open repository."));const r=await this.getBlob(t,e.resourceUri),n=t.repository,a=await this.getUpstream(n,r);if(!a||!a.fetchUrl)throw new Error(s.l10n.t("The selection may not exist on any remote."));const m=Cd(a,this.origin).replace(/\/$/,""),k=jl(e.resourceUri.path.substring(n.rootUri.path.length)),O=ry(e);return s.Uri.parse([m,"/",Jh(this.repositoryManager,n,{...a,fetchUrl:a.fetchUrl}),"/blob/",r,k,O].join(""))}}class ey extends Ad{constructor(e,t){super(e,t,"githubDevLink",s.l10n.t("Copy github.dev Link"),10,"github.dev")}shouldRegister(){return s.env.appHost==="github.dev"}async getBlob(e){return lm(e)}async getUpstream(e){return $l(e)}}class om extends Ad{constructor(e,t,r="githubComPermalink",n=s.l10n.t("Copy GitHub Permalink"),a=11){super(e,t,r,n,a)}shouldRegister(){return!0}async getBlob(e,t){var r,n,a;let m,k;if(t.scheme===li.Review&&(k=Zn(t.query).commit),!k){const O=e.repository;try{const G=await O.log({maxEntries:1,path:t.fsPath});if(G.length===0)throw new Error(s.l10n.t("No branch on a remote contains the most recent commit for the file."));((r=O.state.HEAD)==null?void 0:r.commit)&&G[0].hash!==((n=O.state.HEAD)==null?void 0:n.commit)&&(m=await O.getCommit(O.state.HEAD.commit)),m||(m=G[0]),k=m.hash}catch(G){k=(a=O.state.HEAD)==null?void 0:a.commit}}if(k)return k;throw new Error}async getUpstream(e,t){return Yh(this.repositoryManager,e,await e.getCommit(t))}}class ty extends om{constructor(e,t){super(e,t,"githubComPermalinkAsMarkdown",s.l10n.t("Copy GitHub Permalink as Markdown"),12)}async provideShare(e){var t;const r=await super.provideShare(e),n=await this.getMarkdownLinkText(e);if(r)return`[${(t=n==null?void 0:n.trim())!=null?t:""}](${r.toString()})`}async getMarkdownLinkText(e){const t=p.basename(e.resourceUri.path);if(e.selection){const r=await s.workspace.openTextDocument(e.resourceUri),n=e.selection.start===e.selection.end?e.selection:new s.Range(e.selection.start,new s.Position(e.selection.start.line+1,0)),a=r.getText(n);if(a)return a;const m=r.getWordRangeAtPosition(e.selection.start);if(m)return r.getText(m)}return t}}class iy extends Ad{constructor(e,t){super(e,t,"githubComHeadLink",s.l10n.t("Copy GitHub HEAD Link"),13)}shouldRegister(){return!0}async getBlob(e){return lm(e)}async getUpstream(e){return $l(e)}}function ry(i){return i.resourceUri.scheme==="vscode-notebook-cell"?"":Nd(i.selection)}async function lm(i){var e;let t=(e=i.repository.state.HEAD)==null?void 0:e.name;return t||(t=(await(await i.getOrigin()).getMetadata()).default_branch),jl(t)}var ny=Object.defineProperty,vn=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?ny(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const ay=["Recovery"],sy="currentIssue",Id="issues",Fd=[{label:s.l10n.t("My Issues"),query:"default"}];class Gw extends null{constructor(){super(...arguments);vn(this,"uri")}}class oy{constructor(e,t,r){this.gitAPI=e,this.manager=t,this.context=r,vn(this,"resolvedIssues",new Map),vn(this,"_singleRepoStates",new Map),vn(this,"_onRefreshCacheNeeded",new s.EventEmitter),vn(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),vn(this,"_onDidChangeIssueData",new s.EventEmitter),vn(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),vn(this,"_queries",[]),vn(this,"_onDidChangeCurrentIssue",new s.EventEmitter),vn(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),vn(this,"initializePromise"),vn(this,"statusBarItem"),vn(this,"isSettingIssue",!1)}getIssueCollection(e){var t;let r=(t=this._singleRepoStates.get(e.path))==null?void 0:t.issueCollection;return r||(r=new Map,r)}getOrCreateSingleRepoState(e,t){let r=this._singleRepoStates.get(e.path);return r||(t||(t=this.manager.getManagerForFile(e)),r={issueCollection:new Map,maxIssueNumber:0,folderManager:t},this._singleRepoStates.set(e.path,r),r)}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.credentialStore.isAnyAuthenticated())if(this.manager.state===un.RepositoriesLoaded)this.doInitialize().then(()=>e());else{const t=this.manager.onDidChangeState(()=>{this.manager.state===un.RepositoriesLoaded&&this.doInitialize().then(()=>{t.dispose(),e()})});this.context.subscriptions.push(t)}else{const t=this.manager.credentialStore.onDidGetSession(()=>{t.dispose(),this.doInitialize()});e()}})),this.initializePromise}registerRepositoryChangeEvent(){async function e(r,n){var a;const m=r.getOrCreateSingleRepoState(n.rootUri),k=m.lastHead,O=m.lastBranch,G=n.state.HEAD?n.state.HEAD.commit:void 0;(n.state.HEAD?n.state.HEAD.commit:void 0)!==k&&await r.setIssueData(m.folderManager);const Z=(a=n.state.HEAD)==null?void 0:a.name;(k!==G||O!==Z)&&(!m.currentIssue||Z!==m.currentIssue.branchName)&&(Z?m.folderManager&&await r.setCurrentIssueFromBranch(m,Z,!0):await r.setCurrentIssue(m,void 0,!0)),m.lastHead=n.state.HEAD?n.state.HEAD.commit:void 0,m.lastBranch=n.state.HEAD?n.state.HEAD.name:void 0}function t(r,n){r.context.subscriptions.push(n.state.onDidChange(async()=>{e(r,n)}))}this.context.subscriptions.push(this.gitAPI.onDidOpenRepository(r=>{e(this,r),t(this,r)})),this.gitAPI.repositories.forEach(r=>{t(this,r)})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(){return this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=s.workspace.getConfiguration(at,null).get(_t,Fd),this._queries.length===0&&(this._queries=Fd),this.context.subscriptions.push(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${at}.${_t}`)?(this._queries=s.workspace.getConfiguration(at,null).get(_t,Fd),this._onRefreshCacheNeeded.fire()):t.affectsConfiguration(`${at}.${ci}`)&&this._onRefreshCacheNeeded.fire()})),this.registerRepositoryChangeEvent(),await this.setAllIssueData(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const t of this.manager.folderManagers){this.context.subscriptions.push(t.onDidChangeRepositories(()=>this.refresh()));const r=this.getOrCreateSingleRepoState(t.repository.rootUri,t);r.lastHead=t.repository.state.HEAD?t.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(t.repository.rootUri.path,r);const n=(e=t.repository.state.HEAD)==null?void 0:e.name;!r.currentIssue&&n&&await this.setCurrentIssueFromBranch(r,n,!0)}}cleanIssueState(){const e=this.context.workspaceState.get(Id),t=e?JSON.parse(e):{issues:[],branches:[]},r=new Date().valueOf()-30*864e5;for(const n in t.issues)t.issues[n].stateModifiedTime<r&&(t.branches&&t.branches[n]&&delete t.branches[n],delete t.issues[n])}async getUsers(e){var t;await this.initializePromise;const r=await((t=this.manager.getManagerForFile(e))==null?void 0:t.getAssignableUsers()),n=new Map;for(const a in r)r[a].forEach(m=>{n.set(m.login,m)});return n}async getUserMap(e){if(!this.initializePromise)return Promise.resolve(new Map);const t=this.getOrCreateSingleRepoState(e);return(!t.userMap||(await t.userMap).size===0)&&(t.userMap=this.getUsers(e)),t.userMap}async getCurrentUser(e){var t;return(t=await this.manager.credentialStore.getCurrentUser(e))==null?void 0:t.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var t,r;const n=this.getOrCreateSingleRepoState(e.repository.rootUri,e);n.issueCollection.clear();let a,m;for(const k of this._queries){let O;if(k.query===Qt)O=this.setMilestones(e);else{if(!a)try{a=await e.getPullRequestDefaults()}catch(G){}if(!m){const G=ha(e.repository).filter(Z=>Z.isEnterprise);m=await this.getCurrentUser(G.length?ki.githubEnterprise:ki.github)}O=this.setIssues(e,await Cs(k.query,void 0,void 0,m))}n.issueCollection.set(k.label,O)}n.maxIssueNumber=await e.getMaxIssue(),n.lastHead=(t=e.repository.state.HEAD)==null?void 0:t.commit,n.lastBranch=(r=e.repository.state.HEAD)==null?void 0:r.name}setIssues(e,t){return new Promise(async r=>{const n=await e.getIssues(t);this._onDidChangeIssueData.fire(),r(n.items.map(a=>{const m=a;return m.uri=e.repository.rootUri,m}))})}async setCurrentIssueFromBranch(e,t,r=!1){if(s.workspace.getConfiguration(at).get(Li)==="off")return;let a;try{a=await e.folderManager.getPullRequestDefaults()}catch(k){return}if(t===a.base){await this.setCurrentIssue(e,void 0,!1);return}if(e.currentIssue&&e.currentIssue.branchName===t)return;const m=this.getSavedState();for(const k in m.branches)if(k===t){const O=await e.folderManager.resolveIssue(m.branches[k].owner,m.branches[k].repositoryName,m.branches[k].number);O&&await this.setCurrentIssue(e,new Ch(O,e.folderManager,this),!1,r);return}}setMilestones(e){return new Promise(async t=>{const r=new Date,n=s.workspace.getConfiguration(at).get(ci,[]),a=await e.getMilestoneIssues({fetchNextPage:!1},n.indexOf(yf)<0);let m;const k=new Map,O=[];for(let G=0;G<a.items.length;G++){const Z=a.items[G];Z.uri=e.repository.rootUri;const oe=a.items[G].milestone;if(Z.issues&&Z.issues.length<=0||n.indexOf(oe.title)>=0)continue;O.push(Z);let X=oe.dueOn?new Date(oe.dueOn):void 0;X||(X=new Date(this.removeDateExcludeStrings(oe.title)),isNaN(X.getTime())&&(X=new Date(oe.createdAt))),X<r&&(m===void 0||X>m)&&(m=X),k.set(oe.id?oe.id:oe.title,X)}O.sort((G,Z)=>{const oe=k.get(G.milestone.id?G.milestone.id:G.milestone.title),X=k.get(Z.milestone.id?Z.milestone.id:Z.milestone.title);return m&&oe>=m&&X>=m?oe<=X?-1:1:oe>=X?-1:1}),this._onDidChangeIssueData.fire(),t(O)})}removeDateExcludeStrings(e){return ay.forEach(t=>e=e.replace(t,"")),e}currentIssue(e){var t;return(t=this._singleRepoStates.get(e.path))==null?void 0:t.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var t,r;return(r=(t=this._singleRepoStates.get(e.path))==null?void 0:t.maxIssueNumber)!=null?r:0}async setCurrentIssue(e,t,r,n=!1){if(!(this.isSettingIssue&&t===void 0)){if(this.isSettingIssue=!0,e instanceof is){const a=this._singleRepoStates.get(e.repository.rootUri.path);if(!a)return;e=a}try{if(e.currentIssue&&(t==null?void 0:t.issue.number)===e.currentIssue.issue.number)return;e.currentIssue&&await e.currentIssue.stopWorking(r),t&&this.context.subscriptions.push(t.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(sy,t==null?void 0:t.issue.number),(!t||await t.startWorking(n))&&(e.currentIssue=t,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch(a){}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),t=e.length>0;if(!t){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}t&&!this.statusBarItem&&(this.statusBarItem=s.window.createStatusBarItem("github.issues.status",s.StatusBarAlignment.Left,0),this.statusBarItem.name=s.l10n.t("GitHub Active Issue"));const r=this.statusBarItem;r.text=s.l10n.t("{0} Issue {1}","$(issues)",e.map(n=>Ns(n.issue,n.repoDefaults)).join(", ")),r.tooltip=e.map(n=>n.issue.title).join(", "),r.command="issue.statusBar",r.show()}getSavedState(){const e=this.context.workspaceState.get(Id);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var t;return(t=this.getSavedState().issues[`${e}`])!=null?t:{}}async setSavedIssueState(e,t){const r=this.getSavedState();return r.issues[`${e.number}`]={...t,stateModifiedTime:new Date().valueOf()},t.branch&&(r.branches||(r.branches=Object.create(null)),r.branches[t.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(Id,JSON.stringify(r))}}var ly=Object.defineProperty,Oo=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?ly(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const as=class{constructor(i,e,t){this.stateManager=i,this.manager=e,Oo(this,"_gitBlameCache",{}),Oo(this,"cachedPrUsers",[]),Oo(this,"cachedPrTimelineEvents",[]),Oo(this,"cachedForPrNumber")}async provideCompletionItems(i,e,t,r){var n,a,m,k,O;let G=i.getWordRangeAtPosition(e),Z=G?i.getText(G):void 0;if(!G||(Z==null?void 0:Z.charAt(0))!=="@"){const De=(n=G==null?void 0:G.start)!=null?n:e,Fe=new s.Range(De.translate(void 0,De.character?-1:0),e),Ze=i.getText(Fe);Ze.charAt(0)==="@"&&(G=Fe,Z=Ze)}if(i.languageId!=="scminput"&&i.uri.scheme!==Rn&&e.character>0&&r.triggerKind===s.CompletionTriggerKind.Invoke&&(Z==null?void 0:Z.charAt(0))!=="@")return[];if(i.uri.scheme===Rn&&r.triggerKind===s.CompletionTriggerKind.Invoke&&i.getText(new s.Range(e.with(void 0,0),e.with(void 0,Hs.length)))!==Hs)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(at).get(ti,[]).find(De=>De===i.languageId))return[];if(!this.isCodeownersFiles(i.uri)&&i.languageId!=="scminput"&&i.languageId!=="git-commit"&&!await Td(i,e))return[];let oe=new s.Range(e,e);e.character-1>=0&&G&&(Z==null?void 0:Z.charAt(0))==="@"&&(oe=G);let X=i.uri;if(i.uri.scheme===Rn)X=(a=Ll(i.uri))!=null?a:i.uri;else if(i.languageId==="scminput")X=im(i.uri);else if(i.uri.scheme===li.Comment){const De=(m=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:m.input;X=De instanceof s.TabInputText?De.uri:De instanceof s.TabInputTextDiff?De.modified:void 0}if(!X)return[];const de=(O=(k=this.manager.getManagerForFile(X))==null?void 0:k.repository.rootUri)!=null?O:X;let ke=[];const Ne=await this.stateManager.getUserMap(de);Ne.forEach(De=>{const Fe=new Gh({label:De.login,description:De.name},s.CompletionItemKind.User);Fe.insertText=`@${De.login}`,Fe.login=De.login,Fe.uri=de,Fe.range=oe,Fe.detail=De.name,Fe.filterText=`@ ${De.login} ${De.name}`,i.uri.scheme===Rn&&(Fe.commitCharacters=[" ",","]),ke.push(Fe)});const Ie=await this.getCommentSpecificSuggestions(Ne,i,e);return Ie&&(ke=ke.concat(Ie)),ke}isCodeownersFiles(i){const e=this.manager.getManagerForFile(i);if(!e||!i.path.startsWith(e.repository.rootUri.path))return!1;const t=i.path.substring(e.repository.rootUri.path.length).toLowerCase();return!!["/codeowners","/docs/codeowners","/.github/codeowners"].find(n=>n===t)}async resolveCompletionItem(i,e){const t=this.manager.getManagerForFile(i.uri);if(!t)return i;const r=await t.getPullRequestDefaults(),n=await t.resolveUser(r.owner,r.repo,i.login);return n&&(i.documentation=$h(r,n),i.command={command:"issues.userCompletion",title:s.l10n.t("User Completion Chosen")}),i}async getCommentSpecificSuggestions(i,e,t){try{const r=JSON.parse(e.uri.query);if(e.uri.scheme!==li.Comment||fe(r.extensionId,Ms)!==0)return;const n=e.getWordRangeAtPosition(t,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!n||n.isEmpty)return;const a=s.window.visibleTextEditors;if(!a.length)return;let m,k,O,G;for(const Ze of a)if(m=this.manager.getManagerForFile(Ze.document.uri),m){if(m.activePullRequest){O=m.activePullRequest.number,G=m.activePullRequest.remote.remoteName;break}else if(Ze.document.uri.scheme===li.Pr){const it=lr(Ze.document.uri);O=it.prNumber,G=it.remoteName;break}}if(!m)return;const Z=m;if(O&&O===this.cachedForPrNumber)return this.cachedPrUsers;let oe=[];const X={};let de={};const ke=new Promise(async Ze=>{if(O&&G){if(h.debug("get Timeline Events and parse users",as.ID),this.cachedForPrNumber===O)return this.cachedPrTimelineEvents;const it=Z.gitHubRepositories.find(ht=>ht.remote.remoteName===G);if(it){const ht=await it.getPullRequest(O);this.cachedForPrNumber=O,this.cachedPrTimelineEvents=await ht.getTimelineEvents()}oe=Op(this.cachedPrTimelineEvents),Ze()}Ze()}),Ne=new Promise(async Ze=>{if(a.length)try{h.debug("git blame and parse users",as.ID);const it=p.resolve(a[0].document.uri.fsPath);let ht;this._gitBlameCache[it]?ht=this._gitBlameCache[it]:(ht=await Z.repository.blame(it),this._gitBlameCache[it]=ht);const Pt=ht.split(`
`);for(const At of Pt){const $t=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(At);if($t&&$t.length===2){const ri=$t[1].trim();X[ri]=!0}}}catch(it){h.debug(it,as.ID)}Ze()}),Ie=new Promise(async Ze=>{h.debug("get mentionable users",as.ID),de=await Z.getMentionableUsers(),Ze()});await Promise.all([ke,Ne,Ie]),this.cachedPrUsers=[];const De={};h.debug("prepare user suggestions",as.ID),oe.forEach(Ze=>{De[Ze.login]||(De[Ze.login]=Ze)});const Fe={};for(const Ze in de)for(const it of de[Ze])if(!De[it.login]&&!Fe[it.login]&&!i.get(it.login)){Fe[it.login]=!0;let ht=2;(X[it.login]||it.name&&X[it.name])&&(ht=1),De[it.login]&&(ht=0);const Pt=new Gh({label:it.login,description:it.name},s.CompletionItemKind.User);Pt.insertText=`@${it.login}`,Pt.login=it.login,Pt.uri=Z.repository.rootUri,Pt.detail=it.name,Pt.filterText=`@ ${it.login} ${it.name}`,Pt.sortText=`${ht}_${it.login}`,(k==null?void 0:k.document.uri.scheme)===Rn&&(Pt.commitCharacters=[" ",","]),this.cachedPrUsers.push(Pt)}return h.debug("done",as.ID),this.cachedPrUsers}catch(r){return[]}}};let um=as;Oo(um,"ID","UserCompletionProvider");class uy{constructor(e,t){this.manager=e,this.telemetry=t}async provideHover(e,t,r){if(!await tm(e,t))return;let n=e.getWordRangeAtPosition(t,Sd);if(n&&n.start.character>0){n=new s.Range(new s.Position(n.start.line,n.start.character),n.end);const m=e.getText(n).match(Sd);if(m){const k=m[1];return(e.languageId==="javascript"||e.languageId==="typescript")&&sc.indexOf(k)>=0||e.languageId==="php"&&oc.indexOf(k)>=0?void 0:this.createHover(e.uri,k,n)}}else return}async createHover(e,t,r){try{const n=this.manager.getManagerForFile(e);if(!n)return;const a=await n.getPullRequestDefaults(),m=await n.resolveUser(a.owner,a.repo,t);return m&&m.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new s.Hover($h(a,m),r)):void 0}catch(n){return}}}var dy=Object.defineProperty,zl=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?dy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const dm="issues.creatingFromFile";class cy{constructor(e,t,r,n,a){this.gitAPI=e,this.manager=t,this.reviewsManager=r,this.context=n,this.telemetry=a,zl(this,"_stateManager"),zl(this,"_newIssueCache"),zl(this,"createIssueInfo"),zl(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scminput"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"html"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},{language:"typescriptreact"},{language:"yml"},"*"]),this._stateManager=new oy(e,this.manager,this.context),this._newIssueCache=new sb(n)}async initialize(){this.context.subscriptions.push(s.workspace.registerFileSystemProvider(Rn,new nb(this._newIssueCache))),this.context.subscriptions.push(s.languages.registerCompletionItemProvider({scheme:Rn},new ab(this.manager)," ",","));const e=s.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new Wb(this._stateManager,this.manager,this.context)});this.context.subscriptions.push(e),this.context.subscriptions.push(e.onDidCollapseElement(t=>sm(this.context,t.element,!1))),this.context.subscriptions.push(e.onDidExpandElement(t=>sm(this.context,t.element,!0))),this.context.subscriptions.push(s.commands.registerCommand("issue.createIssueFromSelection",(t,r)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(t,r)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.copyGithubPermalink",t=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink(this.manager,t)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.copyGithubHeadLink",t=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLink"),this.copyHeadLink(t)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.copyGithubPermalinkWithoutRange",t=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalinkWithoutRange"),this.copyPermalink(this.manager,t,!1)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.copyGithubHeadLinkWithoutRange",t=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLinkWithoutRange"),this.copyHeadLink(t,!1)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.copyGithubDevLinkWithoutRange",t=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkWithoutRange"),this.copyPermalink(this.manager,t,!1,!0,!0)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.copyGithubDevLink",t=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLink"),this.copyPermalink(this.manager,t,!0,!0,!0)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.copyGithubDevLinkFile",t=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkFile"),this.copyPermalink(this.manager,t,!1,!0,!0)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.copyMarkdownGithubPermalink",t=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink(this.manager,t)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.copyMarkdownGithubPermalinkWithoutRange",t=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalinkWithoutRange"),this.copyMarkdownPermalink(this.manager,t,!1)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink(this.manager)),this)),this.context.subscriptions.push(new Zb(this.manager,this.gitAPI)),this.context.subscriptions.push(s.commands.registerCommand("issue.openIssue",t=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(t)))),this.context.subscriptions.push(s.commands.registerCommand("issue.startWorking",t=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(t)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",t=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(t)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.continueWorking",t=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(t)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.startWorkingBranchPrompt",t=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(t)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.stopWorking",t=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(t)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",t=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(t)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.copyIssueNumber",t=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(t)))),this.context.subscriptions.push(s.commands.registerCommand("issue.copyIssueUrl",t=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(t)))),this.context.subscriptions.push(s.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.editQuery",t=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),this.editQuery(t)),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this.context.subscriptions.push(s.commands.registerCommand("issue.createIssueFromFile",async()=>{this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),await s.commands.executeCommand("setContext",dm,!0),await this.createIssueFromFile(),await s.commands.executeCommand("setContext",dm,!1)},this)),this.context.subscriptions.push(s.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this.context.subscriptions.push(s.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this.context.subscriptions.push(s.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this.context.subscriptions.push(s.commands.registerCommand("issue.goToLinkedCode",async t=>Mb(t,this.manager))),this._stateManager.tryInitializeAndWait().then(()=>{this.registerCompletionProviders(),this.context.subscriptions.push(s.languages.registerHoverProvider("*",new jb(this.manager,this._stateManager,this.context,this.telemetry))),this.context.subscriptions.push(s.languages.registerHoverProvider("*",new uy(this.manager,this.telemetry))),this.context.subscriptions.push(s.languages.registerCodeActionsProvider("*",new Yb(this.context),{providedCodeActionKinds:[s.CodeActionKind.QuickFix]}))})}dispose(){}registerCompletionProviders(){const e=[{provider:$b,trigger:"#",disposable:void 0,configuration:`${Kt}.${fi}`},{provider:um,trigger:"@",disposable:void 0,configuration:`${Mt}.${fi}`}];for(const t of e)s.workspace.getConfiguration(at).get(t.configuration,!0)&&this.context.subscriptions.push(t.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new t.provider(this._stateManager,this.manager,this.context),t.trigger));this.context.subscriptions.push(s.workspace.onDidChangeConfiguration(t=>{for(const r of e)if(t.affectsConfiguration(`${at}.${r.configuration}`)){const n=s.workspace.getConfiguration(at).get(r.configuration,!0);!n&&r.disposable?(r.disposable.dispose(),r.disposable=void 0):n&&!r.disposable&&this.context.subscriptions.push(r.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new r.provider(this._stateManager,this.manager,this.context),r.trigger));break}}))}async createIssue(){var e,t;let r=(e=s.window.activeTextEditor)==null?void 0:e.document.uri;if(r||(r=(t=await this.chooseRepo(s.l10n.t("Select the repo to create the issue in.")))==null?void 0:t.repository.rootUri),r)return this.makeNewIssueFile(r)}async createIssueFromFile(){var e,t,r,n;const a=await ob(this.manager);if(!a||!s.window.activeTextEditor)return;const m=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(t=this.createIssueInfo)==null?void 0:t.newIssue,a.title,a.body,a.assignees,a.labels,a.milestone,(r=this.createIssueInfo)==null?void 0:r.lineNumber,(n=this.createIssueInfo)==null?void 0:n.insertIndex,a.originUri);this.createIssueInfo=void 0,m&&(await s.commands.executeCommand("workbench.action.closeActiveEditor"),this._newIssueCache.clear())}async editQuery(e){const t=s.workspace.getConfiguration(at,null),r=t.inspect(_t);let n;if(r==null?void 0:r.workspaceValue)n="workbench.action.openWorkspaceSettingsFile";else{const m=t.get(_t);(r==null?void 0:r.defaultValue)&&JSON.stringify(r==null?void 0:r.defaultValue)===JSON.stringify(m)&&t.update(_t,r.defaultValue,s.ConfigurationTarget.Global),n="workbench.action.openSettingsJson"}await s.commands.executeCommand(n);const a=s.window.activeTextEditor;if(a){const k=a.document.getText().search(e.labelAsString);if(k>=0){const O=a.document.positionAt(k);a.revealRange(new s.Range(O,O)),a.selection=new s.Selection(O,O)}}}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await s.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),s.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof Nr)return s.env.openExternal(s.Uri.parse(e.html_url))}async doStartWorking(e,t,r){let n=e,a=t.githubRepository,m=t.remote;if(!n){if(n=await this.chooseRepo(s.l10n.t("Choose which repository you want to work on this isssue in.")),!n)return;a=await n.getOrigin(),m=a.remote}const k=await n.findUpstreamForItem({githubRepository:a,remote:m});k.needsFork&&await n.tryOfferToFork(a)===void 0||await this._stateManager.setCurrentIssue(n,new Ch(t,n,this._stateManager,k.remote,r),!0)}async startWorking(e){if(e instanceof Nr)return this.doStartWorking(this.manager.getManagerForIssueModel(e),e);if(e instanceof s.Uri){const t=e.toString().match(_s),r=go(t),n=this.manager.folderManagers.find(a=>a.gitHubRepositories.find(m=>m.remote.owner===(r==null?void 0:r.owner)&&m.remote.repositoryName===r.name));if(r&&n){const a=await Vh(this._stateManager,n,e.toString(),r);if(a)return this.doStartWorking(n,a)}}}async startWorkingBranchPrompt(e){e instanceof Nr&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var t;let r=this.manager.getManagerForIssueModel(e);!r&&(r=await this.chooseRepo(s.l10n.t("Choose which repository you want to stop working on this issue in.")),!r)||e instanceof Nr&&((t=this._stateManager.currentIssue(r.repository.rootUri))==null?void 0:t.issue.number)===e.number&&await this._stateManager.setCurrentIssue(r,void 0,!0)}async statusBarActions(e){const t=s.l10n.t("{0} Open #{1} {2}","$(globe)",e.issue.number,e.issue.title),r=s.l10n.t({message:"{0} Create pull request for #{1} (pushes branch)",args:["$(git-pull-request)",e.issue.number],comment:["The first placeholder is an icon and shouldn't be localized","The second placeholder is the ID number of a GitHub Issue."]});let n;try{n=await e.manager.getPullRequestDefaults()}catch(O){}const a=s.l10n.t("{0} Stop working on #{1}","$(primitive-square)",e.issue.number),m=e.branchName&&n?[t,r,a]:[t,r,a];switch(await s.window.showQuickPick(m,{placeHolder:s.l10n.t("Current issue options")})){case t:return this.openIssue(e.issue);case r:{const O=Sn.getReviewManagerForFolderManager(this.reviewsManager.reviewManagers,e.manager);if(O)return Gb(e.manager,O,this._stateManager);break}case a:return this._stateManager.setCurrentIssue(e.manager,void 0,!0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const t=e.map(n=>({label:s.l10n.t("#{0} from {1}",n.issue.number,`${n.issue.githubRepository.remote.owner}/${n.issue.githubRepository.remote.repositoryName}`),currentIssue:n})),r=await s.window.showQuickPick(t);if(r)return this.statusBarActions(r.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof Nr)return s.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof Nr)return s.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await s.env.clipboard.readText())}async createTodoIssueBody(e,t){if(t||(e==null?void 0:e.document.isUntitled))return t;let r="";if(e){const n=Eu(this.gitAPI,e.document.uri);(n==null?void 0:n.state.workingTreeChanges.find(m=>m.uri.toString()===e.document.uri.toString()))&&(r=`\`\`\`
${e.line}
\`\`\`

`)}return r+=(await Ed(this.manager,this.gitAPI,!0,!0,e)).permalink,r}async createTodoIssue(e,t){let r,n,a,m,k,O;if(!e&&s.window.activeTextEditor)r=s.window.activeTextEditor.document,O=r.getText(s.window.activeTextEditor.selection);else if(e)r=e.document,a=e.insertIndex,m=e.lineNumber,n=e.line.substring(a,e.line.length).trim(),O=r.getText(e.range.isEmpty?r.lineAt(e.range.start.line).range:e.range);else return;const G=O.match(Sd);G&&G.length===2&&(await this._stateManager.getUserMap(r.uri)).has(G[1])&&(k=[G[1]]);let Z;const oe=await this.createTodoIssueBody(e,t),X=s.window.createInputBox();X.value=n!=null?n:"",X.prompt=s.l10n.t("Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description."),X.title=s.l10n.t("Create Issue"),X.buttons=[{iconPath:new s.ThemeIcon("edit"),tooltip:s.l10n.t("Edit Description")}],X.onDidAccept(async()=>{Z=X.value,Z&&(X.busy=!0,await this.doCreateIssue(r,e,Z,oe,k,void 0,void 0,m,a),X.busy=!1),X.hide()}),X.onDidTriggerButton(async()=>{Z=X.value,X.busy=!0,this.createIssueInfo={document:r,newIssue:e,lineNumber:m,insertIndex:a},this.makeNewIssueFile(r.uri,Z,oe,k),X.busy=!1,X.hide()}),X.show()}async makeNewIssueFile(e,t,r,n){const a=`?{"origin":"${e.toString()}"}`,m=s.Uri.parse(`${Rn}:/${rb}${a}`);if(s.window.visibleTextEditors.filter(De=>De.document.uri.scheme===Rn).length>0)return;await s.workspace.fs.delete(m);const k=`${Hs} ${n&&n.length>0?n.map(De=>"@"+De).join(", ")+" ":""}`,O=`${Vs} `,G=`${Fo} `,Z=this._newIssueCache.get(),oe=Z&&Z!==""?Z:`${t!=null?t:s.l10n.t("Issue Title")}

${k}
${O}
${G}

${r!=null?r:""}

<!-- ${s.l10n.t('Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue.')} -->`;await s.workspace.fs.writeFile(m,this.stringToUint8Array(oe));const X=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated usernames, either @username or just username."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),de=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated labels."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),ke=s.window.onDidChangeActiveTextEditor(De=>{if((De==null?void 0:De.document.uri.scheme)===Rn){const Fe=De.document.lineAt(2);Fe.text.startsWith(Hs)&&De.setDecorations(X,[new s.Range(new s.Position(2,0),new s.Position(2,Fe.text.length))]);const Ze=De.document.lineAt(3);Ze.text.startsWith(Vs)&&De.setDecorations(de,[new s.Range(new s.Position(3,0),new s.Position(3,Ze.text.length))])}}),Ne=await s.window.showTextDocument(m),Ie=s.workspace.onDidCloseTextDocument(De=>{De===Ne.document&&(ke.dispose(),Ie.dispose())})}async verifyLabels(e,t){var r;if(!t.labels)return!0;const n=(await e.getLabels(void 0,t)).map(k=>k.name),a=[],m=[];if((r=t.labels)==null||r.forEach(k=>{let O=typeof k=="string"?k:k.name;!O||(n.includes(O)?m.push(O):a.push(O))}),a.length>0){const k=s.l10n.t("Yes"),O=s.l10n.t("No");switch(await s.window.showInformationMessage(s.l10n.t(`The following labels don't exist in this repository: {0}. 
Do you want to create these labels?`,a.join(", ")),{modal:!0},k,O)){case k:return!0;case O:return t.labels=m,!0;default:return!1}}return!0}async chooseRepo(e){const t=[];for(const n of this.manager.folderManagers)try{const a=await n.getPullRequestDefaults();t.push({label:`${a.owner}/${a.repo}`,repo:n})}catch(a){}if(t.length===0)return;if(t.length===1)return t[0].repo;const r=await s.window.showQuickPick(t,{placeHolder:e});return r==null?void 0:r.repo}async doCreateIssue(e,t,r,n,a,m,k,O,G,Z){let oe,X;if(e?X=this.manager.getManagerForFile(e.uri):Z&&(X=this.manager.getManagerForFile(Z)),X||(X=await this.chooseRepo(s.l10n.t("Choose where to create the issue."))),!X)return!1;try{oe=await X.getPullRequestDefaults()}catch(Ie){return s.window.showErrorMessage(s.l10n.t("There is no remote. Can't create an issue.")),!1}const de=n||(t==null?void 0:t.document.isUntitled)?n:(await Ed(this.manager,this.gitAPI,!0,!0,t)).permalink,ke={owner:oe.owner,repo:oe.repo,title:r,body:de,assignees:a,labels:m,milestone:k};if(!await this.verifyLabels(X,ke))return!1;const Ne=await X.createIssue(ke);if(Ne){if(e!==void 0&&G!==void 0&&O!==void 0){const Ie=new s.WorkspaceEdit,De=s.workspace.getConfiguration(at).get(yi,"number")==="number"?`#${Ne.number}`:Ne.html_url;Ie.insert(e.uri,new s.Position(O,G),` ${De}`),await s.workspace.applyEdit(Ie)}else{const Ie=s.l10n.t("Copy Issue Link"),De=s.l10n.t({message:"Open Issue",comment:"Open the issue description in the browser to see it's full contents."});s.window.showInformationMessage(s.l10n.t("Issue created"),Ie,De).then(async Fe=>{switch(Fe){case Ie:await s.env.clipboard.writeText(Ne.html_url);break;case De:await s.env.openExternal(s.Uri.parse(Ne.html_url));break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1}async getPermalinkWithError(e,t,r,n){const a=await Ed(e,this.gitAPI,t,r,void 0,n);return a.error&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub permalink for the selection. {0}",a.error)),a}async getHeadLinkWithError(e,t){const r=await Vb(this.manager,e,t);return r.error&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub link for the selection. {0}",r.error)),r}async getContextualizedLink(e,t){let r;try{r=await s.env.asExternalUri(e)}catch(k){return t}const n=r.scheme==="https"&&/^(insiders\.vscode|vscode|github)\./.test(r.authority)?r.authority:void 0;if(!n)return t;const a=s.Uri.parse(t),m=/^(github)\./.test(r.authority)?a.path:`/github${a.path}`;return a.with({authority:n,path:m}).toString()}async copyPermalink(e,t,r=!0,n=!0,a=!1){const m=await this.getPermalinkWithError(e,r,n,t);if(m.permalink){const k=a&&m.originalFile?await this.getContextualizedLink(m.originalFile,m.permalink):m.permalink;return h.debug(`writing ${k} to the clipboard`,$s),s.env.clipboard.writeText(k)}}async copyHeadLink(e,t=!0){const r=await this.getHeadLinkWithError(e,t);if(r.permalink)return s.env.clipboard.writeText(r.permalink)}getMarkdownLinkText(){if(!s.window.activeTextEditor)return;let e=s.window.activeTextEditor.selection;e.start.line!==e.end.line&&(e=new s.Range(e.start,new s.Position(e.start.line+1,0)));const t=s.window.activeTextEditor.document.getText(e);if(t)return t;if(e=s.window.activeTextEditor.document.getWordRangeAtPosition(e.start),e)return s.window.activeTextEditor.document.getText(e)}async copyMarkdownPermalink(e,t,r=!0){const n=await this.getPermalinkWithError(e,r,!0,t),a=this.getMarkdownLinkText();if(n.permalink&&a)return s.env.clipboard.writeText(`[${a.trim()}](${n.permalink})`)}async openPermalink(e){const t=await this.getPermalinkWithError(e,!0,!0);if(t.permalink)return s.env.openExternal(s.Uri.parse(t.permalink))}}var fy=Object.defineProperty,En=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?fy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);function cm(i){switch(i){case ie.DELETED:return Ht.DELETE;case ie.ADDED_BY_US:return Ht.ADD;case ie.INDEX_RENAMED:return Ht.RENAME;case ie.MODIFIED:return Ht.MODIFY;default:return Ht.UNKNOWN}}class hy extends Ur{constructor(e,t,r){super();this.model=e,this.commit=t,this.parentRef=r}getTreeItem(){var e;return{label:this.commit.commit.message,description:((e=this.commit.commit.author)==null?void 0:e.date)?z(new Date(this.commit.commit.author.date)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){if(!this.model.gitHubRepository)return[];const{octokit:e,remote:t}=await this.model.gitHubRepository.ensure(),{data:r}=await e.call(e.api.repos.compareCommits,{repo:t.repositoryName,owner:t.owner,base:this.parentRef,head:this.commit.sha}),n=r.files;return n?n.map(a=>new vl(this,a.filename,a.previous_filename,ni(a.status),this.parentRef,this.commit.sha,!1)):[]}}class my extends Ur{constructor(e,t,r){super();this.commit=e,this.folderRepoManager=t,this.parentRef=r}getTreeItem(){return{label:this.commit.message,description:this.commit.authorDate?z(new Date(this.commit.authorDate)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){return(await this.folderRepoManager.repository.diffBetween(this.parentRef,this.commit.hash)).map(t=>{const r=p.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),n=p.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new vl(this,r,n,cm(t.status),this.parentRef,this.commit.hash,!0)})}}class Od{constructor(e){this.model=e,En(this,"_view"),En(this,"_onDidChangeTreeData",new s.EventEmitter),En(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),En(this,"_disposables",[]),En(this,"_isDisposed",!1),this._disposables.push(e.onDidChange(()=>{this._onDidChangeTreeData.fire()}))}get view(){return this._view}set view(e){this._view=e}async reveal(e,t){return this._view.reveal(e,t)}refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getRawGitHubData(){try{const e=await this.model.gitHubFiles(),t=await this.model.gitHubCommits(),r=await this.model.gitHubMergeBase();return!(e==null?void 0:e.length)||!(t==null?void 0:t.length)?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.getCompareBranch())),{}):this._isDisposed?{}:(this.view.message=void 0,{rawFiles:e,rawCommits:t,mergeBase:r})}catch(e){return"name"in e&&e.name==="HttpError"&&e.status===404&&(this.view.message=new s.MarkdownString(s.l10n.t("The upstream branch `{0}` does not exist on GitHub",this.model.baseBranch))),{}}}async getChildren(e){try{return await this.model.getCompareHasUpstream()?this.getGitHubChildren(e):this.getGitChildren(e)}catch(t){return h.error(`Comparing changes failed: ${t}`),[]}}dispose(){this._isDisposed=!0,this._disposables.forEach(e=>e.dispose()),this._view.dispose()}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===li.GithubPr||t.input.modified.scheme===li.GitPr)&&s.window.tabGroups.close(t)}))}}class py extends Od{constructor(e,t){super(e);this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawFiles:t,mergeBase:r}=await this.getRawGitHubData();if(t&&r)return t.map(n=>new vl(this,n.filename,n.previous_filename,ni(n.status),r,this.model.getCompareBranch(),!1))}async getGitFileChildren(e){return e.map(t=>{const r=p.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),n=p.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new vl(this,r,n,cm(t.status),this.model.baseBranch,this.model.getCompareBranch(),!0)})}async getGitChildren(e){if(e)return e.getChildren();{const t=await this.model.gitFiles();if(t.length===0)return this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.getCompareBranch())),[];if(await this.model.getCompareHasUpstream()){if(this._isDisposed)return[];this.view.message=void 0}else{const r=new s.MarkdownString(s.l10n.t({message:"Branch `{0}` has not been pushed yet. [Publish branch](command:git.publish) to see all changes.",args:[this.model.getCompareBranch()],comment:"{Locked='](command:git.publish)'}"}));r.isTrusted={enabledCommands:["git.publish"]},this.view.message=r}return this.getGitFileChildren(t)}}}class vy extends Od{constructor(e,t){super(e);this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawCommits:t}=await this.getRawGitHubData();if(t)return t.map((r,n)=>new hy(this.model,r,n===0?this.model.baseBranch:t[n-1].sha))}async getGitChildren(e){if(e)return e.getChildren();const t=await this.model.gitCommits();return t.length===0?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.getCompareBranch())),[]):this._isDisposed?[]:(this.view.message=void 0,t.reverse().map((r,n)=>new my(r,this.folderRepoManager,n===0?this.model.baseBranch:t[n-1].hash)))}}class fm{constructor(e,t){this.folderRepoManager=e,this.model=t,En(this,"_filesView"),En(this,"_filesDataProvider"),En(this,"_commitsView"),En(this,"_commitsDataProvider"),En(this,"_gitHubcontentProvider"),En(this,"_gitcontentProvider"),En(this,"_disposables",[]),this._filesDataProvider=new py(t,e),this._filesView=s.window.createTreeView("github:compareChangesFiles",{treeDataProvider:this._filesDataProvider}),this._filesDataProvider.view=this._filesView,this._commitsDataProvider=new vy(t,e),this._commitsView=s.window.createTreeView("github:compareChangesCommits",{treeDataProvider:this._commitsDataProvider}),this._commitsDataProvider.view=this._commitsView,this._disposables.push(this._filesDataProvider),this._disposables.push(this._filesView),this._disposables.push(this._commitsDataProvider),this._disposables.push(this._commitsView),this.initialize()}updateBaseBranch(e){this.model.baseBranch=e}updateBaseOwner(e){this.model.baseOwner=e}async updateCompareBranch(e){this.model.setCompareBranch(e)}set compareOwner(e){this.model.compareOwner=e}initialize(){if(!!this.model.gitHubRepository&&!this._gitHubcontentProvider)try{this._gitHubcontentProvider=new ov(this.model.gitHubRepository),this._gitcontentProvider=new lv(this.folderRepoManager),this._disposables.push(s.workspace.registerFileSystemProvider(li.GithubPr,this._gitHubcontentProvider,{isReadonly:!0})),this._disposables.push(s.workspace.registerFileSystemProvider(li.GitPr,this._gitcontentProvider,{isReadonly:!0})),this._disposables.push(ae(()=>{Od.closeTabs()}))}catch(e){}}dispose(){this._disposables.forEach(e=>e.dispose()),this._gitHubcontentProvider=void 0,this._gitcontentProvider=void 0,this._filesView.dispose()}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===li.GithubPr||t.input.modified.scheme===li.GitPr)&&s.window.tabGroups.close(t)}))}}var gy=Object.defineProperty,rr=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?gy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const by=new RegExp("closes|closed|close|fixes|fixed|fix|resolves|resolved|resolves$","i"),Cn=class extends fc{constructor(i,e,t,r,n,a){super(t);this.telemetry=i,this.model=e,this._folderRepositoryManager=r,this._pullRequestDefaults=n,rr(this,"viewType","github:createPullRequestWebview"),rr(this,"_onDone",new s.EventEmitter),rr(this,"onDone",this._onDone.event),rr(this,"_onDidChangeBaseRemote",new s.EventEmitter),rr(this,"onDidChangeBaseRemote",this._onDidChangeBaseRemote.event),rr(this,"_onDidChangeBaseBranch",new s.EventEmitter),rr(this,"onDidChangeBaseBranch",this._onDidChangeBaseBranch.event),rr(this,"_onDidChangeCompareRemote",new s.EventEmitter),rr(this,"onDidChangeCompareRemote",this._onDidChangeCompareRemote.event),rr(this,"_onDidChangeCompareBranch",new s.EventEmitter),rr(this,"onDidChangeCompareBranch",this._onDidChangeCompareBranch.event),rr(this,"_compareBranch"),rr(this,"_baseBranch"),rr(this,"_baseRemote"),rr(this,"_firstLoad",!0),rr(this,"_defaultCompareBranch"),rr(this,"initializeWhenVisibleDisposable"),rr(this,"_alreadyInitializing"),rr(this,"milestone"),rr(this,"reviewers",[]),rr(this,"assignees",[]),rr(this,"labels",[]),rr(this,"lastGeneratedTitleAndDescription"),rr(this,"generatingCancellationToken"),this._defaultCompareBranch=a}resolveWebviewView(i,e,t){return super.resolveWebviewView(i,e,t),i.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}get defaultCompareBranch(){return this._defaultCompareBranch}set defaultCompareBranch(i){var e,t;const r=i&&i.name!==this._defaultCompareBranch.name,n=i&&((e=i.upstream)==null?void 0:e.remote)!==((t=this._defaultCompareBranch.upstream)==null?void 0:t.remote),a=i&&i.commit!==this._defaultCompareBranch.commit;(r||n||a)&&(this._defaultCompareBranch=i,this.changeBranch(i.name,!1).then(m=>{const k={defaultTitle:m.title,defaultDescription:m.description,compareBranch:i==null?void 0:i.name,defaultCompareBranch:i==null?void 0:i.name};if(!n)return this._postMessage({command:"pr.initialize",params:k})}),r&&this._onDidChangeCompareBranch.fire(this._defaultCompareBranch.name))}show(i){i&&(this.defaultCompareBranch=i),super.show()}static withProgress(i){return s.window.withProgress({location:{viewId:"github:createPullRequestWebview"}},i)}async getTotalGitHubCommits(i,e){var t;const r=await this._folderRepositoryManager.getOrigin(i);if(i.upstream){const n=this._folderRepositoryManager.findRepo(As(i.upstream.remote));if(n){const a=`${n.remote.owner}:${(t=i.name)!=null?t:""}`,m=`${this._pullRequestDefaults.owner}:${e}`,k=await r.compareCommits(m,a);return k==null?void 0:k.total_commits}}}async getTitleAndDescription(i,e){let t="",r="";const n=s.workspace.getConfiguration(Be).get(Bt);if(n==="none")return{title:t,description:r};const a=await this._folderRepositoryManager.getOrigin(i);let m=this._pullRequestDefaults.base===i.name;h.debug(`Compare branch name: ${i.name}, Base branch name: ${this._pullRequestDefaults.base}`,Cn.ID);try{const k=i.name,[O,G,Z]=await Promise.all([this.getTotalGitHubCommits(i,e),k?Sv($(this._folderRepositoryManager.getTipCommitMessage(k),5e3)):void 0,n==="template"?await this.getPullRequestTemplate():void 0]);if(h.debug(`Total commits: ${O}`,Cn.ID),O===void 0?m=!1:O>1&&(m=await a.getDefaultBranch()!==i.name),m&&k?t=`${k.charAt(0).toUpperCase()}${k.slice(1)}`:k&&G&&(t=G.title),Z&&(G==null?void 0:G.body)?r=`${G.body}

${Z}`:Z?r=Z:(G==null?void 0:G.body)&&this._pullRequestDefaults.base!==i.name&&(r=G.body),!r){const oe=t.match(_p),X=go(oe);if((X==null?void 0:X.issueNumber)&&!X.name&&!X.owner){r=`#${X.issueNumber}`;const ke=t.substr(0,t.indexOf(oe[0])).match(by);ke&&(r=`${ke[0]} ${r}`)}}}catch(k){h.debug(`Error while getting total commits: ${k}`,Cn.ID)}return{title:t,description:r}}async getPullRequestTemplate(){h.debug("Pull request template - enter",Cn.ID);const i=await this._folderRepositoryManager.getPullRequestTemplatesWithCache();let e;if(i[0])try{const t=await s.workspace.fs.readFile(i[0]);e=new TextDecoder("utf-8").decode(t)}catch(t){h.warn(`Reading pull request template failed: ${t}`);return}return h.debug("Pull request template - done",Cn.ID),e}async getMergeConfiguration(i,e,t=!1){return(await this._folderRepositoryManager.createGitHubRepositoryFromOwnerName(i,e)).getRepoAccessAndMergeMethods(t)}async initializeParams(i=!1){var e,t;if(((e=this._view)==null?void 0:e.visible)===!1&&this.initializeWhenVisibleDisposable===void 0){this.initializeWhenVisibleDisposable=(t=this._view)==null?void 0:t.onDidChangeVisibility(()=>{var r;(r=this.initializeWhenVisibleDisposable)==null||r.dispose(),this.initializeWhenVisibleDisposable=void 0,this.initializeParams()});return}i&&this._postMessage({command:"reset"}),await this.initializeParamsPromise()}async initializeParamsPromise(){return this._alreadyInitializing||(this._alreadyInitializing=this.doInitializeParams(),this._alreadyInitializing.then(()=>{this._alreadyInitializing=void 0})),this._alreadyInitializing}async doInitializeParams(){var i,e,t,r,n,a,m;if(!this.defaultCompareBranch)throw new gf(this._folderRepositoryManager.repository);const k=(i=this.defaultCompareBranch.name)!=null?i:"",[O,G,Z]=await Promise.all([pn.getMatchingBaseBranchMetadataForBranch(this._folderRepositoryManager.repository,k),this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.getOrigin(this.defaultCompareBranch)]),oe={owner:(e=O==null?void 0:O.owner)!=null?e:this._pullRequestDefaults.owner,repositoryName:(t=O==null?void 0:O.repositoryName)!=null?t:this._pullRequestDefaults.repo};(oe.owner!==this._pullRequestDefaults.owner||oe.repositoryName!==this._pullRequestDefaults.repo)&&this._onDidChangeBaseRemote.fire(oe);const X={owner:Z.remote.owner,repositoryName:Z.remote.repositoryName},de=(r=O==null?void 0:O.branch)!=null?r:this._pullRequestDefaults.base;de!==this._pullRequestDefaults.base&&this._onDidChangeBaseBranch.fire(de);const[ke,Ne,Ie]=await Promise.all([this.getTitleAndDescription(this.defaultCompareBranch,de),this.getMergeConfiguration(oe.owner,oe.repositoryName),Z.getViewerPermission()]),De=s.workspace.getConfiguration(Be).get(mt,"lastUsed"),Fe=this._folderRepositoryManager.context.workspaceState.get(Ku,void 0),Ze=nl(Ne.mergeMethodsAvailability);let it=Ze,ht=!1,Pt=!1;it=De==="lastUsed"&&(Fe==null?void 0:Fe.mergeMethod)?Fe==null?void 0:Fe.mergeMethod:Ze,De==="lastUsed"?(it=(n=Fe==null?void 0:Fe.mergeMethod)!=null?n:Ze,ht=!!(Fe==null?void 0:Fe.isDraft),Pt=Ne.viewerCanAutoMerge&&!!(Fe==null?void 0:Fe.autoMerge)):De==="createDraft"?ht=!0:De==="createAutoMerge"&&(Pt=Ne.viewerCanAutoMerge),Lr.setContext(sn.CREATE_PR_PERMISSIONS,Ie);const At=!!this._folderRepositoryManager.getTitleAndDescriptionProvider("GitHub Copilot")&&s.workspace.getConfiguration(Be).get(Bt)==="Copilot",$t=(a=this._folderRepositoryManager.getTitleAndDescriptionProvider())==null?void 0:a.title;$t&&this.telemetry.sendTelemetryEvent("pr.defaultTitleAndDescriptionProvider",{providerTitle:$t});const ri={defaultBaseRemote:oe,defaultBaseBranch:de,defaultCompareRemote:X,defaultCompareBranch:k,defaultTitle:ke.title,defaultDescription:ke.description,defaultMergeMethod:it,remoteCount:G.length,allowAutoMerge:Ne.viewerCanAutoMerge,mergeMethodsAvailability:Ne.mergeMethodsAvailability,autoMergeDefault:Pt,createError:"",labels:this.labels,isDraftDefault:ht,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,generateTitleAndDescriptionTitle:$t,creating:!1,initializeWithGeneratedTitleAndDescription:At};return h.appendLine(`Initializing "create" view: ${JSON.stringify(ri)}`,Cn.ID),this._compareBranch=(m=this.defaultCompareBranch.name)!=null?m:"",this._baseBranch=de,this._baseRemote=oe,this._postMessage({command:"pr.initialize",params:ri}),ri}async remotePicks(i){return(i?await this._folderRepositoryManager.getActiveGitHubRemotes(await this._folderRepositoryManager.getGitHubRemotes()):this._folderRepositoryManager.gitHubRepositories.map(t=>t.remote)).map(t=>({iconPath:new s.ThemeIcon("repo"),label:`${t.owner}/${t.repositoryName}`,remote:{owner:t.owner,repositoryName:t.repositoryName}}))}async branchPicks(i,e,t){let r;t?r=await i.listBranches(i.remote.owner,i.remote.repositoryName):r=(await this._folderRepositoryManager.repository.getBranches({remote:!1})).filter(a=>a.name);const n=r.map(a=>{const m=typeof a=="string"?a:a.name;return{iconPath:new s.ThemeIcon("git-branch"),label:m,remote:{owner:i.remote.owner,repositoryName:i.remote.repositoryName},branch:m}});return n.unshift({kind:s.QuickPickItemKind.Separator,label:`${i.remote.owner}/${i.remote.repositoryName}`}),n.unshift({iconPath:new s.ThemeIcon("repo"),label:e}),n}async processRemoteAndBranchResult(i,e,t){const[r,n]=await Promise.all([i.getDefaultBranch(),i.getViewerPermission()]);Lr.setContext(sn.CREATE_PR_PERMISSIONS,n);let a;if(t){const m=this._baseRemote!==e.remote,k=m||this._baseBranch!==e.branch;this._baseBranch=e.branch,this._baseRemote=e.remote;const O=await this._folderRepositoryManager.repository.getBranch(this._compareBranch),[G,Z]=await Promise.all([this.getMergeConfiguration(e.remote.owner,e.remote.repositoryName),this.getTitleAndDescription(O,this._baseBranch)]);let oe=!1;if(G.viewerCanAutoMerge){const X=s.workspace.getConfiguration(Be).get(mt,"lastUsed"),de=this._folderRepositoryManager.context.workspaceState.get(Ku,void 0);oe=X==="lastUsed"&&(de==null?void 0:de.autoMerge)||X==="createAutoMerge"}a={baseRemote:e.remote,baseBranch:e.branch,defaultBaseBranch:r,defaultMergeMethod:nl(G.mergeMethodsAvailability),allowAutoMerge:G.viewerCanAutoMerge,mergeMethodsAvailability:G.mergeMethodsAvailability,autoMergeDefault:oe,defaultTitle:Z.title,defaultDescription:Z.description},m&&(this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseRemote"),this._onDidChangeBaseRemote.fire(this._baseRemote)),k&&(this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseBranch"),this._onDidChangeBaseBranch.fire(this._baseBranch))}else this._compareBranch=e.branch,a={compareRemote:e.remote,compareBranch:e.branch,defaultCompareBranch:r},this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedCompare"),this._onDidChangeCompareRemote.fire(e.remote),this._onDidChangeCompareBranch.fire(this._compareBranch);return a}async changeRemoteAndBranch(i,e){this.cancelGenerateTitleAndDescription();const t=s.window.createQuickPick();let r=this._folderRepositoryManager.findRepo(de=>{var ke;return((ke=i.args.currentRemote)==null?void 0:ke.owner)===de.remote.owner&&i.args.currentRemote.repositoryName===de.remote.repositoryName});const n=s.l10n.t("Change Repository..."),a=s.l10n.t("Choose a remote"),m=e?s.l10n.t("Choose a base branch"):s.l10n.t("Choose a branch to merge"),k=e?s.l10n.t("Choose a base repository"):s.l10n.t("Choose a repository to merge from");t.placeholder=r?m:a,t.show(),t.busy=!0,t.items=r?await this.branchPicks(r,n,e):await this.remotePicks(e);const O=i.args.currentBranch?t.items.find(de=>de.branch===i.args.currentBranch):void 0;t.activeItems=O?[O]:[],t.busy=!1;const G=new Promise(de=>{t.onDidAccept(async()=>{if(t.selectedItems.length===0)return;const ke=t.selectedItems[0];if(ke.label===n)t.busy=!0,t.items=await this.remotePicks(e),t.busy=!1,t.placeholder=r?k:a;else if(ke.branch===void 0&&ke.remote){const Ne=ke;t.busy=!0,r=this._folderRepositoryManager.findRepo(Ie=>Ie.remote.owner===Ne.remote.owner&&Ie.remote.repositoryName===Ne.remote.repositoryName),t.items=await this.branchPicks(r,n,e),t.placeholder=m,t.busy=!1}else if(ke.branch&&ke.remote){const Ne=ke;de({remote:Ne.remote,branch:Ne.branch})}})}),Z=new Promise(de=>t.onDidHide(()=>de())),oe=await Promise.race([G,Z]);if(!oe||!r){t.hide(),t.dispose();return}t.busy=!0;const X=await this.processRemoteAndBranchResult(r,oe,e);return t.hide(),t.dispose(),this._replyMessage(i,X)}async autoAssign(i){var e;const t=s.workspace.getConfiguration(Be).get(ft);if(!t)return;const r=await Cs(t,i,void 0,(e=await this._folderRepositoryManager.getCurrentUser(i.githubRepository))==null?void 0:e.login);if(!!r)try{await i.addAssignees([r])}catch(n){h.error(`Unable to assign pull request to user ${r}.`)}}async enableAutoMerge(i,e,t){if(e&&t)return i.enableAutoMerge(t)}async setLabels(i,e){e.length>0&&await i.setLabels(e.map(t=>t.name))}async setAssignees(i,e){e.length?await i.addAssignees(e.map(t=>t.login)):await this.autoAssign(i)}async setReviewers(i,e){if(e.length){const t=[],r=[];for(const n of e)kr(n)?r.push(n.id):t.push(n.id);await i.requestReview(t,r)}}setMilestone(i,e){e&&i.updateMilestone(e.id)}async getRemote(){return(await this._folderRepositoryManager.getGitHubRemotes()).find(i=>fe(i.owner,this._baseRemote.owner)===0&&fe(i.repositoryName,this._baseRemote.repositoryName)===0)}async addMilestone(){const i=await this.getRemote(),e=this._folderRepositoryManager.gitHubRepositories.find(t=>t.remote.remoteName===i.remoteName);return pc(this._folderRepositoryManager,e,this.milestone,t=>(this.milestone=t,this._postMessage({command:"set-milestone",params:{milestone:this.milestone}})))}async addReviewers(){let i;const e=await this.getRemote();try{const t=this._folderRepositoryManager.gitHubRepositories.find(G=>G.remote.remoteName===e.remoteName),[r,n,a]=await Promise.all([t==null?void 0:t.getMetadata(),this._folderRepositoryManager.getCurrentUser(),this._folderRepositoryManager.getOrgTeamsCount(t)]);i=await mc(this._folderRepositoryManager,e.remoteName,!!(r==null?void 0:r.organization),a,n,this.reviewers.map(G=>({reviewer:G,state:"REQUESTED"})),[]),i.busy=!1;const m=A(i.onDidAccept).then(()=>i.selectedItems.filter(G=>G.user)),k=A(i.onDidHide),O=await Promise.race([m,k]);i.busy=!0,O&&(this.reviewers=O.map(G=>G.user),this._postMessage({command:"set-reviewers",params:{reviewers:this.reviewers}}))}catch(t){h.error(F(t)),s.window.showErrorMessage(F(t))}finally{i==null||i.hide(),i==null||i.dispose()}}async addAssignees(){const i=await this.getRemote(),e=await s.window.showQuickPick(hc(this._folderRepositoryManager,i.remoteName,this.assignees),{canPickMany:!0,placeHolder:s.l10n.t("Add assignees")});if(e){const t=e.map(r=>r.user).filter(r=>!!r);this.assignees=t,this._postMessage({command:"set-assignees",params:{assignees:this.assignees}})}}async addLabels(){let i=[];const e=await s.window.showQuickPick(vc(this._folderRepositoryManager,this.labels,this._baseRemote).then(t=>(i=t.newLabels,t.labelPicks)),{canPickMany:!0,placeHolder:s.l10n.t("Apply labels")});if(e){const t=e.map(r=>i.find(n=>n.name===r.label));this.labels=t,this._postMessage({command:"set-labels",params:{labels:this.labels}})}}async removeLabel(i){const{label:e}=i.args;if(!e)return;const t=this.labels.length;this.labels=this.labels.filter(r=>r.name!==e.name),t!==this.labels.length&&this._postMessage({command:"set-labels",params:{labels:this.labels}})}async getTitleAndDescriptionFromProvider(i,e){return Cn.withProgress(async()=>{try{let t,r;await this.model.getCompareHasUpstream()?(t=(await this.model.gitHubCommits()).map(m=>m.commit.message),r=(await this.model.gitHubFiles()).map(m=>{var k;return(k=m.patch)!=null?k:""})):(t=(await this.model.gitCommits()).map(m=>m.message),r=await Promise.all((await this.model.gitFiles()).map(async m=>this._folderRepositoryManager.repository.diffBetween(this.model.baseBranch,this.model.getCompareBranch(),m.uri.fsPath))));const n=this._folderRepositoryManager.getTitleAndDescriptionProvider(e),a=await(n==null?void 0:n.provider.provideTitleAndDescription(t,r,i));return n&&(this.lastGeneratedTitleAndDescription={...a,providerTitle:n.title},this.telemetry.sendTelemetryEvent("pr.generatedTitleAndDescription",{providerTitle:n==null?void 0:n.title})),a}catch(t){h.error(`Error while generating title and description: ${t}`,Cn.ID);return}})}async generateTitleAndDescription(i){this.generatingCancellationToken&&this.generatingCancellationToken.cancel(),this.generatingCancellationToken=new s.CancellationTokenSource;const e=await Promise.race([this.getTitleAndDescriptionFromProvider(this.generatingCancellationToken.token,i.args.useCopilot?"GitHub Copilot":void 0),new Promise(r=>{var n;return(n=this.generatingCancellationToken)==null?void 0:n.token.onCancellationRequested(()=>r(!0))})]);this.generatingCancellationToken=void 0;const t={title:void 0,description:void 0};return e!==!0&&(t.title=e==null?void 0:e.title,t.description=e==null?void 0:e.description),this._replyMessage(i,{title:t==null?void 0:t.title,description:t==null?void 0:t.description})}async cancelGenerateTitleAndDescription(){this.generatingCancellationToken&&this.generatingCancellationToken.cancel()}async pushUpstream(i,e,t){let r;const n=this._folderRepositoryManager.repository.state.remotes.find(a=>{if(!a.pushUrl)return!1;const m=new Qa(a.name,a.pushUrl,new xr(a.pushUrl),ji.GitHubDotCom);return m.owner.toLowerCase()===i.toLowerCase()&&m.repositoryName.toLowerCase()===e.toLowerCase()?(r=m,!0):!1});if(n&&r)return h.appendLine(`Found push remote ${n.name} for ${i}/${e} and branch ${t}`,Cn.ID),await this._folderRepositoryManager.repository.push(n.name,t,!0),await this._folderRepositoryManager.repository.status(),{compareUpstream:r,repo:this._folderRepositoryManager.findRepo(As(r.remoteName))}}async createFromCommand(i,e,t){const r={isDraft:i,autoMerge:e,autoMergeMethod:t,creating:!0};return this._postMessage({command:"create",params:r})}checkGeneratedTitleAndDescription(i,e){var t,r;if(!this.lastGeneratedTitleAndDescription)return;const n=!!this.lastGeneratedTitleAndDescription.title&&(this.lastGeneratedTitleAndDescription.title===i||((t=this.lastGeneratedTitleAndDescription.title)==null?void 0:t.includes(i))||(i==null?void 0:i.includes(this.lastGeneratedTitleAndDescription.title))),a=!!this.lastGeneratedTitleAndDescription.description&&(this.lastGeneratedTitleAndDescription.description===e||((r=this.lastGeneratedTitleAndDescription.description)==null?void 0:r.includes(e))||(e==null?void 0:e.includes(this.lastGeneratedTitleAndDescription.description)));this.telemetry.sendTelemetryEvent("pr.usedGeneratedTitleAndDescription",{providerTitle:this.lastGeneratedTitleAndDescription.providerTitle,usedGeneratedTitle:n.toString(),usedGeneratedDescription:a.toString()})}async create(i){h.debug(`Creating pull request with args ${JSON.stringify(i.args)}`,Cn.ID);const e={autoMerge:i.args.autoMerge,mergeMethod:i.args.autoMergeMethod,isDraft:i.args.draft};this._folderRepositoryManager.context.workspaceState.update(Ku,e);const t=r=>Promise.all([this.setLabels(r,i.args.labels),this.enableAutoMerge(r,i.args.autoMerge,i.args.autoMergeMethod),this.setAssignees(r,i.args.assignees),this.setReviewers(r,i.args.reviewers),this.setMilestone(r,i.args.milestone)]);Cn.withProgress(()=>s.window.withProgress({location:s.ProgressLocation.Notification},async r=>{let n=0;r.report({message:s.l10n.t("Checking for upstream branch"),increment:n});let a;try{const m=i.args.compareOwner,k=i.args.compareRepo,O=i.args.compareBranch,G=`${m}/${k}`;let oe=(await this._folderRepositoryManager.repository.getBranch(O)).upstream?this._folderRepositoryManager.findRepo(ke=>ke.remote.owner===m&&ke.remote.repositoryName===k):void 0,X=oe==null?void 0:oe.remote;if(!X||X.owner!==m||X.repositoryName!==k){const ke=s.l10n.t("Always Publish Branch"),Ne=s.l10n.t("Publish Branch"),De=s.workspace.getConfiguration(Be).get(wt)==="always"?Ne:await s.window.showInformationMessage(s.l10n.t(`There is no remote branch on {0}/{1} for '{2}'.

Do you want to publish it and then create the pull request?`,m,k,O),{modal:!0},Ne,ke);if(De===ke&&await s.workspace.getConfiguration(Be).update(wt,"always",s.ConfigurationTarget.Global),De===ke||De===Ne){r.report({message:s.l10n.t("Pushing branch"),increment:10}),n+=10;const Fe=await this.pushUpstream(m,k,O);Fe?(X=Fe.compareUpstream,oe=Fe.repo):this._throwError(i,s.l10n.t("The current repository does not have a push remote for {0}",G))}}if(!X){this._throwError(i,s.l10n.t("No remote branch on {0}/{1} for the merge branch.",m,k)),r.report({message:s.l10n.t("Pull request cancelled"),increment:100-n});return}if(!oe)throw new Error(s.l10n.t(`Unable to find GitHub repository matching '{0}'. You can add '{0}' to the setting "githubPullRequests.remotes" to ensure '{0}' is found.`,X.remoteName));r.report({message:s.l10n.t("Creating pull request"),increment:70-n}),n+=70-n;const de=`${oe.remote.owner}:${O}`;this.checkGeneratedTitleAndDescription(i.args.title,i.args.body),a=await this._folderRepositoryManager.createPullRequest({...i.args,head:de}),a?await t(a):this._throwError(i,s.l10n.t("There must be a difference in commits to create a pull request."))}catch(m){if(a)m.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await t(a),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",m.message));else{let k=m.message;k.startsWith("GraphQL error: ")&&(k=k.substring("GraphQL error: ".length)),this._throwError(i,k)}}finally{let m;a?(this._onDone.fire(a),m=s.l10n.t("Pull request created")):(await this._replyMessage(i,{}),m=s.l10n.t("Unable to create pull request")),r.report({message:m,increment:100-n})}}))}async changeBranch(i,e){let t;if(e)this._baseBranch=i,this._onDidChangeBaseBranch.fire(i);else try{t=await this._folderRepositoryManager.repository.getBranch(i),this._compareBranch=i,this._onDidChangeCompareBranch.fire(t.name)}catch(r){s.window.showErrorMessage(s.l10n.t("Branch does not exist locally."))}return t=t!=null?t:await this._folderRepositoryManager.repository.getBranch(this._compareBranch),this.getTitleAndDescription(t,this._baseBranch)}async cancel(i){return s.commands.executeCommand("setContext","github:createPullRequest",!1),this._onDone.fire(void 0),await this.getMergeConfiguration(i.args.owner,i.args.repo,!0),this._replyMessage(i,void 0)}async _onDidReceiveMessage(i){if(await super._onDidReceiveMessage(i)===this.MESSAGE_UNHANDLED)switch(i.command){case"pr.requestInitialize":return this.initializeParamsPromise();case"pr.cancelCreate":return this.cancel(i);case"pr.create":return this.create(i);case"pr.changeBaseRemoteAndBranch":return this.changeRemoteAndBranch(i,!0);case"pr.changeCompareRemoteAndBranch":return this.changeRemoteAndBranch(i,!1);case"pr.changeLabels":return this.addLabels();case"pr.changeReviewers":return this.addReviewers();case"pr.changeAssignees":return this.addAssignees();case"pr.changeMilestone":return this.addMilestone();case"pr.removeLabel":return this.removeLabel(i);case"pr.generateTitleAndDescription":return this.generateTitleAndDescription(i);case"pr.cancelGenerateTitleAndDescription":return this.cancelGenerateTitleAndDescription();default:s.window.showErrorMessage("Unsupported webview message")}}dispose(){super.dispose(),this._postMessage({command:"reset"})}_getHtmlForWebview(){const i=wu(),e=s.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view-new.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${i}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${i}" src="${this._webview.asWebviewUri(e).toString()}"></script>
	</body>
</html>`}};let Bn=Cn;rr(Bn,"ID","CreatePullRequestViewProvider");var yy=Object.defineProperty,cn=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?yy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class wy{constructor(e,t,r,n,a){this.folderRepositoryManager=e,cn(this,"_baseOwner"),cn(this,"_baseBranch"),cn(this,"_compareOwner"),cn(this,"_compareBranch"),cn(this,"_constructed"),cn(this,"_onDidChange",new s.EventEmitter),cn(this,"onDidChange",this._onDidChange.event),cn(this,"_gitHubRepository"),cn(this,"_gitLog"),cn(this,"_gitFiles"),cn(this,"_compareHasUpstream",!1),cn(this,"_gitHubMergeBase"),cn(this,"_gitHubLog"),cn(this,"_gitHubFiles"),this._baseOwner=t,this._baseBranch=r,this._constructed=new Promise(m=>this.setCompareBranch(a).then(m)),this.compareOwner=n}get baseOwner(){return this._baseOwner}set baseOwner(e){e!==this._baseOwner&&(this._baseOwner=e,this.update())}get baseBranch(){return this._baseBranch}set baseBranch(e){e!==this._baseBranch&&(this._baseBranch=e,this.update())}get compareOwner(){return this._compareOwner}set compareOwner(e){e!==this._compareOwner&&(this._compareOwner=e,this._gitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(t=>t.remote.owner===this._compareOwner),this.update())}getCompareBranch(){return this._compareBranch}async setCompareBranch(e){const t=this._compareHasUpstream;let r=!1;e&&(r=await this.updateHasUpstream(e)!==t),this._compareBranch!==e&&(r=!0,e&&(this._compareBranch=e)),r&&this.update()}async updateHasUpstream(e){var t;if(((t=this.folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name)===e){const r=await this.folderRepositoryManager.repository.getBranch(e);this._compareHasUpstream=!!r.upstream}else this._compareHasUpstream=!0;return this._compareHasUpstream}async getCompareHasUpstream(){return await this._constructed,this._compareHasUpstream}get gitHubRepository(){return this._gitHubRepository}update(){this._gitLog=void 0,this._gitFiles=void 0,this._gitHubLog=void 0,this._gitHubFiles=void 0,this._onDidChange.fire()}async gitCommits(){return await this._constructed,this._gitLog===void 0&&(this._gitLog=this.folderRepositoryManager.repository.log({range:`${this._baseBranch}..${this._compareBranch}`})),this._gitLog}async gitFiles(){return await this._constructed,this._gitFiles===void 0&&(this._gitFiles=await this.folderRepositoryManager.repository.diffBetween(this._baseBranch,this._compareBranch)),this._gitFiles}async gitHubCommits(){var e;if(await this._constructed,!this._gitHubRepository)return[];if(this._gitHubLog===void 0){const{octokit:t,remote:r}=await this._gitHubRepository.ensure(),{data:n}=await t.call(t.api.repos.compareCommits,{repo:r.repositoryName,owner:r.owner,base:`${this._baseOwner}:${this._baseBranch}`,head:`${this._compareOwner}:${this._compareBranch}`});this._gitHubLog=n.commits,this._gitHubFiles=(e=n.files)!=null?e:[],this._gitHubMergeBase=n.merge_base_commit.sha}return this._gitHubLog}async gitHubFiles(){return await this._constructed,this._gitHubFiles===void 0&&await this.gitHubCommits(),this._gitHubFiles}async gitHubMergeBase(){return await this._constructed,this._gitHubMergeBase===void 0&&await this.gitHubCommits(),this._gitHubMergeBase}}var _y=Object.defineProperty,Wl=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?_y(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class ky{constructor(){Wl(this,"_disposables",[]),Wl(this,"_createPRViewProvider"),Wl(this,"_treeView"),Wl(this,"_postCreateCallback")}registerListeners(e,t){this._disposables.push(this._createPRViewProvider.onDone(async r=>{r&&await Bn.withProgress(async()=>{var n;return(n=this._postCreateCallback)==null?void 0:n.call(this,r)}),this.dispose()})),this._disposables.push(this._createPRViewProvider.onDidChangeCompareBranch(r=>{var n;(n=this._treeView)==null||n.updateCompareBranch(r)})),this._disposables.push(this._createPRViewProvider.onDidChangeCompareRemote(r=>{this._treeView&&(this._treeView.compareOwner=r.owner)})),this._disposables.push(this._createPRViewProvider.onDidChangeBaseBranch(r=>{var n;(n=this._treeView)==null||n.updateBaseBranch(r)})),this._disposables.push(this._createPRViewProvider.onDidChangeBaseRemote(r=>{var n;(n=this._treeView)==null||n.updateBaseOwner(r.owner)})),this._disposables.push(s.commands.registerCommand("pr.addAssigneesToNewPr",r=>{if(this._createPRViewProvider instanceof Bn)return this._createPRViewProvider.addAssignees()})),this._disposables.push(s.commands.registerCommand("pr.addReviewersToNewPr",r=>{if(this._createPRViewProvider instanceof Bn)return this._createPRViewProvider.addReviewers()})),this._disposables.push(s.commands.registerCommand("pr.addLabelsToNewPr",r=>{var n;return(n=this._createPRViewProvider)==null?void 0:n.addLabels()})),this._disposables.push(s.commands.registerCommand("pr.addMilestoneToNewPr",r=>{if(this._createPRViewProvider instanceof Bn)return this._createPRViewProvider.addMilestone()})),this._disposables.push(s.commands.registerCommand("pr.createPrMenuCreate",()=>{this._createPRViewProvider instanceof Bn&&this._createPRViewProvider.createFromCommand(!1,!1,void 0)})),this._disposables.push(s.commands.registerCommand("pr.createPrMenuDraft",()=>{this._createPRViewProvider instanceof Bn&&this._createPRViewProvider.createFromCommand(!0,!1,void 0)})),this._disposables.push(s.commands.registerCommand("pr.createPrMenuMerge",()=>{this._createPRViewProvider instanceof Bn&&this._createPRViewProvider.createFromCommand(!1,!0,"merge")})),this._disposables.push(s.commands.registerCommand("pr.createPrMenuSquash",()=>{this._createPRViewProvider instanceof Bn&&this._createPRViewProvider.createFromCommand(!1,!0,"squash")})),this._disposables.push(s.commands.registerCommand("pr.createPrMenuRebase",()=>{this._createPRViewProvider instanceof Bn&&this._createPRViewProvider.createFromCommand(!1,!0,"rebase")})),t&&this._disposables.push(e.state.onDidChange(r=>{var n;this._createPRViewProvider&&e.state.HEAD&&(this._createPRViewProvider.defaultCompareBranch=e.state.HEAD,(n=this._treeView)==null||n.updateCompareBranch())}))}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,t){if(e.gitHubRepositories.some(r=>r.remote.owner===t.owner&&r.remote.repositoryName===t.repo))return t;{const r=await e.getOrigin(),n=await e.getMetadata(r.remote.remoteName);return{owner:n.owner.login,repo:n.name,base:n.default_branch}}}async create(e,t,r,n,a){var m;this.reset(),this._postCreateCallback=a,await r.loginAndUpdate(),s.commands.executeCommand("setContext","github:createPullRequest",!0);const k=(m=n?await r.repository.getBranch(n):void 0)!=null?m:r.repository.state.HEAD;if(!this._createPRViewProvider){const O=await this.ensureDefaultsAreLocal(r,await r.getPullRequestDefaults(k)),G=await r.getOrigin(k),Z=new wy(r,O.owner,O.base,G.remote.owner,k.name);this._createPRViewProvider=new Bn(e,Z,t,r,O,k),this._treeView=new fm(r,Z),this.registerListeners(r.repository,!n),this._disposables.push(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider))}this._createPRViewProvider.show(k)}reset(){var e,t;s.commands.executeCommand("setContext","github:createPullRequest",!1),(e=this._createPRViewProvider)==null||e.dispose(),this._createPRViewProvider=void 0,(t=this._treeView)==null||t.dispose(),this._treeView=void 0,this._postCreateCallback=void 0,K(this._disposables)}dispose(){this.reset()}}var Sy=Object.defineProperty,js=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Sy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Ry{constructor(e){this._repositoriesManager=e,js(this,"_disposables",[]),js(this,"_gitHubReposListeners",[]),js(this,"_pullRequestListeners",[]),js(this,"_fileViewedListeners",[]),js(this,"_onDidChangeFileDecorations",new s.EventEmitter),js(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._disposables.push(s.window.registerFileDecorationProvider(this)),this._registerListeners()}_registerFileViewedListeners(e,t){return t.onDidChangeFileViewedState(r=>{r.changed.forEach(n=>{const a=s.Uri.joinPath(e.repository.rootUri,n.fileName),m=t.fileChanges.get(n.fileName);if(m){const k=Pu(a,t.number,n.fileName,m.status,m.previousFileName);this._onDidChangeFileDecorations.fire(k),this._onDidChangeFileDecorations.fire(k.with({scheme:e.repository.rootUri.scheme})),this._onDidChangeFileDecorations.fire(k.with({scheme:li.Pr,authority:""}))}})})}_registerPullRequestAddedListeners(e){e.gitHubRepositories.forEach(t=>{this._pullRequestListeners.push(t.onDidAddPullRequest(r=>{this._fileViewedListeners.push(this._registerFileViewedListeners(e,r))})),this._fileViewedListeners.push(...Array.from(t.pullRequestModels.values()).map(r=>this._registerFileViewedListeners(e,r)))})}_registerRepositoriesChangedListeners(){this._gitHubReposListeners.forEach(e=>e.dispose()),this._gitHubReposListeners=[],this._pullRequestListeners.forEach(e=>e.dispose()),this._pullRequestListeners=[],this._fileViewedListeners.forEach(e=>e.dispose()),this._fileViewedListeners=[],this._repositoriesManager.folderManagers.forEach(e=>{this._gitHubReposListeners.push(e.onDidChangeRepositories(()=>{this._registerPullRequestAddedListeners(e)}))})}_registerListeners(){this._registerRepositoriesChangedListeners(),this._disposables.push(this._repositoriesManager.onDidChangeFolderRepositories(()=>{this._registerRepositoriesChangedListeners()}))}provideFileDecoration(e,t){if(!e.query)return;const r=zc(e);if(r&&r.status!==void 0)return{propagate:!1,badge:this.letter(r.status),color:this.color(r.status),tooltip:this.tooltip(r)};const n=lr(e);if(n&&n.status!==void 0)return{propagate:!1,badge:this.letter(n.status),color:this.color(n.status),tooltip:this.tooltip(n)}}gitColors(e){switch(e){case Ht.MODIFY:return"gitDecoration.modifiedResourceForeground";case Ht.ADD:return"gitDecoration.addedResourceForeground";case Ht.DELETE:return"gitDecoration.deletedResourceForeground";case Ht.RENAME:return"gitDecoration.renamedResourceForeground";case Ht.UNKNOWN:return;case Ht.UNMERGED:return"gitDecoration.conflictingResourceForeground"}}remoteReposColors(e){switch(e){case Ht.MODIFY:return"remoteHub.decorations.modifiedForegroundColor";case Ht.ADD:return"remoteHub.decorations.addedForegroundColor";case Ht.DELETE:return"remoteHub.decorations.deletedForegroundColor";case Ht.RENAME:return"remoteHub.decorations.incomingRenamedForegroundColor";case Ht.UNKNOWN:return;case Ht.UNMERGED:return"remoteHub.decorations.conflictForegroundColor"}}color(e){let t=s.extensions.getExtension("vscode.git")?this.gitColors(e):this.remoteReposColors(e);return t?new s.ThemeColor(t):void 0}letter(e){switch(e){case Ht.MODIFY:return"M";case Ht.ADD:return"A";case Ht.DELETE:return"D";case Ht.RENAME:return"R";case Ht.UNKNOWN:return"U";case Ht.UNMERGED:return"C"}return""}tooltip(e){if(e.status===Ht.RENAME&&e.previousFileName)return`Renamed ${e.previousFileName} to ${p.basename(e.fileName)}`}dispose(){this._disposables.forEach(e=>e.dispose()),this._gitHubReposListeners.forEach(e=>e.dispose()),this._pullRequestListeners.forEach(e=>e.dispose()),this._fileViewedListeners.forEach(e=>e.dispose())}}var Ey=Object.defineProperty,Lo=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Ey(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class hm extends s.Disposable{constructor(e,t,r){super(()=>this.dispose());this._context=e,this._git=t,this._reposManager=r,Lo(this,"_onDidChangeTreeData",new s.EventEmitter),Lo(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Lo(this,"_disposables",[]),Lo(this,"_pullRequestManagerMap",new Map),Lo(this,"_view"),this._view=s.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0}),this._context.subscriptions.push(this._view),this._disposables.push(s.workspace.onDidChangeConfiguration(async n=>{if(n.affectsConfiguration(`${Be}.${zt}`)){this._onDidChangeTreeData.fire();const a=s.workspace.getConfiguration(Be).get(zt);await s.commands.executeCommand("setContext","fileListLayout:flat",a==="flat")}else n.affectsConfiguration(`${Zt}.${Pi}`)&&this._onDidChangeTreeData.fire()})),this._disposables.push(this._view.onDidChangeCheckboxState(n=>{n.items.forEach(a=>{const m=a[0],k=a[1];m.updateFromCheckboxChanged(k)})}))}get view(){return this._view}refresh(e){this._onDidChangeTreeData.fire(e)}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const t=this._pullRequestManagerMap.values().next();t.done||(e=t.value.pullRequestModel.number)}this._view.title=e?s.l10n.t("Changes in Pull Request #{0}",e):this._pullRequestManagerMap.size>1?s.l10n.t("Changes in Pull Requests"):s.l10n.t("Changes in Pull Request")}async addPrToView(e,t,r,n,a){if(h.appendLine(`Adding PR #${t.number} to tree`,w),this._pullRequestManagerMap.has(e)){const k=this._pullRequestManagerMap.get(e);if(k&&k.pullRequestModel===t){h.appendLine(`PR #${t.number} already exists in tree`,w);return}else k==null||k.dispose()}const m=new Nf(this,t,e,r,a);this._pullRequestManagerMap.set(e,m),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire(),n&&this.reveal(m)}async setReviewModeContexts(){await Lr.setContext(sn.IN_REVIEW_MODE,this._pullRequestManagerMap.size>0);const e=[],t=[];this._git.repositories.forEach(r=>{const n=this._reposManager.getManagerForFile(r.rootUri);n&&!this._pullRequestManagerMap.has(n)?e.push(r.rootUri.toString()):n&&t.push(r.rootUri.toString())}),await Lr.setContext(sn.REPOS_NOT_IN_REVIEW_MODE,e),await Lr.setContext(sn.REPOS_IN_REVIEW_MODE,t)}async removePrFromView(e){const t=this._pullRequestManagerMap.has(e)?this._pullRequestManagerMap.get(e):void 0;t&&h.appendLine(`Removing PR #${t.pullRequestModel.number} from tree`,w),t==null||t.dispose(),this._pullRequestManagerMap.delete(e),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,t){try{await this._view.reveal(e,t)}catch(r){h.error(r,w)}}async getChildren(e){if(e)return await e.getChildren();{const t=[];if(this._pullRequestManagerMap.size>=1)for(const r of this._pullRequestManagerMap.values())t.push(r);return t}}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,t){return t instanceof Ds&&await t.resolve(),t}dispose(){this._disposables.forEach(e=>e.dispose())}}var Cy=Object.defineProperty,Ld=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Cy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Ny{constructor(e){this._notificationProvider=e,Ld(this,"_disposables",[]),Ld(this,"_onDidChangeFileDecorations",new s.EventEmitter),Ld(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._disposables.push(s.window.registerFileDecorationProvider(this)),this._disposables.push(this._notificationProvider.onDidChangeNotifications(t=>this._onDidChangeFileDecorations.fire(t)))}provideFileDecoration(e,t){if(!e.query)return;const r=Vc(e);if(r&&this._notificationProvider.hasNotification(r.prIdentifier))return{propagate:!1,color:new s.ThemeColor("pullRequests.notification"),badge:"\u25CF",tooltip:"unread notification"}}dispose(){this._disposables.forEach(e=>e.dispose())}}var Ty=Object.defineProperty,zr=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Ty(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);const mm=60;class My{constructor(e,t,r,n,a){zr(this,"identifier"),zr(this,"threadId"),zr(this,"repositoryName"),zr(this,"pullRequestNumber"),zr(this,"pullRequestModel"),this.identifier=e,this.threadId=t,this.repositoryName=r,this.pullRequestNumber=n,this.pullRequestModel=a}}const zs=class{constructor(i,e,t){zr(this,"_gitHubPrsTree"),zr(this,"_credentialStore"),zr(this,"_authProvider"),zr(this,"_notifications"),zr(this,"_reposManager"),zr(this,"_pollingDuration"),zr(this,"_lastModified"),zr(this,"_pollingHandler"),zr(this,"disposables",[]),zr(this,"_onDidChangeNotifications",new s.EventEmitter),zr(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),this._gitHubPrsTree=i,this._credentialStore=e,this._reposManager=t,this._notifications=new Map,this._lastModified="",this._pollingDuration=mm,this._pollingHandler=null,this.registerAuthProvider(e);for(const r of this._reposManager.folderManagers)this.disposables.push(r.onDidChangeGithubRepositories(()=>{this.refreshOrLaunchPolling()}));this.disposables.push(i.onDidChangeTreeData(r=>{zs.isPRNotificationsOn()&&this.adaptPRNotifications(r)})),this.disposables.push(i.onDidChange(()=>{zs.isPRNotificationsOn()&&this.adaptPRNotifications()})),this.disposables.push(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Be}.${qt}`)&&this.checkNotificationSetting()}))}static isPRNotificationsOn(){return s.workspace.getConfiguration(Be).get(qt)==="pullRequests"}registerAuthProvider(i){i.isAuthenticated(ki.githubEnterprise)&&Da()?this._authProvider=ki.githubEnterprise:i.isAuthenticated(ki.github)&&(this._authProvider=ki.github),this.disposables.push(s.authentication.onDidChangeSessions(e=>{i.isAuthenticated(ki.githubEnterprise)&&Da()&&(this._authProvider=ki.githubEnterprise),i.isAuthenticated(ki.github)&&(this._authProvider=ki.github)}))}getPrIdentifier(i){if(i instanceof wn)return`${i.remote.url}:${i.number}`;const e=i.subject.url.split("/"),t=e[e.length-1];return`${i.repository.html_url}.git:${t}`}hasNotification(i){const e=i instanceof wn?this.getPrIdentifier(i):i,t=this._notifications.get(e);return t!==void 0&&t.length>0}updateViewBadge(){const i=this._gitHubPrsTree.view,e=s.l10n.t("1 notification"),t=s.l10n.t("{0} notifications",this._notifications.size);i.badge=this._notifications.size!==0?{tooltip:this._notifications.size===1?e:t,value:this._notifications.size}:void 0}adaptPRNotifications(i){if(this._pollingHandler===void 0&&this.startPolling(),i instanceof Ln){const e=this._notifications.get(this.getPrIdentifier(i.pullRequestModel));if(e){for(const t of e)if(t){t.pullRequestModel=i.pullRequestModel;return}}}this._gitHubPrsTree.cachedChildren().then(async e=>{let t=[];for(const r of e)if(r.id==="All Open")if(r.prs.length===0)for(const n of await r.cachedChildren())n instanceof Ln&&t.push(n.pullRequestModel);else t=r.prs;t.forEach(r=>{const n=this._notifications.get(this.getPrIdentifier(r));if(n)for(const a of n)a.pullRequestModel=r})})}refreshOrLaunchPolling(){this._lastModified="",this.checkNotificationSetting()}checkNotificationSetting(){const i=zs.isPRNotificationsOn();i&&this._pollingHandler===null?this.startPolling():!i&&this._pollingHandler!==null&&(clearInterval(this._pollingHandler),this._lastModified="",this._pollingHandler=null,this._pollingDuration=mm,this._onDidChangeNotifications.fire(this.uriFromNotifications()),this._notifications.clear(),this.updateViewBadge())}uriFromNotifications(){const i=[];for(const[e,t]of this._notifications.entries())t.length&&i.push(xu(e));return i}getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async getNotifications(){const i=this.getGitHub();if(i===void 0)return;const{data:e,headers:t}=await i.octokit.call(i.octokit.api.activity.listNotificationsForAuthenticatedUser,{});return{data:e,headers:t}}async markNotificationThreadAsRead(i){const e=this.getGitHub();!e||await e.octokit.call(e.octokit.api.activity.markThreadAsRead,{thread_id:i})}async markPrNotificationsAsRead(i){const e=this.getPrIdentifier(i),t=this._notifications.get(e);if(t&&t.length){for(const n of t)await this.markNotificationThreadAsRead(n.threadId);const r=this.uriFromNotifications();this._onDidChangeNotifications.fire(r),this._notifications.delete(e),this.updateViewBadge()}}async pollForNewNotifications(){var i;const e=await this.getNotifications();if(e===void 0)return;const{data:t,headers:r}=e,n=Number(r["x-poll-interval"]);if(n!==this._pollingDuration&&(this._pollingDuration=n,this._pollingHandler&&zs.isPRNotificationsOn()&&(h.appendLine("Notifications: Clearing interval"),clearInterval(this._pollingHandler),h.appendLine(`Notifications: Starting new polling interval with ${this._pollingDuration}`),this.startPolling())),this._lastModified===r["last-modified"])return;this._lastModified=(i=r["last-modified"])!=null?i:"";const a=this.uriFromNotifications();this._notifications.clear();const m=new Map;this._reposManager.folderManagers.forEach(k=>{k.gitHubRepositories.forEach(O=>{m.set(O.remote.url,O)})}),await Promise.all(t.map(async k=>{var O;const G=`${k.repository.html_url}.git`,Z=m.get(G);if(Z&&k.subject.type==="PullRequest"){const oe=k.subject.url.split("/"),X=Number(oe[oe.length-1]),de=this.getPrIdentifier(k),{remote:ke,query:Ne,schema:Ie}=await Z.ensure(),{data:De}=await Ne({query:Ie.PullRequestState,variables:{owner:ke.owner,name:ke.repositoryName,number:X}});if(De.repository===null&&h.error("Unexpected null repository when getting notifications",zs.ID),((O=De.repository)==null?void 0:O.pullRequest.state)==="OPEN"){const Fe=new My(de,Number(k.id),k.repository.name,Number(X)),Ze=this._notifications.get(de);Ze===void 0?this._notifications.set(de,[Fe]):Ze.push(Fe)}}})),this.adaptPRNotifications(),this.updateViewBadge();for(const k of this.uriFromNotifications())a.find(O=>O.fsPath===k.fsPath)===void 0&&a.push(k);this._onDidChangeNotifications.fire(a)}startPolling(){this.pollForNewNotifications(),this._pollingHandler=setInterval(function(i){i.pollForNewNotifications()},this._pollingDuration*1e3,this)}dispose(){this._pollingHandler&&clearInterval(this._pollingHandler),this.disposables.forEach(i=>i.dispose())}};let pm=zs;zr(pm,"ID","NotificationProvider");var Py=Object.defineProperty,Kl=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Py(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t),ka;(function(i){i[i.None=0]="None",i[i.ReviewRequired=1]="ReviewRequired",i[i.ChangesRequested=2]="ChangesRequested",i[i.CIFailed=4]="CIFailed",i[i.CIPending=8]="CIPending"})(ka||(ka={}));class xy{constructor(e){this._telemetry=e,Kl(this,"_disposables",[]),Kl(this,"_onDidChangePrStatus",new s.EventEmitter),Kl(this,"onDidChangePrStatus",this._onDidChangePrStatus.event),Kl(this,"_queriedPullRequests",new Map)}cachedPRStatus(e){return this._queriedPullRequests.get(e)}async _getChecks(e){let t=[];for(let n=0;n<e.length;n+=100){const a=n+100<e.length?n+100:e.length;t.push(...await Promise.all(e.slice(n,a).map(m=>m.getStatusChecks())))}const r=[];for(let n=0;n<e.length;n++){const a=e[n],[m,k]=t[n];let O=0;if(k&&(k.state===Hi.Failure?O|=1:k.state==Hi.Pending&&(O|=2)),!m||m.state===Hi.Unknown)continue;if(m.state!==Hi.Success){for(const oe of m.statuses)oe.state===Hi.Failure?O|=4:oe.state===Hi.Pending&&(O|=8);O===0&&(O|=8)}const G=Wc(a),Z=this._queriedPullRequests.get(G);if(Z===void 0||Z.status!==O){const oe={pullRequest:a,status:O};r.push(G),this._queriedPullRequests.set(G,oe)}}this._onDidChangePrStatus.fire(r)}async getLocalPullRequests(e){const t=s.workspace.getConfiguration(Be).get(ct,{merged:!0,closed:!1}),r=(await e.getLocalPullRequests()).filter(n=>n.isOpen||n.isClosed&&t.closed||n.isMerged&&t.merged);return this._telemetry.sendTelemetryEvent("pr.expand.local"),this._getChecks(r),r}async getPullRequestsForQuery(e,t,r){const n=await e.getPullRequests(_i.Query,{fetchNextPage:t},r);return this._telemetry.sendTelemetryEvent("pr.expand.query"),this._getChecks(n.items),n}async getAllPullRequests(e,t){const r=await e.getPullRequests(_i.All,{fetchNextPage:t});return this._telemetry.sendTelemetryEvent("pr.expand.all"),this._getChecks(r.items),r}dispose(){K(this._disposables)}}var Dy=Object.defineProperty,Ud=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Dy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Ay{constructor(e){this._prsTreeModel=e,Ud(this,"_disposables",[]),Ud(this,"_onDidChangeFileDecorations",new s.EventEmitter),Ud(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._disposables.push(s.window.registerFileDecorationProvider(this)),this._disposables.push(this._prsTreeModel.onDidChangePrStatus(t=>{this._onDidChangeFileDecorations.fire(t.map(r=>xu(r)))}))}provideFileDecoration(e,t){if(e.scheme!==li.PRNode)return;const r=Vc(e);if(!r)return;const n=this._prsTreeModel.cachedPRStatus(r.prIdentifier);if(!!n)return this._getDecoration(n.status)}_getDecoration(e){if(e&ka.CIFailed&&e&ka.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Review required and some checks have failed"};if(e&ka.CIFailed)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Some checks have failed"};if(e&ka.ChangesRequested)return{propagate:!1,badge:new s.ThemeIcon("request-changes",new s.ThemeColor("list.errorForeground")),tooltip:"Changes requested"};if(e&ka.CIPending)return{propagate:!1,badge:new s.ThemeIcon("sync",new s.ThemeColor("list.warningForeground")),tooltip:"Checks pending"};if(e&ka.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("circle-filled",new s.ThemeColor("list.warningForeground")),tooltip:"Review required"};if(e===ka.None)return{propagate:!1,badge:new s.ThemeIcon("check-all",new s.ThemeColor("issues.open")),tooltip:"All checks passed"}}dispose(){K(this._disposables)}}var Iy=Object.defineProperty,qn=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Iy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t),ss;(function(i){i[i.Empty=0]="Empty",i[i.More=1]="More",i[i.TryOtherRemotes=2]="TryOtherRemotes",i[i.Login=3]="Login",i[i.LoginEnterprise=4]="LoginEnterprise",i[i.NoRemotes=5]="NoRemotes",i[i.NoMatchingRemotes=6]="NoMatchingRemotes",i[i.ConfigureRemotes=7]="ConfigureRemotes"})(ss||(ss={}));class Ua extends Ur{constructor(e,t,r){super();switch(qn(this,"collapsibleState"),qn(this,"iconPath"),qn(this,"type"),qn(this,"command"),this.parent=e,this.type=t,this.collapsibleState=s.TreeItemCollapsibleState.None,t){case 0:this.label=s.l10n.t("0 pull requests in this category");break;case 1:this.label=s.l10n.t("Load more"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[r]};break;case 2:this.label=s.l10n.t("Continue fetching from other remotes"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[r]};break;case 3:this.label=s.l10n.t("Sign in"),this.command={title:s.l10n.t("Sign in"),command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label=s.l10n.t("Sign in with GitHub Enterprise..."),this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 5:this.label=s.l10n.t("No GitHub repositories found.");break;case 6:this.label=s.l10n.t("No remotes match the current setting.");break;case 7:this.label=s.l10n.t("Configure remotes..."),this.command={title:s.l10n.t("Configure remotes"),command:"pr.configureRemotes",arguments:[]};break;default:break}}getTreeItem(){return this}}class Ql extends Ur{constructor(e,t,r,n,a,m,k,O,G){super();this.parent=e,this._folderRepoManager=t,this._telemetry=r,this.type=n,this._notificationProvider=a,this._prsTreeModel=k,this._categoryQuery=G,qn(this,"children"),qn(this,"collapsibleState"),qn(this,"prs"),qn(this,"fetchNextPage",!1),qn(this,"repositoryPageInformation",new Map),qn(this,"contextValue"),qn(this,"id","");var Z;switch(this.prs=[],this.type){case _i.All:this.label=s.l10n.t("All Open");break;case _i.Query:this.label=O;break;case _i.LocalPullRequest:this.label=s.l10n.t("Local Pull Request Branches");break;default:this.label="";break}this.id=e instanceof Ur?`${(Z=e.id)!=null?Z:e.label}/${this.label}`:this.label,m.size===0&&this.type===_i.All?this.collapsibleState=s.TreeItemCollapsibleState.Expanded:this.collapsibleState=m.has(this.id)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed,this._categoryQuery&&(this.contextValue="query")}async addNewQuery(e,t,r){const n=s.window.createInputBox();n.title=s.l10n.t("Enter the title of the new query"),n.placeholder=s.l10n.t("Title"),n.step=1,n.totalSteps=2,n.show();let a;n.onDidAccept(async()=>{if(n.validationMessage="",n.step===1){if(!n.value){n.validationMessage=s.l10n.t("Title is required");return}a=n.value,n.value=r,n.title=s.l10n.t("Enter the GitHub search query"),n.step++}else{if(!n.value){n.validationMessage=s.l10n.t("Query is required");return}if(n.busy=!0,n.value&&a)if(t==null?void 0:t.workspaceValue)t.workspaceValue.push({label:a,query:n.value}),await e.update(_t,t.workspaceValue,s.ConfigurationTarget.Workspace);else{const m=e.get(_t);m==null||m.push({label:a,query:n.value}),await e.update(_t,m,s.ConfigurationTarget.Global)}n.dispose()}}),n.onDidHide(()=>n.dispose())}updateQuery(e,t){for(const r of e)if(r.label===t.label){r.query=t.query;return}}async openSettings(e,t){let r;if(t==null?void 0:t.workspaceValue)r="workbench.action.openWorkspaceSettingsFile";else{const a=e.get(_t);(t==null?void 0:t.defaultValue)&&JSON.stringify(t==null?void 0:t.defaultValue)===JSON.stringify(a)&&await e.update(_t,t.defaultValue,s.ConfigurationTarget.Global),r="workbench.action.openSettingsJson"}await s.commands.executeCommand(r);const n=s.window.activeTextEditor;if(n){const m=n.document.getText().search(this.label);if(m>=0){const k=n.document.positionAt(m);n.revealRange(new s.Range(k,k)),n.selection=new s.Selection(k,k)}}}async expandPullRequest(e,t=!0){if(!this.children&&t&&(await this.getChildren(),t=!1),this.children){for(const r of this.children)if(r instanceof Ln&&r.pullRequestModel.equals(e))return this.reveal(r,{expand:!0,select:!0}),!0;if(t)return await this.getChildren(),await this.expandPullRequest(e,!1)}return!1}async editQuery(){var e,t;const r=s.workspace.getConfiguration(Be),n=r.inspect(_t),a=s.window.createQuickPick();a.title=s.l10n.t('Edit Pull Request Query "{0}"',(e=this.label)!=null?e:""),a.value=(t=this._categoryQuery)!=null?t:"",a.items=[{iconPath:new s.ThemeIcon("pencil"),label:s.l10n.t("Save edits"),alwaysShow:!0},{iconPath:new s.ThemeIcon("add"),label:s.l10n.t("Add new query"),alwaysShow:!0},{iconPath:new s.ThemeIcon("settings"),label:s.l10n.t("Edit in settings.json"),alwaysShow:!0}],a.activeItems=[],a.selectedItems=[],a.onDidAccept(async()=>{var m;if(a.busy=!0,a.selectedItems[0]===a.items[0]){const k=a.value;if(k!==this._categoryQuery&&this.label)if(n==null?void 0:n.workspaceValue)this.updateQuery(n.workspaceValue,{label:this.label,query:k}),await r.update(_t,n.workspaceValue,s.ConfigurationTarget.Workspace);else{const O=(m=r.get(_t))!=null?m:n.defaultValue;this.updateQuery(O,{label:this.label,query:k}),await r.update(_t,O,s.ConfigurationTarget.Global)}}else a.selectedItems[0]===a.items[1]?this.addNewQuery(r,n,a.value):a.selectedItems[0]===a.items[2]&&this.openSettings(r,n);a.dispose()}),a.onDidHide(()=>a.dispose()),a.show()}async getChildren(){super.getChildren();let e=!1,t=!1,r=!1;if(this.type===_i.LocalPullRequest)try{this.prs=await this._prsTreeModel.getLocalPullRequests(this._folderRepoManager)}catch(n){s.window.showErrorMessage(s.l10n.t("Fetching local pull requests failed: {0}",F(n))),r=n instanceof ua}else try{let n;switch(this.type){case _i.All:n=await this._prsTreeModel.getAllPullRequests(this._folderRepoManager,this.fetchNextPage);break;case _i.Query:n=await this._prsTreeModel.getPullRequestsForQuery(this._folderRepoManager,this.fetchNextPage,this._categoryQuery);break}this.fetchNextPage?this.prs=this.prs.concat(n.items):this.prs=n.items,e=n.hasMorePages,t=n.hasUnsearchedRepositories}catch(n){s.window.showErrorMessage(s.l10n.t("Fetching pull requests failed: {0}",F(n))),r=n instanceof ua}finally{this.fetchNextPage=!1}if(this.prs&&this.prs.length){const n=this.prs.map(a=>new Ln(this,this._folderRepoManager,a,this.type===_i.LocalPullRequest,this._notificationProvider));return e?n.push(new Ua(this,1,this)):t&&n.push(new Ua(this,2,this)),this.children=n,n}else{const n=r?3:0,a=[new Ua(this,n)];return this.children=a,a}}getTreeItem(){return this}}var Fy=Object.defineProperty,Bd=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Fy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Ws extends Ur{constructor(e,t,r,n,a,m,k){super();this.folderManager=r,this.telemetry=n,this.notificationProvider=a,this.context=m,this._prsTreeModel=k,Bd(this,"children"),Bd(this,"collapsibleState"),Bd(this,"iconPath"),this.parent=e,this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.label=p.basename(t.fsPath),this.id=r.repository.rootUri.toString()}async expandPullRequest(e){if(this.children){for(const t of this.children)if(t.type===_i.All)return t.expandPullRequest(e)}return!1}static getQueries(e){return s.workspace.getConfiguration(Be,e.repository.rootUri).get(_t)||[]}getTreeItem(){return this}async getChildren(){return super.getChildren(),this.children=Ws.getCategoryTreeNodes(this.folderManager,this.telemetry,this,this.notificationProvider,this.context,this._prsTreeModel),this.children}static getCategoryTreeNodes(e,t,r,n,a,m){const k=new Set(a.workspaceState.get(Ou,[])),O=Ws.getQueries(e).map(G=>new Ql(r,e,t,_i.Query,n,k,m,G.label,G.query));return[new Ql(r,e,t,_i.LocalPullRequest,n,k,m),...O,new Ql(r,e,t,_i.All,n,k,m)]}}var Oy=Object.defineProperty,ra=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Oy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class vm{constructor(e,t){this._telemetry=e,this._context=t,ra(this,"_onDidChangeTreeData",new s.EventEmitter),ra(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),ra(this,"_onDidChange",new s.EventEmitter),ra(this,"_disposables"),ra(this,"_children"),ra(this,"_view"),ra(this,"_reposManager"),ra(this,"_initialized",!1),ra(this,"notificationProvider"),ra(this,"_prsTreeModel"),this._disposables=[],this._prsTreeModel=new xy(this._telemetry),this._disposables.push(new Ay(this._prsTreeModel)),this._disposables.push(s.window.registerFileDecorationProvider(Zc)),this._disposables.push(s.commands.registerCommand("pr.refreshList",r=>{this._onDidChangeTreeData.fire()})),this._disposables.push(s.commands.registerCommand("pr.loadMore",r=>{r.fetchNextPage=!0,this._onDidChangeTreeData.fire(r)})),this._view=s.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0}),this._disposables.push(this._view),this._children=[],this._disposables.push(s.commands.registerCommand("pr.configurePRViewlet",async()=>{switch(await s.window.showQuickPick(["Configure Remotes...","Configure Queries..."])){case"Configure Queries...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ms} queries`);case"Configure Remotes...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ms} remotes`);default:return}})),this._disposables.push(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Be}.${zt}`)&&this._onDidChangeTreeData.fire()})),this._disposables.push(this._view.onDidChangeCheckboxState(r=>{r.items.forEach(n=>{const a=n[0],m=n[1];a.updateFromCheckboxChanged(m)})})),this._disposables.push(this._view.onDidExpandElement(r=>{this._updateExpandedQueries(r.element,!0)})),this._disposables.push(this._view.onDidCollapseElement(r=>{this._updateExpandedQueries(r.element,!1)}))}get onDidChange(){return this._onDidChange.event}get view(){return this._view}_updateExpandedQueries(e,t){if(e instanceof Ql){const r=new Set(this._context.workspaceState.get(Ou,[]));t?r.add(e.id):r.delete(e.id),this._context.workspaceState.update(Ou,Array.from(r.keys()))}}async expandPullRequest(e){this._children.length===0&&await this.getChildren();for(const t of this._children)if(t instanceof Ws){if(t.expandPullRequest(e))return}else if(t.type===_i.All&&await t.expandPullRequest(e))return}async reveal(e,t){return this._view.reveal(e,t)}initialize(e,t,r){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._reposManager=e,this._disposables.push(this._reposManager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),this._disposables.push(...this._reposManager.folderManagers.map(n=>n.onDidChangeRepositories(()=>{this._onDidChangeTreeData.fire()}))),this._disposables.push(...t.map(n=>n.onDidChangeLocalFileChanges(a=>{this.refresh()}))),this.notificationProvider=new pm(this,r,this._reposManager),this._disposables.push(this.notificationProvider),this.initializeCategories(),this.refresh()}async initializeCategories(){this._disposables.push(s.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${Be}.${_t}`)&&this.refresh()}))}refresh(e){return e?this._onDidChangeTreeData.fire(e):this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,t){return t instanceof qu&&await t.resolve(),t}async needsRemotes(){var e,t,r;if(((e=this._reposManager)==null?void 0:e.state)===un.NeedsAuthentication)return[];const n=s.workspace.getConfiguration(Be).get(Et);let a;n?a=[new Ua(this,ss.NoMatchingRemotes),new Ua(this,ss.ConfigureRemotes)]:a=[new Ua(this,ss.NoRemotes)];const{enterpriseRemotes:m}=this._reposManager?await Hc((t=this._reposManager)==null?void 0:t.folderManagers):{enterpriseRemotes:[]};return m.length>0&&!((r=this._reposManager)==null?void 0:r.credentialStore.isAuthenticated(ki.githubEnterprise))&&a.push(new Ua(this,ss.LoginEnterprise)),a}async cachedChildren(e){return e?e.cachedChildren():this._children}async getChildren(e){var t;if(!((t=this._reposManager)==null?void 0:t.folderManagers.length))return[];if(this._reposManager.state===un.Initializing)return Lr.setContext(sn.LOADING_PRS_TREE,!0),[];const r=await Promise.all(this._reposManager.folderManagers.map(n=>n.getGitHubRemotes()));if(this._reposManager.folderManagers.filter((n,a)=>r[a].length>0).length===0)return this.needsRemotes();if(!e){this._children&&this._children.length&&this._children.forEach(a=>a.dispose());let n;return this._reposManager.folderManagers.length===1?n=Ws.getCategoryTreeNodes(this._reposManager.folderManagers[0],this._telemetry,this,this.notificationProvider,this._context,this._prsTreeModel):n=this._reposManager.folderManagers.map(a=>new Ws(this,a.repository.rootUri,a,this._telemetry,this.notificationProvider,this._context,this._prsTreeModel)),this._children=n,n}return this._reposManager.folderManagers.filter(n=>n.repository.state.remotes.length>0).length===0?Promise.resolve([new Ua(this,ss.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}dispose(){this._disposables.forEach(e=>e.dispose())}}var Ly=Object.defineProperty,Uy=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Ly(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class By extends kf{constructor(e,t,r){super(e,t);this.reviewManagers=r,Uy(this,"_fallback")}getChangeModelForFile(e){for(const t of this.reviewManagers)for(const r of t.reviewModel.localFileChanges)if(r.changeModel.filePath.authority===e.authority&&r.changeModel.filePath.path===e.path)return r.changeModel}async getRepositoryForFile(e){return await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3),Eu(this.gitAPI,e)}async readFile(e){var t;if(!this._fallback)return new TextEncoder().encode("");const{path:r,commit:n,rootPath:a}=Zn(e.query);if(!r||!n)return new TextEncoder().encode("");const m=await this.getRepositoryForFile(s.Uri.file(a));if(!m)return s.window.showErrorMessage(`We couldn't find an open repository for ${n} locally.`),new TextEncoder().encode("");const k=p.join(m.rootUri.fsPath,r).replace(/\\/g,"/");let O;try{if(h.appendLine(`Getting change model (${m.rootUri}) content for commit ${n} and path ${k}`,"GitContentFileSystemProvider"),O=await((t=this.getChangeModelForFile(e))==null?void 0:t.showBase()),O||(h.appendLine(`Getting repository (${m.rootUri}) content for commit ${n} and path ${k}`,"GitContentFileSystemProvider"),O=await m.show(n,k)),!O)throw new Error}catch(G){if(h.appendLine("Using fallback content provider.","GitContentFileSystemProvider"),O=await this._fallback(e),!O)try{await m.getCommit(n)}catch(Z){h.error(Z),s.window.showErrorMessage(`We couldn't find commit ${n} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push`)}}return new TextEncoder().encode(O||"")}registerTextDocumentContentFallback(e){this._fallback=e}}var qy=Object.defineProperty,gm=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?qy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class bm{constructor(e,t,r,n,a,m,k,O){this._context=e,this._reposManager=t,this._reviewManagers=r,this._prsTreeDataProvider=n,this._prFileChangesProvider=a,this._telemetry=m,this._credentialStore=k,this._gitApi=O,gm(this,"_disposables"),this._disposables=[];const G=new By(O,k,r);G.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._disposables.push(s.workspace.registerFileSystemProvider(li.Review,G,{isReadonly:!0})),this.registerListeners(),this._disposables.push(this._prsTreeDataProvider)}get reviewManagers(){return this._reviewManagers}registerListeners(){this._disposables.push(s.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new hm(this._context,this._gitApi,this._reposManager);for(const t of this._reviewManagers)t.updateState(!0)}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=new vm(this._telemetry,this._context),this._prsTreeDataProvider.initialize(this._reposManager,this._reviewManagers.map(t=>t.reviewModel),this._credentialStore),this._disposables.push(this._prsTreeDataProvider)}}))}async provideTextDocumentContent(e){for(const t of this._reviewManagers)if(e.fsPath.startsWith(t.repository.rootUri.fsPath))return t.provideTextDocumentContent(e);return""}addReviewManager(e){const t=s.workspace.workspaceFolders;if(t){const r=t.findIndex(n=>n.uri.toString()===e.repository.rootUri.toString());if(r>-1){const n=this._reviewManagers.slice(r,this._reviewManagers.length);this._reviewManagers=this._reviewManagers.slice(0,r),this._reviewManagers.push(e),this._reviewManagers.push(...n);return}}this._reviewManagers.push(e)}removeReviewManager(e){const t=this._reviewManagers.findIndex(r=>r.repository.rootUri.toString()===e.rootUri.toString());if(t){const r=this._reviewManagers[t];this._reviewManagers.splice(t),r.dispose()}}dispose(){this._disposables.forEach(e=>{e.dispose()})}}gm(bm,"ID","Reviews");var Hy=Object.defineProperty,Uo=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Hy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class Vy extends fc{constructor(e,t,r,n){super(e);this._folderRepositoryManager=t,this._reviewManager=r,this._item=n,Uo(this,"viewType","github:activePullRequest"),Uo(this,"_existingReviewers",[]),Uo(this,"_prChangeListener"),Uo(this,"_prDisposables"),Uo(this,"_updatePendingVisibility"),Tf(a=>{a&&this._item.update(a),this._postMessage({command:"update-state",state:this._item.state})},null,this._disposables),this._disposables.push(this._folderRepositoryManager.onDidMergePullRequest(a=>{this._postMessage({command:"update-state",state:wi.Merged})})),this._disposables.push(s.commands.registerCommand("review.approve",a=>this.approvePullRequestCommand(a))),this._disposables.push(s.commands.registerCommand("review.comment",a=>this.submitReviewCommand(a))),this._disposables.push(s.commands.registerCommand("review.requestChanges",a=>this.requestChangesCommand(a))),this._disposables.push(s.commands.registerCommand("review.approveOnDotCom",()=>ba(this._item,this._item._telemetry))),this._disposables.push(s.commands.registerCommand("review.requestChangesOnDotCom",()=>ba(this._item,this._item._telemetry)))}resolveWebviewView(e,t,r){super.resolveWebviewView(e,t,r),e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.open-create":return this.create();case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.submit":return this.submitReviewMessage(e);case"pr.openOnGitHub":return ba(this._item,this._item._telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.re-request-review":return this.reRequestReview(e)}}async checkoutDefaultBranch(e){var t;try{const r=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item),n=(t=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name;await this._folderRepositoryManager.checkoutDefaultBranch(r),n&&await this._folderRepositoryManager.cleanupAfterPullRequest(n,this._item)}finally{this._replyMessage(e,{})}}reRequestReview(e){let t;const r=[],n=[];for(const a of this._existingReviewers){let m,k;a&&kr(a.reviewer)?(m=a.reviewer.id,k=n):a&&!kr(a.reviewer)&&(m=a.reviewer.id,k=r),k&&m&&(a.state==="REQUESTED"||m===e.args)&&(k.push(m),m===e.args&&(t=a))}this._item.requestReview(r,n).then(()=>{t&&(t.state="REQUESTED"),this._replyMessage(e,{reviewers:this._existingReviewers})})}async refresh(){await this.updatePullRequest(this._item)}getCurrentUserReviewState(e,t){const r=e.find(n=>Pr(n.reviewer)===t.login);return r==null?void 0:r.state}registerPrSpecificListeners(e){this._prDisposables!==void 0&&K(this._prDisposables),this._prDisposables=[],this._prDisposables.push(e.onDidInvalidate(()=>this.updatePullRequest(e))),this._prDisposables.push(e.onDidChangePendingReviewState(()=>this.updatePullRequest(e)))}async updatePullRequest(e){var t;return this._view&&!this._view.visible&&((t=this._updatePendingVisibility)==null||t.dispose(),this._updatePendingVisibility=this._view.onDidChangeVisibility(async()=>{var r;this.updatePullRequest(e),(r=this._updatePendingVisibility)==null||r.dispose()})),(this._prDisposables===void 0||e.number!==this._item.number)&&this.registerPrSpecificListeners(e),this._item=e,Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests(),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),e.validateDraftMode()]).then(r=>{var n,a;const[m,k,O,G,Z,oe,X,de,ke]=r;if(!m)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(this._item=m,!this._view)return;try{this._view.title=`${m.title} #${e.number.toString()}`}catch($t){}const Ne=e.equals(this._folderRepositoryManager.activePullRequest),Ie=k.hasWritePermission,De=k.mergeMethodsAvailability,Fe=Ie||de,Ze=nl(De);this._existingReviewers=Lc(G!=null?G:[],O!=null?O:[],m.author);const ht=!!(m.base&&m.head&&!m.base.repositoryCloneUrl.equals(m.head.repositoryCloneUrl)&&hl()),Pt=this.getCurrentUserReviewState(this._existingReviewers,X),At={number:m.number,title:m.title,url:m.html_url,createdAt:m.createdAt,body:m.body,bodyHTML:m.bodyHTML,labels:m.item.labels,author:{login:m.author.login,name:m.author.name,avatarUrl:m.userAvatar,url:m.author.url,email:m.author.email,id:m.author.id},state:m.state,isCurrentlyCheckedOut:Ne,isRemoteBaseDeleted:m.isRemoteBaseDeleted,base:m.base.label,isRemoteHeadDeleted:m.isRemoteHeadDeleted,isLocalHeadDeleted:!Z,head:(a=(n=m.head)==null?void 0:n.label)!=null?a:"",canEdit:Fe,hasWritePermission:Ie,mergeable:m.item.mergeable,isDraft:m.isDraft,status:null,reviewRequirement:null,events:[],mergeMethodsAvailability:De,defaultMergeMethod:Ze,repositoryDefaultBranch:oe,isIssue:!1,isAuthor:X.login===m.author.login,reviewers:this._existingReviewers,continueOnGitHub:ht,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,isEnterprise:m.githubRepository.remote.isEnterprise,hasReviewDraft:ke,currentUserReviewState:Pt};this._postMessage({command:"pr.initialize",pullrequest:At})}).catch(r=>{s.window.showErrorMessage(F(r))})}close(e){s.commands.executeCommand("pr.close",this._item,e.args).then(t=>{t&&this._replyMessage(e,{value:t})})}create(){this._reviewManager.createPullRequest()}createComment(e){this._item.createIssueComment(e.args).then(t=>{this._replyMessage(e,{value:t})})}updateReviewers(e){if(e){const t=this._existingReviewers.find(r=>e.user.login===Pr(r.reviewer));t?t.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}async doReviewCommand(e,t,r){const n={command:"pr.submitting-review",lastReviewType:t};this._postMessage(n);try{const a=await r(e.body);this.updateReviewers(a);const m={command:"pr.append-review",review:a,reviewers:this._existingReviewers};await this._postMessage(m)}catch(a){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",F(a))),this._throwError(void 0,`${F(a)}`)}finally{this._postMessage({command:"pr.append-review"})}}async doReviewMessage(e,t){try{const r=await t(e.args);this.updateReviewers(r),this._replyMessage(e,{review:r,reviewers:this._existingReviewers})}catch(r){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",F(r))),this._throwError(e,`${F(r)}`)}}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,t=>this.approvePullRequest(t))}approvePullRequestCommand(e){return this.doReviewCommand(e,xa.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,xa.RequestChanges,t=>this.requestChanges(t))}requestChangesMessage(e){return this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(fr.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,xa.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}async deleteBranch(e){const t=await rl.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):this._postMessage(t.message)}setReadyForReview(e){this._item.setReadyForReview().then(t=>{s.commands.executeCommand("pr.refreshList"),this._replyMessage(e,{isDraft:t})}).catch(t=>{s.window.showErrorMessage(s.l10n.t("Unable to set PR ready for review. {0}",F(t))),this._throwError(e,{})})}async mergePullRequest(e){const{title:t,description:r,method:n}=e.args,a=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("Merge this pull request?"),{modal:!0},a)!==a){this._replyMessage(e,{state:wi.Open});return}this._folderRepositoryManager.mergePullRequest(this._item,t,r,n).then(k=>{s.commands.executeCommand("pr.refreshList"),k.merged||s.window.showErrorMessage(s.l10n.t("Merging PR failed: {0}",k.message)),this._replyMessage(e,{state:k.merged?wi.Merged:wi.Open})}).catch(k=>{s.window.showErrorMessage(s.l10n.t("Unable to merge pull request. {0}",F(k))),this._throwError(e,{})})}_getHtmlForWebview(){const e=wu(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"></script>
	</body>
</html>`}}var Gy=Object.defineProperty,qd=(i,e,t)=>(typeof e!="symbol"&&(e+=""),e in i?Gy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t);class $y{constructor(e){this._context=e,qd(this,"_webviewViewProvider"),qd(this,"_pullRequestModel",new Map),qd(this,"_disposables",[])}dispose(){var e;K(this._disposables),this._disposables=[],(e=this._webviewViewProvider)==null||e.dispose(),this._webviewViewProvider=void 0}create(e,t,r){this._webviewViewProvider=new Vy(this._context.extensionUri,t,r,e),this._disposables.push(s.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider)),this._disposables.push(s.commands.registerCommand("pr.refreshActivePullRequest",n=>{var a;(a=this._webviewViewProvider)==null||a.refresh()}))}setPullRequest(e,t,r,n){n&&this._pullRequestModel.delete(n),this._pullRequestModel.set(e,{folderRepositoryManager:t,reviewManager:r}),this.updatePullRequest()}updatePullRequest(){const e=Array.from(this._pullRequestModel.keys())[0];if(!e){this.dispose();return}const{folderRepositoryManager:t,reviewManager:r}=this._pullRequestModel.get(e);this._webviewViewProvider?this._webviewViewProvider.updatePullRequest(e):this.create(e,t,r)}removePullRequest(e){const t=Array.from(this._pullRequestModel.keys())[0];this._pullRequestModel.delete(e),Array.from(this._pullRequestModel.keys())[0]!==t&&this.updatePullRequest()}show(e){this._webviewViewProvider&&this._pullRequestModel.size>0&&Array.from(this._pullRequestModel.keys())[0]===e&&this._webviewViewProvider.show()}}const jy="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let Xr;const ym="prompts",wm="createPROnPublish";async function zy(i,e,t,r,n,a,m,k){i.subscriptions.push(h),h.appendLine("Git repository found, initializing review manager and pr tree view."),s.authentication.onDidChangeSessions(async De=>{De.provider.id==="github"&&(await k.clearCredentialCache(),ke&&ke.reviewManagers.forEach(Fe=>Fe.updateState(!0)))}),i.subscriptions.push(e.onDidPublish(async De=>{if(!De.branch||s.workspace.getConfiguration(Be).get(ut)!=="ask")return;const Fe=ke.reviewManagers.find($t=>$t.repository.rootUri.toString()===De.repository.rootUri.toString());if(Fe==null?void 0:Fe.isCreatingPullRequest)return;const Ze=k.folderManagers.find($t=>$t.repository.rootUri.toString()===De.repository.rootUri.toString());if(!Ze||Ze.gitHubRepositories.length===0||(await Ze.getPullRequestDefaults()).base===De.branch)return;const ht=s.l10n.t("Create Pull Request..."),Pt=s.l10n.t("Don't Show Again"),At=await s.window.showInformationMessage(s.l10n.t("Would you like to create a Pull Request for branch '{0}'?",De.branch),ht,Pt);At===ht?Fe==null||Fe.createPullRequest(De.branch):At===Pt&&await s.workspace.getConfiguration(Be).update(ut,"never",s.ConfigurationTarget.Global)})),i.subscriptions.push(s.window.registerUriHandler(Qp));const O=s.workspace.workspaceFolders;O&&(r=r.sort((De,Fe)=>{let Ze=O.length,it=O.length;for(let ht=0;ht<O.length&&(O[ht].uri.toString()===De.rootUri.toString()?Ze=ht:O[ht].uri.toString()===Fe.rootUri.toString()&&(it=ht),!(Ze!==O.length&&it!==O.length));ht++);return Ze-it})),a.then(De=>{De&&De.registerContactServiceProvider("github-pr",new Z0(k))});const G=new hm(i,e,k);i.subscriptions.push(G);const Z=new $y(i);i.subscriptions.push(Z);const oe=new ky;i.subscriptions.push(oe);let X=0;const de=k.folderManagers.map(De=>new Sn(X++,i,De.repository,De,Xr,G,n,m,Z,oe,e));i.subscriptions.push(new Ry(k));const ke=new bm(i,k,de,n,G,Xr,t,e);i.subscriptions.push(ke),e.onDidChangeState(()=>{h.appendLine(`Git initialization state changed: state=${e.state}`),ke.reviewManagers.forEach(De=>De.updateState(!0))}),e.onDidOpenRepository(De=>{function Fe(){if(k.getManagerForFile(De.rootUri)){h.appendLine(`Repo ${De.rootUri} has already been setup.`);return}const ht=new is(k.folderManagers.length,i,De,Xr,e,t);k.insertFolderManager(ht);const Pt=new Sn(X++,i,ht.repository,ht,Xr,G,n,m,Z,oe,e);ke.addReviewManager(Pt),n.refresh()}Fe(),n.notificationProvider.refreshOrLaunchPolling();const Ze=De.state.onDidChange(()=>{h.appendLine(`Repo state for ${De.rootUri} changed.`),Fe(),Ze.dispose()})}),e.onDidCloseRepository(De=>{k.removeRepo(De),ke.removeReviewManager(De),n.notificationProvider.refreshOrLaunchPolling(),n.refresh()}),n.initialize(k,ke.reviewManagers.map(De=>De.reviewModel),t),i.subscriptions.push(new Ny(n.notificationProvider)),$v(i,k,ke,Xr,n);const Ne=s.workspace.getConfiguration(Be).get(zt);await s.commands.executeCommand("setContext","fileListLayout:flat",Ne==="flat");const Ie=new cy(e,k,ke,i,Xr);i.subscriptions.push(Ie),await Ie.initialize(),i.subscriptions.push(new eb),await s.commands.executeCommand("setContext","github:initialized",!0),Ky(k,e),fm.closeTabs(),Xr.sendTelemetryEvent("startup")}async function Wy(i){var e;if(h.appendLine(`Extension version: ${(e=s.extensions.getExtension(Ms))==null?void 0:e.packageJSON.version}`,"Activation"),Ms==="GitHub.vscode-pull-request-github-insiders"&&s.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");const t=new Av;s.commands.registerCommand("github.api.preloadPullRequest",async a=>{await s.commands.executeCommand("setContext",Ps,!0),await Lr.focusView("github:activePullRequest:welcome"),t.shouldShow=a});const r=s.workspace.getConfiguration(Zt,null).get(Pi,!0);await s.commands.executeCommand("setContext","openDiffOnClick",r),an.initialize(i),h.debug("Creating API implementation.","Activation");const n=new Ce;return Xr=new Kv(new u(jy)),i.subscriptions.push(Xr),await Yy(i,n,t),n}async function _m(i,e,t){const r=await Y0(e,t);return r?(i.subscriptions.push(r),!0):!1}function Ky(i,e){const t="GitPostCommitCommands";class r{getCommands(k){h.debug(`Looking for remote. Comparing ${k.state.remotes.length} local repo remotes with ${i.folderManagers.reduce((Z,oe)=>Z+oe.gitHubRepositories.length,0)} GitHub repositories.`,t);const O=ha(k),G=i.folderManagers.find(Z=>Z.findRepo(oe=>!!O.find(X=>X.equals(oe.remote))));return h.debug(`Found ${G?"a repo":"no repos"} when getting post commit commands.`,t),G?[{command:"pr.pushAndCreate",title:s.l10n.t("{0} Commit & Create Pull Request","$(git-pull-request-create)"),tooltip:s.l10n.t("Commit & Create Pull Request")}]:[]}}function n(){return i.folderManagers.some(m=>m.gitHubRepositories.length>0)}function a(){return h.debug("Trying to register post commit commands.","GitPostCommitCommands"),n()?(h.debug("GitHub remote(s) found, registering post commit commands.",t),e.registerPostCommitCommandsProvider(new r),!0):!1}if(!a()){const m=i.onDidLoadAnyRepositories(()=>{a()&&m.dispose()})}}async function Qy(i,e,t){if(h.debug("Registering built in git provider.","Activation"),!await _m(i,t,e)){const r=s.extensions.onDidChange(async()=>{await _m(i,t,e)&&r.dispose()});i.subscriptions.push(r)}}async function Yy(i,e,t){h.debug("Initializing state.","Activation"),zv(i),Mf(ym,wm)===!1&&(await s.workspace.getConfiguration(Be).update(ut,"never",s.ConfigurationTarget.Global),Pf(ym,wm,!0)),ml.init(i),h.debug("Creating credential store.","Activation");const r=new F0(Xr,i);i.subscriptions.push(r);const n=await Jv(i,Xr);await n.initializePromise,await n.isCachedFlightEnabled("githubaa");const a=s.env.appHost==="desktop";await r.create(a?void 0:{silent:!0}),Qy(i,e,r),h.debug("Registering live share git provider.","Activation");const m=Q0(e);i.subscriptions.push(m);const k=m.initialize();i.subscriptions.push(e),h.debug("Creating tree view.","Activation");const O=new vm(Xr,i);i.subscriptions.push(O),h.appendLine("Looking for git repository");const G=e.repositories;h.appendLine(`Found ${G.length} repositories during activation`);let Z=0;const oe=G.map(Ne=>new is(Z++,i,Ne,Xr,e,r));i.subscriptions.push(...oe);const X=new kh(oe,r,Xr);i.subscriptions.push(X);const de=Yu({reposManager:X,gitAPI:e,credentialStore:r}),ke=new s.MarkdownString(s.l10n.t("Cannot edit this pull request file. [Check out](command:pr.checkoutFromReadonlyFile) this pull request to edit."));ke.isTrusted={enabledCommands:["pr.checkoutFromReadonlyFile"]},i.subscriptions.push(s.workspace.registerFileSystemProvider(li.Pr,de,{isReadonly:ke})),await zy(i,e,r,G,O,k,t,X)}async function Jy(){Xr&&Xr.dispose()}})(),module.exports=Zl})();
